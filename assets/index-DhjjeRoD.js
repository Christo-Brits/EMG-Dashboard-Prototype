(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))s(o);new MutationObserver(o=>{for(const c of o)if(c.type==="childList")for(const f of c.addedNodes)f.tagName==="LINK"&&f.rel==="modulepreload"&&s(f)}).observe(document,{childList:!0,subtree:!0});function i(o){const c={};return o.integrity&&(c.integrity=o.integrity),o.referrerPolicy&&(c.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?c.credentials="include":o.crossOrigin==="anonymous"?c.credentials="omit":c.credentials="same-origin",c}function s(o){if(o.ep)return;o.ep=!0;const c=i(o);fetch(o.href,c)}})();function IE(r){return r&&r.__esModule&&Object.prototype.hasOwnProperty.call(r,"default")?r.default:r}var cd={exports:{}},eo={};var m0;function VE(){if(m0)return eo;m0=1;var r=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function i(s,o,c){var f=null;if(c!==void 0&&(f=""+c),o.key!==void 0&&(f=""+o.key),"key"in o){c={};for(var p in o)p!=="key"&&(c[p]=o[p])}else c=o;return o=c.ref,{$$typeof:r,type:s,key:f,ref:o!==void 0?o:null,props:c}}return eo.Fragment=e,eo.jsx=i,eo.jsxs=i,eo}var p0;function ME(){return p0||(p0=1,cd.exports=VE()),cd.exports}var _=ME(),hd={exports:{}},St={};var g0;function jE(){if(g0)return St;g0=1;var r=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),c=Symbol.for("react.consumer"),f=Symbol.for("react.context"),p=Symbol.for("react.forward_ref"),g=Symbol.for("react.suspense"),y=Symbol.for("react.memo"),E=Symbol.for("react.lazy"),x=Symbol.for("react.activity"),C=Symbol.iterator;function U(j){return j===null||typeof j!="object"?null:(j=C&&j[C]||j["@@iterator"],typeof j=="function"?j:null)}var Y={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},$=Object.assign,P={};function J(j,W,at){this.props=j,this.context=W,this.refs=P,this.updater=at||Y}J.prototype.isReactComponent={},J.prototype.setState=function(j,W){if(typeof j!="object"&&typeof j!="function"&&j!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,j,W,"setState")},J.prototype.forceUpdate=function(j){this.updater.enqueueForceUpdate(this,j,"forceUpdate")};function it(){}it.prototype=J.prototype;function Z(j,W,at){this.props=j,this.context=W,this.refs=P,this.updater=at||Y}var vt=Z.prototype=new it;vt.constructor=Z,$(vt,J.prototype),vt.isPureReactComponent=!0;var dt=Array.isArray;function _t(){}var N={H:null,A:null,T:null,S:null},w=Object.prototype.hasOwnProperty;function R(j,W,at){var lt=at.ref;return{$$typeof:r,type:j,key:W,ref:lt!==void 0?lt:null,props:at}}function M(j,W){return R(j.type,W,j.props)}function I(j){return typeof j=="object"&&j!==null&&j.$$typeof===r}function O(j){var W={"=":"=0",":":"=2"};return"$"+j.replace(/[=:]/g,function(at){return W[at]})}var S=/\/+/g;function pt(j,W){return typeof j=="object"&&j!==null&&j.key!=null?O(""+j.key):W.toString(36)}function xt(j){switch(j.status){case"fulfilled":return j.value;case"rejected":throw j.reason;default:switch(typeof j.status=="string"?j.then(_t,_t):(j.status="pending",j.then(function(W){j.status==="pending"&&(j.status="fulfilled",j.value=W)},function(W){j.status==="pending"&&(j.status="rejected",j.reason=W)})),j.status){case"fulfilled":return j.value;case"rejected":throw j.reason}}throw j}function F(j,W,at,lt,ht){var Tt=typeof j;(Tt==="undefined"||Tt==="boolean")&&(j=null);var Lt=!1;if(j===null)Lt=!0;else switch(Tt){case"bigint":case"string":case"number":Lt=!0;break;case"object":switch(j.$$typeof){case r:case e:Lt=!0;break;case E:return Lt=j._init,F(Lt(j._payload),W,at,lt,ht)}}if(Lt)return ht=ht(j),Lt=lt===""?"."+pt(j,0):lt,dt(ht)?(at="",Lt!=null&&(at=Lt.replace(S,"$&/")+"/"),F(ht,W,at,"",function(Xa){return Xa})):ht!=null&&(I(ht)&&(ht=M(ht,at+(ht.key==null||j&&j.key===ht.key?"":(""+ht.key).replace(S,"$&/")+"/")+Lt)),W.push(ht)),1;Lt=0;var Ie=lt===""?".":lt+":";if(dt(j))for(var se=0;se<j.length;se++)lt=j[se],Tt=Ie+pt(lt,se),Lt+=F(lt,W,at,Tt,ht);else if(se=U(j),typeof se=="function")for(j=se.call(j),se=0;!(lt=j.next()).done;)lt=lt.value,Tt=Ie+pt(lt,se++),Lt+=F(lt,W,at,Tt,ht);else if(Tt==="object"){if(typeof j.then=="function")return F(xt(j),W,at,lt,ht);throw W=String(j),Error("Objects are not valid as a React child (found: "+(W==="[object Object]"?"object with keys {"+Object.keys(j).join(", ")+"}":W)+"). If you meant to render a collection of children, use an array instead.")}return Lt}function rt(j,W,at){if(j==null)return j;var lt=[],ht=0;return F(j,lt,"","",function(Tt){return W.call(at,Tt,ht++)}),lt}function ft(j){if(j._status===-1){var W=j._result;W=W(),W.then(function(at){(j._status===0||j._status===-1)&&(j._status=1,j._result=at)},function(at){(j._status===0||j._status===-1)&&(j._status=2,j._result=at)}),j._status===-1&&(j._status=0,j._result=W)}if(j._status===1)return j._result.default;throw j._result}var zt=typeof reportError=="function"?reportError:function(j){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var W=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof j=="object"&&j!==null&&typeof j.message=="string"?String(j.message):String(j),error:j});if(!window.dispatchEvent(W))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",j);return}console.error(j)},Ht={map:rt,forEach:function(j,W,at){rt(j,function(){W.apply(this,arguments)},at)},count:function(j){var W=0;return rt(j,function(){W++}),W},toArray:function(j){return rt(j,function(W){return W})||[]},only:function(j){if(!I(j))throw Error("React.Children.only expected to receive a single React element child.");return j}};return St.Activity=x,St.Children=Ht,St.Component=J,St.Fragment=i,St.Profiler=o,St.PureComponent=Z,St.StrictMode=s,St.Suspense=g,St.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=N,St.__COMPILER_RUNTIME={__proto__:null,c:function(j){return N.H.useMemoCache(j)}},St.cache=function(j){return function(){return j.apply(null,arguments)}},St.cacheSignal=function(){return null},St.cloneElement=function(j,W,at){if(j==null)throw Error("The argument must be a React element, but you passed "+j+".");var lt=$({},j.props),ht=j.key;if(W!=null)for(Tt in W.key!==void 0&&(ht=""+W.key),W)!w.call(W,Tt)||Tt==="key"||Tt==="__self"||Tt==="__source"||Tt==="ref"&&W.ref===void 0||(lt[Tt]=W[Tt]);var Tt=arguments.length-2;if(Tt===1)lt.children=at;else if(1<Tt){for(var Lt=Array(Tt),Ie=0;Ie<Tt;Ie++)Lt[Ie]=arguments[Ie+2];lt.children=Lt}return R(j.type,ht,lt)},St.createContext=function(j){return j={$$typeof:f,_currentValue:j,_currentValue2:j,_threadCount:0,Provider:null,Consumer:null},j.Provider=j,j.Consumer={$$typeof:c,_context:j},j},St.createElement=function(j,W,at){var lt,ht={},Tt=null;if(W!=null)for(lt in W.key!==void 0&&(Tt=""+W.key),W)w.call(W,lt)&&lt!=="key"&&lt!=="__self"&&lt!=="__source"&&(ht[lt]=W[lt]);var Lt=arguments.length-2;if(Lt===1)ht.children=at;else if(1<Lt){for(var Ie=Array(Lt),se=0;se<Lt;se++)Ie[se]=arguments[se+2];ht.children=Ie}if(j&&j.defaultProps)for(lt in Lt=j.defaultProps,Lt)ht[lt]===void 0&&(ht[lt]=Lt[lt]);return R(j,Tt,ht)},St.createRef=function(){return{current:null}},St.forwardRef=function(j){return{$$typeof:p,render:j}},St.isValidElement=I,St.lazy=function(j){return{$$typeof:E,_payload:{_status:-1,_result:j},_init:ft}},St.memo=function(j,W){return{$$typeof:y,type:j,compare:W===void 0?null:W}},St.startTransition=function(j){var W=N.T,at={};N.T=at;try{var lt=j(),ht=N.S;ht!==null&&ht(at,lt),typeof lt=="object"&&lt!==null&&typeof lt.then=="function"&&lt.then(_t,zt)}catch(Tt){zt(Tt)}finally{W!==null&&at.types!==null&&(W.types=at.types),N.T=W}},St.unstable_useCacheRefresh=function(){return N.H.useCacheRefresh()},St.use=function(j){return N.H.use(j)},St.useActionState=function(j,W,at){return N.H.useActionState(j,W,at)},St.useCallback=function(j,W){return N.H.useCallback(j,W)},St.useContext=function(j){return N.H.useContext(j)},St.useDebugValue=function(){},St.useDeferredValue=function(j,W){return N.H.useDeferredValue(j,W)},St.useEffect=function(j,W){return N.H.useEffect(j,W)},St.useEffectEvent=function(j){return N.H.useEffectEvent(j)},St.useId=function(){return N.H.useId()},St.useImperativeHandle=function(j,W,at){return N.H.useImperativeHandle(j,W,at)},St.useInsertionEffect=function(j,W){return N.H.useInsertionEffect(j,W)},St.useLayoutEffect=function(j,W){return N.H.useLayoutEffect(j,W)},St.useMemo=function(j,W){return N.H.useMemo(j,W)},St.useOptimistic=function(j,W){return N.H.useOptimistic(j,W)},St.useReducer=function(j,W,at){return N.H.useReducer(j,W,at)},St.useRef=function(j){return N.H.useRef(j)},St.useState=function(j){return N.H.useState(j)},St.useSyncExternalStore=function(j,W,at){return N.H.useSyncExternalStore(j,W,at)},St.useTransition=function(){return N.H.useTransition()},St.version="19.2.3",St}var y0;function Jd(){return y0||(y0=1,hd.exports=jE()),hd.exports}var L=Jd();const OE=IE(L);var fd={exports:{}},no={},dd={exports:{}},md={};var v0;function zE(){return v0||(v0=1,(function(r){function e(F,rt){var ft=F.length;F.push(rt);t:for(;0<ft;){var zt=ft-1>>>1,Ht=F[zt];if(0<o(Ht,rt))F[zt]=rt,F[ft]=Ht,ft=zt;else break t}}function i(F){return F.length===0?null:F[0]}function s(F){if(F.length===0)return null;var rt=F[0],ft=F.pop();if(ft!==rt){F[0]=ft;t:for(var zt=0,Ht=F.length,j=Ht>>>1;zt<j;){var W=2*(zt+1)-1,at=F[W],lt=W+1,ht=F[lt];if(0>o(at,ft))lt<Ht&&0>o(ht,at)?(F[zt]=ht,F[lt]=ft,zt=lt):(F[zt]=at,F[W]=ft,zt=W);else if(lt<Ht&&0>o(ht,ft))F[zt]=ht,F[lt]=ft,zt=lt;else break t}}return rt}function o(F,rt){var ft=F.sortIndex-rt.sortIndex;return ft!==0?ft:F.id-rt.id}if(r.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var c=performance;r.unstable_now=function(){return c.now()}}else{var f=Date,p=f.now();r.unstable_now=function(){return f.now()-p}}var g=[],y=[],E=1,x=null,C=3,U=!1,Y=!1,$=!1,P=!1,J=typeof setTimeout=="function"?setTimeout:null,it=typeof clearTimeout=="function"?clearTimeout:null,Z=typeof setImmediate<"u"?setImmediate:null;function vt(F){for(var rt=i(y);rt!==null;){if(rt.callback===null)s(y);else if(rt.startTime<=F)s(y),rt.sortIndex=rt.expirationTime,e(g,rt);else break;rt=i(y)}}function dt(F){if($=!1,vt(F),!Y)if(i(g)!==null)Y=!0,_t||(_t=!0,O());else{var rt=i(y);rt!==null&&xt(dt,rt.startTime-F)}}var _t=!1,N=-1,w=5,R=-1;function M(){return P?!0:!(r.unstable_now()-R<w)}function I(){if(P=!1,_t){var F=r.unstable_now();R=F;var rt=!0;try{t:{Y=!1,$&&($=!1,it(N),N=-1),U=!0;var ft=C;try{e:{for(vt(F),x=i(g);x!==null&&!(x.expirationTime>F&&M());){var zt=x.callback;if(typeof zt=="function"){x.callback=null,C=x.priorityLevel;var Ht=zt(x.expirationTime<=F);if(F=r.unstable_now(),typeof Ht=="function"){x.callback=Ht,vt(F),rt=!0;break e}x===i(g)&&s(g),vt(F)}else s(g);x=i(g)}if(x!==null)rt=!0;else{var j=i(y);j!==null&&xt(dt,j.startTime-F),rt=!1}}break t}finally{x=null,C=ft,U=!1}rt=void 0}}finally{rt?O():_t=!1}}}var O;if(typeof Z=="function")O=function(){Z(I)};else if(typeof MessageChannel<"u"){var S=new MessageChannel,pt=S.port2;S.port1.onmessage=I,O=function(){pt.postMessage(null)}}else O=function(){J(I,0)};function xt(F,rt){N=J(function(){F(r.unstable_now())},rt)}r.unstable_IdlePriority=5,r.unstable_ImmediatePriority=1,r.unstable_LowPriority=4,r.unstable_NormalPriority=3,r.unstable_Profiling=null,r.unstable_UserBlockingPriority=2,r.unstable_cancelCallback=function(F){F.callback=null},r.unstable_forceFrameRate=function(F){0>F||125<F?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):w=0<F?Math.floor(1e3/F):5},r.unstable_getCurrentPriorityLevel=function(){return C},r.unstable_next=function(F){switch(C){case 1:case 2:case 3:var rt=3;break;default:rt=C}var ft=C;C=rt;try{return F()}finally{C=ft}},r.unstable_requestPaint=function(){P=!0},r.unstable_runWithPriority=function(F,rt){switch(F){case 1:case 2:case 3:case 4:case 5:break;default:F=3}var ft=C;C=F;try{return rt()}finally{C=ft}},r.unstable_scheduleCallback=function(F,rt,ft){var zt=r.unstable_now();switch(typeof ft=="object"&&ft!==null?(ft=ft.delay,ft=typeof ft=="number"&&0<ft?zt+ft:zt):ft=zt,F){case 1:var Ht=-1;break;case 2:Ht=250;break;case 5:Ht=1073741823;break;case 4:Ht=1e4;break;default:Ht=5e3}return Ht=ft+Ht,F={id:E++,callback:rt,priorityLevel:F,startTime:ft,expirationTime:Ht,sortIndex:-1},ft>zt?(F.sortIndex=ft,e(y,F),i(g)===null&&F===i(y)&&($?(it(N),N=-1):$=!0,xt(dt,ft-zt))):(F.sortIndex=Ht,e(g,F),Y||U||(Y=!0,_t||(_t=!0,O()))),F},r.unstable_shouldYield=M,r.unstable_wrapCallback=function(F){var rt=C;return function(){var ft=C;C=rt;try{return F.apply(this,arguments)}finally{C=ft}}}})(md)),md}var _0;function UE(){return _0||(_0=1,dd.exports=zE()),dd.exports}var pd={exports:{}},Ke={};var b0;function LE(){if(b0)return Ke;b0=1;var r=Jd();function e(g){var y="https://react.dev/errors/"+g;if(1<arguments.length){y+="?args[]="+encodeURIComponent(arguments[1]);for(var E=2;E<arguments.length;E++)y+="&args[]="+encodeURIComponent(arguments[E])}return"Minified React error #"+g+"; visit "+y+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(){}var s={d:{f:i,r:function(){throw Error(e(522))},D:i,C:i,L:i,m:i,X:i,S:i,M:i},p:0,findDOMNode:null},o=Symbol.for("react.portal");function c(g,y,E){var x=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:o,key:x==null?null:""+x,children:g,containerInfo:y,implementation:E}}var f=r.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function p(g,y){if(g==="font")return"";if(typeof y=="string")return y==="use-credentials"?y:""}return Ke.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=s,Ke.createPortal=function(g,y){var E=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!y||y.nodeType!==1&&y.nodeType!==9&&y.nodeType!==11)throw Error(e(299));return c(g,y,null,E)},Ke.flushSync=function(g){var y=f.T,E=s.p;try{if(f.T=null,s.p=2,g)return g()}finally{f.T=y,s.p=E,s.d.f()}},Ke.preconnect=function(g,y){typeof g=="string"&&(y?(y=y.crossOrigin,y=typeof y=="string"?y==="use-credentials"?y:"":void 0):y=null,s.d.C(g,y))},Ke.prefetchDNS=function(g){typeof g=="string"&&s.d.D(g)},Ke.preinit=function(g,y){if(typeof g=="string"&&y&&typeof y.as=="string"){var E=y.as,x=p(E,y.crossOrigin),C=typeof y.integrity=="string"?y.integrity:void 0,U=typeof y.fetchPriority=="string"?y.fetchPriority:void 0;E==="style"?s.d.S(g,typeof y.precedence=="string"?y.precedence:void 0,{crossOrigin:x,integrity:C,fetchPriority:U}):E==="script"&&s.d.X(g,{crossOrigin:x,integrity:C,fetchPriority:U,nonce:typeof y.nonce=="string"?y.nonce:void 0})}},Ke.preinitModule=function(g,y){if(typeof g=="string")if(typeof y=="object"&&y!==null){if(y.as==null||y.as==="script"){var E=p(y.as,y.crossOrigin);s.d.M(g,{crossOrigin:E,integrity:typeof y.integrity=="string"?y.integrity:void 0,nonce:typeof y.nonce=="string"?y.nonce:void 0})}}else y==null&&s.d.M(g)},Ke.preload=function(g,y){if(typeof g=="string"&&typeof y=="object"&&y!==null&&typeof y.as=="string"){var E=y.as,x=p(E,y.crossOrigin);s.d.L(g,E,{crossOrigin:x,integrity:typeof y.integrity=="string"?y.integrity:void 0,nonce:typeof y.nonce=="string"?y.nonce:void 0,type:typeof y.type=="string"?y.type:void 0,fetchPriority:typeof y.fetchPriority=="string"?y.fetchPriority:void 0,referrerPolicy:typeof y.referrerPolicy=="string"?y.referrerPolicy:void 0,imageSrcSet:typeof y.imageSrcSet=="string"?y.imageSrcSet:void 0,imageSizes:typeof y.imageSizes=="string"?y.imageSizes:void 0,media:typeof y.media=="string"?y.media:void 0})}},Ke.preloadModule=function(g,y){if(typeof g=="string")if(y){var E=p(y.as,y.crossOrigin);s.d.m(g,{as:typeof y.as=="string"&&y.as!=="script"?y.as:void 0,crossOrigin:E,integrity:typeof y.integrity=="string"?y.integrity:void 0})}else s.d.m(g)},Ke.requestFormReset=function(g){s.d.r(g)},Ke.unstable_batchedUpdates=function(g,y){return g(y)},Ke.useFormState=function(g,y,E){return f.H.useFormState(g,y,E)},Ke.useFormStatus=function(){return f.H.useHostTransitionStatus()},Ke.version="19.2.3",Ke}var E0;function PE(){if(E0)return pd.exports;E0=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(e){console.error(e)}}return r(),pd.exports=LE(),pd.exports}var T0;function kE(){if(T0)return no;T0=1;var r=UE(),e=Jd(),i=PE();function s(t){var n="https://react.dev/errors/"+t;if(1<arguments.length){n+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)n+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+t+"; visit "+n+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function c(t){var n=t,a=t;if(t.alternate)for(;n.return;)n=n.return;else{t=n;do n=t,(n.flags&4098)!==0&&(a=n.return),t=n.return;while(t)}return n.tag===3?a:null}function f(t){if(t.tag===13){var n=t.memoizedState;if(n===null&&(t=t.alternate,t!==null&&(n=t.memoizedState)),n!==null)return n.dehydrated}return null}function p(t){if(t.tag===31){var n=t.memoizedState;if(n===null&&(t=t.alternate,t!==null&&(n=t.memoizedState)),n!==null)return n.dehydrated}return null}function g(t){if(c(t)!==t)throw Error(s(188))}function y(t){var n=t.alternate;if(!n){if(n=c(t),n===null)throw Error(s(188));return n!==t?null:t}for(var a=t,l=n;;){var h=a.return;if(h===null)break;var d=h.alternate;if(d===null){if(l=h.return,l!==null){a=l;continue}break}if(h.child===d.child){for(d=h.child;d;){if(d===a)return g(h),t;if(d===l)return g(h),n;d=d.sibling}throw Error(s(188))}if(a.return!==l.return)a=h,l=d;else{for(var v=!1,T=h.child;T;){if(T===a){v=!0,a=h,l=d;break}if(T===l){v=!0,l=h,a=d;break}T=T.sibling}if(!v){for(T=d.child;T;){if(T===a){v=!0,a=d,l=h;break}if(T===l){v=!0,l=d,a=h;break}T=T.sibling}if(!v)throw Error(s(189))}}if(a.alternate!==l)throw Error(s(190))}if(a.tag!==3)throw Error(s(188));return a.stateNode.current===a?t:n}function E(t){var n=t.tag;if(n===5||n===26||n===27||n===6)return t;for(t=t.child;t!==null;){if(n=E(t),n!==null)return n;t=t.sibling}return null}var x=Object.assign,C=Symbol.for("react.element"),U=Symbol.for("react.transitional.element"),Y=Symbol.for("react.portal"),$=Symbol.for("react.fragment"),P=Symbol.for("react.strict_mode"),J=Symbol.for("react.profiler"),it=Symbol.for("react.consumer"),Z=Symbol.for("react.context"),vt=Symbol.for("react.forward_ref"),dt=Symbol.for("react.suspense"),_t=Symbol.for("react.suspense_list"),N=Symbol.for("react.memo"),w=Symbol.for("react.lazy"),R=Symbol.for("react.activity"),M=Symbol.for("react.memo_cache_sentinel"),I=Symbol.iterator;function O(t){return t===null||typeof t!="object"?null:(t=I&&t[I]||t["@@iterator"],typeof t=="function"?t:null)}var S=Symbol.for("react.client.reference");function pt(t){if(t==null)return null;if(typeof t=="function")return t.$$typeof===S?null:t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case $:return"Fragment";case J:return"Profiler";case P:return"StrictMode";case dt:return"Suspense";case _t:return"SuspenseList";case R:return"Activity"}if(typeof t=="object")switch(t.$$typeof){case Y:return"Portal";case Z:return t.displayName||"Context";case it:return(t._context.displayName||"Context")+".Consumer";case vt:var n=t.render;return t=t.displayName,t||(t=n.displayName||n.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case N:return n=t.displayName||null,n!==null?n:pt(t.type)||"Memo";case w:n=t._payload,t=t._init;try{return pt(t(n))}catch{}}return null}var xt=Array.isArray,F=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,rt=i.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ft={pending:!1,data:null,method:null,action:null},zt=[],Ht=-1;function j(t){return{current:t}}function W(t){0>Ht||(t.current=zt[Ht],zt[Ht]=null,Ht--)}function at(t,n){Ht++,zt[Ht]=t.current,t.current=n}var lt=j(null),ht=j(null),Tt=j(null),Lt=j(null);function Ie(t,n){switch(at(Tt,n),at(ht,t),at(lt,null),n.nodeType){case 9:case 11:t=(t=n.documentElement)&&(t=t.namespaceURI)?Uy(t):0;break;default:if(t=n.tagName,n=n.namespaceURI)n=Uy(n),t=Ly(n,t);else switch(t){case"svg":t=1;break;case"math":t=2;break;default:t=0}}W(lt),at(lt,t)}function se(){W(lt),W(ht),W(Tt)}function Xa(t){t.memoizedState!==null&&at(Lt,t);var n=lt.current,a=Ly(n,t.type);n!==a&&(at(ht,t),at(lt,a))}function kr(t){ht.current===t&&(W(lt),W(ht)),Lt.current===t&&(W(Lt),Zl._currentValue=ft)}var Br,qr;function Wn(t){if(Br===void 0)try{throw Error()}catch(a){var n=a.stack.trim().match(/\n( *(at )?)/);Br=n&&n[1]||"",qr=-1<a.stack.indexOf(`
    at`)?" (<anonymous>)":-1<a.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Br+t+qr}var Zs=!1;function $a(t,n){if(!t||Zs)return"";Zs=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var l={DetermineComponentFrameRoot:function(){try{if(n){var tt=function(){throw Error()};if(Object.defineProperty(tt.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(tt,[])}catch(Q){var H=Q}Reflect.construct(t,[],tt)}else{try{tt.call()}catch(Q){H=Q}t.call(tt.prototype)}}else{try{throw Error()}catch(Q){H=Q}(tt=t())&&typeof tt.catch=="function"&&tt.catch(function(){})}}catch(Q){if(Q&&H&&typeof Q.stack=="string")return[Q.stack,H.stack]}return[null,null]}};l.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var h=Object.getOwnPropertyDescriptor(l.DetermineComponentFrameRoot,"name");h&&h.configurable&&Object.defineProperty(l.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var d=l.DetermineComponentFrameRoot(),v=d[0],T=d[1];if(v&&T){var D=v.split(`
`),q=T.split(`
`);for(h=l=0;l<D.length&&!D[l].includes("DetermineComponentFrameRoot");)l++;for(;h<q.length&&!q[h].includes("DetermineComponentFrameRoot");)h++;if(l===D.length||h===q.length)for(l=D.length-1,h=q.length-1;1<=l&&0<=h&&D[l]!==q[h];)h--;for(;1<=l&&0<=h;l--,h--)if(D[l]!==q[h]){if(l!==1||h!==1)do if(l--,h--,0>h||D[l]!==q[h]){var K=`
`+D[l].replace(" at new "," at ");return t.displayName&&K.includes("<anonymous>")&&(K=K.replace("<anonymous>",t.displayName)),K}while(1<=l&&0<=h);break}}}finally{Zs=!1,Error.prepareStackTrace=a}return(a=t?t.displayName||t.name:"")?Wn(a):""}function Js(t,n){switch(t.tag){case 26:case 27:case 5:return Wn(t.type);case 16:return Wn("Lazy");case 13:return t.child!==n&&n!==null?Wn("Suspense Fallback"):Wn("Suspense");case 19:return Wn("SuspenseList");case 0:case 15:return $a(t.type,!1);case 11:return $a(t.type.render,!1);case 1:return $a(t.type,!0);case 31:return Wn("Activity");default:return""}}function Ws(t){try{var n="",a=null;do n+=Js(t,a),a=t,t=t.return;while(t);return n}catch(l){return`
Error generating stack: `+l.message+`
`+l.stack}}var _e=Object.prototype.hasOwnProperty,Ve=r.unstable_scheduleCallback,na=r.unstable_cancelCallback,hh=r.unstable_shouldYield,Uo=r.unstable_requestPaint,Je=r.unstable_now,Za=r.unstable_getCurrentPriorityLevel,tl=r.unstable_ImmediatePriority,el=r.unstable_UserBlockingPriority,ia=r.unstable_NormalPriority,fh=r.unstable_LowPriority,Lo=r.unstable_IdlePriority,Po=r.log,ko=r.unstable_setDisableYieldValue,kn=null,Pe=null;function xn(t){if(typeof Po=="function"&&ko(t),Pe&&typeof Pe.setStrictMode=="function")try{Pe.setStrictMode(kn,t)}catch{}}var de=Math.clz32?Math.clz32:qo,Bo=Math.log,Hr=Math.LN2;function qo(t){return t>>>=0,t===0?32:31-(Bo(t)/Hr|0)|0}var ti=256,Ja=262144,be=4194304;function ei(t){var n=t&42;if(n!==0)return n;switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return t&261888;case 262144:case 524288:case 1048576:case 2097152:return t&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return t&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return t}}function ni(t,n,a){var l=t.pendingLanes;if(l===0)return 0;var h=0,d=t.suspendedLanes,v=t.pingedLanes;t=t.warmLanes;var T=l&134217727;return T!==0?(l=T&~d,l!==0?h=ei(l):(v&=T,v!==0?h=ei(v):a||(a=T&~t,a!==0&&(h=ei(a))))):(T=l&~d,T!==0?h=ei(T):v!==0?h=ei(v):a||(a=l&~t,a!==0&&(h=ei(a)))),h===0?0:n!==0&&n!==h&&(n&d)===0&&(d=h&-h,a=n&-n,d>=a||d===32&&(a&4194048)!==0)?n:h}function Bn(t,n){return(t.pendingLanes&~(t.suspendedLanes&~t.pingedLanes)&n)===0}function dh(t,n){switch(t){case 1:case 2:case 4:case 8:case 64:return n+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Ho(){var t=be;return be<<=1,(be&62914560)===0&&(be=4194304),t}function ii(t){for(var n=[],a=0;31>a;a++)n.push(t);return n}function Wa(t,n){t.pendingLanes|=n,n!==268435456&&(t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0)}function mh(t,n,a,l,h,d){var v=t.pendingLanes;t.pendingLanes=a,t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0,t.expiredLanes&=a,t.entangledLanes&=a,t.errorRecoveryDisabledLanes&=a,t.shellSuspendCounter=0;var T=t.entanglements,D=t.expirationTimes,q=t.hiddenUpdates;for(a=v&~a;0<a;){var K=31-de(a),tt=1<<K;T[K]=0,D[K]=-1;var H=q[K];if(H!==null)for(q[K]=null,K=0;K<H.length;K++){var Q=H[K];Q!==null&&(Q.lane&=-536870913)}a&=~tt}l!==0&&tr(t,l,0),d!==0&&h===0&&t.tag!==0&&(t.suspendedLanes|=d&~(v&~n))}function tr(t,n,a){t.pendingLanes|=n,t.suspendedLanes&=~n;var l=31-de(n);t.entangledLanes|=n,t.entanglements[l]=t.entanglements[l]|1073741824|a&261930}function nl(t,n){var a=t.entangledLanes|=n;for(t=t.entanglements;a;){var l=31-de(a),h=1<<l;h&n|t[l]&n&&(t[l]|=n),a&=~h}}function il(t,n){var a=n&-n;return a=(a&42)!==0?1:er(a),(a&(t.suspendedLanes|n))!==0?0:a}function er(t){switch(t){case 2:t=1;break;case 8:t=4;break;case 32:t=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:t=128;break;case 268435456:t=134217728;break;default:t=0}return t}function Di(t){return t&=-t,2<t?8<t?(t&134217727)!==0?32:268435456:8:2}function Fo(){var t=rt.p;return t!==0?t:(t=window.event,t===void 0?32:l0(t.type))}function qn(t,n){var a=rt.p;try{return rt.p=t,n()}finally{rt.p=a}}var Hn=Math.random().toString(36).slice(2),Ee="__reactFiber$"+Hn,Oe="__reactProps$"+Hn,ai="__reactContainer$"+Hn,Fr="__reactEvents$"+Hn,ph="__reactListeners$"+Hn,Go="__reactHandles$"+Hn,Qo="__reactResources$"+Hn,ri="__reactMarker$"+Hn;function Gr(t){delete t[Ee],delete t[Oe],delete t[Fr],delete t[ph],delete t[Go]}function si(t){var n=t[Ee];if(n)return n;for(var a=t.parentNode;a;){if(n=a[ai]||a[Ee]){if(a=n.alternate,n.child!==null||a!==null&&a.child!==null)for(t=Gy(t);t!==null;){if(a=t[Ee])return a;t=Gy(t)}return n}t=a,a=t.parentNode}return null}function An(t){if(t=t[Ee]||t[ai]){var n=t.tag;if(n===5||n===6||n===13||n===31||n===26||n===27||n===3)return t}return null}function fn(t){var n=t.tag;if(n===5||n===26||n===27||n===6)return t.stateNode;throw Error(s(33))}function li(t){var n=t[Qo];return n||(n=t[Qo]={hoistableStyles:new Map,hoistableScripts:new Map}),n}function Te(t){t[ri]=!0}var al=new Set,rl={};function oi(t,n){ui(t,n),ui(t+"Capture",n)}function ui(t,n){for(rl[t]=n,t=0;t<n.length;t++)al.add(n[t])}var sl=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),ll={},ol={};function Yo(t){return _e.call(ol,t)?!0:_e.call(ll,t)?!1:sl.test(t)?ol[t]=!0:(ll[t]=!0,!1)}function Qr(t,n,a){if(Yo(n))if(a===null)t.removeAttribute(n);else{switch(typeof a){case"undefined":case"function":case"symbol":t.removeAttribute(n);return;case"boolean":var l=n.toLowerCase().slice(0,5);if(l!=="data-"&&l!=="aria-"){t.removeAttribute(n);return}}t.setAttribute(n,""+a)}}function dn(t,n,a){if(a===null)t.removeAttribute(n);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(n);return}t.setAttribute(n,""+a)}}function xe(t,n,a,l){if(l===null)t.removeAttribute(a);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(a);return}t.setAttributeNS(n,a,""+l)}}function ze(t){switch(typeof t){case"bigint":case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function aa(t){var n=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(n==="checkbox"||n==="radio")}function ul(t,n,a){var l=Object.getOwnPropertyDescriptor(t.constructor.prototype,n);if(!t.hasOwnProperty(n)&&typeof l<"u"&&typeof l.get=="function"&&typeof l.set=="function"){var h=l.get,d=l.set;return Object.defineProperty(t,n,{configurable:!0,get:function(){return h.call(this)},set:function(v){a=""+v,d.call(this,v)}}),Object.defineProperty(t,n,{enumerable:l.enumerable}),{getValue:function(){return a},setValue:function(v){a=""+v},stopTracking:function(){t._valueTracker=null,delete t[n]}}}}function Yt(t){if(!t._valueTracker){var n=aa(t)?"checked":"value";t._valueTracker=ul(t,n,""+t[n])}}function nr(t){if(!t)return!1;var n=t._valueTracker;if(!n)return!0;var a=n.getValue(),l="";return t&&(l=aa(t)?t.checked?"true":"false":t.value),t=l,t!==a?(n.setValue(t),!0):!1}function ci(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}var ir=/[\n"\\]/g;function en(t){return t.replace(ir,function(n){return"\\"+n.charCodeAt(0).toString(16)+" "})}function Yr(t,n,a,l,h,d,v,T){t.name="",v!=null&&typeof v!="function"&&typeof v!="symbol"&&typeof v!="boolean"?t.type=v:t.removeAttribute("type"),n!=null?v==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+ze(n)):t.value!==""+ze(n)&&(t.value=""+ze(n)):v!=="submit"&&v!=="reset"||t.removeAttribute("value"),n!=null?cl(t,v,ze(n)):a!=null?cl(t,v,ze(a)):l!=null&&t.removeAttribute("value"),h==null&&d!=null&&(t.defaultChecked=!!d),h!=null&&(t.checked=h&&typeof h!="function"&&typeof h!="symbol"),T!=null&&typeof T!="function"&&typeof T!="symbol"&&typeof T!="boolean"?t.name=""+ze(T):t.removeAttribute("name")}function Ko(t,n,a,l,h,d,v,T){if(d!=null&&typeof d!="function"&&typeof d!="symbol"&&typeof d!="boolean"&&(t.type=d),n!=null||a!=null){if(!(d!=="submit"&&d!=="reset"||n!=null)){Yt(t);return}a=a!=null?""+ze(a):"",n=n!=null?""+ze(n):a,T||n===t.value||(t.value=n),t.defaultValue=n}l=l??h,l=typeof l!="function"&&typeof l!="symbol"&&!!l,t.checked=T?t.checked:!!l,t.defaultChecked=!!l,v!=null&&typeof v!="function"&&typeof v!="symbol"&&typeof v!="boolean"&&(t.name=v),Yt(t)}function cl(t,n,a){n==="number"&&ci(t.ownerDocument)===t||t.defaultValue===""+a||(t.defaultValue=""+a)}function ra(t,n,a,l){if(t=t.options,n){n={};for(var h=0;h<a.length;h++)n["$"+a[h]]=!0;for(a=0;a<t.length;a++)h=n.hasOwnProperty("$"+t[a].value),t[a].selected!==h&&(t[a].selected=h),h&&l&&(t[a].defaultSelected=!0)}else{for(a=""+ze(a),n=null,h=0;h<t.length;h++){if(t[h].value===a){t[h].selected=!0,l&&(t[h].defaultSelected=!0);return}n!==null||t[h].disabled||(n=t[h])}n!==null&&(n.selected=!0)}}function Xo(t,n,a){if(n!=null&&(n=""+ze(n),n!==t.value&&(t.value=n),a==null)){t.defaultValue!==n&&(t.defaultValue=n);return}t.defaultValue=a!=null?""+ze(a):""}function sa(t,n,a,l){if(n==null){if(l!=null){if(a!=null)throw Error(s(92));if(xt(l)){if(1<l.length)throw Error(s(93));l=l[0]}a=l}a==null&&(a=""),n=a}a=ze(n),t.defaultValue=a,l=t.textContent,l===a&&l!==""&&l!==null&&(t.value=l),Yt(t)}function nn(t,n){if(n){var a=t.firstChild;if(a&&a===t.lastChild&&a.nodeType===3){a.nodeValue=n;return}}t.textContent=n}var $o=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function hl(t,n,a){var l=n.indexOf("--")===0;a==null||typeof a=="boolean"||a===""?l?t.setProperty(n,""):n==="float"?t.cssFloat="":t[n]="":l?t.setProperty(n,a):typeof a!="number"||a===0||$o.has(n)?n==="float"?t.cssFloat=a:t[n]=(""+a).trim():t[n]=a+"px"}function fl(t,n,a){if(n!=null&&typeof n!="object")throw Error(s(62));if(t=t.style,a!=null){for(var l in a)!a.hasOwnProperty(l)||n!=null&&n.hasOwnProperty(l)||(l.indexOf("--")===0?t.setProperty(l,""):l==="float"?t.cssFloat="":t[l]="");for(var h in n)l=n[h],n.hasOwnProperty(h)&&a[h]!==l&&hl(t,h,l)}else for(var d in n)n.hasOwnProperty(d)&&hl(t,d,n[d])}function Kr(t){if(t.indexOf("-")===-1)return!1;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Zo=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),la=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Xr(t){return la.test(""+t)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":t}function Fn(){}var dl=null;function Sn(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var oa=null,hi=null;function ar(t){var n=An(t);if(n&&(t=n.stateNode)){var a=t[Oe]||null;t:switch(t=n.stateNode,n.type){case"input":if(Yr(t,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name),n=a.name,a.type==="radio"&&n!=null){for(a=t;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll('input[name="'+en(""+n)+'"][type="radio"]'),n=0;n<a.length;n++){var l=a[n];if(l!==t&&l.form===t.form){var h=l[Oe]||null;if(!h)throw Error(s(90));Yr(l,h.value,h.defaultValue,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name)}}for(n=0;n<a.length;n++)l=a[n],l.form===t.form&&nr(l)}break t;case"textarea":Xo(t,a.value,a.defaultValue);break t;case"select":n=a.value,n!=null&&ra(t,!!a.multiple,n,!1)}}}var $r=!1;function ua(t,n,a){if($r)return t(n,a);$r=!0;try{var l=t(n);return l}finally{if($r=!1,(oa!==null||hi!==null)&&(Fu(),oa&&(n=oa,t=hi,hi=oa=null,ar(n),t)))for(n=0;n<t.length;n++)ar(t[n])}}function Gn(t,n){var a=t.stateNode;if(a===null)return null;var l=a[Oe]||null;if(l===null)return null;a=l[n];t:switch(n){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(t=t.type,l=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!l;break t;default:t=!1}if(t)return null;if(a&&typeof a!="function")throw Error(s(231,n,typeof a));return a}var wn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),rr=!1;if(wn)try{var Zt={};Object.defineProperty(Zt,"passive",{get:function(){rr=!0}}),window.addEventListener("test",Zt,Zt),window.removeEventListener("test",Zt,Zt)}catch{rr=!1}var fi=null,ml=null,sr=null;function pl(){if(sr)return sr;var t,n=ml,a=n.length,l,h="value"in fi?fi.value:fi.textContent,d=h.length;for(t=0;t<a&&n[t]===h[t];t++);var v=a-t;for(l=1;l<=v&&n[a-l]===h[d-l];l++);return sr=h.slice(t,1<l?1-l:void 0)}function lr(t){var n=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&n===13&&(t=13)):t=n,t===10&&(t=13),32<=t||t===13?t:0}function Ii(){return!0}function Qn(){return!1}function ke(t){function n(a,l,h,d,v){this._reactName=a,this._targetInst=h,this.type=l,this.nativeEvent=d,this.target=v,this.currentTarget=null;for(var T in t)t.hasOwnProperty(T)&&(a=t[T],this[T]=a?a(d):d[T]);return this.isDefaultPrevented=(d.defaultPrevented!=null?d.defaultPrevented:d.returnValue===!1)?Ii:Qn,this.isPropagationStopped=Qn,this}return x(n.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=Ii)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=Ii)},persist:function(){},isPersistent:Ii}),n}var Vi={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},di=ke(Vi),ca=x({},Vi,{view:0,detail:0}),gl=ke(ca),ha,Zr,mi,Jr=x({},ca,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:fa,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==mi&&(mi&&t.type==="mousemove"?(ha=t.screenX-mi.screenX,Zr=t.screenY-mi.screenY):Zr=ha=0,mi=t),ha)},movementY:function(t){return"movementY"in t?t.movementY:Zr}}),yl=ke(Jr),or=x({},Jr,{dataTransfer:0}),Jo=ke(or),Wo=x({},ca,{relatedTarget:0}),ur=ke(Wo),vl=x({},Vi,{animationName:0,elapsedTime:0,pseudoElement:0}),tu=ke(vl),Wr=x({},Vi,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),eu=ke(Wr),nu=x({},Vi,{data:0}),pi=ke(nu),iu={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},au={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},ru={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function su(t){var n=this.nativeEvent;return n.getModifierState?n.getModifierState(t):(t=ru[t])?!!n[t]:!1}function fa(){return su}var We=x({},ca,{key:function(t){if(t.key){var n=iu[t.key]||t.key;if(n!=="Unidentified")return n}return t.type==="keypress"?(t=lr(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?au[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:fa,charCode:function(t){return t.type==="keypress"?lr(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?lr(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),lu=ke(We),ou=x({},Jr,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Mi=ke(ou),u=x({},ca,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:fa}),m=ke(u),b=x({},Vi,{propertyName:0,elapsedTime:0,pseudoElement:0}),A=ke(b),k=x({},Jr,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),G=ke(k),st=x({},Vi,{newState:0,oldState:0}),Rt=ke(st),me=[9,13,27,32],Ft=wn&&"CompositionEvent"in window,le=null;wn&&"documentMode"in document&&(le=document.documentMode);var Rn=wn&&"TextEvent"in window&&!le,gi=wn&&(!Ft||le&&8<le&&11>=le),Yn=" ",Kn=!1;function cr(t,n){switch(t){case"keyup":return me.indexOf(n.keyCode)!==-1;case"keydown":return n.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function ts(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var es=!1;function eb(t,n){switch(t){case"compositionend":return ts(n);case"keypress":return n.which!==32?null:(Kn=!0,Yn);case"textInput":return t=n.data,t===Yn&&Kn?null:t;default:return null}}function nb(t,n){if(es)return t==="compositionend"||!Ft&&cr(t,n)?(t=pl(),sr=ml=fi=null,es=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(n.ctrlKey||n.altKey||n.metaKey)||n.ctrlKey&&n.altKey){if(n.char&&1<n.char.length)return n.char;if(n.which)return String.fromCharCode(n.which)}return null;case"compositionend":return gi&&n.locale!=="ko"?null:n.data;default:return null}}var ib={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Km(t){var n=t&&t.nodeName&&t.nodeName.toLowerCase();return n==="input"?!!ib[t.type]:n==="textarea"}function Xm(t,n,a,l){oa?hi?hi.push(l):hi=[l]:oa=l,n=Zu(n,"onChange"),0<n.length&&(a=new di("onChange","change",null,a,l),t.push({event:a,listeners:n}))}var _l=null,bl=null;function ab(t){Iy(t,0)}function uu(t){var n=fn(t);if(nr(n))return t}function $m(t,n){if(t==="change")return n}var Zm=!1;if(wn){var gh;if(wn){var yh="oninput"in document;if(!yh){var Jm=document.createElement("div");Jm.setAttribute("oninput","return;"),yh=typeof Jm.oninput=="function"}gh=yh}else gh=!1;Zm=gh&&(!document.documentMode||9<document.documentMode)}function Wm(){_l&&(_l.detachEvent("onpropertychange",tp),bl=_l=null)}function tp(t){if(t.propertyName==="value"&&uu(bl)){var n=[];Xm(n,bl,t,Sn(t)),ua(ab,n)}}function rb(t,n,a){t==="focusin"?(Wm(),_l=n,bl=a,_l.attachEvent("onpropertychange",tp)):t==="focusout"&&Wm()}function sb(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return uu(bl)}function lb(t,n){if(t==="click")return uu(n)}function ob(t,n){if(t==="input"||t==="change")return uu(n)}function ub(t,n){return t===n&&(t!==0||1/t===1/n)||t!==t&&n!==n}var mn=typeof Object.is=="function"?Object.is:ub;function El(t,n){if(mn(t,n))return!0;if(typeof t!="object"||t===null||typeof n!="object"||n===null)return!1;var a=Object.keys(t),l=Object.keys(n);if(a.length!==l.length)return!1;for(l=0;l<a.length;l++){var h=a[l];if(!_e.call(n,h)||!mn(t[h],n[h]))return!1}return!0}function ep(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function np(t,n){var a=ep(t);t=0;for(var l;a;){if(a.nodeType===3){if(l=t+a.textContent.length,t<=n&&l>=n)return{node:a,offset:n-t};t=l}t:{for(;a;){if(a.nextSibling){a=a.nextSibling;break t}a=a.parentNode}a=void 0}a=ep(a)}}function ip(t,n){return t&&n?t===n?!0:t&&t.nodeType===3?!1:n&&n.nodeType===3?ip(t,n.parentNode):"contains"in t?t.contains(n):t.compareDocumentPosition?!!(t.compareDocumentPosition(n)&16):!1:!1}function ap(t){t=t!=null&&t.ownerDocument!=null&&t.ownerDocument.defaultView!=null?t.ownerDocument.defaultView:window;for(var n=ci(t.document);n instanceof t.HTMLIFrameElement;){try{var a=typeof n.contentWindow.location.href=="string"}catch{a=!1}if(a)t=n.contentWindow;else break;n=ci(t.document)}return n}function vh(t){var n=t&&t.nodeName&&t.nodeName.toLowerCase();return n&&(n==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||n==="textarea"||t.contentEditable==="true")}var cb=wn&&"documentMode"in document&&11>=document.documentMode,ns=null,_h=null,Tl=null,bh=!1;function rp(t,n,a){var l=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;bh||ns==null||ns!==ci(l)||(l=ns,"selectionStart"in l&&vh(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),Tl&&El(Tl,l)||(Tl=l,l=Zu(_h,"onSelect"),0<l.length&&(n=new di("onSelect","select",null,n,a),t.push({event:n,listeners:l}),n.target=ns)))}function hr(t,n){var a={};return a[t.toLowerCase()]=n.toLowerCase(),a["Webkit"+t]="webkit"+n,a["Moz"+t]="moz"+n,a}var is={animationend:hr("Animation","AnimationEnd"),animationiteration:hr("Animation","AnimationIteration"),animationstart:hr("Animation","AnimationStart"),transitionrun:hr("Transition","TransitionRun"),transitionstart:hr("Transition","TransitionStart"),transitioncancel:hr("Transition","TransitionCancel"),transitionend:hr("Transition","TransitionEnd")},Eh={},sp={};wn&&(sp=document.createElement("div").style,"AnimationEvent"in window||(delete is.animationend.animation,delete is.animationiteration.animation,delete is.animationstart.animation),"TransitionEvent"in window||delete is.transitionend.transition);function fr(t){if(Eh[t])return Eh[t];if(!is[t])return t;var n=is[t],a;for(a in n)if(n.hasOwnProperty(a)&&a in sp)return Eh[t]=n[a];return t}var lp=fr("animationend"),op=fr("animationiteration"),up=fr("animationstart"),hb=fr("transitionrun"),fb=fr("transitionstart"),db=fr("transitioncancel"),cp=fr("transitionend"),hp=new Map,Th="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Th.push("scrollEnd");function Xn(t,n){hp.set(t,n),oi(n,[t])}var cu=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var n=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(n))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)},Cn=[],as=0,xh=0;function hu(){for(var t=as,n=xh=as=0;n<t;){var a=Cn[n];Cn[n++]=null;var l=Cn[n];Cn[n++]=null;var h=Cn[n];Cn[n++]=null;var d=Cn[n];if(Cn[n++]=null,l!==null&&h!==null){var v=l.pending;v===null?h.next=h:(h.next=v.next,v.next=h),l.pending=h}d!==0&&fp(a,h,d)}}function fu(t,n,a,l){Cn[as++]=t,Cn[as++]=n,Cn[as++]=a,Cn[as++]=l,xh|=l,t.lanes|=l,t=t.alternate,t!==null&&(t.lanes|=l)}function Ah(t,n,a,l){return fu(t,n,a,l),du(t)}function dr(t,n){return fu(t,null,null,n),du(t)}function fp(t,n,a){t.lanes|=a;var l=t.alternate;l!==null&&(l.lanes|=a);for(var h=!1,d=t.return;d!==null;)d.childLanes|=a,l=d.alternate,l!==null&&(l.childLanes|=a),d.tag===22&&(t=d.stateNode,t===null||t._visibility&1||(h=!0)),t=d,d=d.return;return t.tag===3?(d=t.stateNode,h&&n!==null&&(h=31-de(a),t=d.hiddenUpdates,l=t[h],l===null?t[h]=[n]:l.push(n),n.lane=a|536870912),d):null}function du(t){if(50<Fl)throw Fl=0,jf=null,Error(s(185));for(var n=t.return;n!==null;)t=n,n=t.return;return t.tag===3?t.stateNode:null}var rs={};function mb(t,n,a,l){this.tag=t,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=n,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function pn(t,n,a,l){return new mb(t,n,a,l)}function Sh(t){return t=t.prototype,!(!t||!t.isReactComponent)}function ji(t,n){var a=t.alternate;return a===null?(a=pn(t.tag,n,t.key,t.mode),a.elementType=t.elementType,a.type=t.type,a.stateNode=t.stateNode,a.alternate=t,t.alternate=a):(a.pendingProps=n,a.type=t.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=t.flags&65011712,a.childLanes=t.childLanes,a.lanes=t.lanes,a.child=t.child,a.memoizedProps=t.memoizedProps,a.memoizedState=t.memoizedState,a.updateQueue=t.updateQueue,n=t.dependencies,a.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext},a.sibling=t.sibling,a.index=t.index,a.ref=t.ref,a.refCleanup=t.refCleanup,a}function dp(t,n){t.flags&=65011714;var a=t.alternate;return a===null?(t.childLanes=0,t.lanes=n,t.child=null,t.subtreeFlags=0,t.memoizedProps=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.stateNode=null):(t.childLanes=a.childLanes,t.lanes=a.lanes,t.child=a.child,t.subtreeFlags=0,t.deletions=null,t.memoizedProps=a.memoizedProps,t.memoizedState=a.memoizedState,t.updateQueue=a.updateQueue,t.type=a.type,n=a.dependencies,t.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext}),t}function mu(t,n,a,l,h,d){var v=0;if(l=t,typeof t=="function")Sh(t)&&(v=1);else if(typeof t=="string")v=_E(t,a,lt.current)?26:t==="html"||t==="head"||t==="body"?27:5;else t:switch(t){case R:return t=pn(31,a,n,h),t.elementType=R,t.lanes=d,t;case $:return mr(a.children,h,d,n);case P:v=8,h|=24;break;case J:return t=pn(12,a,n,h|2),t.elementType=J,t.lanes=d,t;case dt:return t=pn(13,a,n,h),t.elementType=dt,t.lanes=d,t;case _t:return t=pn(19,a,n,h),t.elementType=_t,t.lanes=d,t;default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case Z:v=10;break t;case it:v=9;break t;case vt:v=11;break t;case N:v=14;break t;case w:v=16,l=null;break t}v=29,a=Error(s(130,t===null?"null":typeof t,"")),l=null}return n=pn(v,a,n,h),n.elementType=t,n.type=l,n.lanes=d,n}function mr(t,n,a,l){return t=pn(7,t,l,n),t.lanes=a,t}function wh(t,n,a){return t=pn(6,t,null,n),t.lanes=a,t}function mp(t){var n=pn(18,null,null,0);return n.stateNode=t,n}function Rh(t,n,a){return n=pn(4,t.children!==null?t.children:[],t.key,n),n.lanes=a,n.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},n}var pp=new WeakMap;function Nn(t,n){if(typeof t=="object"&&t!==null){var a=pp.get(t);return a!==void 0?a:(n={value:t,source:n,stack:Ws(n)},pp.set(t,n),n)}return{value:t,source:n,stack:Ws(n)}}var ss=[],ls=0,pu=null,xl=0,Dn=[],In=0,da=null,yi=1,vi="";function Oi(t,n){ss[ls++]=xl,ss[ls++]=pu,pu=t,xl=n}function gp(t,n,a){Dn[In++]=yi,Dn[In++]=vi,Dn[In++]=da,da=t;var l=yi;t=vi;var h=32-de(l)-1;l&=~(1<<h),a+=1;var d=32-de(n)+h;if(30<d){var v=h-h%5;d=(l&(1<<v)-1).toString(32),l>>=v,h-=v,yi=1<<32-de(n)+h|a<<h|l,vi=d+t}else yi=1<<d|a<<h|l,vi=t}function Ch(t){t.return!==null&&(Oi(t,1),gp(t,1,0))}function Nh(t){for(;t===pu;)pu=ss[--ls],ss[ls]=null,xl=ss[--ls],ss[ls]=null;for(;t===da;)da=Dn[--In],Dn[In]=null,vi=Dn[--In],Dn[In]=null,yi=Dn[--In],Dn[In]=null}function yp(t,n){Dn[In++]=yi,Dn[In++]=vi,Dn[In++]=da,yi=n.id,vi=n.overflow,da=t}var Be=null,ie=null,Ut=!1,ma=null,Vn=!1,Dh=Error(s(519));function pa(t){var n=Error(s(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Al(Nn(n,t)),Dh}function vp(t){var n=t.stateNode,a=t.type,l=t.memoizedProps;switch(n[Ee]=t,n[Oe]=l,a){case"dialog":It("cancel",n),It("close",n);break;case"iframe":case"object":case"embed":It("load",n);break;case"video":case"audio":for(a=0;a<Ql.length;a++)It(Ql[a],n);break;case"source":It("error",n);break;case"img":case"image":case"link":It("error",n),It("load",n);break;case"details":It("toggle",n);break;case"input":It("invalid",n),Ko(n,l.value,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name,!0);break;case"select":It("invalid",n);break;case"textarea":It("invalid",n),sa(n,l.value,l.defaultValue,l.children)}a=l.children,typeof a!="string"&&typeof a!="number"&&typeof a!="bigint"||n.textContent===""+a||l.suppressHydrationWarning===!0||Oy(n.textContent,a)?(l.popover!=null&&(It("beforetoggle",n),It("toggle",n)),l.onScroll!=null&&It("scroll",n),l.onScrollEnd!=null&&It("scrollend",n),l.onClick!=null&&(n.onclick=Fn),n=!0):n=!1,n||pa(t,!0)}function _p(t){for(Be=t.return;Be;)switch(Be.tag){case 5:case 31:case 13:Vn=!1;return;case 27:case 3:Vn=!0;return;default:Be=Be.return}}function os(t){if(t!==Be)return!1;if(!Ut)return _p(t),Ut=!0,!1;var n=t.tag,a;if((a=n!==3&&n!==27)&&((a=n===5)&&(a=t.type,a=!(a!=="form"&&a!=="button")||Xf(t.type,t.memoizedProps)),a=!a),a&&ie&&pa(t),_p(t),n===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(s(317));ie=Fy(t)}else if(n===31){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(s(317));ie=Fy(t)}else n===27?(n=ie,Na(t.type)?(t=td,td=null,ie=t):ie=n):ie=Be?jn(t.stateNode.nextSibling):null;return!0}function pr(){ie=Be=null,Ut=!1}function Ih(){var t=ma;return t!==null&&(ln===null?ln=t:ln.push.apply(ln,t),ma=null),t}function Al(t){ma===null?ma=[t]:ma.push(t)}var Vh=j(null),gr=null,zi=null;function ga(t,n,a){at(Vh,n._currentValue),n._currentValue=a}function Ui(t){t._currentValue=Vh.current,W(Vh)}function Mh(t,n,a){for(;t!==null;){var l=t.alternate;if((t.childLanes&n)!==n?(t.childLanes|=n,l!==null&&(l.childLanes|=n)):l!==null&&(l.childLanes&n)!==n&&(l.childLanes|=n),t===a)break;t=t.return}}function jh(t,n,a,l){var h=t.child;for(h!==null&&(h.return=t);h!==null;){var d=h.dependencies;if(d!==null){var v=h.child;d=d.firstContext;t:for(;d!==null;){var T=d;d=h;for(var D=0;D<n.length;D++)if(T.context===n[D]){d.lanes|=a,T=d.alternate,T!==null&&(T.lanes|=a),Mh(d.return,a,t),l||(v=null);break t}d=T.next}}else if(h.tag===18){if(v=h.return,v===null)throw Error(s(341));v.lanes|=a,d=v.alternate,d!==null&&(d.lanes|=a),Mh(v,a,t),v=null}else v=h.child;if(v!==null)v.return=h;else for(v=h;v!==null;){if(v===t){v=null;break}if(h=v.sibling,h!==null){h.return=v.return,v=h;break}v=v.return}h=v}}function us(t,n,a,l){t=null;for(var h=n,d=!1;h!==null;){if(!d){if((h.flags&524288)!==0)d=!0;else if((h.flags&262144)!==0)break}if(h.tag===10){var v=h.alternate;if(v===null)throw Error(s(387));if(v=v.memoizedProps,v!==null){var T=h.type;mn(h.pendingProps.value,v.value)||(t!==null?t.push(T):t=[T])}}else if(h===Lt.current){if(v=h.alternate,v===null)throw Error(s(387));v.memoizedState.memoizedState!==h.memoizedState.memoizedState&&(t!==null?t.push(Zl):t=[Zl])}h=h.return}t!==null&&jh(n,t,a,l),n.flags|=262144}function gu(t){for(t=t.firstContext;t!==null;){if(!mn(t.context._currentValue,t.memoizedValue))return!0;t=t.next}return!1}function yr(t){gr=t,zi=null,t=t.dependencies,t!==null&&(t.firstContext=null)}function qe(t){return bp(gr,t)}function yu(t,n){return gr===null&&yr(t),bp(t,n)}function bp(t,n){var a=n._currentValue;if(n={context:n,memoizedValue:a,next:null},zi===null){if(t===null)throw Error(s(308));zi=n,t.dependencies={lanes:0,firstContext:n},t.flags|=524288}else zi=zi.next=n;return a}var pb=typeof AbortController<"u"?AbortController:function(){var t=[],n=this.signal={aborted:!1,addEventListener:function(a,l){t.push(l)}};this.abort=function(){n.aborted=!0,t.forEach(function(a){return a()})}},gb=r.unstable_scheduleCallback,yb=r.unstable_NormalPriority,Ae={$$typeof:Z,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Oh(){return{controller:new pb,data:new Map,refCount:0}}function Sl(t){t.refCount--,t.refCount===0&&gb(yb,function(){t.controller.abort()})}var wl=null,zh=0,cs=0,hs=null;function vb(t,n){if(wl===null){var a=wl=[];zh=0,cs=kf(),hs={status:"pending",value:void 0,then:function(l){a.push(l)}}}return zh++,n.then(Ep,Ep),n}function Ep(){if(--zh===0&&wl!==null){hs!==null&&(hs.status="fulfilled");var t=wl;wl=null,cs=0,hs=null;for(var n=0;n<t.length;n++)(0,t[n])()}}function _b(t,n){var a=[],l={status:"pending",value:null,reason:null,then:function(h){a.push(h)}};return t.then(function(){l.status="fulfilled",l.value=n;for(var h=0;h<a.length;h++)(0,a[h])(n)},function(h){for(l.status="rejected",l.reason=h,h=0;h<a.length;h++)(0,a[h])(void 0)}),l}var Tp=F.S;F.S=function(t,n){ry=Je(),typeof n=="object"&&n!==null&&typeof n.then=="function"&&vb(t,n),Tp!==null&&Tp(t,n)};var vr=j(null);function Uh(){var t=vr.current;return t!==null?t:ee.pooledCache}function vu(t,n){n===null?at(vr,vr.current):at(vr,n.pool)}function xp(){var t=Uh();return t===null?null:{parent:Ae._currentValue,pool:t}}var fs=Error(s(460)),Lh=Error(s(474)),_u=Error(s(542)),bu={then:function(){}};function Ap(t){return t=t.status,t==="fulfilled"||t==="rejected"}function Sp(t,n,a){switch(a=t[a],a===void 0?t.push(n):a!==n&&(n.then(Fn,Fn),n=a),n.status){case"fulfilled":return n.value;case"rejected":throw t=n.reason,Rp(t),t;default:if(typeof n.status=="string")n.then(Fn,Fn);else{if(t=ee,t!==null&&100<t.shellSuspendCounter)throw Error(s(482));t=n,t.status="pending",t.then(function(l){if(n.status==="pending"){var h=n;h.status="fulfilled",h.value=l}},function(l){if(n.status==="pending"){var h=n;h.status="rejected",h.reason=l}})}switch(n.status){case"fulfilled":return n.value;case"rejected":throw t=n.reason,Rp(t),t}throw br=n,fs}}function _r(t){try{var n=t._init;return n(t._payload)}catch(a){throw a!==null&&typeof a=="object"&&typeof a.then=="function"?(br=a,fs):a}}var br=null;function wp(){if(br===null)throw Error(s(459));var t=br;return br=null,t}function Rp(t){if(t===fs||t===_u)throw Error(s(483))}var ds=null,Rl=0;function Eu(t){var n=Rl;return Rl+=1,ds===null&&(ds=[]),Sp(ds,t,n)}function Cl(t,n){n=n.props.ref,t.ref=n!==void 0?n:null}function Tu(t,n){throw n.$$typeof===C?Error(s(525)):(t=Object.prototype.toString.call(n),Error(s(31,t==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":t)))}function Cp(t){function n(z,V){if(t){var B=z.deletions;B===null?(z.deletions=[V],z.flags|=16):B.push(V)}}function a(z,V){if(!t)return null;for(;V!==null;)n(z,V),V=V.sibling;return null}function l(z){for(var V=new Map;z!==null;)z.key!==null?V.set(z.key,z):V.set(z.index,z),z=z.sibling;return V}function h(z,V){return z=ji(z,V),z.index=0,z.sibling=null,z}function d(z,V,B){return z.index=B,t?(B=z.alternate,B!==null?(B=B.index,B<V?(z.flags|=67108866,V):B):(z.flags|=67108866,V)):(z.flags|=1048576,V)}function v(z){return t&&z.alternate===null&&(z.flags|=67108866),z}function T(z,V,B,X){return V===null||V.tag!==6?(V=wh(B,z.mode,X),V.return=z,V):(V=h(V,B),V.return=z,V)}function D(z,V,B,X){var gt=B.type;return gt===$?K(z,V,B.props.children,X,B.key):V!==null&&(V.elementType===gt||typeof gt=="object"&&gt!==null&&gt.$$typeof===w&&_r(gt)===V.type)?(V=h(V,B.props),Cl(V,B),V.return=z,V):(V=mu(B.type,B.key,B.props,null,z.mode,X),Cl(V,B),V.return=z,V)}function q(z,V,B,X){return V===null||V.tag!==4||V.stateNode.containerInfo!==B.containerInfo||V.stateNode.implementation!==B.implementation?(V=Rh(B,z.mode,X),V.return=z,V):(V=h(V,B.children||[]),V.return=z,V)}function K(z,V,B,X,gt){return V===null||V.tag!==7?(V=mr(B,z.mode,X,gt),V.return=z,V):(V=h(V,B),V.return=z,V)}function tt(z,V,B){if(typeof V=="string"&&V!==""||typeof V=="number"||typeof V=="bigint")return V=wh(""+V,z.mode,B),V.return=z,V;if(typeof V=="object"&&V!==null){switch(V.$$typeof){case U:return B=mu(V.type,V.key,V.props,null,z.mode,B),Cl(B,V),B.return=z,B;case Y:return V=Rh(V,z.mode,B),V.return=z,V;case w:return V=_r(V),tt(z,V,B)}if(xt(V)||O(V))return V=mr(V,z.mode,B,null),V.return=z,V;if(typeof V.then=="function")return tt(z,Eu(V),B);if(V.$$typeof===Z)return tt(z,yu(z,V),B);Tu(z,V)}return null}function H(z,V,B,X){var gt=V!==null?V.key:null;if(typeof B=="string"&&B!==""||typeof B=="number"||typeof B=="bigint")return gt!==null?null:T(z,V,""+B,X);if(typeof B=="object"&&B!==null){switch(B.$$typeof){case U:return B.key===gt?D(z,V,B,X):null;case Y:return B.key===gt?q(z,V,B,X):null;case w:return B=_r(B),H(z,V,B,X)}if(xt(B)||O(B))return gt!==null?null:K(z,V,B,X,null);if(typeof B.then=="function")return H(z,V,Eu(B),X);if(B.$$typeof===Z)return H(z,V,yu(z,B),X);Tu(z,B)}return null}function Q(z,V,B,X,gt){if(typeof X=="string"&&X!==""||typeof X=="number"||typeof X=="bigint")return z=z.get(B)||null,T(V,z,""+X,gt);if(typeof X=="object"&&X!==null){switch(X.$$typeof){case U:return z=z.get(X.key===null?B:X.key)||null,D(V,z,X,gt);case Y:return z=z.get(X.key===null?B:X.key)||null,q(V,z,X,gt);case w:return X=_r(X),Q(z,V,B,X,gt)}if(xt(X)||O(X))return z=z.get(B)||null,K(V,z,X,gt,null);if(typeof X.then=="function")return Q(z,V,B,Eu(X),gt);if(X.$$typeof===Z)return Q(z,V,B,yu(V,X),gt);Tu(V,X)}return null}function ct(z,V,B,X){for(var gt=null,Bt=null,mt=V,Nt=V=0,Mt=null;mt!==null&&Nt<B.length;Nt++){mt.index>Nt?(Mt=mt,mt=null):Mt=mt.sibling;var qt=H(z,mt,B[Nt],X);if(qt===null){mt===null&&(mt=Mt);break}t&&mt&&qt.alternate===null&&n(z,mt),V=d(qt,V,Nt),Bt===null?gt=qt:Bt.sibling=qt,Bt=qt,mt=Mt}if(Nt===B.length)return a(z,mt),Ut&&Oi(z,Nt),gt;if(mt===null){for(;Nt<B.length;Nt++)mt=tt(z,B[Nt],X),mt!==null&&(V=d(mt,V,Nt),Bt===null?gt=mt:Bt.sibling=mt,Bt=mt);return Ut&&Oi(z,Nt),gt}for(mt=l(mt);Nt<B.length;Nt++)Mt=Q(mt,z,Nt,B[Nt],X),Mt!==null&&(t&&Mt.alternate!==null&&mt.delete(Mt.key===null?Nt:Mt.key),V=d(Mt,V,Nt),Bt===null?gt=Mt:Bt.sibling=Mt,Bt=Mt);return t&&mt.forEach(function(ja){return n(z,ja)}),Ut&&Oi(z,Nt),gt}function bt(z,V,B,X){if(B==null)throw Error(s(151));for(var gt=null,Bt=null,mt=V,Nt=V=0,Mt=null,qt=B.next();mt!==null&&!qt.done;Nt++,qt=B.next()){mt.index>Nt?(Mt=mt,mt=null):Mt=mt.sibling;var ja=H(z,mt,qt.value,X);if(ja===null){mt===null&&(mt=Mt);break}t&&mt&&ja.alternate===null&&n(z,mt),V=d(ja,V,Nt),Bt===null?gt=ja:Bt.sibling=ja,Bt=ja,mt=Mt}if(qt.done)return a(z,mt),Ut&&Oi(z,Nt),gt;if(mt===null){for(;!qt.done;Nt++,qt=B.next())qt=tt(z,qt.value,X),qt!==null&&(V=d(qt,V,Nt),Bt===null?gt=qt:Bt.sibling=qt,Bt=qt);return Ut&&Oi(z,Nt),gt}for(mt=l(mt);!qt.done;Nt++,qt=B.next())qt=Q(mt,z,Nt,qt.value,X),qt!==null&&(t&&qt.alternate!==null&&mt.delete(qt.key===null?Nt:qt.key),V=d(qt,V,Nt),Bt===null?gt=qt:Bt.sibling=qt,Bt=qt);return t&&mt.forEach(function(DE){return n(z,DE)}),Ut&&Oi(z,Nt),gt}function te(z,V,B,X){if(typeof B=="object"&&B!==null&&B.type===$&&B.key===null&&(B=B.props.children),typeof B=="object"&&B!==null){switch(B.$$typeof){case U:t:{for(var gt=B.key;V!==null;){if(V.key===gt){if(gt=B.type,gt===$){if(V.tag===7){a(z,V.sibling),X=h(V,B.props.children),X.return=z,z=X;break t}}else if(V.elementType===gt||typeof gt=="object"&&gt!==null&&gt.$$typeof===w&&_r(gt)===V.type){a(z,V.sibling),X=h(V,B.props),Cl(X,B),X.return=z,z=X;break t}a(z,V);break}else n(z,V);V=V.sibling}B.type===$?(X=mr(B.props.children,z.mode,X,B.key),X.return=z,z=X):(X=mu(B.type,B.key,B.props,null,z.mode,X),Cl(X,B),X.return=z,z=X)}return v(z);case Y:t:{for(gt=B.key;V!==null;){if(V.key===gt)if(V.tag===4&&V.stateNode.containerInfo===B.containerInfo&&V.stateNode.implementation===B.implementation){a(z,V.sibling),X=h(V,B.children||[]),X.return=z,z=X;break t}else{a(z,V);break}else n(z,V);V=V.sibling}X=Rh(B,z.mode,X),X.return=z,z=X}return v(z);case w:return B=_r(B),te(z,V,B,X)}if(xt(B))return ct(z,V,B,X);if(O(B)){if(gt=O(B),typeof gt!="function")throw Error(s(150));return B=gt.call(B),bt(z,V,B,X)}if(typeof B.then=="function")return te(z,V,Eu(B),X);if(B.$$typeof===Z)return te(z,V,yu(z,B),X);Tu(z,B)}return typeof B=="string"&&B!==""||typeof B=="number"||typeof B=="bigint"?(B=""+B,V!==null&&V.tag===6?(a(z,V.sibling),X=h(V,B),X.return=z,z=X):(a(z,V),X=wh(B,z.mode,X),X.return=z,z=X),v(z)):a(z,V)}return function(z,V,B,X){try{Rl=0;var gt=te(z,V,B,X);return ds=null,gt}catch(mt){if(mt===fs||mt===_u)throw mt;var Bt=pn(29,mt,null,z.mode);return Bt.lanes=X,Bt.return=z,Bt}finally{}}}var Er=Cp(!0),Np=Cp(!1),ya=!1;function Ph(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function kh(t,n){t=t.updateQueue,n.updateQueue===t&&(n.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,callbacks:null})}function va(t){return{lane:t,tag:0,payload:null,callback:null,next:null}}function _a(t,n,a){var l=t.updateQueue;if(l===null)return null;if(l=l.shared,(Gt&2)!==0){var h=l.pending;return h===null?n.next=n:(n.next=h.next,h.next=n),l.pending=n,n=du(t),fp(t,null,a),n}return fu(t,l,n,a),du(t)}function Nl(t,n,a){if(n=n.updateQueue,n!==null&&(n=n.shared,(a&4194048)!==0)){var l=n.lanes;l&=t.pendingLanes,a|=l,n.lanes=a,nl(t,a)}}function Bh(t,n){var a=t.updateQueue,l=t.alternate;if(l!==null&&(l=l.updateQueue,a===l)){var h=null,d=null;if(a=a.firstBaseUpdate,a!==null){do{var v={lane:a.lane,tag:a.tag,payload:a.payload,callback:null,next:null};d===null?h=d=v:d=d.next=v,a=a.next}while(a!==null);d===null?h=d=n:d=d.next=n}else h=d=n;a={baseState:l.baseState,firstBaseUpdate:h,lastBaseUpdate:d,shared:l.shared,callbacks:l.callbacks},t.updateQueue=a;return}t=a.lastBaseUpdate,t===null?a.firstBaseUpdate=n:t.next=n,a.lastBaseUpdate=n}var qh=!1;function Dl(){if(qh){var t=hs;if(t!==null)throw t}}function Il(t,n,a,l){qh=!1;var h=t.updateQueue;ya=!1;var d=h.firstBaseUpdate,v=h.lastBaseUpdate,T=h.shared.pending;if(T!==null){h.shared.pending=null;var D=T,q=D.next;D.next=null,v===null?d=q:v.next=q,v=D;var K=t.alternate;K!==null&&(K=K.updateQueue,T=K.lastBaseUpdate,T!==v&&(T===null?K.firstBaseUpdate=q:T.next=q,K.lastBaseUpdate=D))}if(d!==null){var tt=h.baseState;v=0,K=q=D=null,T=d;do{var H=T.lane&-536870913,Q=H!==T.lane;if(Q?(Vt&H)===H:(l&H)===H){H!==0&&H===cs&&(qh=!0),K!==null&&(K=K.next={lane:0,tag:T.tag,payload:T.payload,callback:null,next:null});t:{var ct=t,bt=T;H=n;var te=a;switch(bt.tag){case 1:if(ct=bt.payload,typeof ct=="function"){tt=ct.call(te,tt,H);break t}tt=ct;break t;case 3:ct.flags=ct.flags&-65537|128;case 0:if(ct=bt.payload,H=typeof ct=="function"?ct.call(te,tt,H):ct,H==null)break t;tt=x({},tt,H);break t;case 2:ya=!0}}H=T.callback,H!==null&&(t.flags|=64,Q&&(t.flags|=8192),Q=h.callbacks,Q===null?h.callbacks=[H]:Q.push(H))}else Q={lane:H,tag:T.tag,payload:T.payload,callback:T.callback,next:null},K===null?(q=K=Q,D=tt):K=K.next=Q,v|=H;if(T=T.next,T===null){if(T=h.shared.pending,T===null)break;Q=T,T=Q.next,Q.next=null,h.lastBaseUpdate=Q,h.shared.pending=null}}while(!0);K===null&&(D=tt),h.baseState=D,h.firstBaseUpdate=q,h.lastBaseUpdate=K,d===null&&(h.shared.lanes=0),Aa|=v,t.lanes=v,t.memoizedState=tt}}function Dp(t,n){if(typeof t!="function")throw Error(s(191,t));t.call(n)}function Ip(t,n){var a=t.callbacks;if(a!==null)for(t.callbacks=null,t=0;t<a.length;t++)Dp(a[t],n)}var ms=j(null),xu=j(0);function Vp(t,n){t=Qi,at(xu,t),at(ms,n),Qi=t|n.baseLanes}function Hh(){at(xu,Qi),at(ms,ms.current)}function Fh(){Qi=xu.current,W(ms),W(xu)}var gn=j(null),Mn=null;function ba(t){var n=t.alternate;at(pe,pe.current&1),at(gn,t),Mn===null&&(n===null||ms.current!==null||n.memoizedState!==null)&&(Mn=t)}function Gh(t){at(pe,pe.current),at(gn,t),Mn===null&&(Mn=t)}function Mp(t){t.tag===22?(at(pe,pe.current),at(gn,t),Mn===null&&(Mn=t)):Ea()}function Ea(){at(pe,pe.current),at(gn,gn.current)}function yn(t){W(gn),Mn===t&&(Mn=null),W(pe)}var pe=j(0);function Au(t){for(var n=t;n!==null;){if(n.tag===13){var a=n.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||Jf(a)||Wf(a)))return n}else if(n.tag===19&&(n.memoizedProps.revealOrder==="forwards"||n.memoizedProps.revealOrder==="backwards"||n.memoizedProps.revealOrder==="unstable_legacy-backwards"||n.memoizedProps.revealOrder==="together")){if((n.flags&128)!==0)return n}else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return null;n=n.return}n.sibling.return=n.return,n=n.sibling}return null}var Li=0,Ct=null,Jt=null,Se=null,Su=!1,ps=!1,Tr=!1,wu=0,Vl=0,gs=null,bb=0;function he(){throw Error(s(321))}function Qh(t,n){if(n===null)return!1;for(var a=0;a<n.length&&a<t.length;a++)if(!mn(t[a],n[a]))return!1;return!0}function Yh(t,n,a,l,h,d){return Li=d,Ct=n,n.memoizedState=null,n.updateQueue=null,n.lanes=0,F.H=t===null||t.memoizedState===null?gg:uf,Tr=!1,d=a(l,h),Tr=!1,ps&&(d=Op(n,a,l,h)),jp(t),d}function jp(t){F.H=Ol;var n=Jt!==null&&Jt.next!==null;if(Li=0,Se=Jt=Ct=null,Su=!1,Vl=0,gs=null,n)throw Error(s(300));t===null||we||(t=t.dependencies,t!==null&&gu(t)&&(we=!0))}function Op(t,n,a,l){Ct=t;var h=0;do{if(ps&&(gs=null),Vl=0,ps=!1,25<=h)throw Error(s(301));if(h+=1,Se=Jt=null,t.updateQueue!=null){var d=t.updateQueue;d.lastEffect=null,d.events=null,d.stores=null,d.memoCache!=null&&(d.memoCache.index=0)}F.H=yg,d=n(a,l)}while(ps);return d}function Eb(){var t=F.H,n=t.useState()[0];return n=typeof n.then=="function"?Ml(n):n,t=t.useState()[0],(Jt!==null?Jt.memoizedState:null)!==t&&(Ct.flags|=1024),n}function Kh(){var t=wu!==0;return wu=0,t}function Xh(t,n,a){n.updateQueue=t.updateQueue,n.flags&=-2053,t.lanes&=~a}function $h(t){if(Su){for(t=t.memoizedState;t!==null;){var n=t.queue;n!==null&&(n.pending=null),t=t.next}Su=!1}Li=0,Se=Jt=Ct=null,ps=!1,Vl=wu=0,gs=null}function tn(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Se===null?Ct.memoizedState=Se=t:Se=Se.next=t,Se}function ge(){if(Jt===null){var t=Ct.alternate;t=t!==null?t.memoizedState:null}else t=Jt.next;var n=Se===null?Ct.memoizedState:Se.next;if(n!==null)Se=n,Jt=t;else{if(t===null)throw Ct.alternate===null?Error(s(467)):Error(s(310));Jt=t,t={memoizedState:Jt.memoizedState,baseState:Jt.baseState,baseQueue:Jt.baseQueue,queue:Jt.queue,next:null},Se===null?Ct.memoizedState=Se=t:Se=Se.next=t}return Se}function Ru(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Ml(t){var n=Vl;return Vl+=1,gs===null&&(gs=[]),t=Sp(gs,t,n),n=Ct,(Se===null?n.memoizedState:Se.next)===null&&(n=n.alternate,F.H=n===null||n.memoizedState===null?gg:uf),t}function Cu(t){if(t!==null&&typeof t=="object"){if(typeof t.then=="function")return Ml(t);if(t.$$typeof===Z)return qe(t)}throw Error(s(438,String(t)))}function Zh(t){var n=null,a=Ct.updateQueue;if(a!==null&&(n=a.memoCache),n==null){var l=Ct.alternate;l!==null&&(l=l.updateQueue,l!==null&&(l=l.memoCache,l!=null&&(n={data:l.data.map(function(h){return h.slice()}),index:0})))}if(n==null&&(n={data:[],index:0}),a===null&&(a=Ru(),Ct.updateQueue=a),a.memoCache=n,a=n.data[n.index],a===void 0)for(a=n.data[n.index]=Array(t),l=0;l<t;l++)a[l]=M;return n.index++,a}function Pi(t,n){return typeof n=="function"?n(t):n}function Nu(t){var n=ge();return Jh(n,Jt,t)}function Jh(t,n,a){var l=t.queue;if(l===null)throw Error(s(311));l.lastRenderedReducer=a;var h=t.baseQueue,d=l.pending;if(d!==null){if(h!==null){var v=h.next;h.next=d.next,d.next=v}n.baseQueue=h=d,l.pending=null}if(d=t.baseState,h===null)t.memoizedState=d;else{n=h.next;var T=v=null,D=null,q=n,K=!1;do{var tt=q.lane&-536870913;if(tt!==q.lane?(Vt&tt)===tt:(Li&tt)===tt){var H=q.revertLane;if(H===0)D!==null&&(D=D.next={lane:0,revertLane:0,gesture:null,action:q.action,hasEagerState:q.hasEagerState,eagerState:q.eagerState,next:null}),tt===cs&&(K=!0);else if((Li&H)===H){q=q.next,H===cs&&(K=!0);continue}else tt={lane:0,revertLane:q.revertLane,gesture:null,action:q.action,hasEagerState:q.hasEagerState,eagerState:q.eagerState,next:null},D===null?(T=D=tt,v=d):D=D.next=tt,Ct.lanes|=H,Aa|=H;tt=q.action,Tr&&a(d,tt),d=q.hasEagerState?q.eagerState:a(d,tt)}else H={lane:tt,revertLane:q.revertLane,gesture:q.gesture,action:q.action,hasEagerState:q.hasEagerState,eagerState:q.eagerState,next:null},D===null?(T=D=H,v=d):D=D.next=H,Ct.lanes|=tt,Aa|=tt;q=q.next}while(q!==null&&q!==n);if(D===null?v=d:D.next=T,!mn(d,t.memoizedState)&&(we=!0,K&&(a=hs,a!==null)))throw a;t.memoizedState=d,t.baseState=v,t.baseQueue=D,l.lastRenderedState=d}return h===null&&(l.lanes=0),[t.memoizedState,l.dispatch]}function Wh(t){var n=ge(),a=n.queue;if(a===null)throw Error(s(311));a.lastRenderedReducer=t;var l=a.dispatch,h=a.pending,d=n.memoizedState;if(h!==null){a.pending=null;var v=h=h.next;do d=t(d,v.action),v=v.next;while(v!==h);mn(d,n.memoizedState)||(we=!0),n.memoizedState=d,n.baseQueue===null&&(n.baseState=d),a.lastRenderedState=d}return[d,l]}function zp(t,n,a){var l=Ct,h=ge(),d=Ut;if(d){if(a===void 0)throw Error(s(407));a=a()}else a=n();var v=!mn((Jt||h).memoizedState,a);if(v&&(h.memoizedState=a,we=!0),h=h.queue,nf(Pp.bind(null,l,h,t),[t]),h.getSnapshot!==n||v||Se!==null&&Se.memoizedState.tag&1){if(l.flags|=2048,ys(9,{destroy:void 0},Lp.bind(null,l,h,a,n),null),ee===null)throw Error(s(349));d||(Li&127)!==0||Up(l,n,a)}return a}function Up(t,n,a){t.flags|=16384,t={getSnapshot:n,value:a},n=Ct.updateQueue,n===null?(n=Ru(),Ct.updateQueue=n,n.stores=[t]):(a=n.stores,a===null?n.stores=[t]:a.push(t))}function Lp(t,n,a,l){n.value=a,n.getSnapshot=l,kp(n)&&Bp(t)}function Pp(t,n,a){return a(function(){kp(n)&&Bp(t)})}function kp(t){var n=t.getSnapshot;t=t.value;try{var a=n();return!mn(t,a)}catch{return!0}}function Bp(t){var n=dr(t,2);n!==null&&on(n,t,2)}function tf(t){var n=tn();if(typeof t=="function"){var a=t;if(t=a(),Tr){xn(!0);try{a()}finally{xn(!1)}}}return n.memoizedState=n.baseState=t,n.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Pi,lastRenderedState:t},n}function qp(t,n,a,l){return t.baseState=a,Jh(t,Jt,typeof l=="function"?l:Pi)}function Tb(t,n,a,l,h){if(Vu(t))throw Error(s(485));if(t=n.action,t!==null){var d={payload:h,action:t,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(v){d.listeners.push(v)}};F.T!==null?a(!0):d.isTransition=!1,l(d),a=n.pending,a===null?(d.next=n.pending=d,Hp(n,d)):(d.next=a.next,n.pending=a.next=d)}}function Hp(t,n){var a=n.action,l=n.payload,h=t.state;if(n.isTransition){var d=F.T,v={};F.T=v;try{var T=a(h,l),D=F.S;D!==null&&D(v,T),Fp(t,n,T)}catch(q){ef(t,n,q)}finally{d!==null&&v.types!==null&&(d.types=v.types),F.T=d}}else try{d=a(h,l),Fp(t,n,d)}catch(q){ef(t,n,q)}}function Fp(t,n,a){a!==null&&typeof a=="object"&&typeof a.then=="function"?a.then(function(l){Gp(t,n,l)},function(l){return ef(t,n,l)}):Gp(t,n,a)}function Gp(t,n,a){n.status="fulfilled",n.value=a,Qp(n),t.state=a,n=t.pending,n!==null&&(a=n.next,a===n?t.pending=null:(a=a.next,n.next=a,Hp(t,a)))}function ef(t,n,a){var l=t.pending;if(t.pending=null,l!==null){l=l.next;do n.status="rejected",n.reason=a,Qp(n),n=n.next;while(n!==l)}t.action=null}function Qp(t){t=t.listeners;for(var n=0;n<t.length;n++)(0,t[n])()}function Yp(t,n){return n}function Kp(t,n){if(Ut){var a=ee.formState;if(a!==null){t:{var l=Ct;if(Ut){if(ie){e:{for(var h=ie,d=Vn;h.nodeType!==8;){if(!d){h=null;break e}if(h=jn(h.nextSibling),h===null){h=null;break e}}d=h.data,h=d==="F!"||d==="F"?h:null}if(h){ie=jn(h.nextSibling),l=h.data==="F!";break t}}pa(l)}l=!1}l&&(n=a[0])}}return a=tn(),a.memoizedState=a.baseState=n,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Yp,lastRenderedState:n},a.queue=l,a=dg.bind(null,Ct,l),l.dispatch=a,l=tf(!1),d=of.bind(null,Ct,!1,l.queue),l=tn(),h={state:n,dispatch:null,action:t,pending:null},l.queue=h,a=Tb.bind(null,Ct,h,d,a),h.dispatch=a,l.memoizedState=t,[n,a,!1]}function Xp(t){var n=ge();return $p(n,Jt,t)}function $p(t,n,a){if(n=Jh(t,n,Yp)[0],t=Nu(Pi)[0],typeof n=="object"&&n!==null&&typeof n.then=="function")try{var l=Ml(n)}catch(v){throw v===fs?_u:v}else l=n;n=ge();var h=n.queue,d=h.dispatch;return a!==n.memoizedState&&(Ct.flags|=2048,ys(9,{destroy:void 0},xb.bind(null,h,a),null)),[l,d,t]}function xb(t,n){t.action=n}function Zp(t){var n=ge(),a=Jt;if(a!==null)return $p(n,a,t);ge(),n=n.memoizedState,a=ge();var l=a.queue.dispatch;return a.memoizedState=t,[n,l,!1]}function ys(t,n,a,l){return t={tag:t,create:a,deps:l,inst:n,next:null},n=Ct.updateQueue,n===null&&(n=Ru(),Ct.updateQueue=n),a=n.lastEffect,a===null?n.lastEffect=t.next=t:(l=a.next,a.next=t,t.next=l,n.lastEffect=t),t}function Jp(){return ge().memoizedState}function Du(t,n,a,l){var h=tn();Ct.flags|=t,h.memoizedState=ys(1|n,{destroy:void 0},a,l===void 0?null:l)}function Iu(t,n,a,l){var h=ge();l=l===void 0?null:l;var d=h.memoizedState.inst;Jt!==null&&l!==null&&Qh(l,Jt.memoizedState.deps)?h.memoizedState=ys(n,d,a,l):(Ct.flags|=t,h.memoizedState=ys(1|n,d,a,l))}function Wp(t,n){Du(8390656,8,t,n)}function nf(t,n){Iu(2048,8,t,n)}function Ab(t){Ct.flags|=4;var n=Ct.updateQueue;if(n===null)n=Ru(),Ct.updateQueue=n,n.events=[t];else{var a=n.events;a===null?n.events=[t]:a.push(t)}}function tg(t){var n=ge().memoizedState;return Ab({ref:n,nextImpl:t}),function(){if((Gt&2)!==0)throw Error(s(440));return n.impl.apply(void 0,arguments)}}function eg(t,n){return Iu(4,2,t,n)}function ng(t,n){return Iu(4,4,t,n)}function ig(t,n){if(typeof n=="function"){t=t();var a=n(t);return function(){typeof a=="function"?a():n(null)}}if(n!=null)return t=t(),n.current=t,function(){n.current=null}}function ag(t,n,a){a=a!=null?a.concat([t]):null,Iu(4,4,ig.bind(null,n,t),a)}function af(){}function rg(t,n){var a=ge();n=n===void 0?null:n;var l=a.memoizedState;return n!==null&&Qh(n,l[1])?l[0]:(a.memoizedState=[t,n],t)}function sg(t,n){var a=ge();n=n===void 0?null:n;var l=a.memoizedState;if(n!==null&&Qh(n,l[1]))return l[0];if(l=t(),Tr){xn(!0);try{t()}finally{xn(!1)}}return a.memoizedState=[l,n],l}function rf(t,n,a){return a===void 0||(Li&1073741824)!==0&&(Vt&261930)===0?t.memoizedState=n:(t.memoizedState=a,t=ly(),Ct.lanes|=t,Aa|=t,a)}function lg(t,n,a,l){return mn(a,n)?a:ms.current!==null?(t=rf(t,a,l),mn(t,n)||(we=!0),t):(Li&42)===0||(Li&1073741824)!==0&&(Vt&261930)===0?(we=!0,t.memoizedState=a):(t=ly(),Ct.lanes|=t,Aa|=t,n)}function og(t,n,a,l,h){var d=rt.p;rt.p=d!==0&&8>d?d:8;var v=F.T,T={};F.T=T,of(t,!1,n,a);try{var D=h(),q=F.S;if(q!==null&&q(T,D),D!==null&&typeof D=="object"&&typeof D.then=="function"){var K=_b(D,l);jl(t,n,K,bn(t))}else jl(t,n,l,bn(t))}catch(tt){jl(t,n,{then:function(){},status:"rejected",reason:tt},bn())}finally{rt.p=d,v!==null&&T.types!==null&&(v.types=T.types),F.T=v}}function Sb(){}function sf(t,n,a,l){if(t.tag!==5)throw Error(s(476));var h=ug(t).queue;og(t,h,n,ft,a===null?Sb:function(){return cg(t),a(l)})}function ug(t){var n=t.memoizedState;if(n!==null)return n;n={memoizedState:ft,baseState:ft,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Pi,lastRenderedState:ft},next:null};var a={};return n.next={memoizedState:a,baseState:a,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Pi,lastRenderedState:a},next:null},t.memoizedState=n,t=t.alternate,t!==null&&(t.memoizedState=n),n}function cg(t){var n=ug(t);n.next===null&&(n=t.alternate.memoizedState),jl(t,n.next.queue,{},bn())}function lf(){return qe(Zl)}function hg(){return ge().memoizedState}function fg(){return ge().memoizedState}function wb(t){for(var n=t.return;n!==null;){switch(n.tag){case 24:case 3:var a=bn();t=va(a);var l=_a(n,t,a);l!==null&&(on(l,n,a),Nl(l,n,a)),n={cache:Oh()},t.payload=n;return}n=n.return}}function Rb(t,n,a){var l=bn();a={lane:l,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null},Vu(t)?mg(n,a):(a=Ah(t,n,a,l),a!==null&&(on(a,t,l),pg(a,n,l)))}function dg(t,n,a){var l=bn();jl(t,n,a,l)}function jl(t,n,a,l){var h={lane:l,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null};if(Vu(t))mg(n,h);else{var d=t.alternate;if(t.lanes===0&&(d===null||d.lanes===0)&&(d=n.lastRenderedReducer,d!==null))try{var v=n.lastRenderedState,T=d(v,a);if(h.hasEagerState=!0,h.eagerState=T,mn(T,v))return fu(t,n,h,0),ee===null&&hu(),!1}catch{}finally{}if(a=Ah(t,n,h,l),a!==null)return on(a,t,l),pg(a,n,l),!0}return!1}function of(t,n,a,l){if(l={lane:2,revertLane:kf(),gesture:null,action:l,hasEagerState:!1,eagerState:null,next:null},Vu(t)){if(n)throw Error(s(479))}else n=Ah(t,a,l,2),n!==null&&on(n,t,2)}function Vu(t){var n=t.alternate;return t===Ct||n!==null&&n===Ct}function mg(t,n){ps=Su=!0;var a=t.pending;a===null?n.next=n:(n.next=a.next,a.next=n),t.pending=n}function pg(t,n,a){if((a&4194048)!==0){var l=n.lanes;l&=t.pendingLanes,a|=l,n.lanes=a,nl(t,a)}}var Ol={readContext:qe,use:Cu,useCallback:he,useContext:he,useEffect:he,useImperativeHandle:he,useLayoutEffect:he,useInsertionEffect:he,useMemo:he,useReducer:he,useRef:he,useState:he,useDebugValue:he,useDeferredValue:he,useTransition:he,useSyncExternalStore:he,useId:he,useHostTransitionStatus:he,useFormState:he,useActionState:he,useOptimistic:he,useMemoCache:he,useCacheRefresh:he};Ol.useEffectEvent=he;var gg={readContext:qe,use:Cu,useCallback:function(t,n){return tn().memoizedState=[t,n===void 0?null:n],t},useContext:qe,useEffect:Wp,useImperativeHandle:function(t,n,a){a=a!=null?a.concat([t]):null,Du(4194308,4,ig.bind(null,n,t),a)},useLayoutEffect:function(t,n){return Du(4194308,4,t,n)},useInsertionEffect:function(t,n){Du(4,2,t,n)},useMemo:function(t,n){var a=tn();n=n===void 0?null:n;var l=t();if(Tr){xn(!0);try{t()}finally{xn(!1)}}return a.memoizedState=[l,n],l},useReducer:function(t,n,a){var l=tn();if(a!==void 0){var h=a(n);if(Tr){xn(!0);try{a(n)}finally{xn(!1)}}}else h=n;return l.memoizedState=l.baseState=h,t={pending:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:h},l.queue=t,t=t.dispatch=Rb.bind(null,Ct,t),[l.memoizedState,t]},useRef:function(t){var n=tn();return t={current:t},n.memoizedState=t},useState:function(t){t=tf(t);var n=t.queue,a=dg.bind(null,Ct,n);return n.dispatch=a,[t.memoizedState,a]},useDebugValue:af,useDeferredValue:function(t,n){var a=tn();return rf(a,t,n)},useTransition:function(){var t=tf(!1);return t=og.bind(null,Ct,t.queue,!0,!1),tn().memoizedState=t,[!1,t]},useSyncExternalStore:function(t,n,a){var l=Ct,h=tn();if(Ut){if(a===void 0)throw Error(s(407));a=a()}else{if(a=n(),ee===null)throw Error(s(349));(Vt&127)!==0||Up(l,n,a)}h.memoizedState=a;var d={value:a,getSnapshot:n};return h.queue=d,Wp(Pp.bind(null,l,d,t),[t]),l.flags|=2048,ys(9,{destroy:void 0},Lp.bind(null,l,d,a,n),null),a},useId:function(){var t=tn(),n=ee.identifierPrefix;if(Ut){var a=vi,l=yi;a=(l&~(1<<32-de(l)-1)).toString(32)+a,n="_"+n+"R_"+a,a=wu++,0<a&&(n+="H"+a.toString(32)),n+="_"}else a=bb++,n="_"+n+"r_"+a.toString(32)+"_";return t.memoizedState=n},useHostTransitionStatus:lf,useFormState:Kp,useActionState:Kp,useOptimistic:function(t){var n=tn();n.memoizedState=n.baseState=t;var a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return n.queue=a,n=of.bind(null,Ct,!0,a),a.dispatch=n,[t,n]},useMemoCache:Zh,useCacheRefresh:function(){return tn().memoizedState=wb.bind(null,Ct)},useEffectEvent:function(t){var n=tn(),a={impl:t};return n.memoizedState=a,function(){if((Gt&2)!==0)throw Error(s(440));return a.impl.apply(void 0,arguments)}}},uf={readContext:qe,use:Cu,useCallback:rg,useContext:qe,useEffect:nf,useImperativeHandle:ag,useInsertionEffect:eg,useLayoutEffect:ng,useMemo:sg,useReducer:Nu,useRef:Jp,useState:function(){return Nu(Pi)},useDebugValue:af,useDeferredValue:function(t,n){var a=ge();return lg(a,Jt.memoizedState,t,n)},useTransition:function(){var t=Nu(Pi)[0],n=ge().memoizedState;return[typeof t=="boolean"?t:Ml(t),n]},useSyncExternalStore:zp,useId:hg,useHostTransitionStatus:lf,useFormState:Xp,useActionState:Xp,useOptimistic:function(t,n){var a=ge();return qp(a,Jt,t,n)},useMemoCache:Zh,useCacheRefresh:fg};uf.useEffectEvent=tg;var yg={readContext:qe,use:Cu,useCallback:rg,useContext:qe,useEffect:nf,useImperativeHandle:ag,useInsertionEffect:eg,useLayoutEffect:ng,useMemo:sg,useReducer:Wh,useRef:Jp,useState:function(){return Wh(Pi)},useDebugValue:af,useDeferredValue:function(t,n){var a=ge();return Jt===null?rf(a,t,n):lg(a,Jt.memoizedState,t,n)},useTransition:function(){var t=Wh(Pi)[0],n=ge().memoizedState;return[typeof t=="boolean"?t:Ml(t),n]},useSyncExternalStore:zp,useId:hg,useHostTransitionStatus:lf,useFormState:Zp,useActionState:Zp,useOptimistic:function(t,n){var a=ge();return Jt!==null?qp(a,Jt,t,n):(a.baseState=t,[t,a.queue.dispatch])},useMemoCache:Zh,useCacheRefresh:fg};yg.useEffectEvent=tg;function cf(t,n,a,l){n=t.memoizedState,a=a(l,n),a=a==null?n:x({},n,a),t.memoizedState=a,t.lanes===0&&(t.updateQueue.baseState=a)}var hf={enqueueSetState:function(t,n,a){t=t._reactInternals;var l=bn(),h=va(l);h.payload=n,a!=null&&(h.callback=a),n=_a(t,h,l),n!==null&&(on(n,t,l),Nl(n,t,l))},enqueueReplaceState:function(t,n,a){t=t._reactInternals;var l=bn(),h=va(l);h.tag=1,h.payload=n,a!=null&&(h.callback=a),n=_a(t,h,l),n!==null&&(on(n,t,l),Nl(n,t,l))},enqueueForceUpdate:function(t,n){t=t._reactInternals;var a=bn(),l=va(a);l.tag=2,n!=null&&(l.callback=n),n=_a(t,l,a),n!==null&&(on(n,t,a),Nl(n,t,a))}};function vg(t,n,a,l,h,d,v){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(l,d,v):n.prototype&&n.prototype.isPureReactComponent?!El(a,l)||!El(h,d):!0}function _g(t,n,a,l){t=n.state,typeof n.componentWillReceiveProps=="function"&&n.componentWillReceiveProps(a,l),typeof n.UNSAFE_componentWillReceiveProps=="function"&&n.UNSAFE_componentWillReceiveProps(a,l),n.state!==t&&hf.enqueueReplaceState(n,n.state,null)}function xr(t,n){var a=n;if("ref"in n){a={};for(var l in n)l!=="ref"&&(a[l]=n[l])}if(t=t.defaultProps){a===n&&(a=x({},a));for(var h in t)a[h]===void 0&&(a[h]=t[h])}return a}function bg(t){cu(t)}function Eg(t){console.error(t)}function Tg(t){cu(t)}function Mu(t,n){try{var a=t.onUncaughtError;a(n.value,{componentStack:n.stack})}catch(l){setTimeout(function(){throw l})}}function xg(t,n,a){try{var l=t.onCaughtError;l(a.value,{componentStack:a.stack,errorBoundary:n.tag===1?n.stateNode:null})}catch(h){setTimeout(function(){throw h})}}function ff(t,n,a){return a=va(a),a.tag=3,a.payload={element:null},a.callback=function(){Mu(t,n)},a}function Ag(t){return t=va(t),t.tag=3,t}function Sg(t,n,a,l){var h=a.type.getDerivedStateFromError;if(typeof h=="function"){var d=l.value;t.payload=function(){return h(d)},t.callback=function(){xg(n,a,l)}}var v=a.stateNode;v!==null&&typeof v.componentDidCatch=="function"&&(t.callback=function(){xg(n,a,l),typeof h!="function"&&(Sa===null?Sa=new Set([this]):Sa.add(this));var T=l.stack;this.componentDidCatch(l.value,{componentStack:T!==null?T:""})})}function Cb(t,n,a,l,h){if(a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){if(n=a.alternate,n!==null&&us(n,a,h,!0),a=gn.current,a!==null){switch(a.tag){case 31:case 13:return Mn===null?Gu():a.alternate===null&&fe===0&&(fe=3),a.flags&=-257,a.flags|=65536,a.lanes=h,l===bu?a.flags|=16384:(n=a.updateQueue,n===null?a.updateQueue=new Set([l]):n.add(l),Uf(t,l,h)),!1;case 22:return a.flags|=65536,l===bu?a.flags|=16384:(n=a.updateQueue,n===null?(n={transitions:null,markerInstances:null,retryQueue:new Set([l])},a.updateQueue=n):(a=n.retryQueue,a===null?n.retryQueue=new Set([l]):a.add(l)),Uf(t,l,h)),!1}throw Error(s(435,a.tag))}return Uf(t,l,h),Gu(),!1}if(Ut)return n=gn.current,n!==null?((n.flags&65536)===0&&(n.flags|=256),n.flags|=65536,n.lanes=h,l!==Dh&&(t=Error(s(422),{cause:l}),Al(Nn(t,a)))):(l!==Dh&&(n=Error(s(423),{cause:l}),Al(Nn(n,a))),t=t.current.alternate,t.flags|=65536,h&=-h,t.lanes|=h,l=Nn(l,a),h=ff(t.stateNode,l,h),Bh(t,h),fe!==4&&(fe=2)),!1;var d=Error(s(520),{cause:l});if(d=Nn(d,a),Hl===null?Hl=[d]:Hl.push(d),fe!==4&&(fe=2),n===null)return!0;l=Nn(l,a),a=n;do{switch(a.tag){case 3:return a.flags|=65536,t=h&-h,a.lanes|=t,t=ff(a.stateNode,l,t),Bh(a,t),!1;case 1:if(n=a.type,d=a.stateNode,(a.flags&128)===0&&(typeof n.getDerivedStateFromError=="function"||d!==null&&typeof d.componentDidCatch=="function"&&(Sa===null||!Sa.has(d))))return a.flags|=65536,h&=-h,a.lanes|=h,h=Ag(h),Sg(h,t,a,l),Bh(a,h),!1}a=a.return}while(a!==null);return!1}var df=Error(s(461)),we=!1;function He(t,n,a,l){n.child=t===null?Np(n,null,a,l):Er(n,t.child,a,l)}function wg(t,n,a,l,h){a=a.render;var d=n.ref;if("ref"in l){var v={};for(var T in l)T!=="ref"&&(v[T]=l[T])}else v=l;return yr(n),l=Yh(t,n,a,v,d,h),T=Kh(),t!==null&&!we?(Xh(t,n,h),ki(t,n,h)):(Ut&&T&&Ch(n),n.flags|=1,He(t,n,l,h),n.child)}function Rg(t,n,a,l,h){if(t===null){var d=a.type;return typeof d=="function"&&!Sh(d)&&d.defaultProps===void 0&&a.compare===null?(n.tag=15,n.type=d,Cg(t,n,d,l,h)):(t=mu(a.type,null,l,n,n.mode,h),t.ref=n.ref,t.return=n,n.child=t)}if(d=t.child,!Ef(t,h)){var v=d.memoizedProps;if(a=a.compare,a=a!==null?a:El,a(v,l)&&t.ref===n.ref)return ki(t,n,h)}return n.flags|=1,t=ji(d,l),t.ref=n.ref,t.return=n,n.child=t}function Cg(t,n,a,l,h){if(t!==null){var d=t.memoizedProps;if(El(d,l)&&t.ref===n.ref)if(we=!1,n.pendingProps=l=d,Ef(t,h))(t.flags&131072)!==0&&(we=!0);else return n.lanes=t.lanes,ki(t,n,h)}return mf(t,n,a,l,h)}function Ng(t,n,a,l){var h=l.children,d=t!==null?t.memoizedState:null;if(t===null&&n.stateNode===null&&(n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),l.mode==="hidden"){if((n.flags&128)!==0){if(d=d!==null?d.baseLanes|a:a,t!==null){for(l=n.child=t.child,h=0;l!==null;)h=h|l.lanes|l.childLanes,l=l.sibling;l=h&~d}else l=0,n.child=null;return Dg(t,n,d,a,l)}if((a&536870912)!==0)n.memoizedState={baseLanes:0,cachePool:null},t!==null&&vu(n,d!==null?d.cachePool:null),d!==null?Vp(n,d):Hh(),Mp(n);else return l=n.lanes=536870912,Dg(t,n,d!==null?d.baseLanes|a:a,a,l)}else d!==null?(vu(n,d.cachePool),Vp(n,d),Ea(),n.memoizedState=null):(t!==null&&vu(n,null),Hh(),Ea());return He(t,n,h,a),n.child}function zl(t,n){return t!==null&&t.tag===22||n.stateNode!==null||(n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),n.sibling}function Dg(t,n,a,l,h){var d=Uh();return d=d===null?null:{parent:Ae._currentValue,pool:d},n.memoizedState={baseLanes:a,cachePool:d},t!==null&&vu(n,null),Hh(),Mp(n),t!==null&&us(t,n,l,!0),n.childLanes=h,null}function ju(t,n){return n=zu({mode:n.mode,children:n.children},t.mode),n.ref=t.ref,t.child=n,n.return=t,n}function Ig(t,n,a){return Er(n,t.child,null,a),t=ju(n,n.pendingProps),t.flags|=2,yn(n),n.memoizedState=null,t}function Nb(t,n,a){var l=n.pendingProps,h=(n.flags&128)!==0;if(n.flags&=-129,t===null){if(Ut){if(l.mode==="hidden")return t=ju(n,l),n.lanes=536870912,zl(null,t);if(Gh(n),(t=ie)?(t=Hy(t,Vn),t=t!==null&&t.data==="&"?t:null,t!==null&&(n.memoizedState={dehydrated:t,treeContext:da!==null?{id:yi,overflow:vi}:null,retryLane:536870912,hydrationErrors:null},a=mp(t),a.return=n,n.child=a,Be=n,ie=null)):t=null,t===null)throw pa(n);return n.lanes=536870912,null}return ju(n,l)}var d=t.memoizedState;if(d!==null){var v=d.dehydrated;if(Gh(n),h)if(n.flags&256)n.flags&=-257,n=Ig(t,n,a);else if(n.memoizedState!==null)n.child=t.child,n.flags|=128,n=null;else throw Error(s(558));else if(we||us(t,n,a,!1),h=(a&t.childLanes)!==0,we||h){if(l=ee,l!==null&&(v=il(l,a),v!==0&&v!==d.retryLane))throw d.retryLane=v,dr(t,v),on(l,t,v),df;Gu(),n=Ig(t,n,a)}else t=d.treeContext,ie=jn(v.nextSibling),Be=n,Ut=!0,ma=null,Vn=!1,t!==null&&yp(n,t),n=ju(n,l),n.flags|=4096;return n}return t=ji(t.child,{mode:l.mode,children:l.children}),t.ref=n.ref,n.child=t,t.return=n,t}function Ou(t,n){var a=n.ref;if(a===null)t!==null&&t.ref!==null&&(n.flags|=4194816);else{if(typeof a!="function"&&typeof a!="object")throw Error(s(284));(t===null||t.ref!==a)&&(n.flags|=4194816)}}function mf(t,n,a,l,h){return yr(n),a=Yh(t,n,a,l,void 0,h),l=Kh(),t!==null&&!we?(Xh(t,n,h),ki(t,n,h)):(Ut&&l&&Ch(n),n.flags|=1,He(t,n,a,h),n.child)}function Vg(t,n,a,l,h,d){return yr(n),n.updateQueue=null,a=Op(n,l,a,h),jp(t),l=Kh(),t!==null&&!we?(Xh(t,n,d),ki(t,n,d)):(Ut&&l&&Ch(n),n.flags|=1,He(t,n,a,d),n.child)}function Mg(t,n,a,l,h){if(yr(n),n.stateNode===null){var d=rs,v=a.contextType;typeof v=="object"&&v!==null&&(d=qe(v)),d=new a(l,d),n.memoizedState=d.state!==null&&d.state!==void 0?d.state:null,d.updater=hf,n.stateNode=d,d._reactInternals=n,d=n.stateNode,d.props=l,d.state=n.memoizedState,d.refs={},Ph(n),v=a.contextType,d.context=typeof v=="object"&&v!==null?qe(v):rs,d.state=n.memoizedState,v=a.getDerivedStateFromProps,typeof v=="function"&&(cf(n,a,v,l),d.state=n.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof d.getSnapshotBeforeUpdate=="function"||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(v=d.state,typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount(),v!==d.state&&hf.enqueueReplaceState(d,d.state,null),Il(n,l,d,h),Dl(),d.state=n.memoizedState),typeof d.componentDidMount=="function"&&(n.flags|=4194308),l=!0}else if(t===null){d=n.stateNode;var T=n.memoizedProps,D=xr(a,T);d.props=D;var q=d.context,K=a.contextType;v=rs,typeof K=="object"&&K!==null&&(v=qe(K));var tt=a.getDerivedStateFromProps;K=typeof tt=="function"||typeof d.getSnapshotBeforeUpdate=="function",T=n.pendingProps!==T,K||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(T||q!==v)&&_g(n,d,l,v),ya=!1;var H=n.memoizedState;d.state=H,Il(n,l,d,h),Dl(),q=n.memoizedState,T||H!==q||ya?(typeof tt=="function"&&(cf(n,a,tt,l),q=n.memoizedState),(D=ya||vg(n,a,D,l,H,q,v))?(K||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount()),typeof d.componentDidMount=="function"&&(n.flags|=4194308)):(typeof d.componentDidMount=="function"&&(n.flags|=4194308),n.memoizedProps=l,n.memoizedState=q),d.props=l,d.state=q,d.context=v,l=D):(typeof d.componentDidMount=="function"&&(n.flags|=4194308),l=!1)}else{d=n.stateNode,kh(t,n),v=n.memoizedProps,K=xr(a,v),d.props=K,tt=n.pendingProps,H=d.context,q=a.contextType,D=rs,typeof q=="object"&&q!==null&&(D=qe(q)),T=a.getDerivedStateFromProps,(q=typeof T=="function"||typeof d.getSnapshotBeforeUpdate=="function")||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(v!==tt||H!==D)&&_g(n,d,l,D),ya=!1,H=n.memoizedState,d.state=H,Il(n,l,d,h),Dl();var Q=n.memoizedState;v!==tt||H!==Q||ya||t!==null&&t.dependencies!==null&&gu(t.dependencies)?(typeof T=="function"&&(cf(n,a,T,l),Q=n.memoizedState),(K=ya||vg(n,a,K,l,H,Q,D)||t!==null&&t.dependencies!==null&&gu(t.dependencies))?(q||typeof d.UNSAFE_componentWillUpdate!="function"&&typeof d.componentWillUpdate!="function"||(typeof d.componentWillUpdate=="function"&&d.componentWillUpdate(l,Q,D),typeof d.UNSAFE_componentWillUpdate=="function"&&d.UNSAFE_componentWillUpdate(l,Q,D)),typeof d.componentDidUpdate=="function"&&(n.flags|=4),typeof d.getSnapshotBeforeUpdate=="function"&&(n.flags|=1024)):(typeof d.componentDidUpdate!="function"||v===t.memoizedProps&&H===t.memoizedState||(n.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||v===t.memoizedProps&&H===t.memoizedState||(n.flags|=1024),n.memoizedProps=l,n.memoizedState=Q),d.props=l,d.state=Q,d.context=D,l=K):(typeof d.componentDidUpdate!="function"||v===t.memoizedProps&&H===t.memoizedState||(n.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||v===t.memoizedProps&&H===t.memoizedState||(n.flags|=1024),l=!1)}return d=l,Ou(t,n),l=(n.flags&128)!==0,d||l?(d=n.stateNode,a=l&&typeof a.getDerivedStateFromError!="function"?null:d.render(),n.flags|=1,t!==null&&l?(n.child=Er(n,t.child,null,h),n.child=Er(n,null,a,h)):He(t,n,a,h),n.memoizedState=d.state,t=n.child):t=ki(t,n,h),t}function jg(t,n,a,l){return pr(),n.flags|=256,He(t,n,a,l),n.child}var pf={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function gf(t){return{baseLanes:t,cachePool:xp()}}function yf(t,n,a){return t=t!==null?t.childLanes&~a:0,n&&(t|=_n),t}function Og(t,n,a){var l=n.pendingProps,h=!1,d=(n.flags&128)!==0,v;if((v=d)||(v=t!==null&&t.memoizedState===null?!1:(pe.current&2)!==0),v&&(h=!0,n.flags&=-129),v=(n.flags&32)!==0,n.flags&=-33,t===null){if(Ut){if(h?ba(n):Ea(),(t=ie)?(t=Hy(t,Vn),t=t!==null&&t.data!=="&"?t:null,t!==null&&(n.memoizedState={dehydrated:t,treeContext:da!==null?{id:yi,overflow:vi}:null,retryLane:536870912,hydrationErrors:null},a=mp(t),a.return=n,n.child=a,Be=n,ie=null)):t=null,t===null)throw pa(n);return Wf(t)?n.lanes=32:n.lanes=536870912,null}var T=l.children;return l=l.fallback,h?(Ea(),h=n.mode,T=zu({mode:"hidden",children:T},h),l=mr(l,h,a,null),T.return=n,l.return=n,T.sibling=l,n.child=T,l=n.child,l.memoizedState=gf(a),l.childLanes=yf(t,v,a),n.memoizedState=pf,zl(null,l)):(ba(n),vf(n,T))}var D=t.memoizedState;if(D!==null&&(T=D.dehydrated,T!==null)){if(d)n.flags&256?(ba(n),n.flags&=-257,n=_f(t,n,a)):n.memoizedState!==null?(Ea(),n.child=t.child,n.flags|=128,n=null):(Ea(),T=l.fallback,h=n.mode,l=zu({mode:"visible",children:l.children},h),T=mr(T,h,a,null),T.flags|=2,l.return=n,T.return=n,l.sibling=T,n.child=l,Er(n,t.child,null,a),l=n.child,l.memoizedState=gf(a),l.childLanes=yf(t,v,a),n.memoizedState=pf,n=zl(null,l));else if(ba(n),Wf(T)){if(v=T.nextSibling&&T.nextSibling.dataset,v)var q=v.dgst;v=q,l=Error(s(419)),l.stack="",l.digest=v,Al({value:l,source:null,stack:null}),n=_f(t,n,a)}else if(we||us(t,n,a,!1),v=(a&t.childLanes)!==0,we||v){if(v=ee,v!==null&&(l=il(v,a),l!==0&&l!==D.retryLane))throw D.retryLane=l,dr(t,l),on(v,t,l),df;Jf(T)||Gu(),n=_f(t,n,a)}else Jf(T)?(n.flags|=192,n.child=t.child,n=null):(t=D.treeContext,ie=jn(T.nextSibling),Be=n,Ut=!0,ma=null,Vn=!1,t!==null&&yp(n,t),n=vf(n,l.children),n.flags|=4096);return n}return h?(Ea(),T=l.fallback,h=n.mode,D=t.child,q=D.sibling,l=ji(D,{mode:"hidden",children:l.children}),l.subtreeFlags=D.subtreeFlags&65011712,q!==null?T=ji(q,T):(T=mr(T,h,a,null),T.flags|=2),T.return=n,l.return=n,l.sibling=T,n.child=l,zl(null,l),l=n.child,T=t.child.memoizedState,T===null?T=gf(a):(h=T.cachePool,h!==null?(D=Ae._currentValue,h=h.parent!==D?{parent:D,pool:D}:h):h=xp(),T={baseLanes:T.baseLanes|a,cachePool:h}),l.memoizedState=T,l.childLanes=yf(t,v,a),n.memoizedState=pf,zl(t.child,l)):(ba(n),a=t.child,t=a.sibling,a=ji(a,{mode:"visible",children:l.children}),a.return=n,a.sibling=null,t!==null&&(v=n.deletions,v===null?(n.deletions=[t],n.flags|=16):v.push(t)),n.child=a,n.memoizedState=null,a)}function vf(t,n){return n=zu({mode:"visible",children:n},t.mode),n.return=t,t.child=n}function zu(t,n){return t=pn(22,t,null,n),t.lanes=0,t}function _f(t,n,a){return Er(n,t.child,null,a),t=vf(n,n.pendingProps.children),t.flags|=2,n.memoizedState=null,t}function zg(t,n,a){t.lanes|=n;var l=t.alternate;l!==null&&(l.lanes|=n),Mh(t.return,n,a)}function bf(t,n,a,l,h,d){var v=t.memoizedState;v===null?t.memoizedState={isBackwards:n,rendering:null,renderingStartTime:0,last:l,tail:a,tailMode:h,treeForkCount:d}:(v.isBackwards=n,v.rendering=null,v.renderingStartTime=0,v.last=l,v.tail=a,v.tailMode=h,v.treeForkCount=d)}function Ug(t,n,a){var l=n.pendingProps,h=l.revealOrder,d=l.tail;l=l.children;var v=pe.current,T=(v&2)!==0;if(T?(v=v&1|2,n.flags|=128):v&=1,at(pe,v),He(t,n,l,a),l=Ut?xl:0,!T&&t!==null&&(t.flags&128)!==0)t:for(t=n.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&zg(t,a,n);else if(t.tag===19)zg(t,a,n);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===n)break t;for(;t.sibling===null;){if(t.return===null||t.return===n)break t;t=t.return}t.sibling.return=t.return,t=t.sibling}switch(h){case"forwards":for(a=n.child,h=null;a!==null;)t=a.alternate,t!==null&&Au(t)===null&&(h=a),a=a.sibling;a=h,a===null?(h=n.child,n.child=null):(h=a.sibling,a.sibling=null),bf(n,!1,h,a,d,l);break;case"backwards":case"unstable_legacy-backwards":for(a=null,h=n.child,n.child=null;h!==null;){if(t=h.alternate,t!==null&&Au(t)===null){n.child=h;break}t=h.sibling,h.sibling=a,a=h,h=t}bf(n,!0,a,null,d,l);break;case"together":bf(n,!1,null,null,void 0,l);break;default:n.memoizedState=null}return n.child}function ki(t,n,a){if(t!==null&&(n.dependencies=t.dependencies),Aa|=n.lanes,(a&n.childLanes)===0)if(t!==null){if(us(t,n,a,!1),(a&n.childLanes)===0)return null}else return null;if(t!==null&&n.child!==t.child)throw Error(s(153));if(n.child!==null){for(t=n.child,a=ji(t,t.pendingProps),n.child=a,a.return=n;t.sibling!==null;)t=t.sibling,a=a.sibling=ji(t,t.pendingProps),a.return=n;a.sibling=null}return n.child}function Ef(t,n){return(t.lanes&n)!==0?!0:(t=t.dependencies,!!(t!==null&&gu(t)))}function Db(t,n,a){switch(n.tag){case 3:Ie(n,n.stateNode.containerInfo),ga(n,Ae,t.memoizedState.cache),pr();break;case 27:case 5:Xa(n);break;case 4:Ie(n,n.stateNode.containerInfo);break;case 10:ga(n,n.type,n.memoizedProps.value);break;case 31:if(n.memoizedState!==null)return n.flags|=128,Gh(n),null;break;case 13:var l=n.memoizedState;if(l!==null)return l.dehydrated!==null?(ba(n),n.flags|=128,null):(a&n.child.childLanes)!==0?Og(t,n,a):(ba(n),t=ki(t,n,a),t!==null?t.sibling:null);ba(n);break;case 19:var h=(t.flags&128)!==0;if(l=(a&n.childLanes)!==0,l||(us(t,n,a,!1),l=(a&n.childLanes)!==0),h){if(l)return Ug(t,n,a);n.flags|=128}if(h=n.memoizedState,h!==null&&(h.rendering=null,h.tail=null,h.lastEffect=null),at(pe,pe.current),l)break;return null;case 22:return n.lanes=0,Ng(t,n,a,n.pendingProps);case 24:ga(n,Ae,t.memoizedState.cache)}return ki(t,n,a)}function Lg(t,n,a){if(t!==null)if(t.memoizedProps!==n.pendingProps)we=!0;else{if(!Ef(t,a)&&(n.flags&128)===0)return we=!1,Db(t,n,a);we=(t.flags&131072)!==0}else we=!1,Ut&&(n.flags&1048576)!==0&&gp(n,xl,n.index);switch(n.lanes=0,n.tag){case 16:t:{var l=n.pendingProps;if(t=_r(n.elementType),n.type=t,typeof t=="function")Sh(t)?(l=xr(t,l),n.tag=1,n=Mg(null,n,t,l,a)):(n.tag=0,n=mf(null,n,t,l,a));else{if(t!=null){var h=t.$$typeof;if(h===vt){n.tag=11,n=wg(null,n,t,l,a);break t}else if(h===N){n.tag=14,n=Rg(null,n,t,l,a);break t}}throw n=pt(t)||t,Error(s(306,n,""))}}return n;case 0:return mf(t,n,n.type,n.pendingProps,a);case 1:return l=n.type,h=xr(l,n.pendingProps),Mg(t,n,l,h,a);case 3:t:{if(Ie(n,n.stateNode.containerInfo),t===null)throw Error(s(387));l=n.pendingProps;var d=n.memoizedState;h=d.element,kh(t,n),Il(n,l,null,a);var v=n.memoizedState;if(l=v.cache,ga(n,Ae,l),l!==d.cache&&jh(n,[Ae],a,!0),Dl(),l=v.element,d.isDehydrated)if(d={element:l,isDehydrated:!1,cache:v.cache},n.updateQueue.baseState=d,n.memoizedState=d,n.flags&256){n=jg(t,n,l,a);break t}else if(l!==h){h=Nn(Error(s(424)),n),Al(h),n=jg(t,n,l,a);break t}else{switch(t=n.stateNode.containerInfo,t.nodeType){case 9:t=t.body;break;default:t=t.nodeName==="HTML"?t.ownerDocument.body:t}for(ie=jn(t.firstChild),Be=n,Ut=!0,ma=null,Vn=!0,a=Np(n,null,l,a),n.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling}else{if(pr(),l===h){n=ki(t,n,a);break t}He(t,n,l,a)}n=n.child}return n;case 26:return Ou(t,n),t===null?(a=Xy(n.type,null,n.pendingProps,null))?n.memoizedState=a:Ut||(a=n.type,t=n.pendingProps,l=Ju(Tt.current).createElement(a),l[Ee]=n,l[Oe]=t,Fe(l,a,t),Te(l),n.stateNode=l):n.memoizedState=Xy(n.type,t.memoizedProps,n.pendingProps,t.memoizedState),null;case 27:return Xa(n),t===null&&Ut&&(l=n.stateNode=Qy(n.type,n.pendingProps,Tt.current),Be=n,Vn=!0,h=ie,Na(n.type)?(td=h,ie=jn(l.firstChild)):ie=h),He(t,n,n.pendingProps.children,a),Ou(t,n),t===null&&(n.flags|=4194304),n.child;case 5:return t===null&&Ut&&((h=l=ie)&&(l=sE(l,n.type,n.pendingProps,Vn),l!==null?(n.stateNode=l,Be=n,ie=jn(l.firstChild),Vn=!1,h=!0):h=!1),h||pa(n)),Xa(n),h=n.type,d=n.pendingProps,v=t!==null?t.memoizedProps:null,l=d.children,Xf(h,d)?l=null:v!==null&&Xf(h,v)&&(n.flags|=32),n.memoizedState!==null&&(h=Yh(t,n,Eb,null,null,a),Zl._currentValue=h),Ou(t,n),He(t,n,l,a),n.child;case 6:return t===null&&Ut&&((t=a=ie)&&(a=lE(a,n.pendingProps,Vn),a!==null?(n.stateNode=a,Be=n,ie=null,t=!0):t=!1),t||pa(n)),null;case 13:return Og(t,n,a);case 4:return Ie(n,n.stateNode.containerInfo),l=n.pendingProps,t===null?n.child=Er(n,null,l,a):He(t,n,l,a),n.child;case 11:return wg(t,n,n.type,n.pendingProps,a);case 7:return He(t,n,n.pendingProps,a),n.child;case 8:return He(t,n,n.pendingProps.children,a),n.child;case 12:return He(t,n,n.pendingProps.children,a),n.child;case 10:return l=n.pendingProps,ga(n,n.type,l.value),He(t,n,l.children,a),n.child;case 9:return h=n.type._context,l=n.pendingProps.children,yr(n),h=qe(h),l=l(h),n.flags|=1,He(t,n,l,a),n.child;case 14:return Rg(t,n,n.type,n.pendingProps,a);case 15:return Cg(t,n,n.type,n.pendingProps,a);case 19:return Ug(t,n,a);case 31:return Nb(t,n,a);case 22:return Ng(t,n,a,n.pendingProps);case 24:return yr(n),l=qe(Ae),t===null?(h=Uh(),h===null&&(h=ee,d=Oh(),h.pooledCache=d,d.refCount++,d!==null&&(h.pooledCacheLanes|=a),h=d),n.memoizedState={parent:l,cache:h},Ph(n),ga(n,Ae,h)):((t.lanes&a)!==0&&(kh(t,n),Il(n,null,null,a),Dl()),h=t.memoizedState,d=n.memoizedState,h.parent!==l?(h={parent:l,cache:l},n.memoizedState=h,n.lanes===0&&(n.memoizedState=n.updateQueue.baseState=h),ga(n,Ae,l)):(l=d.cache,ga(n,Ae,l),l!==h.cache&&jh(n,[Ae],a,!0))),He(t,n,n.pendingProps.children,a),n.child;case 29:throw n.pendingProps}throw Error(s(156,n.tag))}function Bi(t){t.flags|=4}function Tf(t,n,a,l,h){if((n=(t.mode&32)!==0)&&(n=!1),n){if(t.flags|=16777216,(h&335544128)===h)if(t.stateNode.complete)t.flags|=8192;else if(hy())t.flags|=8192;else throw br=bu,Lh}else t.flags&=-16777217}function Pg(t,n){if(n.type!=="stylesheet"||(n.state.loading&4)!==0)t.flags&=-16777217;else if(t.flags|=16777216,!t0(n))if(hy())t.flags|=8192;else throw br=bu,Lh}function Uu(t,n){n!==null&&(t.flags|=4),t.flags&16384&&(n=t.tag!==22?Ho():536870912,t.lanes|=n,Es|=n)}function Ul(t,n){if(!Ut)switch(t.tailMode){case"hidden":n=t.tail;for(var a=null;n!==null;)n.alternate!==null&&(a=n),n=n.sibling;a===null?t.tail=null:a.sibling=null;break;case"collapsed":a=t.tail;for(var l=null;a!==null;)a.alternate!==null&&(l=a),a=a.sibling;l===null?n||t.tail===null?t.tail=null:t.tail.sibling=null:l.sibling=null}}function ae(t){var n=t.alternate!==null&&t.alternate.child===t.child,a=0,l=0;if(n)for(var h=t.child;h!==null;)a|=h.lanes|h.childLanes,l|=h.subtreeFlags&65011712,l|=h.flags&65011712,h.return=t,h=h.sibling;else for(h=t.child;h!==null;)a|=h.lanes|h.childLanes,l|=h.subtreeFlags,l|=h.flags,h.return=t,h=h.sibling;return t.subtreeFlags|=l,t.childLanes=a,n}function Ib(t,n,a){var l=n.pendingProps;switch(Nh(n),n.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ae(n),null;case 1:return ae(n),null;case 3:return a=n.stateNode,l=null,t!==null&&(l=t.memoizedState.cache),n.memoizedState.cache!==l&&(n.flags|=2048),Ui(Ae),se(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(t===null||t.child===null)&&(os(n)?Bi(n):t===null||t.memoizedState.isDehydrated&&(n.flags&256)===0||(n.flags|=1024,Ih())),ae(n),null;case 26:var h=n.type,d=n.memoizedState;return t===null?(Bi(n),d!==null?(ae(n),Pg(n,d)):(ae(n),Tf(n,h,null,l,a))):d?d!==t.memoizedState?(Bi(n),ae(n),Pg(n,d)):(ae(n),n.flags&=-16777217):(t=t.memoizedProps,t!==l&&Bi(n),ae(n),Tf(n,h,t,l,a)),null;case 27:if(kr(n),a=Tt.current,h=n.type,t!==null&&n.stateNode!=null)t.memoizedProps!==l&&Bi(n);else{if(!l){if(n.stateNode===null)throw Error(s(166));return ae(n),null}t=lt.current,os(n)?vp(n):(t=Qy(h,l,a),n.stateNode=t,Bi(n))}return ae(n),null;case 5:if(kr(n),h=n.type,t!==null&&n.stateNode!=null)t.memoizedProps!==l&&Bi(n);else{if(!l){if(n.stateNode===null)throw Error(s(166));return ae(n),null}if(d=lt.current,os(n))vp(n);else{var v=Ju(Tt.current);switch(d){case 1:d=v.createElementNS("http://www.w3.org/2000/svg",h);break;case 2:d=v.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;default:switch(h){case"svg":d=v.createElementNS("http://www.w3.org/2000/svg",h);break;case"math":d=v.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;case"script":d=v.createElement("div"),d.innerHTML="<script><\/script>",d=d.removeChild(d.firstChild);break;case"select":d=typeof l.is=="string"?v.createElement("select",{is:l.is}):v.createElement("select"),l.multiple?d.multiple=!0:l.size&&(d.size=l.size);break;default:d=typeof l.is=="string"?v.createElement(h,{is:l.is}):v.createElement(h)}}d[Ee]=n,d[Oe]=l;t:for(v=n.child;v!==null;){if(v.tag===5||v.tag===6)d.appendChild(v.stateNode);else if(v.tag!==4&&v.tag!==27&&v.child!==null){v.child.return=v,v=v.child;continue}if(v===n)break t;for(;v.sibling===null;){if(v.return===null||v.return===n)break t;v=v.return}v.sibling.return=v.return,v=v.sibling}n.stateNode=d;t:switch(Fe(d,h,l),h){case"button":case"input":case"select":case"textarea":l=!!l.autoFocus;break t;case"img":l=!0;break t;default:l=!1}l&&Bi(n)}}return ae(n),Tf(n,n.type,t===null?null:t.memoizedProps,n.pendingProps,a),null;case 6:if(t&&n.stateNode!=null)t.memoizedProps!==l&&Bi(n);else{if(typeof l!="string"&&n.stateNode===null)throw Error(s(166));if(t=Tt.current,os(n)){if(t=n.stateNode,a=n.memoizedProps,l=null,h=Be,h!==null)switch(h.tag){case 27:case 5:l=h.memoizedProps}t[Ee]=n,t=!!(t.nodeValue===a||l!==null&&l.suppressHydrationWarning===!0||Oy(t.nodeValue,a)),t||pa(n,!0)}else t=Ju(t).createTextNode(l),t[Ee]=n,n.stateNode=t}return ae(n),null;case 31:if(a=n.memoizedState,t===null||t.memoizedState!==null){if(l=os(n),a!==null){if(t===null){if(!l)throw Error(s(318));if(t=n.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(s(557));t[Ee]=n}else pr(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;ae(n),t=!1}else a=Ih(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=a),t=!0;if(!t)return n.flags&256?(yn(n),n):(yn(n),null);if((n.flags&128)!==0)throw Error(s(558))}return ae(n),null;case 13:if(l=n.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(h=os(n),l!==null&&l.dehydrated!==null){if(t===null){if(!h)throw Error(s(318));if(h=n.memoizedState,h=h!==null?h.dehydrated:null,!h)throw Error(s(317));h[Ee]=n}else pr(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;ae(n),h=!1}else h=Ih(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=h),h=!0;if(!h)return n.flags&256?(yn(n),n):(yn(n),null)}return yn(n),(n.flags&128)!==0?(n.lanes=a,n):(a=l!==null,t=t!==null&&t.memoizedState!==null,a&&(l=n.child,h=null,l.alternate!==null&&l.alternate.memoizedState!==null&&l.alternate.memoizedState.cachePool!==null&&(h=l.alternate.memoizedState.cachePool.pool),d=null,l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(d=l.memoizedState.cachePool.pool),d!==h&&(l.flags|=2048)),a!==t&&a&&(n.child.flags|=8192),Uu(n,n.updateQueue),ae(n),null);case 4:return se(),t===null&&Ff(n.stateNode.containerInfo),ae(n),null;case 10:return Ui(n.type),ae(n),null;case 19:if(W(pe),l=n.memoizedState,l===null)return ae(n),null;if(h=(n.flags&128)!==0,d=l.rendering,d===null)if(h)Ul(l,!1);else{if(fe!==0||t!==null&&(t.flags&128)!==0)for(t=n.child;t!==null;){if(d=Au(t),d!==null){for(n.flags|=128,Ul(l,!1),t=d.updateQueue,n.updateQueue=t,Uu(n,t),n.subtreeFlags=0,t=a,a=n.child;a!==null;)dp(a,t),a=a.sibling;return at(pe,pe.current&1|2),Ut&&Oi(n,l.treeForkCount),n.child}t=t.sibling}l.tail!==null&&Je()>qu&&(n.flags|=128,h=!0,Ul(l,!1),n.lanes=4194304)}else{if(!h)if(t=Au(d),t!==null){if(n.flags|=128,h=!0,t=t.updateQueue,n.updateQueue=t,Uu(n,t),Ul(l,!0),l.tail===null&&l.tailMode==="hidden"&&!d.alternate&&!Ut)return ae(n),null}else 2*Je()-l.renderingStartTime>qu&&a!==536870912&&(n.flags|=128,h=!0,Ul(l,!1),n.lanes=4194304);l.isBackwards?(d.sibling=n.child,n.child=d):(t=l.last,t!==null?t.sibling=d:n.child=d,l.last=d)}return l.tail!==null?(t=l.tail,l.rendering=t,l.tail=t.sibling,l.renderingStartTime=Je(),t.sibling=null,a=pe.current,at(pe,h?a&1|2:a&1),Ut&&Oi(n,l.treeForkCount),t):(ae(n),null);case 22:case 23:return yn(n),Fh(),l=n.memoizedState!==null,t!==null?t.memoizedState!==null!==l&&(n.flags|=8192):l&&(n.flags|=8192),l?(a&536870912)!==0&&(n.flags&128)===0&&(ae(n),n.subtreeFlags&6&&(n.flags|=8192)):ae(n),a=n.updateQueue,a!==null&&Uu(n,a.retryQueue),a=null,t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(a=t.memoizedState.cachePool.pool),l=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(l=n.memoizedState.cachePool.pool),l!==a&&(n.flags|=2048),t!==null&&W(vr),null;case 24:return a=null,t!==null&&(a=t.memoizedState.cache),n.memoizedState.cache!==a&&(n.flags|=2048),Ui(Ae),ae(n),null;case 25:return null;case 30:return null}throw Error(s(156,n.tag))}function Vb(t,n){switch(Nh(n),n.tag){case 1:return t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 3:return Ui(Ae),se(),t=n.flags,(t&65536)!==0&&(t&128)===0?(n.flags=t&-65537|128,n):null;case 26:case 27:case 5:return kr(n),null;case 31:if(n.memoizedState!==null){if(yn(n),n.alternate===null)throw Error(s(340));pr()}return t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 13:if(yn(n),t=n.memoizedState,t!==null&&t.dehydrated!==null){if(n.alternate===null)throw Error(s(340));pr()}return t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 19:return W(pe),null;case 4:return se(),null;case 10:return Ui(n.type),null;case 22:case 23:return yn(n),Fh(),t!==null&&W(vr),t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 24:return Ui(Ae),null;case 25:return null;default:return null}}function kg(t,n){switch(Nh(n),n.tag){case 3:Ui(Ae),se();break;case 26:case 27:case 5:kr(n);break;case 4:se();break;case 31:n.memoizedState!==null&&yn(n);break;case 13:yn(n);break;case 19:W(pe);break;case 10:Ui(n.type);break;case 22:case 23:yn(n),Fh(),t!==null&&W(vr);break;case 24:Ui(Ae)}}function Ll(t,n){try{var a=n.updateQueue,l=a!==null?a.lastEffect:null;if(l!==null){var h=l.next;a=h;do{if((a.tag&t)===t){l=void 0;var d=a.create,v=a.inst;l=d(),v.destroy=l}a=a.next}while(a!==h)}}catch(T){Xt(n,n.return,T)}}function Ta(t,n,a){try{var l=n.updateQueue,h=l!==null?l.lastEffect:null;if(h!==null){var d=h.next;l=d;do{if((l.tag&t)===t){var v=l.inst,T=v.destroy;if(T!==void 0){v.destroy=void 0,h=n;var D=a,q=T;try{q()}catch(K){Xt(h,D,K)}}}l=l.next}while(l!==d)}}catch(K){Xt(n,n.return,K)}}function Bg(t){var n=t.updateQueue;if(n!==null){var a=t.stateNode;try{Ip(n,a)}catch(l){Xt(t,t.return,l)}}}function qg(t,n,a){a.props=xr(t.type,t.memoizedProps),a.state=t.memoizedState;try{a.componentWillUnmount()}catch(l){Xt(t,n,l)}}function Pl(t,n){try{var a=t.ref;if(a!==null){switch(t.tag){case 26:case 27:case 5:var l=t.stateNode;break;case 30:l=t.stateNode;break;default:l=t.stateNode}typeof a=="function"?t.refCleanup=a(l):a.current=l}}catch(h){Xt(t,n,h)}}function _i(t,n){var a=t.ref,l=t.refCleanup;if(a!==null)if(typeof l=="function")try{l()}catch(h){Xt(t,n,h)}finally{t.refCleanup=null,t=t.alternate,t!=null&&(t.refCleanup=null)}else if(typeof a=="function")try{a(null)}catch(h){Xt(t,n,h)}else a.current=null}function Hg(t){var n=t.type,a=t.memoizedProps,l=t.stateNode;try{t:switch(n){case"button":case"input":case"select":case"textarea":a.autoFocus&&l.focus();break t;case"img":a.src?l.src=a.src:a.srcSet&&(l.srcset=a.srcSet)}}catch(h){Xt(t,t.return,h)}}function xf(t,n,a){try{var l=t.stateNode;tE(l,t.type,a,n),l[Oe]=n}catch(h){Xt(t,t.return,h)}}function Fg(t){return t.tag===5||t.tag===3||t.tag===26||t.tag===27&&Na(t.type)||t.tag===4}function Af(t){t:for(;;){for(;t.sibling===null;){if(t.return===null||Fg(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.tag===27&&Na(t.type)||t.flags&2||t.child===null||t.tag===4)continue t;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Sf(t,n,a){var l=t.tag;if(l===5||l===6)t=t.stateNode,n?(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a).insertBefore(t,n):(n=a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,n.appendChild(t),a=a._reactRootContainer,a!=null||n.onclick!==null||(n.onclick=Fn));else if(l!==4&&(l===27&&Na(t.type)&&(a=t.stateNode,n=null),t=t.child,t!==null))for(Sf(t,n,a),t=t.sibling;t!==null;)Sf(t,n,a),t=t.sibling}function Lu(t,n,a){var l=t.tag;if(l===5||l===6)t=t.stateNode,n?a.insertBefore(t,n):a.appendChild(t);else if(l!==4&&(l===27&&Na(t.type)&&(a=t.stateNode),t=t.child,t!==null))for(Lu(t,n,a),t=t.sibling;t!==null;)Lu(t,n,a),t=t.sibling}function Gg(t){var n=t.stateNode,a=t.memoizedProps;try{for(var l=t.type,h=n.attributes;h.length;)n.removeAttributeNode(h[0]);Fe(n,l,a),n[Ee]=t,n[Oe]=a}catch(d){Xt(t,t.return,d)}}var qi=!1,Re=!1,wf=!1,Qg=typeof WeakSet=="function"?WeakSet:Set,Ue=null;function Mb(t,n){if(t=t.containerInfo,Yf=rc,t=ap(t),vh(t)){if("selectionStart"in t)var a={start:t.selectionStart,end:t.selectionEnd};else t:{a=(a=t.ownerDocument)&&a.defaultView||window;var l=a.getSelection&&a.getSelection();if(l&&l.rangeCount!==0){a=l.anchorNode;var h=l.anchorOffset,d=l.focusNode;l=l.focusOffset;try{a.nodeType,d.nodeType}catch{a=null;break t}var v=0,T=-1,D=-1,q=0,K=0,tt=t,H=null;e:for(;;){for(var Q;tt!==a||h!==0&&tt.nodeType!==3||(T=v+h),tt!==d||l!==0&&tt.nodeType!==3||(D=v+l),tt.nodeType===3&&(v+=tt.nodeValue.length),(Q=tt.firstChild)!==null;)H=tt,tt=Q;for(;;){if(tt===t)break e;if(H===a&&++q===h&&(T=v),H===d&&++K===l&&(D=v),(Q=tt.nextSibling)!==null)break;tt=H,H=tt.parentNode}tt=Q}a=T===-1||D===-1?null:{start:T,end:D}}else a=null}a=a||{start:0,end:0}}else a=null;for(Kf={focusedElem:t,selectionRange:a},rc=!1,Ue=n;Ue!==null;)if(n=Ue,t=n.child,(n.subtreeFlags&1028)!==0&&t!==null)t.return=n,Ue=t;else for(;Ue!==null;){switch(n=Ue,d=n.alternate,t=n.flags,n.tag){case 0:if((t&4)!==0&&(t=n.updateQueue,t=t!==null?t.events:null,t!==null))for(a=0;a<t.length;a++)h=t[a],h.ref.impl=h.nextImpl;break;case 11:case 15:break;case 1:if((t&1024)!==0&&d!==null){t=void 0,a=n,h=d.memoizedProps,d=d.memoizedState,l=a.stateNode;try{var ct=xr(a.type,h);t=l.getSnapshotBeforeUpdate(ct,d),l.__reactInternalSnapshotBeforeUpdate=t}catch(bt){Xt(a,a.return,bt)}}break;case 3:if((t&1024)!==0){if(t=n.stateNode.containerInfo,a=t.nodeType,a===9)Zf(t);else if(a===1)switch(t.nodeName){case"HEAD":case"HTML":case"BODY":Zf(t);break;default:t.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((t&1024)!==0)throw Error(s(163))}if(t=n.sibling,t!==null){t.return=n.return,Ue=t;break}Ue=n.return}}function Yg(t,n,a){var l=a.flags;switch(a.tag){case 0:case 11:case 15:Fi(t,a),l&4&&Ll(5,a);break;case 1:if(Fi(t,a),l&4)if(t=a.stateNode,n===null)try{t.componentDidMount()}catch(v){Xt(a,a.return,v)}else{var h=xr(a.type,n.memoizedProps);n=n.memoizedState;try{t.componentDidUpdate(h,n,t.__reactInternalSnapshotBeforeUpdate)}catch(v){Xt(a,a.return,v)}}l&64&&Bg(a),l&512&&Pl(a,a.return);break;case 3:if(Fi(t,a),l&64&&(t=a.updateQueue,t!==null)){if(n=null,a.child!==null)switch(a.child.tag){case 27:case 5:n=a.child.stateNode;break;case 1:n=a.child.stateNode}try{Ip(t,n)}catch(v){Xt(a,a.return,v)}}break;case 27:n===null&&l&4&&Gg(a);case 26:case 5:Fi(t,a),n===null&&l&4&&Hg(a),l&512&&Pl(a,a.return);break;case 12:Fi(t,a);break;case 31:Fi(t,a),l&4&&$g(t,a);break;case 13:Fi(t,a),l&4&&Zg(t,a),l&64&&(t=a.memoizedState,t!==null&&(t=t.dehydrated,t!==null&&(a=qb.bind(null,a),oE(t,a))));break;case 22:if(l=a.memoizedState!==null||qi,!l){n=n!==null&&n.memoizedState!==null||Re,h=qi;var d=Re;qi=l,(Re=n)&&!d?Gi(t,a,(a.subtreeFlags&8772)!==0):Fi(t,a),qi=h,Re=d}break;case 30:break;default:Fi(t,a)}}function Kg(t){var n=t.alternate;n!==null&&(t.alternate=null,Kg(n)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(n=t.stateNode,n!==null&&Gr(n)),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}var oe=null,an=!1;function Hi(t,n,a){for(a=a.child;a!==null;)Xg(t,n,a),a=a.sibling}function Xg(t,n,a){if(Pe&&typeof Pe.onCommitFiberUnmount=="function")try{Pe.onCommitFiberUnmount(kn,a)}catch{}switch(a.tag){case 26:Re||_i(a,n),Hi(t,n,a),a.memoizedState?a.memoizedState.count--:a.stateNode&&(a=a.stateNode,a.parentNode.removeChild(a));break;case 27:Re||_i(a,n);var l=oe,h=an;Na(a.type)&&(oe=a.stateNode,an=!1),Hi(t,n,a),Kl(a.stateNode),oe=l,an=h;break;case 5:Re||_i(a,n);case 6:if(l=oe,h=an,oe=null,Hi(t,n,a),oe=l,an=h,oe!==null)if(an)try{(oe.nodeType===9?oe.body:oe.nodeName==="HTML"?oe.ownerDocument.body:oe).removeChild(a.stateNode)}catch(d){Xt(a,n,d)}else try{oe.removeChild(a.stateNode)}catch(d){Xt(a,n,d)}break;case 18:oe!==null&&(an?(t=oe,By(t.nodeType===9?t.body:t.nodeName==="HTML"?t.ownerDocument.body:t,a.stateNode),Ns(t)):By(oe,a.stateNode));break;case 4:l=oe,h=an,oe=a.stateNode.containerInfo,an=!0,Hi(t,n,a),oe=l,an=h;break;case 0:case 11:case 14:case 15:Ta(2,a,n),Re||Ta(4,a,n),Hi(t,n,a);break;case 1:Re||(_i(a,n),l=a.stateNode,typeof l.componentWillUnmount=="function"&&qg(a,n,l)),Hi(t,n,a);break;case 21:Hi(t,n,a);break;case 22:Re=(l=Re)||a.memoizedState!==null,Hi(t,n,a),Re=l;break;default:Hi(t,n,a)}}function $g(t,n){if(n.memoizedState===null&&(t=n.alternate,t!==null&&(t=t.memoizedState,t!==null))){t=t.dehydrated;try{Ns(t)}catch(a){Xt(n,n.return,a)}}}function Zg(t,n){if(n.memoizedState===null&&(t=n.alternate,t!==null&&(t=t.memoizedState,t!==null&&(t=t.dehydrated,t!==null))))try{Ns(t)}catch(a){Xt(n,n.return,a)}}function jb(t){switch(t.tag){case 31:case 13:case 19:var n=t.stateNode;return n===null&&(n=t.stateNode=new Qg),n;case 22:return t=t.stateNode,n=t._retryCache,n===null&&(n=t._retryCache=new Qg),n;default:throw Error(s(435,t.tag))}}function Pu(t,n){var a=jb(t);n.forEach(function(l){if(!a.has(l)){a.add(l);var h=Hb.bind(null,t,l);l.then(h,h)}})}function rn(t,n){var a=n.deletions;if(a!==null)for(var l=0;l<a.length;l++){var h=a[l],d=t,v=n,T=v;t:for(;T!==null;){switch(T.tag){case 27:if(Na(T.type)){oe=T.stateNode,an=!1;break t}break;case 5:oe=T.stateNode,an=!1;break t;case 3:case 4:oe=T.stateNode.containerInfo,an=!0;break t}T=T.return}if(oe===null)throw Error(s(160));Xg(d,v,h),oe=null,an=!1,d=h.alternate,d!==null&&(d.return=null),h.return=null}if(n.subtreeFlags&13886)for(n=n.child;n!==null;)Jg(n,t),n=n.sibling}var $n=null;function Jg(t,n){var a=t.alternate,l=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:rn(n,t),sn(t),l&4&&(Ta(3,t,t.return),Ll(3,t),Ta(5,t,t.return));break;case 1:rn(n,t),sn(t),l&512&&(Re||a===null||_i(a,a.return)),l&64&&qi&&(t=t.updateQueue,t!==null&&(l=t.callbacks,l!==null&&(a=t.shared.hiddenCallbacks,t.shared.hiddenCallbacks=a===null?l:a.concat(l))));break;case 26:var h=$n;if(rn(n,t),sn(t),l&512&&(Re||a===null||_i(a,a.return)),l&4){var d=a!==null?a.memoizedState:null;if(l=t.memoizedState,a===null)if(l===null)if(t.stateNode===null){t:{l=t.type,a=t.memoizedProps,h=h.ownerDocument||h;e:switch(l){case"title":d=h.getElementsByTagName("title")[0],(!d||d[ri]||d[Ee]||d.namespaceURI==="http://www.w3.org/2000/svg"||d.hasAttribute("itemprop"))&&(d=h.createElement(l),h.head.insertBefore(d,h.querySelector("head > title"))),Fe(d,l,a),d[Ee]=t,Te(d),l=d;break t;case"link":var v=Jy("link","href",h).get(l+(a.href||""));if(v){for(var T=0;T<v.length;T++)if(d=v[T],d.getAttribute("href")===(a.href==null||a.href===""?null:a.href)&&d.getAttribute("rel")===(a.rel==null?null:a.rel)&&d.getAttribute("title")===(a.title==null?null:a.title)&&d.getAttribute("crossorigin")===(a.crossOrigin==null?null:a.crossOrigin)){v.splice(T,1);break e}}d=h.createElement(l),Fe(d,l,a),h.head.appendChild(d);break;case"meta":if(v=Jy("meta","content",h).get(l+(a.content||""))){for(T=0;T<v.length;T++)if(d=v[T],d.getAttribute("content")===(a.content==null?null:""+a.content)&&d.getAttribute("name")===(a.name==null?null:a.name)&&d.getAttribute("property")===(a.property==null?null:a.property)&&d.getAttribute("http-equiv")===(a.httpEquiv==null?null:a.httpEquiv)&&d.getAttribute("charset")===(a.charSet==null?null:a.charSet)){v.splice(T,1);break e}}d=h.createElement(l),Fe(d,l,a),h.head.appendChild(d);break;default:throw Error(s(468,l))}d[Ee]=t,Te(d),l=d}t.stateNode=l}else Wy(h,t.type,t.stateNode);else t.stateNode=Zy(h,l,t.memoizedProps);else d!==l?(d===null?a.stateNode!==null&&(a=a.stateNode,a.parentNode.removeChild(a)):d.count--,l===null?Wy(h,t.type,t.stateNode):Zy(h,l,t.memoizedProps)):l===null&&t.stateNode!==null&&xf(t,t.memoizedProps,a.memoizedProps)}break;case 27:rn(n,t),sn(t),l&512&&(Re||a===null||_i(a,a.return)),a!==null&&l&4&&xf(t,t.memoizedProps,a.memoizedProps);break;case 5:if(rn(n,t),sn(t),l&512&&(Re||a===null||_i(a,a.return)),t.flags&32){h=t.stateNode;try{nn(h,"")}catch(ct){Xt(t,t.return,ct)}}l&4&&t.stateNode!=null&&(h=t.memoizedProps,xf(t,h,a!==null?a.memoizedProps:h)),l&1024&&(wf=!0);break;case 6:if(rn(n,t),sn(t),l&4){if(t.stateNode===null)throw Error(s(162));l=t.memoizedProps,a=t.stateNode;try{a.nodeValue=l}catch(ct){Xt(t,t.return,ct)}}break;case 3:if(ec=null,h=$n,$n=Wu(n.containerInfo),rn(n,t),$n=h,sn(t),l&4&&a!==null&&a.memoizedState.isDehydrated)try{Ns(n.containerInfo)}catch(ct){Xt(t,t.return,ct)}wf&&(wf=!1,Wg(t));break;case 4:l=$n,$n=Wu(t.stateNode.containerInfo),rn(n,t),sn(t),$n=l;break;case 12:rn(n,t),sn(t);break;case 31:rn(n,t),sn(t),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,Pu(t,l)));break;case 13:rn(n,t),sn(t),t.child.flags&8192&&t.memoizedState!==null!=(a!==null&&a.memoizedState!==null)&&(Bu=Je()),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,Pu(t,l)));break;case 22:h=t.memoizedState!==null;var D=a!==null&&a.memoizedState!==null,q=qi,K=Re;if(qi=q||h,Re=K||D,rn(n,t),Re=K,qi=q,sn(t),l&8192)t:for(n=t.stateNode,n._visibility=h?n._visibility&-2:n._visibility|1,h&&(a===null||D||qi||Re||Ar(t)),a=null,n=t;;){if(n.tag===5||n.tag===26){if(a===null){D=a=n;try{if(d=D.stateNode,h)v=d.style,typeof v.setProperty=="function"?v.setProperty("display","none","important"):v.display="none";else{T=D.stateNode;var tt=D.memoizedProps.style,H=tt!=null&&tt.hasOwnProperty("display")?tt.display:null;T.style.display=H==null||typeof H=="boolean"?"":(""+H).trim()}}catch(ct){Xt(D,D.return,ct)}}}else if(n.tag===6){if(a===null){D=n;try{D.stateNode.nodeValue=h?"":D.memoizedProps}catch(ct){Xt(D,D.return,ct)}}}else if(n.tag===18){if(a===null){D=n;try{var Q=D.stateNode;h?qy(Q,!0):qy(D.stateNode,!1)}catch(ct){Xt(D,D.return,ct)}}}else if((n.tag!==22&&n.tag!==23||n.memoizedState===null||n===t)&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break t;for(;n.sibling===null;){if(n.return===null||n.return===t)break t;a===n&&(a=null),n=n.return}a===n&&(a=null),n.sibling.return=n.return,n=n.sibling}l&4&&(l=t.updateQueue,l!==null&&(a=l.retryQueue,a!==null&&(l.retryQueue=null,Pu(t,a))));break;case 19:rn(n,t),sn(t),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,Pu(t,l)));break;case 30:break;case 21:break;default:rn(n,t),sn(t)}}function sn(t){var n=t.flags;if(n&2){try{for(var a,l=t.return;l!==null;){if(Fg(l)){a=l;break}l=l.return}if(a==null)throw Error(s(160));switch(a.tag){case 27:var h=a.stateNode,d=Af(t);Lu(t,d,h);break;case 5:var v=a.stateNode;a.flags&32&&(nn(v,""),a.flags&=-33);var T=Af(t);Lu(t,T,v);break;case 3:case 4:var D=a.stateNode.containerInfo,q=Af(t);Sf(t,q,D);break;default:throw Error(s(161))}}catch(K){Xt(t,t.return,K)}t.flags&=-3}n&4096&&(t.flags&=-4097)}function Wg(t){if(t.subtreeFlags&1024)for(t=t.child;t!==null;){var n=t;Wg(n),n.tag===5&&n.flags&1024&&n.stateNode.reset(),t=t.sibling}}function Fi(t,n){if(n.subtreeFlags&8772)for(n=n.child;n!==null;)Yg(t,n.alternate,n),n=n.sibling}function Ar(t){for(t=t.child;t!==null;){var n=t;switch(n.tag){case 0:case 11:case 14:case 15:Ta(4,n,n.return),Ar(n);break;case 1:_i(n,n.return);var a=n.stateNode;typeof a.componentWillUnmount=="function"&&qg(n,n.return,a),Ar(n);break;case 27:Kl(n.stateNode);case 26:case 5:_i(n,n.return),Ar(n);break;case 22:n.memoizedState===null&&Ar(n);break;case 30:Ar(n);break;default:Ar(n)}t=t.sibling}}function Gi(t,n,a){for(a=a&&(n.subtreeFlags&8772)!==0,n=n.child;n!==null;){var l=n.alternate,h=t,d=n,v=d.flags;switch(d.tag){case 0:case 11:case 15:Gi(h,d,a),Ll(4,d);break;case 1:if(Gi(h,d,a),l=d,h=l.stateNode,typeof h.componentDidMount=="function")try{h.componentDidMount()}catch(q){Xt(l,l.return,q)}if(l=d,h=l.updateQueue,h!==null){var T=l.stateNode;try{var D=h.shared.hiddenCallbacks;if(D!==null)for(h.shared.hiddenCallbacks=null,h=0;h<D.length;h++)Dp(D[h],T)}catch(q){Xt(l,l.return,q)}}a&&v&64&&Bg(d),Pl(d,d.return);break;case 27:Gg(d);case 26:case 5:Gi(h,d,a),a&&l===null&&v&4&&Hg(d),Pl(d,d.return);break;case 12:Gi(h,d,a);break;case 31:Gi(h,d,a),a&&v&4&&$g(h,d);break;case 13:Gi(h,d,a),a&&v&4&&Zg(h,d);break;case 22:d.memoizedState===null&&Gi(h,d,a),Pl(d,d.return);break;case 30:break;default:Gi(h,d,a)}n=n.sibling}}function Rf(t,n){var a=null;t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(a=t.memoizedState.cachePool.pool),t=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(t=n.memoizedState.cachePool.pool),t!==a&&(t!=null&&t.refCount++,a!=null&&Sl(a))}function Cf(t,n){t=null,n.alternate!==null&&(t=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==t&&(n.refCount++,t!=null&&Sl(t))}function Zn(t,n,a,l){if(n.subtreeFlags&10256)for(n=n.child;n!==null;)ty(t,n,a,l),n=n.sibling}function ty(t,n,a,l){var h=n.flags;switch(n.tag){case 0:case 11:case 15:Zn(t,n,a,l),h&2048&&Ll(9,n);break;case 1:Zn(t,n,a,l);break;case 3:Zn(t,n,a,l),h&2048&&(t=null,n.alternate!==null&&(t=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==t&&(n.refCount++,t!=null&&Sl(t)));break;case 12:if(h&2048){Zn(t,n,a,l),t=n.stateNode;try{var d=n.memoizedProps,v=d.id,T=d.onPostCommit;typeof T=="function"&&T(v,n.alternate===null?"mount":"update",t.passiveEffectDuration,-0)}catch(D){Xt(n,n.return,D)}}else Zn(t,n,a,l);break;case 31:Zn(t,n,a,l);break;case 13:Zn(t,n,a,l);break;case 23:break;case 22:d=n.stateNode,v=n.alternate,n.memoizedState!==null?d._visibility&2?Zn(t,n,a,l):kl(t,n):d._visibility&2?Zn(t,n,a,l):(d._visibility|=2,vs(t,n,a,l,(n.subtreeFlags&10256)!==0||!1)),h&2048&&Rf(v,n);break;case 24:Zn(t,n,a,l),h&2048&&Cf(n.alternate,n);break;default:Zn(t,n,a,l)}}function vs(t,n,a,l,h){for(h=h&&((n.subtreeFlags&10256)!==0||!1),n=n.child;n!==null;){var d=t,v=n,T=a,D=l,q=v.flags;switch(v.tag){case 0:case 11:case 15:vs(d,v,T,D,h),Ll(8,v);break;case 23:break;case 22:var K=v.stateNode;v.memoizedState!==null?K._visibility&2?vs(d,v,T,D,h):kl(d,v):(K._visibility|=2,vs(d,v,T,D,h)),h&&q&2048&&Rf(v.alternate,v);break;case 24:vs(d,v,T,D,h),h&&q&2048&&Cf(v.alternate,v);break;default:vs(d,v,T,D,h)}n=n.sibling}}function kl(t,n){if(n.subtreeFlags&10256)for(n=n.child;n!==null;){var a=t,l=n,h=l.flags;switch(l.tag){case 22:kl(a,l),h&2048&&Rf(l.alternate,l);break;case 24:kl(a,l),h&2048&&Cf(l.alternate,l);break;default:kl(a,l)}n=n.sibling}}var Bl=8192;function _s(t,n,a){if(t.subtreeFlags&Bl)for(t=t.child;t!==null;)ey(t,n,a),t=t.sibling}function ey(t,n,a){switch(t.tag){case 26:_s(t,n,a),t.flags&Bl&&t.memoizedState!==null&&bE(a,$n,t.memoizedState,t.memoizedProps);break;case 5:_s(t,n,a);break;case 3:case 4:var l=$n;$n=Wu(t.stateNode.containerInfo),_s(t,n,a),$n=l;break;case 22:t.memoizedState===null&&(l=t.alternate,l!==null&&l.memoizedState!==null?(l=Bl,Bl=16777216,_s(t,n,a),Bl=l):_s(t,n,a));break;default:_s(t,n,a)}}function ny(t){var n=t.alternate;if(n!==null&&(t=n.child,t!==null)){n.child=null;do n=t.sibling,t.sibling=null,t=n;while(t!==null)}}function ql(t){var n=t.deletions;if((t.flags&16)!==0){if(n!==null)for(var a=0;a<n.length;a++){var l=n[a];Ue=l,ay(l,t)}ny(t)}if(t.subtreeFlags&10256)for(t=t.child;t!==null;)iy(t),t=t.sibling}function iy(t){switch(t.tag){case 0:case 11:case 15:ql(t),t.flags&2048&&Ta(9,t,t.return);break;case 3:ql(t);break;case 12:ql(t);break;case 22:var n=t.stateNode;t.memoizedState!==null&&n._visibility&2&&(t.return===null||t.return.tag!==13)?(n._visibility&=-3,ku(t)):ql(t);break;default:ql(t)}}function ku(t){var n=t.deletions;if((t.flags&16)!==0){if(n!==null)for(var a=0;a<n.length;a++){var l=n[a];Ue=l,ay(l,t)}ny(t)}for(t=t.child;t!==null;){switch(n=t,n.tag){case 0:case 11:case 15:Ta(8,n,n.return),ku(n);break;case 22:a=n.stateNode,a._visibility&2&&(a._visibility&=-3,ku(n));break;default:ku(n)}t=t.sibling}}function ay(t,n){for(;Ue!==null;){var a=Ue;switch(a.tag){case 0:case 11:case 15:Ta(8,a,n);break;case 23:case 22:if(a.memoizedState!==null&&a.memoizedState.cachePool!==null){var l=a.memoizedState.cachePool.pool;l!=null&&l.refCount++}break;case 24:Sl(a.memoizedState.cache)}if(l=a.child,l!==null)l.return=a,Ue=l;else t:for(a=t;Ue!==null;){l=Ue;var h=l.sibling,d=l.return;if(Kg(l),l===a){Ue=null;break t}if(h!==null){h.return=d,Ue=h;break t}Ue=d}}}var Ob={getCacheForType:function(t){var n=qe(Ae),a=n.data.get(t);return a===void 0&&(a=t(),n.data.set(t,a)),a},cacheSignal:function(){return qe(Ae).controller.signal}},zb=typeof WeakMap=="function"?WeakMap:Map,Gt=0,ee=null,Dt=null,Vt=0,Kt=0,vn=null,xa=!1,bs=!1,Nf=!1,Qi=0,fe=0,Aa=0,Sr=0,Df=0,_n=0,Es=0,Hl=null,ln=null,If=!1,Bu=0,ry=0,qu=1/0,Hu=null,Sa=null,Me=0,wa=null,Ts=null,Yi=0,Vf=0,Mf=null,sy=null,Fl=0,jf=null;function bn(){return(Gt&2)!==0&&Vt!==0?Vt&-Vt:F.T!==null?kf():Fo()}function ly(){if(_n===0)if((Vt&536870912)===0||Ut){var t=Ja;Ja<<=1,(Ja&3932160)===0&&(Ja=262144),_n=t}else _n=536870912;return t=gn.current,t!==null&&(t.flags|=32),_n}function on(t,n,a){(t===ee&&(Kt===2||Kt===9)||t.cancelPendingCommit!==null)&&(xs(t,0),Ra(t,Vt,_n,!1)),Wa(t,a),((Gt&2)===0||t!==ee)&&(t===ee&&((Gt&2)===0&&(Sr|=a),fe===4&&Ra(t,Vt,_n,!1)),bi(t))}function oy(t,n,a){if((Gt&6)!==0)throw Error(s(327));var l=!a&&(n&127)===0&&(n&t.expiredLanes)===0||Bn(t,n),h=l?Pb(t,n):zf(t,n,!0),d=l;do{if(h===0){bs&&!l&&Ra(t,n,0,!1);break}else{if(a=t.current.alternate,d&&!Ub(a)){h=zf(t,n,!1),d=!1;continue}if(h===2){if(d=n,t.errorRecoveryDisabledLanes&d)var v=0;else v=t.pendingLanes&-536870913,v=v!==0?v:v&536870912?536870912:0;if(v!==0){n=v;t:{var T=t;h=Hl;var D=T.current.memoizedState.isDehydrated;if(D&&(xs(T,v).flags|=256),v=zf(T,v,!1),v!==2){if(Nf&&!D){T.errorRecoveryDisabledLanes|=d,Sr|=d,h=4;break t}d=ln,ln=h,d!==null&&(ln===null?ln=d:ln.push.apply(ln,d))}h=v}if(d=!1,h!==2)continue}}if(h===1){xs(t,0),Ra(t,n,0,!0);break}t:{switch(l=t,d=h,d){case 0:case 1:throw Error(s(345));case 4:if((n&4194048)!==n)break;case 6:Ra(l,n,_n,!xa);break t;case 2:ln=null;break;case 3:case 5:break;default:throw Error(s(329))}if((n&62914560)===n&&(h=Bu+300-Je(),10<h)){if(Ra(l,n,_n,!xa),ni(l,0,!0)!==0)break t;Yi=n,l.timeoutHandle=Py(uy.bind(null,l,a,ln,Hu,If,n,_n,Sr,Es,xa,d,"Throttled",-0,0),h);break t}uy(l,a,ln,Hu,If,n,_n,Sr,Es,xa,d,null,-0,0)}}break}while(!0);bi(t)}function uy(t,n,a,l,h,d,v,T,D,q,K,tt,H,Q){if(t.timeoutHandle=-1,tt=n.subtreeFlags,tt&8192||(tt&16785408)===16785408){tt={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:Fn},ey(n,d,tt);var ct=(d&62914560)===d?Bu-Je():(d&4194048)===d?ry-Je():0;if(ct=EE(tt,ct),ct!==null){Yi=d,t.cancelPendingCommit=ct(yy.bind(null,t,n,d,a,l,h,v,T,D,K,tt,null,H,Q)),Ra(t,d,v,!q);return}}yy(t,n,d,a,l,h,v,T,D)}function Ub(t){for(var n=t;;){var a=n.tag;if((a===0||a===11||a===15)&&n.flags&16384&&(a=n.updateQueue,a!==null&&(a=a.stores,a!==null)))for(var l=0;l<a.length;l++){var h=a[l],d=h.getSnapshot;h=h.value;try{if(!mn(d(),h))return!1}catch{return!1}}if(a=n.child,n.subtreeFlags&16384&&a!==null)a.return=n,n=a;else{if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return!0;n=n.return}n.sibling.return=n.return,n=n.sibling}}return!0}function Ra(t,n,a,l){n&=~Df,n&=~Sr,t.suspendedLanes|=n,t.pingedLanes&=~n,l&&(t.warmLanes|=n),l=t.expirationTimes;for(var h=n;0<h;){var d=31-de(h),v=1<<d;l[d]=-1,h&=~v}a!==0&&tr(t,a,n)}function Fu(){return(Gt&6)===0?(Gl(0),!1):!0}function Of(){if(Dt!==null){if(Kt===0)var t=Dt.return;else t=Dt,zi=gr=null,$h(t),ds=null,Rl=0,t=Dt;for(;t!==null;)kg(t.alternate,t),t=t.return;Dt=null}}function xs(t,n){var a=t.timeoutHandle;a!==-1&&(t.timeoutHandle=-1,iE(a)),a=t.cancelPendingCommit,a!==null&&(t.cancelPendingCommit=null,a()),Yi=0,Of(),ee=t,Dt=a=ji(t.current,null),Vt=n,Kt=0,vn=null,xa=!1,bs=Bn(t,n),Nf=!1,Es=_n=Df=Sr=Aa=fe=0,ln=Hl=null,If=!1,(n&8)!==0&&(n|=n&32);var l=t.entangledLanes;if(l!==0)for(t=t.entanglements,l&=n;0<l;){var h=31-de(l),d=1<<h;n|=t[h],l&=~d}return Qi=n,hu(),a}function cy(t,n){Ct=null,F.H=Ol,n===fs||n===_u?(n=wp(),Kt=3):n===Lh?(n=wp(),Kt=4):Kt=n===df?8:n!==null&&typeof n=="object"&&typeof n.then=="function"?6:1,vn=n,Dt===null&&(fe=1,Mu(t,Nn(n,t.current)))}function hy(){var t=gn.current;return t===null?!0:(Vt&4194048)===Vt?Mn===null:(Vt&62914560)===Vt||(Vt&536870912)!==0?t===Mn:!1}function fy(){var t=F.H;return F.H=Ol,t===null?Ol:t}function dy(){var t=F.A;return F.A=Ob,t}function Gu(){fe=4,xa||(Vt&4194048)!==Vt&&gn.current!==null||(bs=!0),(Aa&134217727)===0&&(Sr&134217727)===0||ee===null||Ra(ee,Vt,_n,!1)}function zf(t,n,a){var l=Gt;Gt|=2;var h=fy(),d=dy();(ee!==t||Vt!==n)&&(Hu=null,xs(t,n)),n=!1;var v=fe;t:do try{if(Kt!==0&&Dt!==null){var T=Dt,D=vn;switch(Kt){case 8:Of(),v=6;break t;case 3:case 2:case 9:case 6:gn.current===null&&(n=!0);var q=Kt;if(Kt=0,vn=null,As(t,T,D,q),a&&bs){v=0;break t}break;default:q=Kt,Kt=0,vn=null,As(t,T,D,q)}}Lb(),v=fe;break}catch(K){cy(t,K)}while(!0);return n&&t.shellSuspendCounter++,zi=gr=null,Gt=l,F.H=h,F.A=d,Dt===null&&(ee=null,Vt=0,hu()),v}function Lb(){for(;Dt!==null;)my(Dt)}function Pb(t,n){var a=Gt;Gt|=2;var l=fy(),h=dy();ee!==t||Vt!==n?(Hu=null,qu=Je()+500,xs(t,n)):bs=Bn(t,n);t:do try{if(Kt!==0&&Dt!==null){n=Dt;var d=vn;e:switch(Kt){case 1:Kt=0,vn=null,As(t,n,d,1);break;case 2:case 9:if(Ap(d)){Kt=0,vn=null,py(n);break}n=function(){Kt!==2&&Kt!==9||ee!==t||(Kt=7),bi(t)},d.then(n,n);break t;case 3:Kt=7;break t;case 4:Kt=5;break t;case 7:Ap(d)?(Kt=0,vn=null,py(n)):(Kt=0,vn=null,As(t,n,d,7));break;case 5:var v=null;switch(Dt.tag){case 26:v=Dt.memoizedState;case 5:case 27:var T=Dt;if(v?t0(v):T.stateNode.complete){Kt=0,vn=null;var D=T.sibling;if(D!==null)Dt=D;else{var q=T.return;q!==null?(Dt=q,Qu(q)):Dt=null}break e}}Kt=0,vn=null,As(t,n,d,5);break;case 6:Kt=0,vn=null,As(t,n,d,6);break;case 8:Of(),fe=6;break t;default:throw Error(s(462))}}kb();break}catch(K){cy(t,K)}while(!0);return zi=gr=null,F.H=l,F.A=h,Gt=a,Dt!==null?0:(ee=null,Vt=0,hu(),fe)}function kb(){for(;Dt!==null&&!hh();)my(Dt)}function my(t){var n=Lg(t.alternate,t,Qi);t.memoizedProps=t.pendingProps,n===null?Qu(t):Dt=n}function py(t){var n=t,a=n.alternate;switch(n.tag){case 15:case 0:n=Vg(a,n,n.pendingProps,n.type,void 0,Vt);break;case 11:n=Vg(a,n,n.pendingProps,n.type.render,n.ref,Vt);break;case 5:$h(n);default:kg(a,n),n=Dt=dp(n,Qi),n=Lg(a,n,Qi)}t.memoizedProps=t.pendingProps,n===null?Qu(t):Dt=n}function As(t,n,a,l){zi=gr=null,$h(n),ds=null,Rl=0;var h=n.return;try{if(Cb(t,h,n,a,Vt)){fe=1,Mu(t,Nn(a,t.current)),Dt=null;return}}catch(d){if(h!==null)throw Dt=h,d;fe=1,Mu(t,Nn(a,t.current)),Dt=null;return}n.flags&32768?(Ut||l===1?t=!0:bs||(Vt&536870912)!==0?t=!1:(xa=t=!0,(l===2||l===9||l===3||l===6)&&(l=gn.current,l!==null&&l.tag===13&&(l.flags|=16384))),gy(n,t)):Qu(n)}function Qu(t){var n=t;do{if((n.flags&32768)!==0){gy(n,xa);return}t=n.return;var a=Ib(n.alternate,n,Qi);if(a!==null){Dt=a;return}if(n=n.sibling,n!==null){Dt=n;return}Dt=n=t}while(n!==null);fe===0&&(fe=5)}function gy(t,n){do{var a=Vb(t.alternate,t);if(a!==null){a.flags&=32767,Dt=a;return}if(a=t.return,a!==null&&(a.flags|=32768,a.subtreeFlags=0,a.deletions=null),!n&&(t=t.sibling,t!==null)){Dt=t;return}Dt=t=a}while(t!==null);fe=6,Dt=null}function yy(t,n,a,l,h,d,v,T,D){t.cancelPendingCommit=null;do Yu();while(Me!==0);if((Gt&6)!==0)throw Error(s(327));if(n!==null){if(n===t.current)throw Error(s(177));if(d=n.lanes|n.childLanes,d|=xh,mh(t,a,d,v,T,D),t===ee&&(Dt=ee=null,Vt=0),Ts=n,wa=t,Yi=a,Vf=d,Mf=h,sy=l,(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?(t.callbackNode=null,t.callbackPriority=0,Fb(ia,function(){return Ty(),null})):(t.callbackNode=null,t.callbackPriority=0),l=(n.flags&13878)!==0,(n.subtreeFlags&13878)!==0||l){l=F.T,F.T=null,h=rt.p,rt.p=2,v=Gt,Gt|=4;try{Mb(t,n,a)}finally{Gt=v,rt.p=h,F.T=l}}Me=1,vy(),_y(),by()}}function vy(){if(Me===1){Me=0;var t=wa,n=Ts,a=(n.flags&13878)!==0;if((n.subtreeFlags&13878)!==0||a){a=F.T,F.T=null;var l=rt.p;rt.p=2;var h=Gt;Gt|=4;try{Jg(n,t);var d=Kf,v=ap(t.containerInfo),T=d.focusedElem,D=d.selectionRange;if(v!==T&&T&&T.ownerDocument&&ip(T.ownerDocument.documentElement,T)){if(D!==null&&vh(T)){var q=D.start,K=D.end;if(K===void 0&&(K=q),"selectionStart"in T)T.selectionStart=q,T.selectionEnd=Math.min(K,T.value.length);else{var tt=T.ownerDocument||document,H=tt&&tt.defaultView||window;if(H.getSelection){var Q=H.getSelection(),ct=T.textContent.length,bt=Math.min(D.start,ct),te=D.end===void 0?bt:Math.min(D.end,ct);!Q.extend&&bt>te&&(v=te,te=bt,bt=v);var z=np(T,bt),V=np(T,te);if(z&&V&&(Q.rangeCount!==1||Q.anchorNode!==z.node||Q.anchorOffset!==z.offset||Q.focusNode!==V.node||Q.focusOffset!==V.offset)){var B=tt.createRange();B.setStart(z.node,z.offset),Q.removeAllRanges(),bt>te?(Q.addRange(B),Q.extend(V.node,V.offset)):(B.setEnd(V.node,V.offset),Q.addRange(B))}}}}for(tt=[],Q=T;Q=Q.parentNode;)Q.nodeType===1&&tt.push({element:Q,left:Q.scrollLeft,top:Q.scrollTop});for(typeof T.focus=="function"&&T.focus(),T=0;T<tt.length;T++){var X=tt[T];X.element.scrollLeft=X.left,X.element.scrollTop=X.top}}rc=!!Yf,Kf=Yf=null}finally{Gt=h,rt.p=l,F.T=a}}t.current=n,Me=2}}function _y(){if(Me===2){Me=0;var t=wa,n=Ts,a=(n.flags&8772)!==0;if((n.subtreeFlags&8772)!==0||a){a=F.T,F.T=null;var l=rt.p;rt.p=2;var h=Gt;Gt|=4;try{Yg(t,n.alternate,n)}finally{Gt=h,rt.p=l,F.T=a}}Me=3}}function by(){if(Me===4||Me===3){Me=0,Uo();var t=wa,n=Ts,a=Yi,l=sy;(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?Me=5:(Me=0,Ts=wa=null,Ey(t,t.pendingLanes));var h=t.pendingLanes;if(h===0&&(Sa=null),Di(a),n=n.stateNode,Pe&&typeof Pe.onCommitFiberRoot=="function")try{Pe.onCommitFiberRoot(kn,n,void 0,(n.current.flags&128)===128)}catch{}if(l!==null){n=F.T,h=rt.p,rt.p=2,F.T=null;try{for(var d=t.onRecoverableError,v=0;v<l.length;v++){var T=l[v];d(T.value,{componentStack:T.stack})}}finally{F.T=n,rt.p=h}}(Yi&3)!==0&&Yu(),bi(t),h=t.pendingLanes,(a&261930)!==0&&(h&42)!==0?t===jf?Fl++:(Fl=0,jf=t):Fl=0,Gl(0)}}function Ey(t,n){(t.pooledCacheLanes&=n)===0&&(n=t.pooledCache,n!=null&&(t.pooledCache=null,Sl(n)))}function Yu(){return vy(),_y(),by(),Ty()}function Ty(){if(Me!==5)return!1;var t=wa,n=Vf;Vf=0;var a=Di(Yi),l=F.T,h=rt.p;try{rt.p=32>a?32:a,F.T=null,a=Mf,Mf=null;var d=wa,v=Yi;if(Me=0,Ts=wa=null,Yi=0,(Gt&6)!==0)throw Error(s(331));var T=Gt;if(Gt|=4,iy(d.current),ty(d,d.current,v,a),Gt=T,Gl(0,!1),Pe&&typeof Pe.onPostCommitFiberRoot=="function")try{Pe.onPostCommitFiberRoot(kn,d)}catch{}return!0}finally{rt.p=h,F.T=l,Ey(t,n)}}function xy(t,n,a){n=Nn(a,n),n=ff(t.stateNode,n,2),t=_a(t,n,2),t!==null&&(Wa(t,2),bi(t))}function Xt(t,n,a){if(t.tag===3)xy(t,t,a);else for(;n!==null;){if(n.tag===3){xy(n,t,a);break}else if(n.tag===1){var l=n.stateNode;if(typeof n.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&(Sa===null||!Sa.has(l))){t=Nn(a,t),a=Ag(2),l=_a(n,a,2),l!==null&&(Sg(a,l,n,t),Wa(l,2),bi(l));break}}n=n.return}}function Uf(t,n,a){var l=t.pingCache;if(l===null){l=t.pingCache=new zb;var h=new Set;l.set(n,h)}else h=l.get(n),h===void 0&&(h=new Set,l.set(n,h));h.has(a)||(Nf=!0,h.add(a),t=Bb.bind(null,t,n,a),n.then(t,t))}function Bb(t,n,a){var l=t.pingCache;l!==null&&l.delete(n),t.pingedLanes|=t.suspendedLanes&a,t.warmLanes&=~a,ee===t&&(Vt&a)===a&&(fe===4||fe===3&&(Vt&62914560)===Vt&&300>Je()-Bu?(Gt&2)===0&&xs(t,0):Df|=a,Es===Vt&&(Es=0)),bi(t)}function Ay(t,n){n===0&&(n=Ho()),t=dr(t,n),t!==null&&(Wa(t,n),bi(t))}function qb(t){var n=t.memoizedState,a=0;n!==null&&(a=n.retryLane),Ay(t,a)}function Hb(t,n){var a=0;switch(t.tag){case 31:case 13:var l=t.stateNode,h=t.memoizedState;h!==null&&(a=h.retryLane);break;case 19:l=t.stateNode;break;case 22:l=t.stateNode._retryCache;break;default:throw Error(s(314))}l!==null&&l.delete(n),Ay(t,a)}function Fb(t,n){return Ve(t,n)}var Ku=null,Ss=null,Lf=!1,Xu=!1,Pf=!1,Ca=0;function bi(t){t!==Ss&&t.next===null&&(Ss===null?Ku=Ss=t:Ss=Ss.next=t),Xu=!0,Lf||(Lf=!0,Qb())}function Gl(t,n){if(!Pf&&Xu){Pf=!0;do for(var a=!1,l=Ku;l!==null;){if(t!==0){var h=l.pendingLanes;if(h===0)var d=0;else{var v=l.suspendedLanes,T=l.pingedLanes;d=(1<<31-de(42|t)+1)-1,d&=h&~(v&~T),d=d&201326741?d&201326741|1:d?d|2:0}d!==0&&(a=!0,Cy(l,d))}else d=Vt,d=ni(l,l===ee?d:0,l.cancelPendingCommit!==null||l.timeoutHandle!==-1),(d&3)===0||Bn(l,d)||(a=!0,Cy(l,d));l=l.next}while(a);Pf=!1}}function Gb(){Sy()}function Sy(){Xu=Lf=!1;var t=0;Ca!==0&&nE()&&(t=Ca);for(var n=Je(),a=null,l=Ku;l!==null;){var h=l.next,d=wy(l,n);d===0?(l.next=null,a===null?Ku=h:a.next=h,h===null&&(Ss=a)):(a=l,(t!==0||(d&3)!==0)&&(Xu=!0)),l=h}Me!==0&&Me!==5||Gl(t),Ca!==0&&(Ca=0)}function wy(t,n){for(var a=t.suspendedLanes,l=t.pingedLanes,h=t.expirationTimes,d=t.pendingLanes&-62914561;0<d;){var v=31-de(d),T=1<<v,D=h[v];D===-1?((T&a)===0||(T&l)!==0)&&(h[v]=dh(T,n)):D<=n&&(t.expiredLanes|=T),d&=~T}if(n=ee,a=Vt,a=ni(t,t===n?a:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),l=t.callbackNode,a===0||t===n&&(Kt===2||Kt===9)||t.cancelPendingCommit!==null)return l!==null&&l!==null&&na(l),t.callbackNode=null,t.callbackPriority=0;if((a&3)===0||Bn(t,a)){if(n=a&-a,n===t.callbackPriority)return n;switch(l!==null&&na(l),Di(a)){case 2:case 8:a=el;break;case 32:a=ia;break;case 268435456:a=Lo;break;default:a=ia}return l=Ry.bind(null,t),a=Ve(a,l),t.callbackPriority=n,t.callbackNode=a,n}return l!==null&&l!==null&&na(l),t.callbackPriority=2,t.callbackNode=null,2}function Ry(t,n){if(Me!==0&&Me!==5)return t.callbackNode=null,t.callbackPriority=0,null;var a=t.callbackNode;if(Yu()&&t.callbackNode!==a)return null;var l=Vt;return l=ni(t,t===ee?l:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),l===0?null:(oy(t,l,n),wy(t,Je()),t.callbackNode!=null&&t.callbackNode===a?Ry.bind(null,t):null)}function Cy(t,n){if(Yu())return null;oy(t,n,!0)}function Qb(){aE(function(){(Gt&6)!==0?Ve(tl,Gb):Sy()})}function kf(){if(Ca===0){var t=cs;t===0&&(t=ti,ti<<=1,(ti&261888)===0&&(ti=256)),Ca=t}return Ca}function Ny(t){return t==null||typeof t=="symbol"||typeof t=="boolean"?null:typeof t=="function"?t:Xr(""+t)}function Dy(t,n){var a=n.ownerDocument.createElement("input");return a.name=n.name,a.value=n.value,t.id&&a.setAttribute("form",t.id),n.parentNode.insertBefore(a,n),t=new FormData(t),a.parentNode.removeChild(a),t}function Yb(t,n,a,l,h){if(n==="submit"&&a&&a.stateNode===h){var d=Ny((h[Oe]||null).action),v=l.submitter;v&&(n=(n=v[Oe]||null)?Ny(n.formAction):v.getAttribute("formAction"),n!==null&&(d=n,v=null));var T=new di("action","action",null,l,h);t.push({event:T,listeners:[{instance:null,listener:function(){if(l.defaultPrevented){if(Ca!==0){var D=v?Dy(h,v):new FormData(h);sf(a,{pending:!0,data:D,method:h.method,action:d},null,D)}}else typeof d=="function"&&(T.preventDefault(),D=v?Dy(h,v):new FormData(h),sf(a,{pending:!0,data:D,method:h.method,action:d},d,D))},currentTarget:h}]})}}for(var Bf=0;Bf<Th.length;Bf++){var qf=Th[Bf],Kb=qf.toLowerCase(),Xb=qf[0].toUpperCase()+qf.slice(1);Xn(Kb,"on"+Xb)}Xn(lp,"onAnimationEnd"),Xn(op,"onAnimationIteration"),Xn(up,"onAnimationStart"),Xn("dblclick","onDoubleClick"),Xn("focusin","onFocus"),Xn("focusout","onBlur"),Xn(hb,"onTransitionRun"),Xn(fb,"onTransitionStart"),Xn(db,"onTransitionCancel"),Xn(cp,"onTransitionEnd"),ui("onMouseEnter",["mouseout","mouseover"]),ui("onMouseLeave",["mouseout","mouseover"]),ui("onPointerEnter",["pointerout","pointerover"]),ui("onPointerLeave",["pointerout","pointerover"]),oi("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),oi("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),oi("onBeforeInput",["compositionend","keypress","textInput","paste"]),oi("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),oi("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),oi("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Ql="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),$b=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Ql));function Iy(t,n){n=(n&4)!==0;for(var a=0;a<t.length;a++){var l=t[a],h=l.event;l=l.listeners;t:{var d=void 0;if(n)for(var v=l.length-1;0<=v;v--){var T=l[v],D=T.instance,q=T.currentTarget;if(T=T.listener,D!==d&&h.isPropagationStopped())break t;d=T,h.currentTarget=q;try{d(h)}catch(K){cu(K)}h.currentTarget=null,d=D}else for(v=0;v<l.length;v++){if(T=l[v],D=T.instance,q=T.currentTarget,T=T.listener,D!==d&&h.isPropagationStopped())break t;d=T,h.currentTarget=q;try{d(h)}catch(K){cu(K)}h.currentTarget=null,d=D}}}}function It(t,n){var a=n[Fr];a===void 0&&(a=n[Fr]=new Set);var l=t+"__bubble";a.has(l)||(Vy(n,t,2,!1),a.add(l))}function Hf(t,n,a){var l=0;n&&(l|=4),Vy(a,t,l,n)}var $u="_reactListening"+Math.random().toString(36).slice(2);function Ff(t){if(!t[$u]){t[$u]=!0,al.forEach(function(a){a!=="selectionchange"&&($b.has(a)||Hf(a,!1,t),Hf(a,!0,t))});var n=t.nodeType===9?t:t.ownerDocument;n===null||n[$u]||(n[$u]=!0,Hf("selectionchange",!1,n))}}function Vy(t,n,a,l){switch(l0(n)){case 2:var h=AE;break;case 8:h=SE;break;default:h=rd}a=h.bind(null,n,a,t),h=void 0,!rr||n!=="touchstart"&&n!=="touchmove"&&n!=="wheel"||(h=!0),l?h!==void 0?t.addEventListener(n,a,{capture:!0,passive:h}):t.addEventListener(n,a,!0):h!==void 0?t.addEventListener(n,a,{passive:h}):t.addEventListener(n,a,!1)}function Gf(t,n,a,l,h){var d=l;if((n&1)===0&&(n&2)===0&&l!==null)t:for(;;){if(l===null)return;var v=l.tag;if(v===3||v===4){var T=l.stateNode.containerInfo;if(T===h)break;if(v===4)for(v=l.return;v!==null;){var D=v.tag;if((D===3||D===4)&&v.stateNode.containerInfo===h)return;v=v.return}for(;T!==null;){if(v=si(T),v===null)return;if(D=v.tag,D===5||D===6||D===26||D===27){l=d=v;continue t}T=T.parentNode}}l=l.return}ua(function(){var q=d,K=Sn(a),tt=[];t:{var H=hp.get(t);if(H!==void 0){var Q=di,ct=t;switch(t){case"keypress":if(lr(a)===0)break t;case"keydown":case"keyup":Q=lu;break;case"focusin":ct="focus",Q=ur;break;case"focusout":ct="blur",Q=ur;break;case"beforeblur":case"afterblur":Q=ur;break;case"click":if(a.button===2)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Q=yl;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Q=Jo;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Q=m;break;case lp:case op:case up:Q=tu;break;case cp:Q=A;break;case"scroll":case"scrollend":Q=gl;break;case"wheel":Q=G;break;case"copy":case"cut":case"paste":Q=eu;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Q=Mi;break;case"toggle":case"beforetoggle":Q=Rt}var bt=(n&4)!==0,te=!bt&&(t==="scroll"||t==="scrollend"),z=bt?H!==null?H+"Capture":null:H;bt=[];for(var V=q,B;V!==null;){var X=V;if(B=X.stateNode,X=X.tag,X!==5&&X!==26&&X!==27||B===null||z===null||(X=Gn(V,z),X!=null&&bt.push(Yl(V,X,B))),te)break;V=V.return}0<bt.length&&(H=new Q(H,ct,null,a,K),tt.push({event:H,listeners:bt}))}}if((n&7)===0){t:{if(H=t==="mouseover"||t==="pointerover",Q=t==="mouseout"||t==="pointerout",H&&a!==dl&&(ct=a.relatedTarget||a.fromElement)&&(si(ct)||ct[ai]))break t;if((Q||H)&&(H=K.window===K?K:(H=K.ownerDocument)?H.defaultView||H.parentWindow:window,Q?(ct=a.relatedTarget||a.toElement,Q=q,ct=ct?si(ct):null,ct!==null&&(te=c(ct),bt=ct.tag,ct!==te||bt!==5&&bt!==27&&bt!==6)&&(ct=null)):(Q=null,ct=q),Q!==ct)){if(bt=yl,X="onMouseLeave",z="onMouseEnter",V="mouse",(t==="pointerout"||t==="pointerover")&&(bt=Mi,X="onPointerLeave",z="onPointerEnter",V="pointer"),te=Q==null?H:fn(Q),B=ct==null?H:fn(ct),H=new bt(X,V+"leave",Q,a,K),H.target=te,H.relatedTarget=B,X=null,si(K)===q&&(bt=new bt(z,V+"enter",ct,a,K),bt.target=B,bt.relatedTarget=te,X=bt),te=X,Q&&ct)e:{for(bt=Zb,z=Q,V=ct,B=0,X=z;X;X=bt(X))B++;X=0;for(var gt=V;gt;gt=bt(gt))X++;for(;0<B-X;)z=bt(z),B--;for(;0<X-B;)V=bt(V),X--;for(;B--;){if(z===V||V!==null&&z===V.alternate){bt=z;break e}z=bt(z),V=bt(V)}bt=null}else bt=null;Q!==null&&My(tt,H,Q,bt,!1),ct!==null&&te!==null&&My(tt,te,ct,bt,!0)}}t:{if(H=q?fn(q):window,Q=H.nodeName&&H.nodeName.toLowerCase(),Q==="select"||Q==="input"&&H.type==="file")var Bt=$m;else if(Km(H))if(Zm)Bt=ob;else{Bt=sb;var mt=rb}else Q=H.nodeName,!Q||Q.toLowerCase()!=="input"||H.type!=="checkbox"&&H.type!=="radio"?q&&Kr(q.elementType)&&(Bt=$m):Bt=lb;if(Bt&&(Bt=Bt(t,q))){Xm(tt,Bt,a,K);break t}mt&&mt(t,H,q),t==="focusout"&&q&&H.type==="number"&&q.memoizedProps.value!=null&&cl(H,"number",H.value)}switch(mt=q?fn(q):window,t){case"focusin":(Km(mt)||mt.contentEditable==="true")&&(ns=mt,_h=q,Tl=null);break;case"focusout":Tl=_h=ns=null;break;case"mousedown":bh=!0;break;case"contextmenu":case"mouseup":case"dragend":bh=!1,rp(tt,a,K);break;case"selectionchange":if(cb)break;case"keydown":case"keyup":rp(tt,a,K)}var Nt;if(Ft)t:{switch(t){case"compositionstart":var Mt="onCompositionStart";break t;case"compositionend":Mt="onCompositionEnd";break t;case"compositionupdate":Mt="onCompositionUpdate";break t}Mt=void 0}else es?cr(t,a)&&(Mt="onCompositionEnd"):t==="keydown"&&a.keyCode===229&&(Mt="onCompositionStart");Mt&&(gi&&a.locale!=="ko"&&(es||Mt!=="onCompositionStart"?Mt==="onCompositionEnd"&&es&&(Nt=pl()):(fi=K,ml="value"in fi?fi.value:fi.textContent,es=!0)),mt=Zu(q,Mt),0<mt.length&&(Mt=new pi(Mt,t,null,a,K),tt.push({event:Mt,listeners:mt}),Nt?Mt.data=Nt:(Nt=ts(a),Nt!==null&&(Mt.data=Nt)))),(Nt=Rn?eb(t,a):nb(t,a))&&(Mt=Zu(q,"onBeforeInput"),0<Mt.length&&(mt=new pi("onBeforeInput","beforeinput",null,a,K),tt.push({event:mt,listeners:Mt}),mt.data=Nt)),Yb(tt,t,q,a,K)}Iy(tt,n)})}function Yl(t,n,a){return{instance:t,listener:n,currentTarget:a}}function Zu(t,n){for(var a=n+"Capture",l=[];t!==null;){var h=t,d=h.stateNode;if(h=h.tag,h!==5&&h!==26&&h!==27||d===null||(h=Gn(t,a),h!=null&&l.unshift(Yl(t,h,d)),h=Gn(t,n),h!=null&&l.push(Yl(t,h,d))),t.tag===3)return l;t=t.return}return[]}function Zb(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5&&t.tag!==27);return t||null}function My(t,n,a,l,h){for(var d=n._reactName,v=[];a!==null&&a!==l;){var T=a,D=T.alternate,q=T.stateNode;if(T=T.tag,D!==null&&D===l)break;T!==5&&T!==26&&T!==27||q===null||(D=q,h?(q=Gn(a,d),q!=null&&v.unshift(Yl(a,q,D))):h||(q=Gn(a,d),q!=null&&v.push(Yl(a,q,D)))),a=a.return}v.length!==0&&t.push({event:n,listeners:v})}var Jb=/\r\n?/g,Wb=/\u0000|\uFFFD/g;function jy(t){return(typeof t=="string"?t:""+t).replace(Jb,`
`).replace(Wb,"")}function Oy(t,n){return n=jy(n),jy(t)===n}function Wt(t,n,a,l,h,d){switch(a){case"children":typeof l=="string"?n==="body"||n==="textarea"&&l===""||nn(t,l):(typeof l=="number"||typeof l=="bigint")&&n!=="body"&&nn(t,""+l);break;case"className":dn(t,"class",l);break;case"tabIndex":dn(t,"tabindex",l);break;case"dir":case"role":case"viewBox":case"width":case"height":dn(t,a,l);break;case"style":fl(t,l,d);break;case"data":if(n!=="object"){dn(t,"data",l);break}case"src":case"href":if(l===""&&(n!=="a"||a!=="href")){t.removeAttribute(a);break}if(l==null||typeof l=="function"||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(a);break}l=Xr(""+l),t.setAttribute(a,l);break;case"action":case"formAction":if(typeof l=="function"){t.setAttribute(a,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof d=="function"&&(a==="formAction"?(n!=="input"&&Wt(t,n,"name",h.name,h,null),Wt(t,n,"formEncType",h.formEncType,h,null),Wt(t,n,"formMethod",h.formMethod,h,null),Wt(t,n,"formTarget",h.formTarget,h,null)):(Wt(t,n,"encType",h.encType,h,null),Wt(t,n,"method",h.method,h,null),Wt(t,n,"target",h.target,h,null)));if(l==null||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(a);break}l=Xr(""+l),t.setAttribute(a,l);break;case"onClick":l!=null&&(t.onclick=Fn);break;case"onScroll":l!=null&&It("scroll",t);break;case"onScrollEnd":l!=null&&It("scrollend",t);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(s(61));if(a=l.__html,a!=null){if(h.children!=null)throw Error(s(60));t.innerHTML=a}}break;case"multiple":t.multiple=l&&typeof l!="function"&&typeof l!="symbol";break;case"muted":t.muted=l&&typeof l!="function"&&typeof l!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(l==null||typeof l=="function"||typeof l=="boolean"||typeof l=="symbol"){t.removeAttribute("xlink:href");break}a=Xr(""+l),t.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(a,""+l):t.removeAttribute(a);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":l&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(a,""):t.removeAttribute(a);break;case"capture":case"download":l===!0?t.setAttribute(a,""):l!==!1&&l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(a,l):t.removeAttribute(a);break;case"cols":case"rows":case"size":case"span":l!=null&&typeof l!="function"&&typeof l!="symbol"&&!isNaN(l)&&1<=l?t.setAttribute(a,l):t.removeAttribute(a);break;case"rowSpan":case"start":l==null||typeof l=="function"||typeof l=="symbol"||isNaN(l)?t.removeAttribute(a):t.setAttribute(a,l);break;case"popover":It("beforetoggle",t),It("toggle",t),Qr(t,"popover",l);break;case"xlinkActuate":xe(t,"http://www.w3.org/1999/xlink","xlink:actuate",l);break;case"xlinkArcrole":xe(t,"http://www.w3.org/1999/xlink","xlink:arcrole",l);break;case"xlinkRole":xe(t,"http://www.w3.org/1999/xlink","xlink:role",l);break;case"xlinkShow":xe(t,"http://www.w3.org/1999/xlink","xlink:show",l);break;case"xlinkTitle":xe(t,"http://www.w3.org/1999/xlink","xlink:title",l);break;case"xlinkType":xe(t,"http://www.w3.org/1999/xlink","xlink:type",l);break;case"xmlBase":xe(t,"http://www.w3.org/XML/1998/namespace","xml:base",l);break;case"xmlLang":xe(t,"http://www.w3.org/XML/1998/namespace","xml:lang",l);break;case"xmlSpace":xe(t,"http://www.w3.org/XML/1998/namespace","xml:space",l);break;case"is":Qr(t,"is",l);break;case"innerText":case"textContent":break;default:(!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(a=Zo.get(a)||a,Qr(t,a,l))}}function Qf(t,n,a,l,h,d){switch(a){case"style":fl(t,l,d);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(s(61));if(a=l.__html,a!=null){if(h.children!=null)throw Error(s(60));t.innerHTML=a}}break;case"children":typeof l=="string"?nn(t,l):(typeof l=="number"||typeof l=="bigint")&&nn(t,""+l);break;case"onScroll":l!=null&&It("scroll",t);break;case"onScrollEnd":l!=null&&It("scrollend",t);break;case"onClick":l!=null&&(t.onclick=Fn);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!rl.hasOwnProperty(a))t:{if(a[0]==="o"&&a[1]==="n"&&(h=a.endsWith("Capture"),n=a.slice(2,h?a.length-7:void 0),d=t[Oe]||null,d=d!=null?d[a]:null,typeof d=="function"&&t.removeEventListener(n,d,h),typeof l=="function")){typeof d!="function"&&d!==null&&(a in t?t[a]=null:t.hasAttribute(a)&&t.removeAttribute(a)),t.addEventListener(n,l,h);break t}a in t?t[a]=l:l===!0?t.setAttribute(a,""):Qr(t,a,l)}}}function Fe(t,n,a){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":It("error",t),It("load",t);var l=!1,h=!1,d;for(d in a)if(a.hasOwnProperty(d)){var v=a[d];if(v!=null)switch(d){case"src":l=!0;break;case"srcSet":h=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(s(137,n));default:Wt(t,n,d,v,a,null)}}h&&Wt(t,n,"srcSet",a.srcSet,a,null),l&&Wt(t,n,"src",a.src,a,null);return;case"input":It("invalid",t);var T=d=v=h=null,D=null,q=null;for(l in a)if(a.hasOwnProperty(l)){var K=a[l];if(K!=null)switch(l){case"name":h=K;break;case"type":v=K;break;case"checked":D=K;break;case"defaultChecked":q=K;break;case"value":d=K;break;case"defaultValue":T=K;break;case"children":case"dangerouslySetInnerHTML":if(K!=null)throw Error(s(137,n));break;default:Wt(t,n,l,K,a,null)}}Ko(t,d,T,D,q,v,h,!1);return;case"select":It("invalid",t),l=v=d=null;for(h in a)if(a.hasOwnProperty(h)&&(T=a[h],T!=null))switch(h){case"value":d=T;break;case"defaultValue":v=T;break;case"multiple":l=T;default:Wt(t,n,h,T,a,null)}n=d,a=v,t.multiple=!!l,n!=null?ra(t,!!l,n,!1):a!=null&&ra(t,!!l,a,!0);return;case"textarea":It("invalid",t),d=h=l=null;for(v in a)if(a.hasOwnProperty(v)&&(T=a[v],T!=null))switch(v){case"value":l=T;break;case"defaultValue":h=T;break;case"children":d=T;break;case"dangerouslySetInnerHTML":if(T!=null)throw Error(s(91));break;default:Wt(t,n,v,T,a,null)}sa(t,l,h,d);return;case"option":for(D in a)if(a.hasOwnProperty(D)&&(l=a[D],l!=null))switch(D){case"selected":t.selected=l&&typeof l!="function"&&typeof l!="symbol";break;default:Wt(t,n,D,l,a,null)}return;case"dialog":It("beforetoggle",t),It("toggle",t),It("cancel",t),It("close",t);break;case"iframe":case"object":It("load",t);break;case"video":case"audio":for(l=0;l<Ql.length;l++)It(Ql[l],t);break;case"image":It("error",t),It("load",t);break;case"details":It("toggle",t);break;case"embed":case"source":case"link":It("error",t),It("load",t);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(q in a)if(a.hasOwnProperty(q)&&(l=a[q],l!=null))switch(q){case"children":case"dangerouslySetInnerHTML":throw Error(s(137,n));default:Wt(t,n,q,l,a,null)}return;default:if(Kr(n)){for(K in a)a.hasOwnProperty(K)&&(l=a[K],l!==void 0&&Qf(t,n,K,l,a,void 0));return}}for(T in a)a.hasOwnProperty(T)&&(l=a[T],l!=null&&Wt(t,n,T,l,a,null))}function tE(t,n,a,l){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var h=null,d=null,v=null,T=null,D=null,q=null,K=null;for(Q in a){var tt=a[Q];if(a.hasOwnProperty(Q)&&tt!=null)switch(Q){case"checked":break;case"value":break;case"defaultValue":D=tt;default:l.hasOwnProperty(Q)||Wt(t,n,Q,null,l,tt)}}for(var H in l){var Q=l[H];if(tt=a[H],l.hasOwnProperty(H)&&(Q!=null||tt!=null))switch(H){case"type":d=Q;break;case"name":h=Q;break;case"checked":q=Q;break;case"defaultChecked":K=Q;break;case"value":v=Q;break;case"defaultValue":T=Q;break;case"children":case"dangerouslySetInnerHTML":if(Q!=null)throw Error(s(137,n));break;default:Q!==tt&&Wt(t,n,H,Q,l,tt)}}Yr(t,v,T,D,q,K,d,h);return;case"select":Q=v=T=H=null;for(d in a)if(D=a[d],a.hasOwnProperty(d)&&D!=null)switch(d){case"value":break;case"multiple":Q=D;default:l.hasOwnProperty(d)||Wt(t,n,d,null,l,D)}for(h in l)if(d=l[h],D=a[h],l.hasOwnProperty(h)&&(d!=null||D!=null))switch(h){case"value":H=d;break;case"defaultValue":T=d;break;case"multiple":v=d;default:d!==D&&Wt(t,n,h,d,l,D)}n=T,a=v,l=Q,H!=null?ra(t,!!a,H,!1):!!l!=!!a&&(n!=null?ra(t,!!a,n,!0):ra(t,!!a,a?[]:"",!1));return;case"textarea":Q=H=null;for(T in a)if(h=a[T],a.hasOwnProperty(T)&&h!=null&&!l.hasOwnProperty(T))switch(T){case"value":break;case"children":break;default:Wt(t,n,T,null,l,h)}for(v in l)if(h=l[v],d=a[v],l.hasOwnProperty(v)&&(h!=null||d!=null))switch(v){case"value":H=h;break;case"defaultValue":Q=h;break;case"children":break;case"dangerouslySetInnerHTML":if(h!=null)throw Error(s(91));break;default:h!==d&&Wt(t,n,v,h,l,d)}Xo(t,H,Q);return;case"option":for(var ct in a)if(H=a[ct],a.hasOwnProperty(ct)&&H!=null&&!l.hasOwnProperty(ct))switch(ct){case"selected":t.selected=!1;break;default:Wt(t,n,ct,null,l,H)}for(D in l)if(H=l[D],Q=a[D],l.hasOwnProperty(D)&&H!==Q&&(H!=null||Q!=null))switch(D){case"selected":t.selected=H&&typeof H!="function"&&typeof H!="symbol";break;default:Wt(t,n,D,H,l,Q)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var bt in a)H=a[bt],a.hasOwnProperty(bt)&&H!=null&&!l.hasOwnProperty(bt)&&Wt(t,n,bt,null,l,H);for(q in l)if(H=l[q],Q=a[q],l.hasOwnProperty(q)&&H!==Q&&(H!=null||Q!=null))switch(q){case"children":case"dangerouslySetInnerHTML":if(H!=null)throw Error(s(137,n));break;default:Wt(t,n,q,H,l,Q)}return;default:if(Kr(n)){for(var te in a)H=a[te],a.hasOwnProperty(te)&&H!==void 0&&!l.hasOwnProperty(te)&&Qf(t,n,te,void 0,l,H);for(K in l)H=l[K],Q=a[K],!l.hasOwnProperty(K)||H===Q||H===void 0&&Q===void 0||Qf(t,n,K,H,l,Q);return}}for(var z in a)H=a[z],a.hasOwnProperty(z)&&H!=null&&!l.hasOwnProperty(z)&&Wt(t,n,z,null,l,H);for(tt in l)H=l[tt],Q=a[tt],!l.hasOwnProperty(tt)||H===Q||H==null&&Q==null||Wt(t,n,tt,H,l,Q)}function zy(t){switch(t){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function eE(){if(typeof performance.getEntriesByType=="function"){for(var t=0,n=0,a=performance.getEntriesByType("resource"),l=0;l<a.length;l++){var h=a[l],d=h.transferSize,v=h.initiatorType,T=h.duration;if(d&&T&&zy(v)){for(v=0,T=h.responseEnd,l+=1;l<a.length;l++){var D=a[l],q=D.startTime;if(q>T)break;var K=D.transferSize,tt=D.initiatorType;K&&zy(tt)&&(D=D.responseEnd,v+=K*(D<T?1:(T-q)/(D-q)))}if(--l,n+=8*(d+v)/(h.duration/1e3),t++,10<t)break}}if(0<t)return n/t/1e6}return navigator.connection&&(t=navigator.connection.downlink,typeof t=="number")?t:5}var Yf=null,Kf=null;function Ju(t){return t.nodeType===9?t:t.ownerDocument}function Uy(t){switch(t){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Ly(t,n){if(t===0)switch(n){case"svg":return 1;case"math":return 2;default:return 0}return t===1&&n==="foreignObject"?0:t}function Xf(t,n){return t==="textarea"||t==="noscript"||typeof n.children=="string"||typeof n.children=="number"||typeof n.children=="bigint"||typeof n.dangerouslySetInnerHTML=="object"&&n.dangerouslySetInnerHTML!==null&&n.dangerouslySetInnerHTML.__html!=null}var $f=null;function nE(){var t=window.event;return t&&t.type==="popstate"?t===$f?!1:($f=t,!0):($f=null,!1)}var Py=typeof setTimeout=="function"?setTimeout:void 0,iE=typeof clearTimeout=="function"?clearTimeout:void 0,ky=typeof Promise=="function"?Promise:void 0,aE=typeof queueMicrotask=="function"?queueMicrotask:typeof ky<"u"?function(t){return ky.resolve(null).then(t).catch(rE)}:Py;function rE(t){setTimeout(function(){throw t})}function Na(t){return t==="head"}function By(t,n){var a=n,l=0;do{var h=a.nextSibling;if(t.removeChild(a),h&&h.nodeType===8)if(a=h.data,a==="/$"||a==="/&"){if(l===0){t.removeChild(h),Ns(n);return}l--}else if(a==="$"||a==="$?"||a==="$~"||a==="$!"||a==="&")l++;else if(a==="html")Kl(t.ownerDocument.documentElement);else if(a==="head"){a=t.ownerDocument.head,Kl(a);for(var d=a.firstChild;d;){var v=d.nextSibling,T=d.nodeName;d[ri]||T==="SCRIPT"||T==="STYLE"||T==="LINK"&&d.rel.toLowerCase()==="stylesheet"||a.removeChild(d),d=v}}else a==="body"&&Kl(t.ownerDocument.body);a=h}while(a);Ns(n)}function qy(t,n){var a=t;t=0;do{var l=a.nextSibling;if(a.nodeType===1?n?(a._stashedDisplay=a.style.display,a.style.display="none"):(a.style.display=a._stashedDisplay||"",a.getAttribute("style")===""&&a.removeAttribute("style")):a.nodeType===3&&(n?(a._stashedText=a.nodeValue,a.nodeValue=""):a.nodeValue=a._stashedText||""),l&&l.nodeType===8)if(a=l.data,a==="/$"){if(t===0)break;t--}else a!=="$"&&a!=="$?"&&a!=="$~"&&a!=="$!"||t++;a=l}while(a)}function Zf(t){var n=t.firstChild;for(n&&n.nodeType===10&&(n=n.nextSibling);n;){var a=n;switch(n=n.nextSibling,a.nodeName){case"HTML":case"HEAD":case"BODY":Zf(a),Gr(a);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(a.rel.toLowerCase()==="stylesheet")continue}t.removeChild(a)}}function sE(t,n,a,l){for(;t.nodeType===1;){var h=a;if(t.nodeName.toLowerCase()!==n.toLowerCase()){if(!l&&(t.nodeName!=="INPUT"||t.type!=="hidden"))break}else if(l){if(!t[ri])switch(n){case"meta":if(!t.hasAttribute("itemprop"))break;return t;case"link":if(d=t.getAttribute("rel"),d==="stylesheet"&&t.hasAttribute("data-precedence"))break;if(d!==h.rel||t.getAttribute("href")!==(h.href==null||h.href===""?null:h.href)||t.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin)||t.getAttribute("title")!==(h.title==null?null:h.title))break;return t;case"style":if(t.hasAttribute("data-precedence"))break;return t;case"script":if(d=t.getAttribute("src"),(d!==(h.src==null?null:h.src)||t.getAttribute("type")!==(h.type==null?null:h.type)||t.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin))&&d&&t.hasAttribute("async")&&!t.hasAttribute("itemprop"))break;return t;default:return t}}else if(n==="input"&&t.type==="hidden"){var d=h.name==null?null:""+h.name;if(h.type==="hidden"&&t.getAttribute("name")===d)return t}else return t;if(t=jn(t.nextSibling),t===null)break}return null}function lE(t,n,a){if(n==="")return null;for(;t.nodeType!==3;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!a||(t=jn(t.nextSibling),t===null))return null;return t}function Hy(t,n){for(;t.nodeType!==8;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!n||(t=jn(t.nextSibling),t===null))return null;return t}function Jf(t){return t.data==="$?"||t.data==="$~"}function Wf(t){return t.data==="$!"||t.data==="$?"&&t.ownerDocument.readyState!=="loading"}function oE(t,n){var a=t.ownerDocument;if(t.data==="$~")t._reactRetry=n;else if(t.data!=="$?"||a.readyState!=="loading")n();else{var l=function(){n(),a.removeEventListener("DOMContentLoaded",l)};a.addEventListener("DOMContentLoaded",l),t._reactRetry=l}}function jn(t){for(;t!=null;t=t.nextSibling){var n=t.nodeType;if(n===1||n===3)break;if(n===8){if(n=t.data,n==="$"||n==="$!"||n==="$?"||n==="$~"||n==="&"||n==="F!"||n==="F")break;if(n==="/$"||n==="/&")return null}}return t}var td=null;function Fy(t){t=t.nextSibling;for(var n=0;t;){if(t.nodeType===8){var a=t.data;if(a==="/$"||a==="/&"){if(n===0)return jn(t.nextSibling);n--}else a!=="$"&&a!=="$!"&&a!=="$?"&&a!=="$~"&&a!=="&"||n++}t=t.nextSibling}return null}function Gy(t){t=t.previousSibling;for(var n=0;t;){if(t.nodeType===8){var a=t.data;if(a==="$"||a==="$!"||a==="$?"||a==="$~"||a==="&"){if(n===0)return t;n--}else a!=="/$"&&a!=="/&"||n++}t=t.previousSibling}return null}function Qy(t,n,a){switch(n=Ju(a),t){case"html":if(t=n.documentElement,!t)throw Error(s(452));return t;case"head":if(t=n.head,!t)throw Error(s(453));return t;case"body":if(t=n.body,!t)throw Error(s(454));return t;default:throw Error(s(451))}}function Kl(t){for(var n=t.attributes;n.length;)t.removeAttributeNode(n[0]);Gr(t)}var On=new Map,Yy=new Set;function Wu(t){return typeof t.getRootNode=="function"?t.getRootNode():t.nodeType===9?t:t.ownerDocument}var Ki=rt.d;rt.d={f:uE,r:cE,D:hE,C:fE,L:dE,m:mE,X:gE,S:pE,M:yE};function uE(){var t=Ki.f(),n=Fu();return t||n}function cE(t){var n=An(t);n!==null&&n.tag===5&&n.type==="form"?cg(n):Ki.r(t)}var ws=typeof document>"u"?null:document;function Ky(t,n,a){var l=ws;if(l&&typeof n=="string"&&n){var h=en(n);h='link[rel="'+t+'"][href="'+h+'"]',typeof a=="string"&&(h+='[crossorigin="'+a+'"]'),Yy.has(h)||(Yy.add(h),t={rel:t,crossOrigin:a,href:n},l.querySelector(h)===null&&(n=l.createElement("link"),Fe(n,"link",t),Te(n),l.head.appendChild(n)))}}function hE(t){Ki.D(t),Ky("dns-prefetch",t,null)}function fE(t,n){Ki.C(t,n),Ky("preconnect",t,n)}function dE(t,n,a){Ki.L(t,n,a);var l=ws;if(l&&t&&n){var h='link[rel="preload"][as="'+en(n)+'"]';n==="image"&&a&&a.imageSrcSet?(h+='[imagesrcset="'+en(a.imageSrcSet)+'"]',typeof a.imageSizes=="string"&&(h+='[imagesizes="'+en(a.imageSizes)+'"]')):h+='[href="'+en(t)+'"]';var d=h;switch(n){case"style":d=Rs(t);break;case"script":d=Cs(t)}On.has(d)||(t=x({rel:"preload",href:n==="image"&&a&&a.imageSrcSet?void 0:t,as:n},a),On.set(d,t),l.querySelector(h)!==null||n==="style"&&l.querySelector(Xl(d))||n==="script"&&l.querySelector($l(d))||(n=l.createElement("link"),Fe(n,"link",t),Te(n),l.head.appendChild(n)))}}function mE(t,n){Ki.m(t,n);var a=ws;if(a&&t){var l=n&&typeof n.as=="string"?n.as:"script",h='link[rel="modulepreload"][as="'+en(l)+'"][href="'+en(t)+'"]',d=h;switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":d=Cs(t)}if(!On.has(d)&&(t=x({rel:"modulepreload",href:t},n),On.set(d,t),a.querySelector(h)===null)){switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(a.querySelector($l(d)))return}l=a.createElement("link"),Fe(l,"link",t),Te(l),a.head.appendChild(l)}}}function pE(t,n,a){Ki.S(t,n,a);var l=ws;if(l&&t){var h=li(l).hoistableStyles,d=Rs(t);n=n||"default";var v=h.get(d);if(!v){var T={loading:0,preload:null};if(v=l.querySelector(Xl(d)))T.loading=5;else{t=x({rel:"stylesheet",href:t,"data-precedence":n},a),(a=On.get(d))&&ed(t,a);var D=v=l.createElement("link");Te(D),Fe(D,"link",t),D._p=new Promise(function(q,K){D.onload=q,D.onerror=K}),D.addEventListener("load",function(){T.loading|=1}),D.addEventListener("error",function(){T.loading|=2}),T.loading|=4,tc(v,n,l)}v={type:"stylesheet",instance:v,count:1,state:T},h.set(d,v)}}}function gE(t,n){Ki.X(t,n);var a=ws;if(a&&t){var l=li(a).hoistableScripts,h=Cs(t),d=l.get(h);d||(d=a.querySelector($l(h)),d||(t=x({src:t,async:!0},n),(n=On.get(h))&&nd(t,n),d=a.createElement("script"),Te(d),Fe(d,"link",t),a.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},l.set(h,d))}}function yE(t,n){Ki.M(t,n);var a=ws;if(a&&t){var l=li(a).hoistableScripts,h=Cs(t),d=l.get(h);d||(d=a.querySelector($l(h)),d||(t=x({src:t,async:!0,type:"module"},n),(n=On.get(h))&&nd(t,n),d=a.createElement("script"),Te(d),Fe(d,"link",t),a.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},l.set(h,d))}}function Xy(t,n,a,l){var h=(h=Tt.current)?Wu(h):null;if(!h)throw Error(s(446));switch(t){case"meta":case"title":return null;case"style":return typeof a.precedence=="string"&&typeof a.href=="string"?(n=Rs(a.href),a=li(h).hoistableStyles,l=a.get(n),l||(l={type:"style",instance:null,count:0,state:null},a.set(n,l)),l):{type:"void",instance:null,count:0,state:null};case"link":if(a.rel==="stylesheet"&&typeof a.href=="string"&&typeof a.precedence=="string"){t=Rs(a.href);var d=li(h).hoistableStyles,v=d.get(t);if(v||(h=h.ownerDocument||h,v={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},d.set(t,v),(d=h.querySelector(Xl(t)))&&!d._p&&(v.instance=d,v.state.loading=5),On.has(t)||(a={rel:"preload",as:"style",href:a.href,crossOrigin:a.crossOrigin,integrity:a.integrity,media:a.media,hrefLang:a.hrefLang,referrerPolicy:a.referrerPolicy},On.set(t,a),d||vE(h,t,a,v.state))),n&&l===null)throw Error(s(528,""));return v}if(n&&l!==null)throw Error(s(529,""));return null;case"script":return n=a.async,a=a.src,typeof a=="string"&&n&&typeof n!="function"&&typeof n!="symbol"?(n=Cs(a),a=li(h).hoistableScripts,l=a.get(n),l||(l={type:"script",instance:null,count:0,state:null},a.set(n,l)),l):{type:"void",instance:null,count:0,state:null};default:throw Error(s(444,t))}}function Rs(t){return'href="'+en(t)+'"'}function Xl(t){return'link[rel="stylesheet"]['+t+"]"}function $y(t){return x({},t,{"data-precedence":t.precedence,precedence:null})}function vE(t,n,a,l){t.querySelector('link[rel="preload"][as="style"]['+n+"]")?l.loading=1:(n=t.createElement("link"),l.preload=n,n.addEventListener("load",function(){return l.loading|=1}),n.addEventListener("error",function(){return l.loading|=2}),Fe(n,"link",a),Te(n),t.head.appendChild(n))}function Cs(t){return'[src="'+en(t)+'"]'}function $l(t){return"script[async]"+t}function Zy(t,n,a){if(n.count++,n.instance===null)switch(n.type){case"style":var l=t.querySelector('style[data-href~="'+en(a.href)+'"]');if(l)return n.instance=l,Te(l),l;var h=x({},a,{"data-href":a.href,"data-precedence":a.precedence,href:null,precedence:null});return l=(t.ownerDocument||t).createElement("style"),Te(l),Fe(l,"style",h),tc(l,a.precedence,t),n.instance=l;case"stylesheet":h=Rs(a.href);var d=t.querySelector(Xl(h));if(d)return n.state.loading|=4,n.instance=d,Te(d),d;l=$y(a),(h=On.get(h))&&ed(l,h),d=(t.ownerDocument||t).createElement("link"),Te(d);var v=d;return v._p=new Promise(function(T,D){v.onload=T,v.onerror=D}),Fe(d,"link",l),n.state.loading|=4,tc(d,a.precedence,t),n.instance=d;case"script":return d=Cs(a.src),(h=t.querySelector($l(d)))?(n.instance=h,Te(h),h):(l=a,(h=On.get(d))&&(l=x({},a),nd(l,h)),t=t.ownerDocument||t,h=t.createElement("script"),Te(h),Fe(h,"link",l),t.head.appendChild(h),n.instance=h);case"void":return null;default:throw Error(s(443,n.type))}else n.type==="stylesheet"&&(n.state.loading&4)===0&&(l=n.instance,n.state.loading|=4,tc(l,a.precedence,t));return n.instance}function tc(t,n,a){for(var l=a.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),h=l.length?l[l.length-1]:null,d=h,v=0;v<l.length;v++){var T=l[v];if(T.dataset.precedence===n)d=T;else if(d!==h)break}d?d.parentNode.insertBefore(t,d.nextSibling):(n=a.nodeType===9?a.head:a,n.insertBefore(t,n.firstChild))}function ed(t,n){t.crossOrigin==null&&(t.crossOrigin=n.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=n.referrerPolicy),t.title==null&&(t.title=n.title)}function nd(t,n){t.crossOrigin==null&&(t.crossOrigin=n.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=n.referrerPolicy),t.integrity==null&&(t.integrity=n.integrity)}var ec=null;function Jy(t,n,a){if(ec===null){var l=new Map,h=ec=new Map;h.set(a,l)}else h=ec,l=h.get(a),l||(l=new Map,h.set(a,l));if(l.has(t))return l;for(l.set(t,null),a=a.getElementsByTagName(t),h=0;h<a.length;h++){var d=a[h];if(!(d[ri]||d[Ee]||t==="link"&&d.getAttribute("rel")==="stylesheet")&&d.namespaceURI!=="http://www.w3.org/2000/svg"){var v=d.getAttribute(n)||"";v=t+v;var T=l.get(v);T?T.push(d):l.set(v,[d])}}return l}function Wy(t,n,a){t=t.ownerDocument||t,t.head.insertBefore(a,n==="title"?t.querySelector("head > title"):null)}function _E(t,n,a){if(a===1||n.itemProp!=null)return!1;switch(t){case"meta":case"title":return!0;case"style":if(typeof n.precedence!="string"||typeof n.href!="string"||n.href==="")break;return!0;case"link":if(typeof n.rel!="string"||typeof n.href!="string"||n.href===""||n.onLoad||n.onError)break;switch(n.rel){case"stylesheet":return t=n.disabled,typeof n.precedence=="string"&&t==null;default:return!0}case"script":if(n.async&&typeof n.async!="function"&&typeof n.async!="symbol"&&!n.onLoad&&!n.onError&&n.src&&typeof n.src=="string")return!0}return!1}function t0(t){return!(t.type==="stylesheet"&&(t.state.loading&3)===0)}function bE(t,n,a,l){if(a.type==="stylesheet"&&(typeof l.media!="string"||matchMedia(l.media).matches!==!1)&&(a.state.loading&4)===0){if(a.instance===null){var h=Rs(l.href),d=n.querySelector(Xl(h));if(d){n=d._p,n!==null&&typeof n=="object"&&typeof n.then=="function"&&(t.count++,t=nc.bind(t),n.then(t,t)),a.state.loading|=4,a.instance=d,Te(d);return}d=n.ownerDocument||n,l=$y(l),(h=On.get(h))&&ed(l,h),d=d.createElement("link"),Te(d);var v=d;v._p=new Promise(function(T,D){v.onload=T,v.onerror=D}),Fe(d,"link",l),a.instance=d}t.stylesheets===null&&(t.stylesheets=new Map),t.stylesheets.set(a,n),(n=a.state.preload)&&(a.state.loading&3)===0&&(t.count++,a=nc.bind(t),n.addEventListener("load",a),n.addEventListener("error",a))}}var id=0;function EE(t,n){return t.stylesheets&&t.count===0&&ac(t,t.stylesheets),0<t.count||0<t.imgCount?function(a){var l=setTimeout(function(){if(t.stylesheets&&ac(t,t.stylesheets),t.unsuspend){var d=t.unsuspend;t.unsuspend=null,d()}},6e4+n);0<t.imgBytes&&id===0&&(id=62500*eE());var h=setTimeout(function(){if(t.waitingForImages=!1,t.count===0&&(t.stylesheets&&ac(t,t.stylesheets),t.unsuspend)){var d=t.unsuspend;t.unsuspend=null,d()}},(t.imgBytes>id?50:800)+n);return t.unsuspend=a,function(){t.unsuspend=null,clearTimeout(l),clearTimeout(h)}}:null}function nc(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)ac(this,this.stylesheets);else if(this.unsuspend){var t=this.unsuspend;this.unsuspend=null,t()}}}var ic=null;function ac(t,n){t.stylesheets=null,t.unsuspend!==null&&(t.count++,ic=new Map,n.forEach(TE,t),ic=null,nc.call(t))}function TE(t,n){if(!(n.state.loading&4)){var a=ic.get(t);if(a)var l=a.get(null);else{a=new Map,ic.set(t,a);for(var h=t.querySelectorAll("link[data-precedence],style[data-precedence]"),d=0;d<h.length;d++){var v=h[d];(v.nodeName==="LINK"||v.getAttribute("media")!=="not all")&&(a.set(v.dataset.precedence,v),l=v)}l&&a.set(null,l)}h=n.instance,v=h.getAttribute("data-precedence"),d=a.get(v)||l,d===l&&a.set(null,h),a.set(v,h),this.count++,l=nc.bind(this),h.addEventListener("load",l),h.addEventListener("error",l),d?d.parentNode.insertBefore(h,d.nextSibling):(t=t.nodeType===9?t.head:t,t.insertBefore(h,t.firstChild)),n.state.loading|=4}}var Zl={$$typeof:Z,Provider:null,Consumer:null,_currentValue:ft,_currentValue2:ft,_threadCount:0};function xE(t,n,a,l,h,d,v,T,D){this.tag=1,this.containerInfo=t,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=ii(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=ii(0),this.hiddenUpdates=ii(null),this.identifierPrefix=l,this.onUncaughtError=h,this.onCaughtError=d,this.onRecoverableError=v,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=D,this.incompleteTransitions=new Map}function e0(t,n,a,l,h,d,v,T,D,q,K,tt){return t=new xE(t,n,a,v,D,q,K,tt,T),n=1,d===!0&&(n|=24),d=pn(3,null,null,n),t.current=d,d.stateNode=t,n=Oh(),n.refCount++,t.pooledCache=n,n.refCount++,d.memoizedState={element:l,isDehydrated:a,cache:n},Ph(d),t}function n0(t){return t?(t=rs,t):rs}function i0(t,n,a,l,h,d){h=n0(h),l.context===null?l.context=h:l.pendingContext=h,l=va(n),l.payload={element:a},d=d===void 0?null:d,d!==null&&(l.callback=d),a=_a(t,l,n),a!==null&&(on(a,t,n),Nl(a,t,n))}function a0(t,n){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var a=t.retryLane;t.retryLane=a!==0&&a<n?a:n}}function ad(t,n){a0(t,n),(t=t.alternate)&&a0(t,n)}function r0(t){if(t.tag===13||t.tag===31){var n=dr(t,67108864);n!==null&&on(n,t,67108864),ad(t,67108864)}}function s0(t){if(t.tag===13||t.tag===31){var n=bn();n=er(n);var a=dr(t,n);a!==null&&on(a,t,n),ad(t,n)}}var rc=!0;function AE(t,n,a,l){var h=F.T;F.T=null;var d=rt.p;try{rt.p=2,rd(t,n,a,l)}finally{rt.p=d,F.T=h}}function SE(t,n,a,l){var h=F.T;F.T=null;var d=rt.p;try{rt.p=8,rd(t,n,a,l)}finally{rt.p=d,F.T=h}}function rd(t,n,a,l){if(rc){var h=sd(l);if(h===null)Gf(t,n,l,sc,a),o0(t,l);else if(RE(h,t,n,a,l))l.stopPropagation();else if(o0(t,l),n&4&&-1<wE.indexOf(t)){for(;h!==null;){var d=An(h);if(d!==null)switch(d.tag){case 3:if(d=d.stateNode,d.current.memoizedState.isDehydrated){var v=ei(d.pendingLanes);if(v!==0){var T=d;for(T.pendingLanes|=2,T.entangledLanes|=2;v;){var D=1<<31-de(v);T.entanglements[1]|=D,v&=~D}bi(d),(Gt&6)===0&&(qu=Je()+500,Gl(0))}}break;case 31:case 13:T=dr(d,2),T!==null&&on(T,d,2),Fu(),ad(d,2)}if(d=sd(l),d===null&&Gf(t,n,l,sc,a),d===h)break;h=d}h!==null&&l.stopPropagation()}else Gf(t,n,l,null,a)}}function sd(t){return t=Sn(t),ld(t)}var sc=null;function ld(t){if(sc=null,t=si(t),t!==null){var n=c(t);if(n===null)t=null;else{var a=n.tag;if(a===13){if(t=f(n),t!==null)return t;t=null}else if(a===31){if(t=p(n),t!==null)return t;t=null}else if(a===3){if(n.stateNode.current.memoizedState.isDehydrated)return n.tag===3?n.stateNode.containerInfo:null;t=null}else n!==t&&(t=null)}}return sc=t,null}function l0(t){switch(t){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Za()){case tl:return 2;case el:return 8;case ia:case fh:return 32;case Lo:return 268435456;default:return 32}default:return 32}}var od=!1,Da=null,Ia=null,Va=null,Jl=new Map,Wl=new Map,Ma=[],wE="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function o0(t,n){switch(t){case"focusin":case"focusout":Da=null;break;case"dragenter":case"dragleave":Ia=null;break;case"mouseover":case"mouseout":Va=null;break;case"pointerover":case"pointerout":Jl.delete(n.pointerId);break;case"gotpointercapture":case"lostpointercapture":Wl.delete(n.pointerId)}}function to(t,n,a,l,h,d){return t===null||t.nativeEvent!==d?(t={blockedOn:n,domEventName:a,eventSystemFlags:l,nativeEvent:d,targetContainers:[h]},n!==null&&(n=An(n),n!==null&&r0(n)),t):(t.eventSystemFlags|=l,n=t.targetContainers,h!==null&&n.indexOf(h)===-1&&n.push(h),t)}function RE(t,n,a,l,h){switch(n){case"focusin":return Da=to(Da,t,n,a,l,h),!0;case"dragenter":return Ia=to(Ia,t,n,a,l,h),!0;case"mouseover":return Va=to(Va,t,n,a,l,h),!0;case"pointerover":var d=h.pointerId;return Jl.set(d,to(Jl.get(d)||null,t,n,a,l,h)),!0;case"gotpointercapture":return d=h.pointerId,Wl.set(d,to(Wl.get(d)||null,t,n,a,l,h)),!0}return!1}function u0(t){var n=si(t.target);if(n!==null){var a=c(n);if(a!==null){if(n=a.tag,n===13){if(n=f(a),n!==null){t.blockedOn=n,qn(t.priority,function(){s0(a)});return}}else if(n===31){if(n=p(a),n!==null){t.blockedOn=n,qn(t.priority,function(){s0(a)});return}}else if(n===3&&a.stateNode.current.memoizedState.isDehydrated){t.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}t.blockedOn=null}function lc(t){if(t.blockedOn!==null)return!1;for(var n=t.targetContainers;0<n.length;){var a=sd(t.nativeEvent);if(a===null){a=t.nativeEvent;var l=new a.constructor(a.type,a);dl=l,a.target.dispatchEvent(l),dl=null}else return n=An(a),n!==null&&r0(n),t.blockedOn=a,!1;n.shift()}return!0}function c0(t,n,a){lc(t)&&a.delete(n)}function CE(){od=!1,Da!==null&&lc(Da)&&(Da=null),Ia!==null&&lc(Ia)&&(Ia=null),Va!==null&&lc(Va)&&(Va=null),Jl.forEach(c0),Wl.forEach(c0)}function oc(t,n){t.blockedOn===n&&(t.blockedOn=null,od||(od=!0,r.unstable_scheduleCallback(r.unstable_NormalPriority,CE)))}var uc=null;function h0(t){uc!==t&&(uc=t,r.unstable_scheduleCallback(r.unstable_NormalPriority,function(){uc===t&&(uc=null);for(var n=0;n<t.length;n+=3){var a=t[n],l=t[n+1],h=t[n+2];if(typeof l!="function"){if(ld(l||a)===null)continue;break}var d=An(a);d!==null&&(t.splice(n,3),n-=3,sf(d,{pending:!0,data:h,method:a.method,action:l},l,h))}}))}function Ns(t){function n(D){return oc(D,t)}Da!==null&&oc(Da,t),Ia!==null&&oc(Ia,t),Va!==null&&oc(Va,t),Jl.forEach(n),Wl.forEach(n);for(var a=0;a<Ma.length;a++){var l=Ma[a];l.blockedOn===t&&(l.blockedOn=null)}for(;0<Ma.length&&(a=Ma[0],a.blockedOn===null);)u0(a),a.blockedOn===null&&Ma.shift();if(a=(t.ownerDocument||t).$$reactFormReplay,a!=null)for(l=0;l<a.length;l+=3){var h=a[l],d=a[l+1],v=h[Oe]||null;if(typeof d=="function")v||h0(a);else if(v){var T=null;if(d&&d.hasAttribute("formAction")){if(h=d,v=d[Oe]||null)T=v.formAction;else if(ld(h)!==null)continue}else T=v.action;typeof T=="function"?a[l+1]=T:(a.splice(l,3),l-=3),h0(a)}}}function f0(){function t(d){d.canIntercept&&d.info==="react-transition"&&d.intercept({handler:function(){return new Promise(function(v){return h=v})},focusReset:"manual",scroll:"manual"})}function n(){h!==null&&(h(),h=null),l||setTimeout(a,20)}function a(){if(!l&&!navigation.transition){var d=navigation.currentEntry;d&&d.url!=null&&navigation.navigate(d.url,{state:d.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var l=!1,h=null;return navigation.addEventListener("navigate",t),navigation.addEventListener("navigatesuccess",n),navigation.addEventListener("navigateerror",n),setTimeout(a,100),function(){l=!0,navigation.removeEventListener("navigate",t),navigation.removeEventListener("navigatesuccess",n),navigation.removeEventListener("navigateerror",n),h!==null&&(h(),h=null)}}}function ud(t){this._internalRoot=t}cc.prototype.render=ud.prototype.render=function(t){var n=this._internalRoot;if(n===null)throw Error(s(409));var a=n.current,l=bn();i0(a,l,t,n,null,null)},cc.prototype.unmount=ud.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var n=t.containerInfo;i0(t.current,2,null,t,null,null),Fu(),n[ai]=null}};function cc(t){this._internalRoot=t}cc.prototype.unstable_scheduleHydration=function(t){if(t){var n=Fo();t={blockedOn:null,target:t,priority:n};for(var a=0;a<Ma.length&&n!==0&&n<Ma[a].priority;a++);Ma.splice(a,0,t),a===0&&u0(t)}};var d0=e.version;if(d0!=="19.2.3")throw Error(s(527,d0,"19.2.3"));rt.findDOMNode=function(t){var n=t._reactInternals;if(n===void 0)throw typeof t.render=="function"?Error(s(188)):(t=Object.keys(t).join(","),Error(s(268,t)));return t=y(n),t=t!==null?E(t):null,t=t===null?null:t.stateNode,t};var NE={bundleType:0,version:"19.2.3",rendererPackageName:"react-dom",currentDispatcherRef:F,reconcilerVersion:"19.2.3"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var hc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!hc.isDisabled&&hc.supportsFiber)try{kn=hc.inject(NE),Pe=hc}catch{}}return no.createRoot=function(t,n){if(!o(t))throw Error(s(299));var a=!1,l="",h=bg,d=Eg,v=Tg;return n!=null&&(n.unstable_strictMode===!0&&(a=!0),n.identifierPrefix!==void 0&&(l=n.identifierPrefix),n.onUncaughtError!==void 0&&(h=n.onUncaughtError),n.onCaughtError!==void 0&&(d=n.onCaughtError),n.onRecoverableError!==void 0&&(v=n.onRecoverableError)),n=e0(t,1,!1,null,null,a,l,null,h,d,v,f0),t[ai]=n.current,Ff(t),new ud(n)},no.hydrateRoot=function(t,n,a){if(!o(t))throw Error(s(299));var l=!1,h="",d=bg,v=Eg,T=Tg,D=null;return a!=null&&(a.unstable_strictMode===!0&&(l=!0),a.identifierPrefix!==void 0&&(h=a.identifierPrefix),a.onUncaughtError!==void 0&&(d=a.onUncaughtError),a.onCaughtError!==void 0&&(v=a.onCaughtError),a.onRecoverableError!==void 0&&(T=a.onRecoverableError),a.formState!==void 0&&(D=a.formState)),n=e0(t,1,!0,n,a??null,l,h,D,d,v,T,f0),n.context=n0(null),a=n.current,l=bn(),l=er(l),h=va(l),h.callback=null,_a(a,h,l),a=l,n.current.lanes=a,Wa(n,a),bi(n),t[ai]=n.current,Ff(t),new cc(n)},no.version="19.2.3",no}var x0;function BE(){if(x0)return fd.exports;x0=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(e){console.error(e)}}return r(),fd.exports=kE(),fd.exports}var qE=BE();var A0="popstate";function HE(r={}){function e(o,c){let{pathname:f="/",search:p="",hash:g=""}=Or(o.location.hash.substring(1));return!f.startsWith("/")&&!f.startsWith(".")&&(f="/"+f),Rd("",{pathname:f,search:p,hash:g},c.state&&c.state.usr||null,c.state&&c.state.key||"default")}function i(o,c){let f=o.document.querySelector("base"),p="";if(f&&f.getAttribute("href")){let g=o.location.href,y=g.indexOf("#");p=y===-1?g:g.slice(0,y)}return p+"#"+(typeof c=="string"?c:yo(c))}function s(o,c){Tn(o.pathname.charAt(0)==="/",`relative pathnames are not supported in hash history.push(${JSON.stringify(c)})`)}return GE(e,i,s,r)}function ue(r,e){if(r===!1||r===null||typeof r>"u")throw new Error(e)}function Tn(r,e){if(!r){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function FE(){return Math.random().toString(36).substring(2,10)}function S0(r,e){return{usr:r.state,key:r.key,idx:e}}function Rd(r,e,i=null,s){return{pathname:typeof r=="string"?r:r.pathname,search:"",hash:"",...typeof e=="string"?Or(e):e,state:i,key:e&&e.key||s||FE()}}function yo({pathname:r="/",search:e="",hash:i=""}){return e&&e!=="?"&&(r+=e.charAt(0)==="?"?e:"?"+e),i&&i!=="#"&&(r+=i.charAt(0)==="#"?i:"#"+i),r}function Or(r){let e={};if(r){let i=r.indexOf("#");i>=0&&(e.hash=r.substring(i),r=r.substring(0,i));let s=r.indexOf("?");s>=0&&(e.search=r.substring(s),r=r.substring(0,s)),r&&(e.pathname=r)}return e}function GE(r,e,i,s={}){let{window:o=document.defaultView,v5Compat:c=!1}=s,f=o.history,p="POP",g=null,y=E();y==null&&(y=0,f.replaceState({...f.state,idx:y},""));function E(){return(f.state||{idx:null}).idx}function x(){p="POP";let P=E(),J=P==null?null:P-y;y=P,g&&g({action:p,location:$.location,delta:J})}function C(P,J){p="PUSH";let it=Rd($.location,P,J);i&&i(it,P),y=E()+1;let Z=S0(it,y),vt=$.createHref(it);try{f.pushState(Z,"",vt)}catch(dt){if(dt instanceof DOMException&&dt.name==="DataCloneError")throw dt;o.location.assign(vt)}c&&g&&g({action:p,location:$.location,delta:1})}function U(P,J){p="REPLACE";let it=Rd($.location,P,J);i&&i(it,P),y=E();let Z=S0(it,y),vt=$.createHref(it);f.replaceState(Z,"",vt),c&&g&&g({action:p,location:$.location,delta:0})}function Y(P){return QE(P)}let $={get action(){return p},get location(){return r(o,f)},listen(P){if(g)throw new Error("A history only accepts one active listener");return o.addEventListener(A0,x),g=P,()=>{o.removeEventListener(A0,x),g=null}},createHref(P){return e(o,P)},createURL:Y,encodeLocation(P){let J=Y(P);return{pathname:J.pathname,search:J.search,hash:J.hash}},push:C,replace:U,go(P){return f.go(P)}};return $}function QE(r,e=!1){let i="http://localhost";typeof window<"u"&&(i=window.location.origin!=="null"?window.location.origin:window.location.href),ue(i,"No window.location.(origin|href) available to create URL");let s=typeof r=="string"?r:yo(r);return s=s.replace(/ $/,"%20"),!e&&s.startsWith("//")&&(s=i+s),new URL(s,i)}function Gv(r,e,i="/"){return YE(r,e,i,!1)}function YE(r,e,i,s){let o=typeof e=="string"?Or(e):e,c=Zi(o.pathname||"/",i);if(c==null)return null;let f=Qv(r);KE(f);let p=null;for(let g=0;p==null&&g<f.length;++g){let y=rT(c);p=iT(f[g],y,s)}return p}function Qv(r,e=[],i=[],s="",o=!1){let c=(f,p,g=o,y)=>{let E={relativePath:y===void 0?f.path||"":y,caseSensitive:f.caseSensitive===!0,childrenIndex:p,route:f};if(E.relativePath.startsWith("/")){if(!E.relativePath.startsWith(s)&&g)return;ue(E.relativePath.startsWith(s),`Absolute route path "${E.relativePath}" nested under path "${s}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),E.relativePath=E.relativePath.slice(s.length)}let x=$i([s,E.relativePath]),C=i.concat(E);f.children&&f.children.length>0&&(ue(f.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${x}".`),Qv(f.children,e,C,x,g)),!(f.path==null&&!f.index)&&e.push({path:x,score:eT(x,f.index),routesMeta:C})};return r.forEach((f,p)=>{if(f.path===""||!f.path?.includes("?"))c(f,p);else for(let g of Yv(f.path))c(f,p,!0,g)}),e}function Yv(r){let e=r.split("/");if(e.length===0)return[];let[i,...s]=e,o=i.endsWith("?"),c=i.replace(/\?$/,"");if(s.length===0)return o?[c,""]:[c];let f=Yv(s.join("/")),p=[];return p.push(...f.map(g=>g===""?c:[c,g].join("/"))),o&&p.push(...f),p.map(g=>r.startsWith("/")&&g===""?"/":g)}function KE(r){r.sort((e,i)=>e.score!==i.score?i.score-e.score:nT(e.routesMeta.map(s=>s.childrenIndex),i.routesMeta.map(s=>s.childrenIndex)))}var XE=/^:[\w-]+$/,$E=3,ZE=2,JE=1,WE=10,tT=-2,w0=r=>r==="*";function eT(r,e){let i=r.split("/"),s=i.length;return i.some(w0)&&(s+=tT),e&&(s+=ZE),i.filter(o=>!w0(o)).reduce((o,c)=>o+(XE.test(c)?$E:c===""?JE:WE),s)}function nT(r,e){return r.length===e.length&&r.slice(0,-1).every((s,o)=>s===e[o])?r[r.length-1]-e[e.length-1]:0}function iT(r,e,i=!1){let{routesMeta:s}=r,o={},c="/",f=[];for(let p=0;p<s.length;++p){let g=s[p],y=p===s.length-1,E=c==="/"?e:e.slice(c.length)||"/",x=wc({path:g.relativePath,caseSensitive:g.caseSensitive,end:y},E),C=g.route;if(!x&&y&&i&&!s[s.length-1].route.index&&(x=wc({path:g.relativePath,caseSensitive:g.caseSensitive,end:!1},E)),!x)return null;Object.assign(o,x.params),f.push({params:o,pathname:$i([c,x.pathname]),pathnameBase:cT($i([c,x.pathnameBase])),route:C}),x.pathnameBase!=="/"&&(c=$i([c,x.pathnameBase]))}return f}function wc(r,e){typeof r=="string"&&(r={path:r,caseSensitive:!1,end:!0});let[i,s]=aT(r.path,r.caseSensitive,r.end),o=e.match(i);if(!o)return null;let c=o[0],f=c.replace(/(.)\/+$/,"$1"),p=o.slice(1);return{params:s.reduce((y,{paramName:E,isOptional:x},C)=>{if(E==="*"){let Y=p[C]||"";f=c.slice(0,c.length-Y.length).replace(/(.)\/+$/,"$1")}const U=p[C];return x&&!U?y[E]=void 0:y[E]=(U||"").replace(/%2F/g,"/"),y},{}),pathname:c,pathnameBase:f,pattern:r}}function aT(r,e=!1,i=!0){Tn(r==="*"||!r.endsWith("*")||r.endsWith("/*"),`Route path "${r}" will be treated as if it were "${r.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${r.replace(/\*$/,"/*")}".`);let s=[],o="^"+r.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(f,p,g)=>(s.push({paramName:p,isOptional:g!=null}),g?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return r.endsWith("*")?(s.push({paramName:"*"}),o+=r==="*"||r==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):i?o+="\\/*$":r!==""&&r!=="/"&&(o+="(?:(?=\\/|$))"),[new RegExp(o,e?void 0:"i"),s]}function rT(r){try{return r.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return Tn(!1,`The URL path "${r}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),r}}function Zi(r,e){if(e==="/")return r;if(!r.toLowerCase().startsWith(e.toLowerCase()))return null;let i=e.endsWith("/")?e.length-1:e.length,s=r.charAt(i);return s&&s!=="/"?null:r.slice(i)||"/"}var sT=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,lT=r=>sT.test(r);function oT(r,e="/"){let{pathname:i,search:s="",hash:o=""}=typeof r=="string"?Or(r):r,c;if(i)if(lT(i))c=i;else{if(i.includes("//")){let f=i;i=i.replace(/\/\/+/g,"/"),Tn(!1,`Pathnames cannot have embedded double slashes - normalizing ${f} -> ${i}`)}i.startsWith("/")?c=R0(i.substring(1),"/"):c=R0(i,e)}else c=e;return{pathname:c,search:hT(s),hash:fT(o)}}function R0(r,e){let i=e.replace(/\/+$/,"").split("/");return r.split("/").forEach(o=>{o===".."?i.length>1&&i.pop():o!=="."&&i.push(o)}),i.length>1?i.join("/"):"/"}function gd(r,e,i,s){return`Cannot include a '${r}' character in a manually specified \`to.${e}\` field [${JSON.stringify(s)}].  Please separate it out to the \`to.${i}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function uT(r){return r.filter((e,i)=>i===0||e.route.path&&e.route.path.length>0)}function Wd(r){let e=uT(r);return e.map((i,s)=>s===e.length-1?i.pathname:i.pathnameBase)}function tm(r,e,i,s=!1){let o;typeof r=="string"?o=Or(r):(o={...r},ue(!o.pathname||!o.pathname.includes("?"),gd("?","pathname","search",o)),ue(!o.pathname||!o.pathname.includes("#"),gd("#","pathname","hash",o)),ue(!o.search||!o.search.includes("#"),gd("#","search","hash",o)));let c=r===""||o.pathname==="",f=c?"/":o.pathname,p;if(f==null)p=i;else{let x=e.length-1;if(!s&&f.startsWith("..")){let C=f.split("/");for(;C[0]==="..";)C.shift(),x-=1;o.pathname=C.join("/")}p=x>=0?e[x]:"/"}let g=oT(o,p),y=f&&f!=="/"&&f.endsWith("/"),E=(c||f===".")&&i.endsWith("/");return!g.pathname.endsWith("/")&&(y||E)&&(g.pathname+="/"),g}var $i=r=>r.join("/").replace(/\/\/+/g,"/"),cT=r=>r.replace(/\/+$/,"").replace(/^\/*/,"/"),hT=r=>!r||r==="?"?"":r.startsWith("?")?r:"?"+r,fT=r=>!r||r==="#"?"":r.startsWith("#")?r:"#"+r;function dT(r){return r!=null&&typeof r.status=="number"&&typeof r.statusText=="string"&&typeof r.internal=="boolean"&&"data"in r}function mT(r){return r.map(e=>e.route.path).filter(Boolean).join("/").replace(/\/\/*/g,"/")||"/"}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var Kv=["POST","PUT","PATCH","DELETE"];new Set(Kv);var pT=["GET",...Kv];new Set(pT);var Hs=L.createContext(null);Hs.displayName="DataRouter";var Fc=L.createContext(null);Fc.displayName="DataRouterState";L.createContext(!1);var Xv=L.createContext({isTransitioning:!1});Xv.displayName="ViewTransition";var gT=L.createContext(new Map);gT.displayName="Fetchers";var yT=L.createContext(null);yT.displayName="Await";var Ln=L.createContext(null);Ln.displayName="Navigation";var Co=L.createContext(null);Co.displayName="Location";var Pn=L.createContext({outlet:null,matches:[],isDataRoute:!1});Pn.displayName="Route";var em=L.createContext(null);em.displayName="RouteError";function vT(r,{relative:e}={}){ue(Fs(),"useHref() may be used only in the context of a <Router> component.");let{basename:i,navigator:s}=L.useContext(Ln),{hash:o,pathname:c,search:f}=Do(r,{relative:e}),p=c;return i!=="/"&&(p=c==="/"?i:$i([i,c])),s.createHref({pathname:p,search:f,hash:o})}function Fs(){return L.useContext(Co)!=null}function Qa(){return ue(Fs(),"useLocation() may be used only in the context of a <Router> component."),L.useContext(Co).location}var $v="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function Zv(r){L.useContext(Ln).static||L.useLayoutEffect(r)}function No(){let{isDataRoute:r}=L.useContext(Pn);return r?MT():_T()}function _T(){ue(Fs(),"useNavigate() may be used only in the context of a <Router> component.");let r=L.useContext(Hs),{basename:e,navigator:i}=L.useContext(Ln),{matches:s}=L.useContext(Pn),{pathname:o}=Qa(),c=JSON.stringify(Wd(s)),f=L.useRef(!1);return Zv(()=>{f.current=!0}),L.useCallback((g,y={})=>{if(Tn(f.current,$v),!f.current)return;if(typeof g=="number"){i.go(g);return}let E=tm(g,JSON.parse(c),o,y.relative==="path");r==null&&e!=="/"&&(E.pathname=E.pathname==="/"?e:$i([e,E.pathname])),(y.replace?i.replace:i.push)(E,y.state,y)},[e,i,c,o,r])}var bT=L.createContext(null);function ET(r){let e=L.useContext(Pn).outlet;return L.useMemo(()=>e&&L.createElement(bT.Provider,{value:r},e),[e,r])}function nm(){let{matches:r}=L.useContext(Pn),e=r[r.length-1];return e?e.params:{}}function Do(r,{relative:e}={}){let{matches:i}=L.useContext(Pn),{pathname:s}=Qa(),o=JSON.stringify(Wd(i));return L.useMemo(()=>tm(r,JSON.parse(o),s,e==="path"),[r,o,s,e])}function TT(r,e){return Jv(r,e)}function Jv(r,e,i,s,o){ue(Fs(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:c}=L.useContext(Ln),{matches:f}=L.useContext(Pn),p=f[f.length-1],g=p?p.params:{},y=p?p.pathname:"/",E=p?p.pathnameBase:"/",x=p&&p.route;{let it=x&&x.path||"";Wv(y,!x||it.endsWith("*")||it.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${y}" (under <Route path="${it}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${it}"> to <Route path="${it==="/"?"*":`${it}/*`}">.`)}let C=Qa(),U;if(e){let it=typeof e=="string"?Or(e):e;ue(E==="/"||it.pathname?.startsWith(E),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${E}" but pathname "${it.pathname}" was given in the \`location\` prop.`),U=it}else U=C;let Y=U.pathname||"/",$=Y;if(E!=="/"){let it=E.replace(/^\//,"").split("/");$="/"+Y.replace(/^\//,"").split("/").slice(it.length).join("/")}let P=Gv(r,{pathname:$});Tn(x||P!=null,`No routes matched location "${U.pathname}${U.search}${U.hash}" `),Tn(P==null||P[P.length-1].route.element!==void 0||P[P.length-1].route.Component!==void 0||P[P.length-1].route.lazy!==void 0,`Matched leaf route at location "${U.pathname}${U.search}${U.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let J=RT(P&&P.map(it=>Object.assign({},it,{params:Object.assign({},g,it.params),pathname:$i([E,c.encodeLocation?c.encodeLocation(it.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:it.pathname]),pathnameBase:it.pathnameBase==="/"?E:$i([E,c.encodeLocation?c.encodeLocation(it.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:it.pathnameBase])})),f,i,s,o);return e&&J?L.createElement(Co.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...U},navigationType:"POP"}},J):J}function xT(){let r=VT(),e=dT(r)?`${r.status} ${r.statusText}`:r instanceof Error?r.message:JSON.stringify(r),i=r instanceof Error?r.stack:null,s="rgba(200,200,200, 0.5)",o={padding:"0.5rem",backgroundColor:s},c={padding:"2px 4px",backgroundColor:s},f=null;return console.error("Error handled by React Router default ErrorBoundary:",r),f=L.createElement(L.Fragment,null,L.createElement("p",null," Hey developer "),L.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",L.createElement("code",{style:c},"ErrorBoundary")," or"," ",L.createElement("code",{style:c},"errorElement")," prop on your route.")),L.createElement(L.Fragment,null,L.createElement("h2",null,"Unexpected Application Error!"),L.createElement("h3",{style:{fontStyle:"italic"}},e),i?L.createElement("pre",{style:o},i):null,f)}var AT=L.createElement(xT,null),ST=class extends L.Component{constructor(r){super(r),this.state={location:r.location,revalidation:r.revalidation,error:r.error}}static getDerivedStateFromError(r){return{error:r}}static getDerivedStateFromProps(r,e){return e.location!==r.location||e.revalidation!=="idle"&&r.revalidation==="idle"?{error:r.error,location:r.location,revalidation:r.revalidation}:{error:r.error!==void 0?r.error:e.error,location:e.location,revalidation:r.revalidation||e.revalidation}}componentDidCatch(r,e){this.props.onError?this.props.onError(r,e):console.error("React Router caught the following error during render",r)}render(){return this.state.error!==void 0?L.createElement(Pn.Provider,{value:this.props.routeContext},L.createElement(em.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function wT({routeContext:r,match:e,children:i}){let s=L.useContext(Hs);return s&&s.static&&s.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=e.route.id),L.createElement(Pn.Provider,{value:r},i)}function RT(r,e=[],i=null,s=null,o=null){if(r==null){if(!i)return null;if(i.errors)r=i.matches;else if(e.length===0&&!i.initialized&&i.matches.length>0)r=i.matches;else return null}let c=r,f=i?.errors;if(f!=null){let E=c.findIndex(x=>x.route.id&&f?.[x.route.id]!==void 0);ue(E>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(f).join(",")}`),c=c.slice(0,Math.min(c.length,E+1))}let p=!1,g=-1;if(i)for(let E=0;E<c.length;E++){let x=c[E];if((x.route.HydrateFallback||x.route.hydrateFallbackElement)&&(g=E),x.route.id){let{loaderData:C,errors:U}=i,Y=x.route.loader&&!C.hasOwnProperty(x.route.id)&&(!U||U[x.route.id]===void 0);if(x.route.lazy||Y){p=!0,g>=0?c=c.slice(0,g+1):c=[c[0]];break}}}let y=i&&s?(E,x)=>{s(E,{location:i.location,params:i.matches?.[0]?.params??{},unstable_pattern:mT(i.matches),errorInfo:x})}:void 0;return c.reduceRight((E,x,C)=>{let U,Y=!1,$=null,P=null;i&&(U=f&&x.route.id?f[x.route.id]:void 0,$=x.route.errorElement||AT,p&&(g<0&&C===0?(Wv("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),Y=!0,P=null):g===C&&(Y=!0,P=x.route.hydrateFallbackElement||null)));let J=e.concat(c.slice(0,C+1)),it=()=>{let Z;return U?Z=$:Y?Z=P:x.route.Component?Z=L.createElement(x.route.Component,null):x.route.element?Z=x.route.element:Z=E,L.createElement(wT,{match:x,routeContext:{outlet:E,matches:J,isDataRoute:i!=null},children:Z})};return i&&(x.route.ErrorBoundary||x.route.errorElement||C===0)?L.createElement(ST,{location:i.location,revalidation:i.revalidation,component:$,error:U,children:it(),routeContext:{outlet:null,matches:J,isDataRoute:!0},onError:y}):it()},null)}function im(r){return`${r} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function CT(r){let e=L.useContext(Hs);return ue(e,im(r)),e}function NT(r){let e=L.useContext(Fc);return ue(e,im(r)),e}function DT(r){let e=L.useContext(Pn);return ue(e,im(r)),e}function am(r){let e=DT(r),i=e.matches[e.matches.length-1];return ue(i.route.id,`${r} can only be used on routes that contain a unique "id"`),i.route.id}function IT(){return am("useRouteId")}function VT(){let r=L.useContext(em),e=NT("useRouteError"),i=am("useRouteError");return r!==void 0?r:e.errors?.[i]}function MT(){let{router:r}=CT("useNavigate"),e=am("useNavigate"),i=L.useRef(!1);return Zv(()=>{i.current=!0}),L.useCallback(async(o,c={})=>{Tn(i.current,$v),i.current&&(typeof o=="number"?await r.navigate(o):await r.navigate(o,{fromRouteId:e,...c}))},[r,e])}var C0={};function Wv(r,e,i){!e&&!C0[r]&&(C0[r]=!0,Tn(!1,i))}L.memo(jT);function jT({routes:r,future:e,state:i,unstable_onError:s}){return Jv(r,void 0,i,s,e)}function OT({to:r,replace:e,state:i,relative:s}){ue(Fs(),"<Navigate> may be used only in the context of a <Router> component.");let{static:o}=L.useContext(Ln);Tn(!o,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:c}=L.useContext(Pn),{pathname:f}=Qa(),p=No(),g=tm(r,Wd(c),f,s==="path"),y=JSON.stringify(g);return L.useEffect(()=>{p(JSON.parse(y),{replace:e,state:i,relative:s})},[p,y,s,e,i]),null}function t_(r){return ET(r.context)}function un(r){ue(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function zT({basename:r="/",children:e=null,location:i,navigationType:s="POP",navigator:o,static:c=!1,unstable_useTransitions:f}){ue(!Fs(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let p=r.replace(/^\/*/,"/"),g=L.useMemo(()=>({basename:p,navigator:o,static:c,unstable_useTransitions:f,future:{}}),[p,o,c,f]);typeof i=="string"&&(i=Or(i));let{pathname:y="/",search:E="",hash:x="",state:C=null,key:U="default"}=i,Y=L.useMemo(()=>{let $=Zi(y,p);return $==null?null:{location:{pathname:$,search:E,hash:x,state:C,key:U},navigationType:s}},[p,y,E,x,C,U,s]);return Tn(Y!=null,`<Router basename="${p}"> is not able to match the URL "${y}${E}${x}" because it does not start with the basename, so the <Router> won't render anything.`),Y==null?null:L.createElement(Ln.Provider,{value:g},L.createElement(Co.Provider,{children:e,value:Y}))}function UT({children:r,location:e}){return TT(Cd(r),e)}function Cd(r,e=[]){let i=[];return L.Children.forEach(r,(s,o)=>{if(!L.isValidElement(s))return;let c=[...e,o];if(s.type===L.Fragment){i.push.apply(i,Cd(s.props.children,c));return}ue(s.type===un,`[${typeof s.type=="string"?s.type:s.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),ue(!s.props.index||!s.props.children,"An index route cannot have child routes.");let f={id:s.props.id||c.join("-"),caseSensitive:s.props.caseSensitive,element:s.props.element,Component:s.props.Component,index:s.props.index,path:s.props.path,middleware:s.props.middleware,loader:s.props.loader,action:s.props.action,hydrateFallbackElement:s.props.hydrateFallbackElement,HydrateFallback:s.props.HydrateFallback,errorElement:s.props.errorElement,ErrorBoundary:s.props.ErrorBoundary,hasErrorBoundary:s.props.hasErrorBoundary===!0||s.props.ErrorBoundary!=null||s.props.errorElement!=null,shouldRevalidate:s.props.shouldRevalidate,handle:s.props.handle,lazy:s.props.lazy};s.props.children&&(f.children=Cd(s.props.children,c)),i.push(f)}),i}var vc="get",_c="application/x-www-form-urlencoded";function Gc(r){return typeof HTMLElement<"u"&&r instanceof HTMLElement}function LT(r){return Gc(r)&&r.tagName.toLowerCase()==="button"}function PT(r){return Gc(r)&&r.tagName.toLowerCase()==="form"}function kT(r){return Gc(r)&&r.tagName.toLowerCase()==="input"}function BT(r){return!!(r.metaKey||r.altKey||r.ctrlKey||r.shiftKey)}function qT(r,e){return r.button===0&&(!e||e==="_self")&&!BT(r)}var fc=null;function HT(){if(fc===null)try{new FormData(document.createElement("form"),0),fc=!1}catch{fc=!0}return fc}var FT=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function yd(r){return r!=null&&!FT.has(r)?(Tn(!1,`"${r}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${_c}"`),null):r}function GT(r,e){let i,s,o,c,f;if(PT(r)){let p=r.getAttribute("action");s=p?Zi(p,e):null,i=r.getAttribute("method")||vc,o=yd(r.getAttribute("enctype"))||_c,c=new FormData(r)}else if(LT(r)||kT(r)&&(r.type==="submit"||r.type==="image")){let p=r.form;if(p==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let g=r.getAttribute("formaction")||p.getAttribute("action");if(s=g?Zi(g,e):null,i=r.getAttribute("formmethod")||p.getAttribute("method")||vc,o=yd(r.getAttribute("formenctype"))||yd(p.getAttribute("enctype"))||_c,c=new FormData(p,r),!HT()){let{name:y,type:E,value:x}=r;if(E==="image"){let C=y?`${y}.`:"";c.append(`${C}x`,"0"),c.append(`${C}y`,"0")}else y&&c.append(y,x)}}else{if(Gc(r))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');i=vc,s=null,o=_c,f=r}return c&&o==="text/plain"&&(f=c,c=void 0),{action:s,method:i.toLowerCase(),encType:o,formData:c,body:f}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function rm(r,e){if(r===!1||r===null||typeof r>"u")throw new Error(e)}function QT(r,e,i){let s=typeof r=="string"?new URL(r,typeof window>"u"?"server://singlefetch/":window.location.origin):r;return s.pathname==="/"?s.pathname=`_root.${i}`:e&&Zi(s.pathname,e)==="/"?s.pathname=`${e.replace(/\/$/,"")}/_root.${i}`:s.pathname=`${s.pathname.replace(/\/$/,"")}.${i}`,s}async function YT(r,e){if(r.id in e)return e[r.id];try{let i=await import(r.module);return e[r.id]=i,i}catch(i){return console.error(`Error loading route module \`${r.module}\`, reloading page...`),console.error(i),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function KT(r){return r==null?!1:r.href==null?r.rel==="preload"&&typeof r.imageSrcSet=="string"&&typeof r.imageSizes=="string":typeof r.rel=="string"&&typeof r.href=="string"}async function XT(r,e,i){let s=await Promise.all(r.map(async o=>{let c=e.routes[o.route.id];if(c){let f=await YT(c,i);return f.links?f.links():[]}return[]}));return WT(s.flat(1).filter(KT).filter(o=>o.rel==="stylesheet"||o.rel==="preload").map(o=>o.rel==="stylesheet"?{...o,rel:"prefetch",as:"style"}:{...o,rel:"prefetch"}))}function N0(r,e,i,s,o,c){let f=(g,y)=>i[y]?g.route.id!==i[y].route.id:!0,p=(g,y)=>i[y].pathname!==g.pathname||i[y].route.path?.endsWith("*")&&i[y].params["*"]!==g.params["*"];return c==="assets"?e.filter((g,y)=>f(g,y)||p(g,y)):c==="data"?e.filter((g,y)=>{let E=s.routes[g.route.id];if(!E||!E.hasLoader)return!1;if(f(g,y)||p(g,y))return!0;if(g.route.shouldRevalidate){let x=g.route.shouldRevalidate({currentUrl:new URL(o.pathname+o.search+o.hash,window.origin),currentParams:i[0]?.params||{},nextUrl:new URL(r,window.origin),nextParams:g.params,defaultShouldRevalidate:!0});if(typeof x=="boolean")return x}return!0}):[]}function $T(r,e,{includeHydrateFallback:i}={}){return ZT(r.map(s=>{let o=e.routes[s.route.id];if(!o)return[];let c=[o.module];return o.clientActionModule&&(c=c.concat(o.clientActionModule)),o.clientLoaderModule&&(c=c.concat(o.clientLoaderModule)),i&&o.hydrateFallbackModule&&(c=c.concat(o.hydrateFallbackModule)),o.imports&&(c=c.concat(o.imports)),c}).flat(1))}function ZT(r){return[...new Set(r)]}function JT(r){let e={},i=Object.keys(r).sort();for(let s of i)e[s]=r[s];return e}function WT(r,e){let i=new Set;return new Set(e),r.reduce((s,o)=>{let c=JSON.stringify(JT(o));return i.has(c)||(i.add(c),s.push({key:c,link:o})),s},[])}function e_(){let r=L.useContext(Hs);return rm(r,"You must render this element inside a <DataRouterContext.Provider> element"),r}function t2(){let r=L.useContext(Fc);return rm(r,"You must render this element inside a <DataRouterStateContext.Provider> element"),r}var sm=L.createContext(void 0);sm.displayName="FrameworkContext";function n_(){let r=L.useContext(sm);return rm(r,"You must render this element inside a <HydratedRouter> element"),r}function e2(r,e){let i=L.useContext(sm),[s,o]=L.useState(!1),[c,f]=L.useState(!1),{onFocus:p,onBlur:g,onMouseEnter:y,onMouseLeave:E,onTouchStart:x}=e,C=L.useRef(null);L.useEffect(()=>{if(r==="render"&&f(!0),r==="viewport"){let $=J=>{J.forEach(it=>{f(it.isIntersecting)})},P=new IntersectionObserver($,{threshold:.5});return C.current&&P.observe(C.current),()=>{P.disconnect()}}},[r]),L.useEffect(()=>{if(s){let $=setTimeout(()=>{f(!0)},100);return()=>{clearTimeout($)}}},[s]);let U=()=>{o(!0)},Y=()=>{o(!1),f(!1)};return i?r!=="intent"?[c,C,{}]:[c,C,{onFocus:io(p,U),onBlur:io(g,Y),onMouseEnter:io(y,U),onMouseLeave:io(E,Y),onTouchStart:io(x,U)}]:[!1,C,{}]}function io(r,e){return i=>{r&&r(i),i.defaultPrevented||e(i)}}function n2({page:r,...e}){let{router:i}=e_(),s=L.useMemo(()=>Gv(i.routes,r,i.basename),[i.routes,r,i.basename]);return s?L.createElement(a2,{page:r,matches:s,...e}):null}function i2(r){let{manifest:e,routeModules:i}=n_(),[s,o]=L.useState([]);return L.useEffect(()=>{let c=!1;return XT(r,e,i).then(f=>{c||o(f)}),()=>{c=!0}},[r,e,i]),s}function a2({page:r,matches:e,...i}){let s=Qa(),{manifest:o,routeModules:c}=n_(),{basename:f}=e_(),{loaderData:p,matches:g}=t2(),y=L.useMemo(()=>N0(r,e,g,o,s,"data"),[r,e,g,o,s]),E=L.useMemo(()=>N0(r,e,g,o,s,"assets"),[r,e,g,o,s]),x=L.useMemo(()=>{if(r===s.pathname+s.search+s.hash)return[];let Y=new Set,$=!1;if(e.forEach(J=>{let it=o.routes[J.route.id];!it||!it.hasLoader||(!y.some(Z=>Z.route.id===J.route.id)&&J.route.id in p&&c[J.route.id]?.shouldRevalidate||it.hasClientLoader?$=!0:Y.add(J.route.id))}),Y.size===0)return[];let P=QT(r,f,"data");return $&&Y.size>0&&P.searchParams.set("_routes",e.filter(J=>Y.has(J.route.id)).map(J=>J.route.id).join(",")),[P.pathname+P.search]},[f,p,s,o,y,e,r,c]),C=L.useMemo(()=>$T(E,o),[E,o]),U=i2(E);return L.createElement(L.Fragment,null,x.map(Y=>L.createElement("link",{key:Y,rel:"prefetch",as:"fetch",href:Y,...i})),C.map(Y=>L.createElement("link",{key:Y,rel:"modulepreload",href:Y,...i})),U.map(({key:Y,link:$})=>L.createElement("link",{key:Y,nonce:i.nonce,...$})))}function r2(...r){return e=>{r.forEach(i=>{typeof i=="function"?i(e):i!=null&&(i.current=e)})}}var i_=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{i_&&(window.__reactRouterVersion="7.10.1")}catch{}function s2({basename:r,children:e,unstable_useTransitions:i,window:s}){let o=L.useRef();o.current==null&&(o.current=HE({window:s,v5Compat:!0}));let c=o.current,[f,p]=L.useState({action:c.action,location:c.location}),g=L.useCallback(y=>{i===!1?p(y):L.startTransition(()=>p(y))},[i]);return L.useLayoutEffect(()=>c.listen(g),[c,g]),L.createElement(zT,{basename:r,children:e,location:f.location,navigationType:f.action,navigator:c,unstable_useTransitions:i===!0})}var a_=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Qc=L.forwardRef(function({onClick:e,discover:i="render",prefetch:s="none",relative:o,reloadDocument:c,replace:f,state:p,target:g,to:y,preventScrollReset:E,viewTransition:x,...C},U){let{basename:Y,unstable_useTransitions:$}=L.useContext(Ln),P=typeof y=="string"&&a_.test(y),J,it=!1;if(typeof y=="string"&&P&&(J=y,i_))try{let M=new URL(window.location.href),I=y.startsWith("//")?new URL(M.protocol+y):new URL(y),O=Zi(I.pathname,Y);I.origin===M.origin&&O!=null?y=O+I.search+I.hash:it=!0}catch{Tn(!1,`<Link to="${y}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let Z=vT(y,{relative:o}),[vt,dt,_t]=e2(s,C),N=u2(y,{replace:f,state:p,target:g,preventScrollReset:E,relative:o,viewTransition:x,unstable_useTransitions:$});function w(M){e&&e(M),M.defaultPrevented||N(M)}let R=L.createElement("a",{...C,..._t,href:J||Z,onClick:it||c?e:w,ref:r2(U,dt),target:g,"data-discover":!P&&i==="render"?"true":void 0});return vt&&!P?L.createElement(L.Fragment,null,R,L.createElement(n2,{page:Z})):R});Qc.displayName="Link";var Rc=L.forwardRef(function({"aria-current":e="page",caseSensitive:i=!1,className:s="",end:o=!1,style:c,to:f,viewTransition:p,children:g,...y},E){let x=Do(f,{relative:y.relative}),C=Qa(),U=L.useContext(Fc),{navigator:Y,basename:$}=L.useContext(Ln),P=U!=null&&m2(x)&&p===!0,J=Y.encodeLocation?Y.encodeLocation(x).pathname:x.pathname,it=C.pathname,Z=U&&U.navigation&&U.navigation.location?U.navigation.location.pathname:null;i||(it=it.toLowerCase(),Z=Z?Z.toLowerCase():null,J=J.toLowerCase()),Z&&$&&(Z=Zi(Z,$)||Z);const vt=J!=="/"&&J.endsWith("/")?J.length-1:J.length;let dt=it===J||!o&&it.startsWith(J)&&it.charAt(vt)==="/",_t=Z!=null&&(Z===J||!o&&Z.startsWith(J)&&Z.charAt(J.length)==="/"),N={isActive:dt,isPending:_t,isTransitioning:P},w=dt?e:void 0,R;typeof s=="function"?R=s(N):R=[s,dt?"active":null,_t?"pending":null,P?"transitioning":null].filter(Boolean).join(" ");let M=typeof c=="function"?c(N):c;return L.createElement(Qc,{...y,"aria-current":w,className:R,ref:E,style:M,to:f,viewTransition:p},typeof g=="function"?g(N):g)});Rc.displayName="NavLink";var l2=L.forwardRef(({discover:r="render",fetcherKey:e,navigate:i,reloadDocument:s,replace:o,state:c,method:f=vc,action:p,onSubmit:g,relative:y,preventScrollReset:E,viewTransition:x,...C},U)=>{let{unstable_useTransitions:Y}=L.useContext(Ln),$=f2(),P=d2(p,{relative:y}),J=f.toLowerCase()==="get"?"get":"post",it=typeof p=="string"&&a_.test(p),Z=vt=>{if(g&&g(vt),vt.defaultPrevented)return;vt.preventDefault();let dt=vt.nativeEvent.submitter,_t=dt?.getAttribute("formmethod")||f,N=()=>$(dt||vt.currentTarget,{fetcherKey:e,method:_t,navigate:i,replace:o,state:c,relative:y,preventScrollReset:E,viewTransition:x});Y&&i!==!1?L.startTransition(()=>N()):N()};return L.createElement("form",{ref:U,method:J,action:P,onSubmit:s?g:Z,...C,"data-discover":!it&&r==="render"?"true":void 0})});l2.displayName="Form";function o2(r){return`${r} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function r_(r){let e=L.useContext(Hs);return ue(e,o2(r)),e}function u2(r,{target:e,replace:i,state:s,preventScrollReset:o,relative:c,viewTransition:f,unstable_useTransitions:p}={}){let g=No(),y=Qa(),E=Do(r,{relative:c});return L.useCallback(x=>{if(qT(x,e)){x.preventDefault();let C=i!==void 0?i:yo(y)===yo(E),U=()=>g(r,{replace:C,state:s,preventScrollReset:o,relative:c,viewTransition:f});p?L.startTransition(()=>U()):U()}},[y,g,E,i,s,e,r,o,c,f,p])}var c2=0,h2=()=>`__${String(++c2)}__`;function f2(){let{router:r}=r_("useSubmit"),{basename:e}=L.useContext(Ln),i=IT(),s=r.fetch,o=r.navigate;return L.useCallback(async(c,f={})=>{let{action:p,method:g,encType:y,formData:E,body:x}=GT(c,e);if(f.navigate===!1){let C=f.fetcherKey||h2();await s(C,i,f.action||p,{preventScrollReset:f.preventScrollReset,formData:E,body:x,formMethod:f.method||g,formEncType:f.encType||y,flushSync:f.flushSync})}else await o(f.action||p,{preventScrollReset:f.preventScrollReset,formData:E,body:x,formMethod:f.method||g,formEncType:f.encType||y,replace:f.replace,state:f.state,fromRouteId:i,flushSync:f.flushSync,viewTransition:f.viewTransition})},[s,o,e,i])}function d2(r,{relative:e}={}){let{basename:i}=L.useContext(Ln),s=L.useContext(Pn);ue(s,"useFormAction must be used inside a RouteContext");let[o]=s.matches.slice(-1),c={...Do(r||".",{relative:e})},f=Qa();if(r==null){c.search=f.search;let p=new URLSearchParams(c.search),g=p.getAll("index");if(g.some(E=>E==="")){p.delete("index"),g.filter(x=>x).forEach(x=>p.append("index",x));let E=p.toString();c.search=E?`?${E}`:""}}return(!r||r===".")&&o.route.index&&(c.search=c.search?c.search.replace(/^\?/,"?index&"):"?index"),i!=="/"&&(c.pathname=c.pathname==="/"?i:$i([i,c.pathname])),yo(c)}function m2(r,{relative:e}={}){let i=L.useContext(Xv);ue(i!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:s}=r_("useViewTransitionState"),o=Do(r,{relative:e});if(!i.isTransitioning)return!1;let c=Zi(i.currentLocation.pathname,s)||i.currentLocation.pathname,f=Zi(i.nextLocation.pathname,s)||i.nextLocation.pathname;return wc(o.pathname,f)!=null||wc(o.pathname,c)!=null}const s_=L.createContext(),ea=()=>L.useContext(s_),p2=({children:r})=>{const[e,i]=L.useState(null),s=c=>{const f=c.toLowerCase()==="christo@emgroup.co.nz";i({email:c,name:f?"Christo (Admin)":c.split("@")[0],role:f?"admin":"stakeholder"})},o=()=>{i(null)};return _.jsx(s_.Provider,{value:{user:e,login:s,logout:o,isAdmin:e?.role==="admin"},children:r})},Dr=[{id:"south-mall",name:"South Mall New World",status:"In Progress",lastUpdated:"2025-12-15",location:"Manurewa, Auckland",image:"https://images.unsplash.com/photo-1578575437130-527eed3abbec?auto=format&fit=crop&q=80&w=2070",summary:"Main refurbishment of the South Mall New World including new bakery fit-out and seismic strengthening.",focus:"Internal fit-out and bakery flooring.",coordination:"Public access to mall entrance to be maintained at all times."},{id:"retail-facilities",name:"Retail Facilities Programme",status:"In Progress",lastUpdated:"2025-12-10"},{id:"civil-drainage",name:"Civil Drainage Remediation",status:"Planning",lastUpdated:"2025-12-01"},{id:"planned-maintenance",name:"Planned Maintenance  Auckland",status:"Ongoing",lastUpdated:"2025-12-12"},{id:"emergency-works",name:"Emergency Works Programme",status:"On Hold",lastUpdated:"2025-11-20"}],g2=[{id:1,projectId:"south-mall",date:"14 Dec 2025",author:"Sarah Jenkins (EMG)",content:"Bakery flooring preparation complete. Epoxy coating scheduled for Tuesday.",tag:"Progress"},{id:2,projectId:"south-mall",date:"10 Dec 2025",author:"Mike Ross (EMG)",content:"Seismic bracing in the main aisle has been signed off by the engineer.",tag:"Compliance"},{id:3,projectId:"south-mall",date:"08 Dec 2025",author:"Sarah Jenkins (EMG)",content:"Hoardings moved to Zone 2. Public access path rerouted safely.",tag:"Safety"}],y2=[{id:1,task:"Approve final electrical layout for Cold Store",assignedTo:"Consultant (Elec)",status:"Open",dueDate:"20 Dec 2025"},{id:2,task:"Submit updated Health & Safety Plan",assignedTo:"Contractor",status:"Closed",dueDate:"10 Dec 2025"},{id:3,task:"Review Zone C variation cost",assignedTo:"EMG",status:"Open",dueDate:"18 Dec 2025"},{id:4,task:"Confirm site access for crane lift",assignedTo:"Contractor",status:"Open",dueDate:"16 Dec 2025"}],v2=[{id:1,title:"Clarification on Fire Door Specs",category:"RFI",status:"Answered",date:"12 Dec 2025",context:"Regarding the fire doors in Corridor 3, are we sticking to the original spec or the alternative submitted last week?",replies:[{author:"David Chen (Architect)",date:"13 Dec 2025",content:"We have approved the alternative spec provided it meets the 60min FRR. Please proceed."}]},{id:2,title:"Loading Bay Height Restrictions",category:"Access",status:"Open",date:"14 Dec 2025",context:"Can we confirm the max clearance for the temporary loading bay? Transport company asking.",replies:[]}],D0=[{id:"folder-1",name:"Drawings",type:"folder",items:[{id:"f1-1",name:"Drawing_A101_RevC.pdf",type:"PDF",author:"Consultant (Arch)",date:"10 Dec 2025"},{id:"f1-2",name:"Drawing_S204_RevB.pdf",type:"PDF",author:"Consultant (Struct)",date:"08 Dec 2025"},{id:"f1-3",name:"Layout_Plan_Ground.dwg",type:"DWG",author:"Consultant (Arch)",date:"01 Dec 2025"}]},{id:"folder-2",name:"RFIs & Technical Queries",type:"folder",items:[{id:"f2-1",name:"RFI_012_BakeryFloorLevels.pdf",type:"PDF",author:"EMG (Christo)",date:"12 Dec 2025"},{id:"f2-2",name:"TQ_004_SteelConnection.pdf",type:"PDF",author:"Contractor",date:"05 Dec 2025"}]},{id:"folder-3",name:"Reports & Inspections",type:"folder",items:[{id:"f3-1",name:"Weekly_Site_Report_2025-12-08.pdf",type:"PDF",author:"EMG",date:"08 Dec 2025"},{id:"f3-2",name:"Safety_Audit_Nov25.pdf",type:"PDF",author:"Safety Officer",date:"30 Nov 2025"}]},{id:"folder-4",name:"Site Instructions",type:"folder",items:[{id:"f4-1",name:"SI_003_PaintSpecChange.pdf",type:"PDF",author:"Client",date:"03 Dec 2025"}]}],_2=()=>{};var I0={};const l_=function(r){const e=[];let i=0;for(let s=0;s<r.length;s++){let o=r.charCodeAt(s);o<128?e[i++]=o:o<2048?(e[i++]=o>>6|192,e[i++]=o&63|128):(o&64512)===55296&&s+1<r.length&&(r.charCodeAt(s+1)&64512)===56320?(o=65536+((o&1023)<<10)+(r.charCodeAt(++s)&1023),e[i++]=o>>18|240,e[i++]=o>>12&63|128,e[i++]=o>>6&63|128,e[i++]=o&63|128):(e[i++]=o>>12|224,e[i++]=o>>6&63|128,e[i++]=o&63|128)}return e},b2=function(r){const e=[];let i=0,s=0;for(;i<r.length;){const o=r[i++];if(o<128)e[s++]=String.fromCharCode(o);else if(o>191&&o<224){const c=r[i++];e[s++]=String.fromCharCode((o&31)<<6|c&63)}else if(o>239&&o<365){const c=r[i++],f=r[i++],p=r[i++],g=((o&7)<<18|(c&63)<<12|(f&63)<<6|p&63)-65536;e[s++]=String.fromCharCode(55296+(g>>10)),e[s++]=String.fromCharCode(56320+(g&1023))}else{const c=r[i++],f=r[i++];e[s++]=String.fromCharCode((o&15)<<12|(c&63)<<6|f&63)}}return e.join("")},o_={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(r,e){if(!Array.isArray(r))throw Error("encodeByteArray takes an array as a parameter");this.init_();const i=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,s=[];for(let o=0;o<r.length;o+=3){const c=r[o],f=o+1<r.length,p=f?r[o+1]:0,g=o+2<r.length,y=g?r[o+2]:0,E=c>>2,x=(c&3)<<4|p>>4;let C=(p&15)<<2|y>>6,U=y&63;g||(U=64,f||(C=64)),s.push(i[E],i[x],i[C],i[U])}return s.join("")},encodeString(r,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(r):this.encodeByteArray(l_(r),e)},decodeString(r,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(r):b2(this.decodeStringToByteArray(r,e))},decodeStringToByteArray(r,e){this.init_();const i=e?this.charToByteMapWebSafe_:this.charToByteMap_,s=[];for(let o=0;o<r.length;){const c=i[r.charAt(o++)],p=o<r.length?i[r.charAt(o)]:0;++o;const y=o<r.length?i[r.charAt(o)]:64;++o;const x=o<r.length?i[r.charAt(o)]:64;if(++o,c==null||p==null||y==null||x==null)throw new E2;const C=c<<2|p>>4;if(s.push(C),y!==64){const U=p<<4&240|y>>2;if(s.push(U),x!==64){const Y=y<<6&192|x;s.push(Y)}}}return s},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let r=0;r<this.ENCODED_VALS.length;r++)this.byteToCharMap_[r]=this.ENCODED_VALS.charAt(r),this.charToByteMap_[this.byteToCharMap_[r]]=r,this.byteToCharMapWebSafe_[r]=this.ENCODED_VALS_WEBSAFE.charAt(r),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[r]]=r,r>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(r)]=r,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(r)]=r)}}};class E2 extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const T2=function(r){const e=l_(r);return o_.encodeByteArray(e,!0)},Cc=function(r){return T2(r).replace(/\./g,"")},x2=function(r){try{return o_.decodeString(r,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function A2(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}const S2=()=>A2().__FIREBASE_DEFAULTS__,w2=()=>{if(typeof process>"u"||typeof I0>"u")return;const r=I0.__FIREBASE_DEFAULTS__;if(r)return JSON.parse(r)},R2=()=>{if(typeof document>"u")return;let r;try{r=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=r&&x2(r[1]);return e&&JSON.parse(e)},lm=()=>{try{return _2()||S2()||w2()||R2()}catch(r){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${r}`);return}},C2=r=>lm()?.emulatorHosts?.[r],N2=r=>{const e=C2(r);if(!e)return;const i=e.lastIndexOf(":");if(i<=0||i+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const s=parseInt(e.substring(i+1),10);return e[0]==="["?[e.substring(1,i-1),s]:[e.substring(0,i),s]},u_=()=>lm()?.config;class D2{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,i)=>{this.resolve=e,this.reject=i})}wrapCallback(e){return(i,s)=>{i?this.reject(i):this.resolve(s),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(i):e(i,s))}}}function om(r){try{return(r.startsWith("http://")||r.startsWith("https://")?new URL(r).hostname:r).endsWith(".cloudworkstations.dev")}catch{return!1}}async function I2(r){return(await fetch(r,{credentials:"include"})).ok}function V2(r,e){if(r.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const i={alg:"none",type:"JWT"},s=e||"demo-project",o=r.iat||0,c=r.sub||r.user_id;if(!c)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const f={iss:`https://securetoken.google.com/${s}`,aud:s,iat:o,exp:o+3600,auth_time:o,sub:c,user_id:c,firebase:{sign_in_provider:"custom",identities:{}},...r};return[Cc(JSON.stringify(i)),Cc(JSON.stringify(f)),""].join(".")}const ho={};function M2(){const r={prod:[],emulator:[]};for(const e of Object.keys(ho))ho[e]?r.emulator.push(e):r.prod.push(e);return r}function j2(r){let e=document.getElementById(r),i=!1;return e||(e=document.createElement("div"),e.setAttribute("id",r),i=!0),{created:i,element:e}}let V0=!1;function O2(r,e){if(typeof window>"u"||typeof document>"u"||!om(window.location.host)||ho[r]===e||ho[r]||V0)return;ho[r]=e;function i(C){return`__firebase__banner__${C}`}const s="__firebase__banner",c=M2().prod.length>0;function f(){const C=document.getElementById(s);C&&C.remove()}function p(C){C.style.display="flex",C.style.background="#7faaf0",C.style.position="fixed",C.style.bottom="5px",C.style.left="5px",C.style.padding=".5em",C.style.borderRadius="5px",C.style.alignItems="center"}function g(C,U){C.setAttribute("width","24"),C.setAttribute("id",U),C.setAttribute("height","24"),C.setAttribute("viewBox","0 0 24 24"),C.setAttribute("fill","none"),C.style.marginLeft="-6px"}function y(){const C=document.createElement("span");return C.style.cursor="pointer",C.style.marginLeft="16px",C.style.fontSize="24px",C.innerHTML=" &times;",C.onclick=()=>{V0=!0,f()},C}function E(C,U){C.setAttribute("id",U),C.innerText="Learn more",C.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",C.setAttribute("target","__blank"),C.style.paddingLeft="5px",C.style.textDecoration="underline"}function x(){const C=j2(s),U=i("text"),Y=document.getElementById(U)||document.createElement("span"),$=i("learnmore"),P=document.getElementById($)||document.createElement("a"),J=i("preprendIcon"),it=document.getElementById(J)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(C.created){const Z=C.element;p(Z),E(P,$);const vt=y();g(it,J),Z.append(it,Y,P,vt),document.body.appendChild(Z)}c?(Y.innerText="Preview backend disconnected.",it.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(it.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,Y.innerText="Preview backend running in this workspace."),Y.setAttribute("id",U)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",x):x()}function z2(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function U2(){const r=lm()?.forceEnvironment;if(r==="node")return!0;if(r==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function L2(){return!U2()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function P2(){try{return typeof indexedDB=="object"}catch{return!1}}function k2(){return new Promise((r,e)=>{try{let i=!0;const s="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(s);o.onsuccess=()=>{o.result.close(),i||self.indexedDB.deleteDatabase(s),r(!0)},o.onupgradeneeded=()=>{i=!1},o.onerror=()=>{e(o.error?.message||"")}}catch(i){e(i)}})}const B2="FirebaseError";class Gs extends Error{constructor(e,i,s){super(i),this.code=e,this.customData=s,this.name=B2,Object.setPrototypeOf(this,Gs.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,c_.prototype.create)}}class c_{constructor(e,i,s){this.service=e,this.serviceName=i,this.errors=s}create(e,...i){const s=i[0]||{},o=`${this.service}/${e}`,c=this.errors[e],f=c?q2(c,s):"Error",p=`${this.serviceName}: ${f} (${o}).`;return new Gs(o,p,s)}}function q2(r,e){return r.replace(H2,(i,s)=>{const o=e[s];return o!=null?String(o):`<${s}?>`})}const H2=/\{\$([^}]+)}/g;function Nc(r,e){if(r===e)return!0;const i=Object.keys(r),s=Object.keys(e);for(const o of i){if(!s.includes(o))return!1;const c=r[o],f=e[o];if(M0(c)&&M0(f)){if(!Nc(c,f))return!1}else if(c!==f)return!1}for(const o of s)if(!i.includes(o))return!1;return!0}function M0(r){return r!==null&&typeof r=="object"}function Ci(r){return r&&r._delegate?r._delegate:r}class vo{constructor(e,i,s){this.name=e,this.instanceFactory=i,this.type=s,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}const wr="[DEFAULT]";class F2{constructor(e,i){this.name=e,this.container=i,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const i=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(i)){const s=new D2;if(this.instancesDeferred.set(i,s),this.isInitialized(i)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:i});o&&s.resolve(o)}catch{}}return this.instancesDeferred.get(i).promise}getImmediate(e){const i=this.normalizeInstanceIdentifier(e?.identifier),s=e?.optional??!1;if(this.isInitialized(i)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:i})}catch(o){if(s)return null;throw o}else{if(s)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(Q2(e))try{this.getOrInitializeService({instanceIdentifier:wr})}catch{}for(const[i,s]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(i);try{const c=this.getOrInitializeService({instanceIdentifier:o});s.resolve(c)}catch{}}}}clearInstance(e=wr){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(i=>"INTERNAL"in i).map(i=>i.INTERNAL.delete()),...e.filter(i=>"_delete"in i).map(i=>i._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=wr){return this.instances.has(e)}getOptions(e=wr){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:i={}}=e,s=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(s))throw Error(`${this.name}(${s}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:s,options:i});for(const[c,f]of this.instancesDeferred.entries()){const p=this.normalizeInstanceIdentifier(c);s===p&&f.resolve(o)}return o}onInit(e,i){const s=this.normalizeInstanceIdentifier(i),o=this.onInitCallbacks.get(s)??new Set;o.add(e),this.onInitCallbacks.set(s,o);const c=this.instances.get(s);return c&&e(c,s),()=>{o.delete(e)}}invokeOnInitCallbacks(e,i){const s=this.onInitCallbacks.get(i);if(s)for(const o of s)try{o(e,i)}catch{}}getOrInitializeService({instanceIdentifier:e,options:i={}}){let s=this.instances.get(e);if(!s&&this.component&&(s=this.component.instanceFactory(this.container,{instanceIdentifier:G2(e),options:i}),this.instances.set(e,s),this.instancesOptions.set(e,i),this.invokeOnInitCallbacks(s,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,s)}catch{}return s||null}normalizeInstanceIdentifier(e=wr){return this.component?this.component.multipleInstances?e:wr:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function G2(r){return r===wr?void 0:r}function Q2(r){return r.instantiationMode==="EAGER"}class Y2{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const i=this.getProvider(e.name);if(i.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);i.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const i=new F2(e,this);return this.providers.set(e,i),i}getProviders(){return Array.from(this.providers.values())}}var kt;(function(r){r[r.DEBUG=0]="DEBUG",r[r.VERBOSE=1]="VERBOSE",r[r.INFO=2]="INFO",r[r.WARN=3]="WARN",r[r.ERROR=4]="ERROR",r[r.SILENT=5]="SILENT"})(kt||(kt={}));const K2={debug:kt.DEBUG,verbose:kt.VERBOSE,info:kt.INFO,warn:kt.WARN,error:kt.ERROR,silent:kt.SILENT},X2=kt.INFO,$2={[kt.DEBUG]:"log",[kt.VERBOSE]:"log",[kt.INFO]:"info",[kt.WARN]:"warn",[kt.ERROR]:"error"},Z2=(r,e,...i)=>{if(e<r.logLevel)return;const s=new Date().toISOString(),o=$2[e];if(o)console[o](`[${s}]  ${r.name}:`,...i);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class h_{constructor(e){this.name=e,this._logLevel=X2,this._logHandler=Z2,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in kt))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?K2[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,kt.DEBUG,...e),this._logHandler(this,kt.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,kt.VERBOSE,...e),this._logHandler(this,kt.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,kt.INFO,...e),this._logHandler(this,kt.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,kt.WARN,...e),this._logHandler(this,kt.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,kt.ERROR,...e),this._logHandler(this,kt.ERROR,...e)}}const J2=(r,e)=>e.some(i=>r instanceof i);let j0,O0;function W2(){return j0||(j0=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function tx(){return O0||(O0=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const f_=new WeakMap,Nd=new WeakMap,d_=new WeakMap,vd=new WeakMap,um=new WeakMap;function ex(r){const e=new Promise((i,s)=>{const o=()=>{r.removeEventListener("success",c),r.removeEventListener("error",f)},c=()=>{i(za(r.result)),o()},f=()=>{s(r.error),o()};r.addEventListener("success",c),r.addEventListener("error",f)});return e.then(i=>{i instanceof IDBCursor&&f_.set(i,r)}).catch(()=>{}),um.set(e,r),e}function nx(r){if(Nd.has(r))return;const e=new Promise((i,s)=>{const o=()=>{r.removeEventListener("complete",c),r.removeEventListener("error",f),r.removeEventListener("abort",f)},c=()=>{i(),o()},f=()=>{s(r.error||new DOMException("AbortError","AbortError")),o()};r.addEventListener("complete",c),r.addEventListener("error",f),r.addEventListener("abort",f)});Nd.set(r,e)}let Dd={get(r,e,i){if(r instanceof IDBTransaction){if(e==="done")return Nd.get(r);if(e==="objectStoreNames")return r.objectStoreNames||d_.get(r);if(e==="store")return i.objectStoreNames[1]?void 0:i.objectStore(i.objectStoreNames[0])}return za(r[e])},set(r,e,i){return r[e]=i,!0},has(r,e){return r instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in r}};function ix(r){Dd=r(Dd)}function ax(r){return r===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...i){const s=r.call(_d(this),e,...i);return d_.set(s,e.sort?e.sort():[e]),za(s)}:tx().includes(r)?function(...e){return r.apply(_d(this),e),za(f_.get(this))}:function(...e){return za(r.apply(_d(this),e))}}function rx(r){return typeof r=="function"?ax(r):(r instanceof IDBTransaction&&nx(r),J2(r,W2())?new Proxy(r,Dd):r)}function za(r){if(r instanceof IDBRequest)return ex(r);if(vd.has(r))return vd.get(r);const e=rx(r);return e!==r&&(vd.set(r,e),um.set(e,r)),e}const _d=r=>um.get(r);function sx(r,e,{blocked:i,upgrade:s,blocking:o,terminated:c}={}){const f=indexedDB.open(r,e),p=za(f);return s&&f.addEventListener("upgradeneeded",g=>{s(za(f.result),g.oldVersion,g.newVersion,za(f.transaction),g)}),i&&f.addEventListener("blocked",g=>i(g.oldVersion,g.newVersion,g)),p.then(g=>{c&&g.addEventListener("close",()=>c()),o&&g.addEventListener("versionchange",y=>o(y.oldVersion,y.newVersion,y))}).catch(()=>{}),p}const lx=["get","getKey","getAll","getAllKeys","count"],ox=["put","add","delete","clear"],bd=new Map;function z0(r,e){if(!(r instanceof IDBDatabase&&!(e in r)&&typeof e=="string"))return;if(bd.get(e))return bd.get(e);const i=e.replace(/FromIndex$/,""),s=e!==i,o=ox.includes(i);if(!(i in(s?IDBIndex:IDBObjectStore).prototype)||!(o||lx.includes(i)))return;const c=async function(f,...p){const g=this.transaction(f,o?"readwrite":"readonly");let y=g.store;return s&&(y=y.index(p.shift())),(await Promise.all([y[i](...p),o&&g.done]))[0]};return bd.set(e,c),c}ix(r=>({...r,get:(e,i,s)=>z0(e,i)||r.get(e,i,s),has:(e,i)=>!!z0(e,i)||r.has(e,i)}));class ux{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(i=>{if(cx(i)){const s=i.getImmediate();return`${s.library}/${s.version}`}else return null}).filter(i=>i).join(" ")}}function cx(r){return r.getComponent()?.type==="VERSION"}const Id="@firebase/app",U0="0.14.6";const Ji=new h_("@firebase/app"),hx="@firebase/app-compat",fx="@firebase/analytics-compat",dx="@firebase/analytics",mx="@firebase/app-check-compat",px="@firebase/app-check",gx="@firebase/auth",yx="@firebase/auth-compat",vx="@firebase/database",_x="@firebase/data-connect",bx="@firebase/database-compat",Ex="@firebase/functions",Tx="@firebase/functions-compat",xx="@firebase/installations",Ax="@firebase/installations-compat",Sx="@firebase/messaging",wx="@firebase/messaging-compat",Rx="@firebase/performance",Cx="@firebase/performance-compat",Nx="@firebase/remote-config",Dx="@firebase/remote-config-compat",Ix="@firebase/storage",Vx="@firebase/storage-compat",Mx="@firebase/firestore",jx="@firebase/ai",Ox="@firebase/firestore-compat",zx="firebase",Ux="12.6.0";const Vd="[DEFAULT]",Lx={[Id]:"fire-core",[hx]:"fire-core-compat",[dx]:"fire-analytics",[fx]:"fire-analytics-compat",[px]:"fire-app-check",[mx]:"fire-app-check-compat",[gx]:"fire-auth",[yx]:"fire-auth-compat",[vx]:"fire-rtdb",[_x]:"fire-data-connect",[bx]:"fire-rtdb-compat",[Ex]:"fire-fn",[Tx]:"fire-fn-compat",[xx]:"fire-iid",[Ax]:"fire-iid-compat",[Sx]:"fire-fcm",[wx]:"fire-fcm-compat",[Rx]:"fire-perf",[Cx]:"fire-perf-compat",[Nx]:"fire-rc",[Dx]:"fire-rc-compat",[Ix]:"fire-gcs",[Vx]:"fire-gcs-compat",[Mx]:"fire-fst",[Ox]:"fire-fst-compat",[jx]:"fire-vertex","fire-js":"fire-js",[zx]:"fire-js-all"};const Dc=new Map,Px=new Map,Md=new Map;function L0(r,e){try{r.container.addComponent(e)}catch(i){Ji.debug(`Component ${e.name} failed to register with FirebaseApp ${r.name}`,i)}}function Ic(r){const e=r.name;if(Md.has(e))return Ji.debug(`There were multiple attempts to register component ${e}.`),!1;Md.set(e,r);for(const i of Dc.values())L0(i,r);for(const i of Px.values())L0(i,r);return!0}function kx(r,e){const i=r.container.getProvider("heartbeat").getImmediate({optional:!0});return i&&i.triggerHeartbeat(),r.container.getProvider(e)}function Bx(r){return r==null?!1:r.settings!==void 0}const qx={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Ua=new c_("app","Firebase",qx);class Hx{constructor(e,i,s){this._isDeleted=!1,this._options={...e},this._config={...i},this._name=i.name,this._automaticDataCollectionEnabled=i.automaticDataCollectionEnabled,this._container=s,this.container.addComponent(new vo("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Ua.create("app-deleted",{appName:this._name})}}const Fx=Ux;function m_(r,e={}){let i=r;typeof e!="object"&&(e={name:e});const s={name:Vd,automaticDataCollectionEnabled:!0,...e},o=s.name;if(typeof o!="string"||!o)throw Ua.create("bad-app-name",{appName:String(o)});if(i||(i=u_()),!i)throw Ua.create("no-options");const c=Dc.get(o);if(c){if(Nc(i,c.options)&&Nc(s,c.config))return c;throw Ua.create("duplicate-app",{appName:o})}const f=new Y2(o);for(const g of Md.values())f.addComponent(g);const p=new Hx(i,s,f);return Dc.set(o,p),p}function Gx(r=Vd){const e=Dc.get(r);if(!e&&r===Vd&&u_())return m_();if(!e)throw Ua.create("no-app",{appName:r});return e}function js(r,e,i){let s=Lx[r]??r;i&&(s+=`-${i}`);const o=s.match(/\s|\//),c=e.match(/\s|\//);if(o||c){const f=[`Unable to register library "${s}" with version "${e}":`];o&&f.push(`library name "${s}" contains illegal characters (whitespace or "/")`),o&&c&&f.push("and"),c&&f.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Ji.warn(f.join(" "));return}Ic(new vo(`${s}-version`,()=>({library:s,version:e}),"VERSION"))}const Qx="firebase-heartbeat-database",Yx=1,_o="firebase-heartbeat-store";let Ed=null;function p_(){return Ed||(Ed=sx(Qx,Yx,{upgrade:(r,e)=>{switch(e){case 0:try{r.createObjectStore(_o)}catch(i){console.warn(i)}}}}).catch(r=>{throw Ua.create("idb-open",{originalErrorMessage:r.message})})),Ed}async function Kx(r){try{const i=(await p_()).transaction(_o),s=await i.objectStore(_o).get(g_(r));return await i.done,s}catch(e){if(e instanceof Gs)Ji.warn(e.message);else{const i=Ua.create("idb-get",{originalErrorMessage:e?.message});Ji.warn(i.message)}}}async function P0(r,e){try{const s=(await p_()).transaction(_o,"readwrite");await s.objectStore(_o).put(e,g_(r)),await s.done}catch(i){if(i instanceof Gs)Ji.warn(i.message);else{const s=Ua.create("idb-set",{originalErrorMessage:i?.message});Ji.warn(s.message)}}}function g_(r){return`${r.name}!${r.options.appId}`}const Xx=1024,$x=30;class Zx{constructor(e){this.container=e,this._heartbeatsCache=null;const i=this.container.getProvider("app").getImmediate();this._storage=new Wx(i),this._heartbeatsCachePromise=this._storage.read().then(s=>(this._heartbeatsCache=s,s))}async triggerHeartbeat(){try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=k0();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(o=>o.date===s))return;if(this._heartbeatsCache.heartbeats.push({date:s,agent:i}),this._heartbeatsCache.heartbeats.length>$x){const o=tA(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(o,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(e){Ji.warn(e)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const e=k0(),{heartbeatsToSend:i,unsentEntries:s}=Jx(this._heartbeatsCache.heartbeats),o=Cc(JSON.stringify({version:2,heartbeats:i}));return this._heartbeatsCache.lastSentHeartbeatDate=e,s.length>0?(this._heartbeatsCache.heartbeats=s,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(e){return Ji.warn(e),""}}}function k0(){return new Date().toISOString().substring(0,10)}function Jx(r,e=Xx){const i=[];let s=r.slice();for(const o of r){const c=i.find(f=>f.agent===o.agent);if(c){if(c.dates.push(o.date),B0(i)>e){c.dates.pop();break}}else if(i.push({agent:o.agent,dates:[o.date]}),B0(i)>e){i.pop();break}s=s.slice(1)}return{heartbeatsToSend:i,unsentEntries:s}}class Wx{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return P2()?k2().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const i=await Kx(this.app);return i?.heartbeats?i:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const s=await this.read();return P0(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??s.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const s=await this.read();return P0(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??s.lastSentHeartbeatDate,heartbeats:[...s.heartbeats,...e.heartbeats]})}else return}}function B0(r){return Cc(JSON.stringify({version:2,heartbeats:r})).length}function tA(r){if(r.length===0)return-1;let e=0,i=r[0].date;for(let s=1;s<r.length;s++)r[s].date<i&&(i=r[s].date,e=s);return e}function eA(r){Ic(new vo("platform-logger",e=>new ux(e),"PRIVATE")),Ic(new vo("heartbeat",e=>new Zx(e),"PRIVATE")),js(Id,U0,r),js(Id,U0,"esm2020"),js("fire-js","")}eA("");var nA="firebase",iA="12.6.0";js(nA,iA,"app");var q0=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var La,y_;(function(){var r;function e(N,w){function R(){}R.prototype=w.prototype,N.F=w.prototype,N.prototype=new R,N.prototype.constructor=N,N.D=function(M,I,O){for(var S=Array(arguments.length-2),pt=2;pt<arguments.length;pt++)S[pt-2]=arguments[pt];return w.prototype[I].apply(M,S)}}function i(){this.blockSize=-1}function s(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(s,i),s.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function o(N,w,R){R||(R=0);const M=Array(16);if(typeof w=="string")for(var I=0;I<16;++I)M[I]=w.charCodeAt(R++)|w.charCodeAt(R++)<<8|w.charCodeAt(R++)<<16|w.charCodeAt(R++)<<24;else for(I=0;I<16;++I)M[I]=w[R++]|w[R++]<<8|w[R++]<<16|w[R++]<<24;w=N.g[0],R=N.g[1],I=N.g[2];let O=N.g[3],S;S=w+(O^R&(I^O))+M[0]+3614090360&4294967295,w=R+(S<<7&4294967295|S>>>25),S=O+(I^w&(R^I))+M[1]+3905402710&4294967295,O=w+(S<<12&4294967295|S>>>20),S=I+(R^O&(w^R))+M[2]+606105819&4294967295,I=O+(S<<17&4294967295|S>>>15),S=R+(w^I&(O^w))+M[3]+3250441966&4294967295,R=I+(S<<22&4294967295|S>>>10),S=w+(O^R&(I^O))+M[4]+4118548399&4294967295,w=R+(S<<7&4294967295|S>>>25),S=O+(I^w&(R^I))+M[5]+1200080426&4294967295,O=w+(S<<12&4294967295|S>>>20),S=I+(R^O&(w^R))+M[6]+2821735955&4294967295,I=O+(S<<17&4294967295|S>>>15),S=R+(w^I&(O^w))+M[7]+4249261313&4294967295,R=I+(S<<22&4294967295|S>>>10),S=w+(O^R&(I^O))+M[8]+1770035416&4294967295,w=R+(S<<7&4294967295|S>>>25),S=O+(I^w&(R^I))+M[9]+2336552879&4294967295,O=w+(S<<12&4294967295|S>>>20),S=I+(R^O&(w^R))+M[10]+4294925233&4294967295,I=O+(S<<17&4294967295|S>>>15),S=R+(w^I&(O^w))+M[11]+2304563134&4294967295,R=I+(S<<22&4294967295|S>>>10),S=w+(O^R&(I^O))+M[12]+1804603682&4294967295,w=R+(S<<7&4294967295|S>>>25),S=O+(I^w&(R^I))+M[13]+4254626195&4294967295,O=w+(S<<12&4294967295|S>>>20),S=I+(R^O&(w^R))+M[14]+2792965006&4294967295,I=O+(S<<17&4294967295|S>>>15),S=R+(w^I&(O^w))+M[15]+1236535329&4294967295,R=I+(S<<22&4294967295|S>>>10),S=w+(I^O&(R^I))+M[1]+4129170786&4294967295,w=R+(S<<5&4294967295|S>>>27),S=O+(R^I&(w^R))+M[6]+3225465664&4294967295,O=w+(S<<9&4294967295|S>>>23),S=I+(w^R&(O^w))+M[11]+643717713&4294967295,I=O+(S<<14&4294967295|S>>>18),S=R+(O^w&(I^O))+M[0]+3921069994&4294967295,R=I+(S<<20&4294967295|S>>>12),S=w+(I^O&(R^I))+M[5]+3593408605&4294967295,w=R+(S<<5&4294967295|S>>>27),S=O+(R^I&(w^R))+M[10]+38016083&4294967295,O=w+(S<<9&4294967295|S>>>23),S=I+(w^R&(O^w))+M[15]+3634488961&4294967295,I=O+(S<<14&4294967295|S>>>18),S=R+(O^w&(I^O))+M[4]+3889429448&4294967295,R=I+(S<<20&4294967295|S>>>12),S=w+(I^O&(R^I))+M[9]+568446438&4294967295,w=R+(S<<5&4294967295|S>>>27),S=O+(R^I&(w^R))+M[14]+3275163606&4294967295,O=w+(S<<9&4294967295|S>>>23),S=I+(w^R&(O^w))+M[3]+4107603335&4294967295,I=O+(S<<14&4294967295|S>>>18),S=R+(O^w&(I^O))+M[8]+1163531501&4294967295,R=I+(S<<20&4294967295|S>>>12),S=w+(I^O&(R^I))+M[13]+2850285829&4294967295,w=R+(S<<5&4294967295|S>>>27),S=O+(R^I&(w^R))+M[2]+4243563512&4294967295,O=w+(S<<9&4294967295|S>>>23),S=I+(w^R&(O^w))+M[7]+1735328473&4294967295,I=O+(S<<14&4294967295|S>>>18),S=R+(O^w&(I^O))+M[12]+2368359562&4294967295,R=I+(S<<20&4294967295|S>>>12),S=w+(R^I^O)+M[5]+4294588738&4294967295,w=R+(S<<4&4294967295|S>>>28),S=O+(w^R^I)+M[8]+2272392833&4294967295,O=w+(S<<11&4294967295|S>>>21),S=I+(O^w^R)+M[11]+1839030562&4294967295,I=O+(S<<16&4294967295|S>>>16),S=R+(I^O^w)+M[14]+4259657740&4294967295,R=I+(S<<23&4294967295|S>>>9),S=w+(R^I^O)+M[1]+2763975236&4294967295,w=R+(S<<4&4294967295|S>>>28),S=O+(w^R^I)+M[4]+1272893353&4294967295,O=w+(S<<11&4294967295|S>>>21),S=I+(O^w^R)+M[7]+4139469664&4294967295,I=O+(S<<16&4294967295|S>>>16),S=R+(I^O^w)+M[10]+3200236656&4294967295,R=I+(S<<23&4294967295|S>>>9),S=w+(R^I^O)+M[13]+681279174&4294967295,w=R+(S<<4&4294967295|S>>>28),S=O+(w^R^I)+M[0]+3936430074&4294967295,O=w+(S<<11&4294967295|S>>>21),S=I+(O^w^R)+M[3]+3572445317&4294967295,I=O+(S<<16&4294967295|S>>>16),S=R+(I^O^w)+M[6]+76029189&4294967295,R=I+(S<<23&4294967295|S>>>9),S=w+(R^I^O)+M[9]+3654602809&4294967295,w=R+(S<<4&4294967295|S>>>28),S=O+(w^R^I)+M[12]+3873151461&4294967295,O=w+(S<<11&4294967295|S>>>21),S=I+(O^w^R)+M[15]+530742520&4294967295,I=O+(S<<16&4294967295|S>>>16),S=R+(I^O^w)+M[2]+3299628645&4294967295,R=I+(S<<23&4294967295|S>>>9),S=w+(I^(R|~O))+M[0]+4096336452&4294967295,w=R+(S<<6&4294967295|S>>>26),S=O+(R^(w|~I))+M[7]+1126891415&4294967295,O=w+(S<<10&4294967295|S>>>22),S=I+(w^(O|~R))+M[14]+2878612391&4294967295,I=O+(S<<15&4294967295|S>>>17),S=R+(O^(I|~w))+M[5]+4237533241&4294967295,R=I+(S<<21&4294967295|S>>>11),S=w+(I^(R|~O))+M[12]+1700485571&4294967295,w=R+(S<<6&4294967295|S>>>26),S=O+(R^(w|~I))+M[3]+2399980690&4294967295,O=w+(S<<10&4294967295|S>>>22),S=I+(w^(O|~R))+M[10]+4293915773&4294967295,I=O+(S<<15&4294967295|S>>>17),S=R+(O^(I|~w))+M[1]+2240044497&4294967295,R=I+(S<<21&4294967295|S>>>11),S=w+(I^(R|~O))+M[8]+1873313359&4294967295,w=R+(S<<6&4294967295|S>>>26),S=O+(R^(w|~I))+M[15]+4264355552&4294967295,O=w+(S<<10&4294967295|S>>>22),S=I+(w^(O|~R))+M[6]+2734768916&4294967295,I=O+(S<<15&4294967295|S>>>17),S=R+(O^(I|~w))+M[13]+1309151649&4294967295,R=I+(S<<21&4294967295|S>>>11),S=w+(I^(R|~O))+M[4]+4149444226&4294967295,w=R+(S<<6&4294967295|S>>>26),S=O+(R^(w|~I))+M[11]+3174756917&4294967295,O=w+(S<<10&4294967295|S>>>22),S=I+(w^(O|~R))+M[2]+718787259&4294967295,I=O+(S<<15&4294967295|S>>>17),S=R+(O^(I|~w))+M[9]+3951481745&4294967295,N.g[0]=N.g[0]+w&4294967295,N.g[1]=N.g[1]+(I+(S<<21&4294967295|S>>>11))&4294967295,N.g[2]=N.g[2]+I&4294967295,N.g[3]=N.g[3]+O&4294967295}s.prototype.v=function(N,w){w===void 0&&(w=N.length);const R=w-this.blockSize,M=this.C;let I=this.h,O=0;for(;O<w;){if(I==0)for(;O<=R;)o(this,N,O),O+=this.blockSize;if(typeof N=="string"){for(;O<w;)if(M[I++]=N.charCodeAt(O++),I==this.blockSize){o(this,M),I=0;break}}else for(;O<w;)if(M[I++]=N[O++],I==this.blockSize){o(this,M),I=0;break}}this.h=I,this.o+=w},s.prototype.A=function(){var N=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);N[0]=128;for(var w=1;w<N.length-8;++w)N[w]=0;w=this.o*8;for(var R=N.length-8;R<N.length;++R)N[R]=w&255,w/=256;for(this.v(N),N=Array(16),w=0,R=0;R<4;++R)for(let M=0;M<32;M+=8)N[w++]=this.g[R]>>>M&255;return N};function c(N,w){var R=p;return Object.prototype.hasOwnProperty.call(R,N)?R[N]:R[N]=w(N)}function f(N,w){this.h=w;const R=[];let M=!0;for(let I=N.length-1;I>=0;I--){const O=N[I]|0;M&&O==w||(R[I]=O,M=!1)}this.g=R}var p={};function g(N){return-128<=N&&N<128?c(N,function(w){return new f([w|0],w<0?-1:0)}):new f([N|0],N<0?-1:0)}function y(N){if(isNaN(N)||!isFinite(N))return x;if(N<0)return P(y(-N));const w=[];let R=1;for(let M=0;N>=R;M++)w[M]=N/R|0,R*=4294967296;return new f(w,0)}function E(N,w){if(N.length==0)throw Error("number format error: empty string");if(w=w||10,w<2||36<w)throw Error("radix out of range: "+w);if(N.charAt(0)=="-")return P(E(N.substring(1),w));if(N.indexOf("-")>=0)throw Error('number format error: interior "-" character');const R=y(Math.pow(w,8));let M=x;for(let O=0;O<N.length;O+=8){var I=Math.min(8,N.length-O);const S=parseInt(N.substring(O,O+I),w);I<8?(I=y(Math.pow(w,I)),M=M.j(I).add(y(S))):(M=M.j(R),M=M.add(y(S)))}return M}var x=g(0),C=g(1),U=g(16777216);r=f.prototype,r.m=function(){if($(this))return-P(this).m();let N=0,w=1;for(let R=0;R<this.g.length;R++){const M=this.i(R);N+=(M>=0?M:4294967296+M)*w,w*=4294967296}return N},r.toString=function(N){if(N=N||10,N<2||36<N)throw Error("radix out of range: "+N);if(Y(this))return"0";if($(this))return"-"+P(this).toString(N);const w=y(Math.pow(N,6));var R=this;let M="";for(;;){const I=vt(R,w).g;R=J(R,I.j(w));let O=((R.g.length>0?R.g[0]:R.h)>>>0).toString(N);if(R=I,Y(R))return O+M;for(;O.length<6;)O="0"+O;M=O+M}},r.i=function(N){return N<0?0:N<this.g.length?this.g[N]:this.h};function Y(N){if(N.h!=0)return!1;for(let w=0;w<N.g.length;w++)if(N.g[w]!=0)return!1;return!0}function $(N){return N.h==-1}r.l=function(N){return N=J(this,N),$(N)?-1:Y(N)?0:1};function P(N){const w=N.g.length,R=[];for(let M=0;M<w;M++)R[M]=~N.g[M];return new f(R,~N.h).add(C)}r.abs=function(){return $(this)?P(this):this},r.add=function(N){const w=Math.max(this.g.length,N.g.length),R=[];let M=0;for(let I=0;I<=w;I++){let O=M+(this.i(I)&65535)+(N.i(I)&65535),S=(O>>>16)+(this.i(I)>>>16)+(N.i(I)>>>16);M=S>>>16,O&=65535,S&=65535,R[I]=S<<16|O}return new f(R,R[R.length-1]&-2147483648?-1:0)};function J(N,w){return N.add(P(w))}r.j=function(N){if(Y(this)||Y(N))return x;if($(this))return $(N)?P(this).j(P(N)):P(P(this).j(N));if($(N))return P(this.j(P(N)));if(this.l(U)<0&&N.l(U)<0)return y(this.m()*N.m());const w=this.g.length+N.g.length,R=[];for(var M=0;M<2*w;M++)R[M]=0;for(M=0;M<this.g.length;M++)for(let I=0;I<N.g.length;I++){const O=this.i(M)>>>16,S=this.i(M)&65535,pt=N.i(I)>>>16,xt=N.i(I)&65535;R[2*M+2*I]+=S*xt,it(R,2*M+2*I),R[2*M+2*I+1]+=O*xt,it(R,2*M+2*I+1),R[2*M+2*I+1]+=S*pt,it(R,2*M+2*I+1),R[2*M+2*I+2]+=O*pt,it(R,2*M+2*I+2)}for(N=0;N<w;N++)R[N]=R[2*N+1]<<16|R[2*N];for(N=w;N<2*w;N++)R[N]=0;return new f(R,0)};function it(N,w){for(;(N[w]&65535)!=N[w];)N[w+1]+=N[w]>>>16,N[w]&=65535,w++}function Z(N,w){this.g=N,this.h=w}function vt(N,w){if(Y(w))throw Error("division by zero");if(Y(N))return new Z(x,x);if($(N))return w=vt(P(N),w),new Z(P(w.g),P(w.h));if($(w))return w=vt(N,P(w)),new Z(P(w.g),w.h);if(N.g.length>30){if($(N)||$(w))throw Error("slowDivide_ only works with positive integers.");for(var R=C,M=w;M.l(N)<=0;)R=dt(R),M=dt(M);var I=_t(R,1),O=_t(M,1);for(M=_t(M,2),R=_t(R,2);!Y(M);){var S=O.add(M);S.l(N)<=0&&(I=I.add(R),O=S),M=_t(M,1),R=_t(R,1)}return w=J(N,I.j(w)),new Z(I,w)}for(I=x;N.l(w)>=0;){for(R=Math.max(1,Math.floor(N.m()/w.m())),M=Math.ceil(Math.log(R)/Math.LN2),M=M<=48?1:Math.pow(2,M-48),O=y(R),S=O.j(w);$(S)||S.l(N)>0;)R-=M,O=y(R),S=O.j(w);Y(O)&&(O=C),I=I.add(O),N=J(N,S)}return new Z(I,N)}r.B=function(N){return vt(this,N).h},r.and=function(N){const w=Math.max(this.g.length,N.g.length),R=[];for(let M=0;M<w;M++)R[M]=this.i(M)&N.i(M);return new f(R,this.h&N.h)},r.or=function(N){const w=Math.max(this.g.length,N.g.length),R=[];for(let M=0;M<w;M++)R[M]=this.i(M)|N.i(M);return new f(R,this.h|N.h)},r.xor=function(N){const w=Math.max(this.g.length,N.g.length),R=[];for(let M=0;M<w;M++)R[M]=this.i(M)^N.i(M);return new f(R,this.h^N.h)};function dt(N){const w=N.g.length+1,R=[];for(let M=0;M<w;M++)R[M]=N.i(M)<<1|N.i(M-1)>>>31;return new f(R,N.h)}function _t(N,w){const R=w>>5;w%=32;const M=N.g.length-R,I=[];for(let O=0;O<M;O++)I[O]=w>0?N.i(O+R)>>>w|N.i(O+R+1)<<32-w:N.i(O+R);return new f(I,N.h)}s.prototype.digest=s.prototype.A,s.prototype.reset=s.prototype.u,s.prototype.update=s.prototype.v,y_=s,f.prototype.add=f.prototype.add,f.prototype.multiply=f.prototype.j,f.prototype.modulo=f.prototype.B,f.prototype.compare=f.prototype.l,f.prototype.toNumber=f.prototype.m,f.prototype.toString=f.prototype.toString,f.prototype.getBits=f.prototype.i,f.fromNumber=y,f.fromString=E,La=f}).apply(typeof q0<"u"?q0:typeof self<"u"?self:typeof window<"u"?window:{});var dc=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var v_,so,__,bc,jd,b_,E_,T_;(function(){var r,e=Object.defineProperty;function i(u){u=[typeof globalThis=="object"&&globalThis,u,typeof window=="object"&&window,typeof self=="object"&&self,typeof dc=="object"&&dc];for(var m=0;m<u.length;++m){var b=u[m];if(b&&b.Math==Math)return b}throw Error("Cannot find global object")}var s=i(this);function o(u,m){if(m)t:{var b=s;u=u.split(".");for(var A=0;A<u.length-1;A++){var k=u[A];if(!(k in b))break t;b=b[k]}u=u[u.length-1],A=b[u],m=m(A),m!=A&&m!=null&&e(b,u,{configurable:!0,writable:!0,value:m})}}o("Symbol.dispose",function(u){return u||Symbol("Symbol.dispose")}),o("Array.prototype.values",function(u){return u||function(){return this[Symbol.iterator]()}}),o("Object.entries",function(u){return u||function(m){var b=[],A;for(A in m)Object.prototype.hasOwnProperty.call(m,A)&&b.push([A,m[A]]);return b}});var c=c||{},f=this||self;function p(u){var m=typeof u;return m=="object"&&u!=null||m=="function"}function g(u,m,b){return u.call.apply(u.bind,arguments)}function y(u,m,b){return y=g,y.apply(null,arguments)}function E(u,m){var b=Array.prototype.slice.call(arguments,1);return function(){var A=b.slice();return A.push.apply(A,arguments),u.apply(this,A)}}function x(u,m){function b(){}b.prototype=m.prototype,u.Z=m.prototype,u.prototype=new b,u.prototype.constructor=u,u.Ob=function(A,k,G){for(var st=Array(arguments.length-2),Rt=2;Rt<arguments.length;Rt++)st[Rt-2]=arguments[Rt];return m.prototype[k].apply(A,st)}}var C=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?u=>u&&AsyncContext.Snapshot.wrap(u):u=>u;function U(u){const m=u.length;if(m>0){const b=Array(m);for(let A=0;A<m;A++)b[A]=u[A];return b}return[]}function Y(u,m){for(let A=1;A<arguments.length;A++){const k=arguments[A];var b=typeof k;if(b=b!="object"?b:k?Array.isArray(k)?"array":b:"null",b=="array"||b=="object"&&typeof k.length=="number"){b=u.length||0;const G=k.length||0;u.length=b+G;for(let st=0;st<G;st++)u[b+st]=k[st]}else u.push(k)}}class ${constructor(m,b){this.i=m,this.j=b,this.h=0,this.g=null}get(){let m;return this.h>0?(this.h--,m=this.g,this.g=m.next,m.next=null):m=this.i(),m}}function P(u){f.setTimeout(()=>{throw u},0)}function J(){var u=N;let m=null;return u.g&&(m=u.g,u.g=u.g.next,u.g||(u.h=null),m.next=null),m}class it{constructor(){this.h=this.g=null}add(m,b){const A=Z.get();A.set(m,b),this.h?this.h.next=A:this.g=A,this.h=A}}var Z=new $(()=>new vt,u=>u.reset());class vt{constructor(){this.next=this.g=this.h=null}set(m,b){this.h=m,this.g=b,this.next=null}reset(){this.next=this.g=this.h=null}}let dt,_t=!1,N=new it,w=()=>{const u=Promise.resolve(void 0);dt=()=>{u.then(R)}};function R(){for(var u;u=J();){try{u.h.call(u.g)}catch(b){P(b)}var m=Z;m.j(u),m.h<100&&(m.h++,u.next=m.g,m.g=u)}_t=!1}function M(){this.u=this.u,this.C=this.C}M.prototype.u=!1,M.prototype.dispose=function(){this.u||(this.u=!0,this.N())},M.prototype[Symbol.dispose]=function(){this.dispose()},M.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function I(u,m){this.type=u,this.g=this.target=m,this.defaultPrevented=!1}I.prototype.h=function(){this.defaultPrevented=!0};var O=(function(){if(!f.addEventListener||!Object.defineProperty)return!1;var u=!1,m=Object.defineProperty({},"passive",{get:function(){u=!0}});try{const b=()=>{};f.addEventListener("test",b,m),f.removeEventListener("test",b,m)}catch{}return u})();function S(u){return/^[\s\xa0]*$/.test(u)}function pt(u,m){I.call(this,u?u.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,u&&this.init(u,m)}x(pt,I),pt.prototype.init=function(u,m){const b=this.type=u.type,A=u.changedTouches&&u.changedTouches.length?u.changedTouches[0]:null;this.target=u.target||u.srcElement,this.g=m,m=u.relatedTarget,m||(b=="mouseover"?m=u.fromElement:b=="mouseout"&&(m=u.toElement)),this.relatedTarget=m,A?(this.clientX=A.clientX!==void 0?A.clientX:A.pageX,this.clientY=A.clientY!==void 0?A.clientY:A.pageY,this.screenX=A.screenX||0,this.screenY=A.screenY||0):(this.clientX=u.clientX!==void 0?u.clientX:u.pageX,this.clientY=u.clientY!==void 0?u.clientY:u.pageY,this.screenX=u.screenX||0,this.screenY=u.screenY||0),this.button=u.button,this.key=u.key||"",this.ctrlKey=u.ctrlKey,this.altKey=u.altKey,this.shiftKey=u.shiftKey,this.metaKey=u.metaKey,this.pointerId=u.pointerId||0,this.pointerType=u.pointerType,this.state=u.state,this.i=u,u.defaultPrevented&&pt.Z.h.call(this)},pt.prototype.h=function(){pt.Z.h.call(this);const u=this.i;u.preventDefault?u.preventDefault():u.returnValue=!1};var xt="closure_listenable_"+(Math.random()*1e6|0),F=0;function rt(u,m,b,A,k){this.listener=u,this.proxy=null,this.src=m,this.type=b,this.capture=!!A,this.ha=k,this.key=++F,this.da=this.fa=!1}function ft(u){u.da=!0,u.listener=null,u.proxy=null,u.src=null,u.ha=null}function zt(u,m,b){for(const A in u)m.call(b,u[A],A,u)}function Ht(u,m){for(const b in u)m.call(void 0,u[b],b,u)}function j(u){const m={};for(const b in u)m[b]=u[b];return m}const W="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function at(u,m){let b,A;for(let k=1;k<arguments.length;k++){A=arguments[k];for(b in A)u[b]=A[b];for(let G=0;G<W.length;G++)b=W[G],Object.prototype.hasOwnProperty.call(A,b)&&(u[b]=A[b])}}function lt(u){this.src=u,this.g={},this.h=0}lt.prototype.add=function(u,m,b,A,k){const G=u.toString();u=this.g[G],u||(u=this.g[G]=[],this.h++);const st=Tt(u,m,A,k);return st>-1?(m=u[st],b||(m.fa=!1)):(m=new rt(m,this.src,G,!!A,k),m.fa=b,u.push(m)),m};function ht(u,m){const b=m.type;if(b in u.g){var A=u.g[b],k=Array.prototype.indexOf.call(A,m,void 0),G;(G=k>=0)&&Array.prototype.splice.call(A,k,1),G&&(ft(m),u.g[b].length==0&&(delete u.g[b],u.h--))}}function Tt(u,m,b,A){for(let k=0;k<u.length;++k){const G=u[k];if(!G.da&&G.listener==m&&G.capture==!!b&&G.ha==A)return k}return-1}var Lt="closure_lm_"+(Math.random()*1e6|0),Ie={};function se(u,m,b,A,k){if(Array.isArray(m)){for(let G=0;G<m.length;G++)se(u,m[G],b,A,k);return null}return b=Ws(b),u&&u[xt]?u.J(m,b,p(A)?!!A.capture:!1,k):Xa(u,m,b,!1,A,k)}function Xa(u,m,b,A,k,G){if(!m)throw Error("Invalid event type");const st=p(k)?!!k.capture:!!k;let Rt=$a(u);if(Rt||(u[Lt]=Rt=new lt(u)),b=Rt.add(m,b,A,st,G),b.proxy)return b;if(A=kr(),b.proxy=A,A.src=u,A.listener=b,u.addEventListener)O||(k=st),k===void 0&&(k=!1),u.addEventListener(m.toString(),A,k);else if(u.attachEvent)u.attachEvent(Wn(m.toString()),A);else if(u.addListener&&u.removeListener)u.addListener(A);else throw Error("addEventListener and attachEvent are unavailable.");return b}function kr(){function u(b){return m.call(u.src,u.listener,b)}const m=Zs;return u}function Br(u,m,b,A,k){if(Array.isArray(m))for(var G=0;G<m.length;G++)Br(u,m[G],b,A,k);else A=p(A)?!!A.capture:!!A,b=Ws(b),u&&u[xt]?(u=u.i,G=String(m).toString(),G in u.g&&(m=u.g[G],b=Tt(m,b,A,k),b>-1&&(ft(m[b]),Array.prototype.splice.call(m,b,1),m.length==0&&(delete u.g[G],u.h--)))):u&&(u=$a(u))&&(m=u.g[m.toString()],u=-1,m&&(u=Tt(m,b,A,k)),(b=u>-1?m[u]:null)&&qr(b))}function qr(u){if(typeof u!="number"&&u&&!u.da){var m=u.src;if(m&&m[xt])ht(m.i,u);else{var b=u.type,A=u.proxy;m.removeEventListener?m.removeEventListener(b,A,u.capture):m.detachEvent?m.detachEvent(Wn(b),A):m.addListener&&m.removeListener&&m.removeListener(A),(b=$a(m))?(ht(b,u),b.h==0&&(b.src=null,m[Lt]=null)):ft(u)}}}function Wn(u){return u in Ie?Ie[u]:Ie[u]="on"+u}function Zs(u,m){if(u.da)u=!0;else{m=new pt(m,this);const b=u.listener,A=u.ha||u.src;u.fa&&qr(u),u=b.call(A,m)}return u}function $a(u){return u=u[Lt],u instanceof lt?u:null}var Js="__closure_events_fn_"+(Math.random()*1e9>>>0);function Ws(u){return typeof u=="function"?u:(u[Js]||(u[Js]=function(m){return u.handleEvent(m)}),u[Js])}function _e(){M.call(this),this.i=new lt(this),this.M=this,this.G=null}x(_e,M),_e.prototype[xt]=!0,_e.prototype.removeEventListener=function(u,m,b,A){Br(this,u,m,b,A)};function Ve(u,m){var b,A=u.G;if(A)for(b=[];A;A=A.G)b.push(A);if(u=u.M,A=m.type||m,typeof m=="string")m=new I(m,u);else if(m instanceof I)m.target=m.target||u;else{var k=m;m=new I(A,u),at(m,k)}k=!0;let G,st;if(b)for(st=b.length-1;st>=0;st--)G=m.g=b[st],k=na(G,A,!0,m)&&k;if(G=m.g=u,k=na(G,A,!0,m)&&k,k=na(G,A,!1,m)&&k,b)for(st=0;st<b.length;st++)G=m.g=b[st],k=na(G,A,!1,m)&&k}_e.prototype.N=function(){if(_e.Z.N.call(this),this.i){var u=this.i;for(const m in u.g){const b=u.g[m];for(let A=0;A<b.length;A++)ft(b[A]);delete u.g[m],u.h--}}this.G=null},_e.prototype.J=function(u,m,b,A){return this.i.add(String(u),m,!1,b,A)},_e.prototype.K=function(u,m,b,A){return this.i.add(String(u),m,!0,b,A)};function na(u,m,b,A){if(m=u.i.g[String(m)],!m)return!0;m=m.concat();let k=!0;for(let G=0;G<m.length;++G){const st=m[G];if(st&&!st.da&&st.capture==b){const Rt=st.listener,me=st.ha||st.src;st.fa&&ht(u.i,st),k=Rt.call(me,A)!==!1&&k}}return k&&!A.defaultPrevented}function hh(u,m){if(typeof u!="function")if(u&&typeof u.handleEvent=="function")u=y(u.handleEvent,u);else throw Error("Invalid listener argument");return Number(m)>2147483647?-1:f.setTimeout(u,m||0)}function Uo(u){u.g=hh(()=>{u.g=null,u.i&&(u.i=!1,Uo(u))},u.l);const m=u.h;u.h=null,u.m.apply(null,m)}class Je extends M{constructor(m,b){super(),this.m=m,this.l=b,this.h=null,this.i=!1,this.g=null}j(m){this.h=arguments,this.g?this.i=!0:Uo(this)}N(){super.N(),this.g&&(f.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Za(u){M.call(this),this.h=u,this.g={}}x(Za,M);var tl=[];function el(u){zt(u.g,function(m,b){this.g.hasOwnProperty(b)&&qr(m)},u),u.g={}}Za.prototype.N=function(){Za.Z.N.call(this),el(this)},Za.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var ia=f.JSON.stringify,fh=f.JSON.parse,Lo=class{stringify(u){return f.JSON.stringify(u,void 0)}parse(u){return f.JSON.parse(u,void 0)}};function Po(){}function ko(){}var kn={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function Pe(){I.call(this,"d")}x(Pe,I);function xn(){I.call(this,"c")}x(xn,I);var de={},Bo=null;function Hr(){return Bo=Bo||new _e}de.Ia="serverreachability";function qo(u){I.call(this,de.Ia,u)}x(qo,I);function ti(u){const m=Hr();Ve(m,new qo(m))}de.STAT_EVENT="statevent";function Ja(u,m){I.call(this,de.STAT_EVENT,u),this.stat=m}x(Ja,I);function be(u){const m=Hr();Ve(m,new Ja(m,u))}de.Ja="timingevent";function ei(u,m){I.call(this,de.Ja,u),this.size=m}x(ei,I);function ni(u,m){if(typeof u!="function")throw Error("Fn must not be null and must be a function");return f.setTimeout(function(){u()},m)}function Bn(){this.g=!0}Bn.prototype.ua=function(){this.g=!1};function dh(u,m,b,A,k,G){u.info(function(){if(u.g)if(G){var st="",Rt=G.split("&");for(let Ft=0;Ft<Rt.length;Ft++){var me=Rt[Ft].split("=");if(me.length>1){const le=me[0];me=me[1];const Rn=le.split("_");st=Rn.length>=2&&Rn[1]=="type"?st+(le+"="+me+"&"):st+(le+"=redacted&")}}}else st=null;else st=G;return"XMLHTTP REQ ("+A+") [attempt "+k+"]: "+m+`
`+b+`
`+st})}function Ho(u,m,b,A,k,G,st){u.info(function(){return"XMLHTTP RESP ("+A+") [ attempt "+k+"]: "+m+`
`+b+`
`+G+" "+st})}function ii(u,m,b,A){u.info(function(){return"XMLHTTP TEXT ("+m+"): "+mh(u,b)+(A?" "+A:"")})}function Wa(u,m){u.info(function(){return"TIMEOUT: "+m})}Bn.prototype.info=function(){};function mh(u,m){if(!u.g)return m;if(!m)return null;try{const G=JSON.parse(m);if(G){for(u=0;u<G.length;u++)if(Array.isArray(G[u])){var b=G[u];if(!(b.length<2)){var A=b[1];if(Array.isArray(A)&&!(A.length<1)){var k=A[0];if(k!="noop"&&k!="stop"&&k!="close")for(let st=1;st<A.length;st++)A[st]=""}}}}return ia(G)}catch{return m}}var tr={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},nl={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},il;function er(){}x(er,Po),er.prototype.g=function(){return new XMLHttpRequest},il=new er;function Di(u){return encodeURIComponent(String(u))}function Fo(u){var m=1;u=u.split(":");const b=[];for(;m>0&&u.length;)b.push(u.shift()),m--;return u.length&&b.push(u.join(":")),b}function qn(u,m,b,A){this.j=u,this.i=m,this.l=b,this.S=A||1,this.V=new Za(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new Hn}function Hn(){this.i=null,this.g="",this.h=!1}var Ee={},Oe={};function ai(u,m,b){u.M=1,u.A=nr(xe(m)),u.u=b,u.R=!0,Fr(u,null)}function Fr(u,m){u.F=Date.now(),ri(u),u.B=xe(u.A);var b=u.B,A=u.S;Array.isArray(A)||(A=[String(A)]),Kr(b.i,"t",A),u.C=0,b=u.j.L,u.h=new Hn,u.g=ru(u.j,b?m:null,!u.u),u.P>0&&(u.O=new Je(y(u.Y,u,u.g),u.P)),m=u.V,b=u.g,A=u.ba;var k="readystatechange";Array.isArray(k)||(k&&(tl[0]=k.toString()),k=tl);for(let G=0;G<k.length;G++){const st=se(b,k[G],A||m.handleEvent,!1,m.h||m);if(!st)break;m.g[st.key]=st}m=u.J?j(u.J):{},u.u?(u.v||(u.v="POST"),m["Content-Type"]="application/x-www-form-urlencoded",u.g.ea(u.B,u.v,u.u,m)):(u.v="GET",u.g.ea(u.B,u.v,null,m)),ti(),dh(u.i,u.v,u.B,u.l,u.S,u.u)}qn.prototype.ba=function(u){u=u.target;const m=this.O;m&&Qn(u)==3?m.j():this.Y(u)},qn.prototype.Y=function(u){try{if(u==this.g)t:{const Rt=Qn(this.g),me=this.g.ya(),Ft=this.g.ca();if(!(Rt<3)&&(Rt!=3||this.g&&(this.h.h||this.g.la()||ke(this.g)))){this.K||Rt!=4||me==7||(me==8||Ft<=0?ti(3):ti(2)),si(this);var m=this.g.ca();this.X=m;var b=ph(this);if(this.o=m==200,Ho(this.i,this.v,this.B,this.l,this.S,Rt,m),this.o){if(this.U&&!this.L){e:{if(this.g){var A,k=this.g;if((A=k.g?k.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!S(A)){var G=A;break e}}G=null}if(u=G)ii(this.i,this.l,u,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,li(this,u);else{this.o=!1,this.m=3,be(12),fn(this),An(this);break t}}if(this.R){u=!0;let le;for(;!this.K&&this.C<b.length;)if(le=Qo(this,b),le==Oe){Rt==4&&(this.m=4,be(14),u=!1),ii(this.i,this.l,null,"[Incomplete Response]");break}else if(le==Ee){this.m=4,be(15),ii(this.i,this.l,b,"[Invalid Chunk]"),u=!1;break}else ii(this.i,this.l,le,null),li(this,le);if(Go(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Rt!=4||b.length!=0||this.h.h||(this.m=1,be(16),u=!1),this.o=this.o&&u,!u)ii(this.i,this.l,b,"[Invalid Chunked Response]"),fn(this),An(this);else if(b.length>0&&!this.W){this.W=!0;var st=this.j;st.g==this&&st.aa&&!st.P&&(st.j.info("Great, no buffering proxy detected. Bytes received: "+b.length),vl(st),st.P=!0,be(11))}}else ii(this.i,this.l,b,null),li(this,b);Rt==4&&fn(this),this.o&&!this.K&&(Rt==4?eu(this.j,this):(this.o=!1,ri(this)))}else Vi(this.g),m==400&&b.indexOf("Unknown SID")>0?(this.m=3,be(12)):(this.m=0,be(13)),fn(this),An(this)}}}catch{}finally{}};function ph(u){if(!Go(u))return u.g.la();const m=ke(u.g);if(m==="")return"";let b="";const A=m.length,k=Qn(u.g)==4;if(!u.h.i){if(typeof TextDecoder>"u")return fn(u),An(u),"";u.h.i=new f.TextDecoder}for(let G=0;G<A;G++)u.h.h=!0,b+=u.h.i.decode(m[G],{stream:!(k&&G==A-1)});return m.length=0,u.h.g+=b,u.C=0,u.h.g}function Go(u){return u.g?u.v=="GET"&&u.M!=2&&u.j.Aa:!1}function Qo(u,m){var b=u.C,A=m.indexOf(`
`,b);return A==-1?Oe:(b=Number(m.substring(b,A)),isNaN(b)?Ee:(A+=1,A+b>m.length?Oe:(m=m.slice(A,A+b),u.C=A+b,m)))}qn.prototype.cancel=function(){this.K=!0,fn(this)};function ri(u){u.T=Date.now()+u.H,Gr(u,u.H)}function Gr(u,m){if(u.D!=null)throw Error("WatchDog timer not null");u.D=ni(y(u.aa,u),m)}function si(u){u.D&&(f.clearTimeout(u.D),u.D=null)}qn.prototype.aa=function(){this.D=null;const u=Date.now();u-this.T>=0?(Wa(this.i,this.B),this.M!=2&&(ti(),be(17)),fn(this),this.m=2,An(this)):Gr(this,this.T-u)};function An(u){u.j.I==0||u.K||eu(u.j,u)}function fn(u){si(u);var m=u.O;m&&typeof m.dispose=="function"&&m.dispose(),u.O=null,el(u.V),u.g&&(m=u.g,u.g=null,m.abort(),m.dispose())}function li(u,m){try{var b=u.j;if(b.I!=0&&(b.g==u||ui(b.h,u))){if(!u.L&&ui(b.h,u)&&b.I==3){try{var A=b.Ba.g.parse(m)}catch{A=null}if(Array.isArray(A)&&A.length==3){var k=A;if(k[0]==0){t:if(!b.v){if(b.g)if(b.g.F+3e3<u.F)Wr(b),ha(b);else break t;ur(b),be(18)}}else b.xa=k[1],0<b.xa-b.K&&k[2]<37500&&b.F&&b.A==0&&!b.C&&(b.C=ni(y(b.Va,b),6e3));oi(b.h)<=1&&b.ta&&(b.ta=void 0)}else pi(b,11)}else if((u.L||b.g==u)&&Wr(b),!S(m))for(k=b.Ba.g.parse(m),m=0;m<k.length;m++){let Ft=k[m];const le=Ft[0];if(!(le<=b.K))if(b.K=le,Ft=Ft[1],b.I==2)if(Ft[0]=="c"){b.M=Ft[1],b.ba=Ft[2];const Rn=Ft[3];Rn!=null&&(b.ka=Rn,b.j.info("VER="+b.ka));const gi=Ft[4];gi!=null&&(b.za=gi,b.j.info("SVER="+b.za));const Yn=Ft[5];Yn!=null&&typeof Yn=="number"&&Yn>0&&(A=1.5*Yn,b.O=A,b.j.info("backChannelRequestTimeoutMs_="+A)),A=b;const Kn=u.g;if(Kn){const cr=Kn.g?Kn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(cr){var G=A.h;G.g||cr.indexOf("spdy")==-1&&cr.indexOf("quic")==-1&&cr.indexOf("h2")==-1||(G.j=G.l,G.g=new Set,G.h&&(sl(G,G.h),G.h=null))}if(A.G){const ts=Kn.g?Kn.g.getResponseHeader("X-HTTP-Session-Id"):null;ts&&(A.wa=ts,Yt(A.J,A.G,ts))}}b.I=3,b.l&&b.l.ra(),b.aa&&(b.T=Date.now()-u.F,b.j.info("Handshake RTT: "+b.T+"ms")),A=b;var st=u;if(A.na=au(A,A.L?A.ba:null,A.W),st.L){ll(A.h,st);var Rt=st,me=A.O;me&&(Rt.H=me),Rt.D&&(si(Rt),ri(Rt)),A.g=st}else Wo(A);b.i.length>0&&mi(b)}else Ft[0]!="stop"&&Ft[0]!="close"||pi(b,7);else b.I==3&&(Ft[0]=="stop"||Ft[0]=="close"?Ft[0]=="stop"?pi(b,7):gl(b):Ft[0]!="noop"&&b.l&&b.l.qa(Ft),b.A=0)}}ti(4)}catch{}}var Te=class{constructor(u,m){this.g=u,this.map=m}};function al(u){this.l=u||10,f.PerformanceNavigationTiming?(u=f.performance.getEntriesByType("navigation"),u=u.length>0&&(u[0].nextHopProtocol=="hq"||u[0].nextHopProtocol=="h2")):u=!!(f.chrome&&f.chrome.loadTimes&&f.chrome.loadTimes()&&f.chrome.loadTimes().wasFetchedViaSpdy),this.j=u?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function rl(u){return u.h?!0:u.g?u.g.size>=u.j:!1}function oi(u){return u.h?1:u.g?u.g.size:0}function ui(u,m){return u.h?u.h==m:u.g?u.g.has(m):!1}function sl(u,m){u.g?u.g.add(m):u.h=m}function ll(u,m){u.h&&u.h==m?u.h=null:u.g&&u.g.has(m)&&u.g.delete(m)}al.prototype.cancel=function(){if(this.i=ol(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const u of this.g.values())u.cancel();this.g.clear()}};function ol(u){if(u.h!=null)return u.i.concat(u.h.G);if(u.g!=null&&u.g.size!==0){let m=u.i;for(const b of u.g.values())m=m.concat(b.G);return m}return U(u.i)}var Yo=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Qr(u,m){if(u){u=u.split("&");for(let b=0;b<u.length;b++){const A=u[b].indexOf("=");let k,G=null;A>=0?(k=u[b].substring(0,A),G=u[b].substring(A+1)):k=u[b],m(k,G?decodeURIComponent(G.replace(/\+/g," ")):"")}}}function dn(u){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let m;u instanceof dn?(this.l=u.l,ze(this,u.j),this.o=u.o,this.g=u.g,aa(this,u.u),this.h=u.h,ul(this,Zo(u.i)),this.m=u.m):u&&(m=String(u).match(Yo))?(this.l=!1,ze(this,m[1]||"",!0),this.o=ci(m[2]||""),this.g=ci(m[3]||"",!0),aa(this,m[4]),this.h=ci(m[5]||"",!0),ul(this,m[6]||"",!0),this.m=ci(m[7]||"")):(this.l=!1,this.i=new sa(null,this.l))}dn.prototype.toString=function(){const u=[];var m=this.j;m&&u.push(ir(m,Yr,!0),":");var b=this.g;return(b||m=="file")&&(u.push("//"),(m=this.o)&&u.push(ir(m,Yr,!0),"@"),u.push(Di(b).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),b=this.u,b!=null&&u.push(":",String(b))),(b=this.h)&&(this.g&&b.charAt(0)!="/"&&u.push("/"),u.push(ir(b,b.charAt(0)=="/"?cl:Ko,!0))),(b=this.i.toString())&&u.push("?",b),(b=this.m)&&u.push("#",ir(b,Xo)),u.join("")},dn.prototype.resolve=function(u){const m=xe(this);let b=!!u.j;b?ze(m,u.j):b=!!u.o,b?m.o=u.o:b=!!u.g,b?m.g=u.g:b=u.u!=null;var A=u.h;if(b)aa(m,u.u);else if(b=!!u.h){if(A.charAt(0)!="/")if(this.g&&!this.h)A="/"+A;else{var k=m.h.lastIndexOf("/");k!=-1&&(A=m.h.slice(0,k+1)+A)}if(k=A,k==".."||k==".")A="";else if(k.indexOf("./")!=-1||k.indexOf("/.")!=-1){A=k.lastIndexOf("/",0)==0,k=k.split("/");const G=[];for(let st=0;st<k.length;){const Rt=k[st++];Rt=="."?A&&st==k.length&&G.push(""):Rt==".."?((G.length>1||G.length==1&&G[0]!="")&&G.pop(),A&&st==k.length&&G.push("")):(G.push(Rt),A=!0)}A=G.join("/")}else A=k}return b?m.h=A:b=u.i.toString()!=="",b?ul(m,Zo(u.i)):b=!!u.m,b&&(m.m=u.m),m};function xe(u){return new dn(u)}function ze(u,m,b){u.j=b?ci(m,!0):m,u.j&&(u.j=u.j.replace(/:$/,""))}function aa(u,m){if(m){if(m=Number(m),isNaN(m)||m<0)throw Error("Bad port number "+m);u.u=m}else u.u=null}function ul(u,m,b){m instanceof sa?(u.i=m,Xr(u.i,u.l)):(b||(m=ir(m,ra)),u.i=new sa(m,u.l))}function Yt(u,m,b){u.i.set(m,b)}function nr(u){return Yt(u,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),u}function ci(u,m){return u?m?decodeURI(u.replace(/%25/g,"%2525")):decodeURIComponent(u):""}function ir(u,m,b){return typeof u=="string"?(u=encodeURI(u).replace(m,en),b&&(u=u.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),u):null}function en(u){return u=u.charCodeAt(0),"%"+(u>>4&15).toString(16)+(u&15).toString(16)}var Yr=/[#\/\?@]/g,Ko=/[#\?:]/g,cl=/[#\?]/g,ra=/[#\?@]/g,Xo=/#/g;function sa(u,m){this.h=this.g=null,this.i=u||null,this.j=!!m}function nn(u){u.g||(u.g=new Map,u.h=0,u.i&&Qr(u.i,function(m,b){u.add(decodeURIComponent(m.replace(/\+/g," ")),b)}))}r=sa.prototype,r.add=function(u,m){nn(this),this.i=null,u=la(this,u);let b=this.g.get(u);return b||this.g.set(u,b=[]),b.push(m),this.h+=1,this};function $o(u,m){nn(u),m=la(u,m),u.g.has(m)&&(u.i=null,u.h-=u.g.get(m).length,u.g.delete(m))}function hl(u,m){return nn(u),m=la(u,m),u.g.has(m)}r.forEach=function(u,m){nn(this),this.g.forEach(function(b,A){b.forEach(function(k){u.call(m,k,A,this)},this)},this)};function fl(u,m){nn(u);let b=[];if(typeof m=="string")hl(u,m)&&(b=b.concat(u.g.get(la(u,m))));else for(u=Array.from(u.g.values()),m=0;m<u.length;m++)b=b.concat(u[m]);return b}r.set=function(u,m){return nn(this),this.i=null,u=la(this,u),hl(this,u)&&(this.h-=this.g.get(u).length),this.g.set(u,[m]),this.h+=1,this},r.get=function(u,m){return u?(u=fl(this,u),u.length>0?String(u[0]):m):m};function Kr(u,m,b){$o(u,m),b.length>0&&(u.i=null,u.g.set(la(u,m),U(b)),u.h+=b.length)}r.toString=function(){if(this.i)return this.i;if(!this.g)return"";const u=[],m=Array.from(this.g.keys());for(let A=0;A<m.length;A++){var b=m[A];const k=Di(b);b=fl(this,b);for(let G=0;G<b.length;G++){let st=k;b[G]!==""&&(st+="="+Di(b[G])),u.push(st)}}return this.i=u.join("&")};function Zo(u){const m=new sa;return m.i=u.i,u.g&&(m.g=new Map(u.g),m.h=u.h),m}function la(u,m){return m=String(m),u.j&&(m=m.toLowerCase()),m}function Xr(u,m){m&&!u.j&&(nn(u),u.i=null,u.g.forEach(function(b,A){const k=A.toLowerCase();A!=k&&($o(this,A),Kr(this,k,b))},u)),u.j=m}function Fn(u,m){const b=new Bn;if(f.Image){const A=new Image;A.onload=E(Sn,b,"TestLoadImage: loaded",!0,m,A),A.onerror=E(Sn,b,"TestLoadImage: error",!1,m,A),A.onabort=E(Sn,b,"TestLoadImage: abort",!1,m,A),A.ontimeout=E(Sn,b,"TestLoadImage: timeout",!1,m,A),f.setTimeout(function(){A.ontimeout&&A.ontimeout()},1e4),A.src=u}else m(!1)}function dl(u,m){const b=new Bn,A=new AbortController,k=setTimeout(()=>{A.abort(),Sn(b,"TestPingServer: timeout",!1,m)},1e4);fetch(u,{signal:A.signal}).then(G=>{clearTimeout(k),G.ok?Sn(b,"TestPingServer: ok",!0,m):Sn(b,"TestPingServer: server error",!1,m)}).catch(()=>{clearTimeout(k),Sn(b,"TestPingServer: error",!1,m)})}function Sn(u,m,b,A,k){try{k&&(k.onload=null,k.onerror=null,k.onabort=null,k.ontimeout=null),A(b)}catch{}}function oa(){this.g=new Lo}function hi(u){this.i=u.Sb||null,this.h=u.ab||!1}x(hi,Po),hi.prototype.g=function(){return new ar(this.i,this.h)};function ar(u,m){_e.call(this),this.H=u,this.o=m,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}x(ar,_e),r=ar.prototype,r.open=function(u,m){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=u,this.D=m,this.readyState=1,Gn(this)},r.send=function(u){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const m={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};u&&(m.body=u),(this.H||f).fetch(new Request(this.D,m)).then(this.Pa.bind(this),this.ga.bind(this))},r.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,ua(this)),this.readyState=0},r.Pa=function(u){if(this.g&&(this.l=u,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=u.headers,this.readyState=2,Gn(this)),this.g&&(this.readyState=3,Gn(this),this.g)))if(this.responseType==="arraybuffer")u.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof f.ReadableStream<"u"&&"body"in u){if(this.j=u.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;$r(this)}else u.text().then(this.Oa.bind(this),this.ga.bind(this))};function $r(u){u.j.read().then(u.Ma.bind(u)).catch(u.ga.bind(u))}r.Ma=function(u){if(this.g){if(this.o&&u.value)this.response.push(u.value);else if(!this.o){var m=u.value?u.value:new Uint8Array(0);(m=this.B.decode(m,{stream:!u.done}))&&(this.response=this.responseText+=m)}u.done?ua(this):Gn(this),this.readyState==3&&$r(this)}},r.Oa=function(u){this.g&&(this.response=this.responseText=u,ua(this))},r.Na=function(u){this.g&&(this.response=u,ua(this))},r.ga=function(){this.g&&ua(this)};function ua(u){u.readyState=4,u.l=null,u.j=null,u.B=null,Gn(u)}r.setRequestHeader=function(u,m){this.A.append(u,m)},r.getResponseHeader=function(u){return this.h&&this.h.get(u.toLowerCase())||""},r.getAllResponseHeaders=function(){if(!this.h)return"";const u=[],m=this.h.entries();for(var b=m.next();!b.done;)b=b.value,u.push(b[0]+": "+b[1]),b=m.next();return u.join(`\r
`)};function Gn(u){u.onreadystatechange&&u.onreadystatechange.call(u)}Object.defineProperty(ar.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(u){this.m=u?"include":"same-origin"}});function wn(u){let m="";return zt(u,function(b,A){m+=A,m+=":",m+=b,m+=`\r
`}),m}function rr(u,m,b){t:{for(A in b){var A=!1;break t}A=!0}A||(b=wn(b),typeof u=="string"?b!=null&&Di(b):Yt(u,m,b))}function Zt(u){_e.call(this),this.headers=new Map,this.L=u||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}x(Zt,_e);var fi=/^https?$/i,ml=["POST","PUT"];r=Zt.prototype,r.Fa=function(u){this.H=u},r.ea=function(u,m,b,A){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+u);m=m?m.toUpperCase():"GET",this.D=u,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():il.g(),this.g.onreadystatechange=C(y(this.Ca,this));try{this.B=!0,this.g.open(m,String(u),!0),this.B=!1}catch(G){sr(this,G);return}if(u=b||"",b=new Map(this.headers),A)if(Object.getPrototypeOf(A)===Object.prototype)for(var k in A)b.set(k,A[k]);else if(typeof A.keys=="function"&&typeof A.get=="function")for(const G of A.keys())b.set(G,A.get(G));else throw Error("Unknown input type for opt_headers: "+String(A));A=Array.from(b.keys()).find(G=>G.toLowerCase()=="content-type"),k=f.FormData&&u instanceof f.FormData,!(Array.prototype.indexOf.call(ml,m,void 0)>=0)||A||k||b.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[G,st]of b)this.g.setRequestHeader(G,st);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(u),this.v=!1}catch(G){sr(this,G)}};function sr(u,m){u.h=!1,u.g&&(u.j=!0,u.g.abort(),u.j=!1),u.l=m,u.o=5,pl(u),Ii(u)}function pl(u){u.A||(u.A=!0,Ve(u,"complete"),Ve(u,"error"))}r.abort=function(u){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=u||7,Ve(this,"complete"),Ve(this,"abort"),Ii(this))},r.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Ii(this,!0)),Zt.Z.N.call(this)},r.Ca=function(){this.u||(this.B||this.v||this.j?lr(this):this.Xa())},r.Xa=function(){lr(this)};function lr(u){if(u.h&&typeof c<"u"){if(u.v&&Qn(u)==4)setTimeout(u.Ca.bind(u),0);else if(Ve(u,"readystatechange"),Qn(u)==4){u.h=!1;try{const G=u.ca();t:switch(G){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var m=!0;break t;default:m=!1}var b;if(!(b=m)){var A;if(A=G===0){let st=String(u.D).match(Yo)[1]||null;!st&&f.self&&f.self.location&&(st=f.self.location.protocol.slice(0,-1)),A=!fi.test(st?st.toLowerCase():"")}b=A}if(b)Ve(u,"complete"),Ve(u,"success");else{u.o=6;try{var k=Qn(u)>2?u.g.statusText:""}catch{k=""}u.l=k+" ["+u.ca()+"]",pl(u)}}finally{Ii(u)}}}}function Ii(u,m){if(u.g){u.m&&(clearTimeout(u.m),u.m=null);const b=u.g;u.g=null,m||Ve(u,"ready");try{b.onreadystatechange=null}catch{}}}r.isActive=function(){return!!this.g};function Qn(u){return u.g?u.g.readyState:0}r.ca=function(){try{return Qn(this)>2?this.g.status:-1}catch{return-1}},r.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},r.La=function(u){if(this.g){var m=this.g.responseText;return u&&m.indexOf(u)==0&&(m=m.substring(u.length)),fh(m)}};function ke(u){try{if(!u.g)return null;if("response"in u.g)return u.g.response;switch(u.F){case"":case"text":return u.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in u.g)return u.g.mozResponseArrayBuffer}return null}catch{return null}}function Vi(u){const m={};u=(u.g&&Qn(u)>=2&&u.g.getAllResponseHeaders()||"").split(`\r
`);for(let A=0;A<u.length;A++){if(S(u[A]))continue;var b=Fo(u[A]);const k=b[0];if(b=b[1],typeof b!="string")continue;b=b.trim();const G=m[k]||[];m[k]=G,G.push(b)}Ht(m,function(A){return A.join(", ")})}r.ya=function(){return this.o},r.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function di(u,m,b){return b&&b.internalChannelParams&&b.internalChannelParams[u]||m}function ca(u){this.za=0,this.i=[],this.j=new Bn,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=di("failFast",!1,u),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=di("baseRetryDelayMs",5e3,u),this.Za=di("retryDelaySeedMs",1e4,u),this.Ta=di("forwardChannelMaxRetries",2,u),this.va=di("forwardChannelRequestTimeoutMs",2e4,u),this.ma=u&&u.xmlHttpFactory||void 0,this.Ua=u&&u.Rb||void 0,this.Aa=u&&u.useFetchStreams||!1,this.O=void 0,this.L=u&&u.supportsCrossDomainXhr||!1,this.M="",this.h=new al(u&&u.concurrentRequestLimit),this.Ba=new oa,this.S=u&&u.fastHandshake||!1,this.R=u&&u.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=u&&u.Pb||!1,u&&u.ua&&this.j.ua(),u&&u.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&u&&u.detectBufferingProxy||!1,this.ia=void 0,u&&u.longPollingTimeout&&u.longPollingTimeout>0&&(this.ia=u.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}r=ca.prototype,r.ka=8,r.I=1,r.connect=function(u,m,b,A){be(0),this.W=u,this.H=m||{},b&&A!==void 0&&(this.H.OSID=b,this.H.OAID=A),this.F=this.X,this.J=au(this,null,this.W),mi(this)};function gl(u){if(Zr(u),u.I==3){var m=u.V++,b=xe(u.J);if(Yt(b,"SID",u.M),Yt(b,"RID",m),Yt(b,"TYPE","terminate"),or(u,b),m=new qn(u,u.j,m),m.M=2,m.A=nr(xe(b)),b=!1,f.navigator&&f.navigator.sendBeacon)try{b=f.navigator.sendBeacon(m.A.toString(),"")}catch{}!b&&f.Image&&(new Image().src=m.A,b=!0),b||(m.g=ru(m.j,null),m.g.ea(m.A)),m.F=Date.now(),ri(m)}iu(u)}function ha(u){u.g&&(vl(u),u.g.cancel(),u.g=null)}function Zr(u){ha(u),u.v&&(f.clearTimeout(u.v),u.v=null),Wr(u),u.h.cancel(),u.m&&(typeof u.m=="number"&&f.clearTimeout(u.m),u.m=null)}function mi(u){if(!rl(u.h)&&!u.m){u.m=!0;var m=u.Ea;dt||w(),_t||(dt(),_t=!0),N.add(m,u),u.D=0}}function Jr(u,m){return oi(u.h)>=u.h.j-(u.m?1:0)?!1:u.m?(u.i=m.G.concat(u.i),!0):u.I==1||u.I==2||u.D>=(u.Sa?0:u.Ta)?!1:(u.m=ni(y(u.Ea,u,m),nu(u,u.D)),u.D++,!0)}r.Ea=function(u){if(this.m)if(this.m=null,this.I==1){if(!u){this.V=Math.floor(Math.random()*1e5),u=this.V++;const k=new qn(this,this.j,u);let G=this.o;if(this.U&&(G?(G=j(G),at(G,this.U)):G=this.U),this.u!==null||this.R||(k.J=G,G=null),this.S)t:{for(var m=0,b=0;b<this.i.length;b++){e:{var A=this.i[b];if("__data__"in A.map&&(A=A.map.__data__,typeof A=="string")){A=A.length;break e}A=void 0}if(A===void 0)break;if(m+=A,m>4096){m=b;break t}if(m===4096||b===this.i.length-1){m=b+1;break t}}m=1e3}else m=1e3;m=Jo(this,k,m),b=xe(this.J),Yt(b,"RID",u),Yt(b,"CVER",22),this.G&&Yt(b,"X-HTTP-Session-Id",this.G),or(this,b),G&&(this.R?m="headers="+Di(wn(G))+"&"+m:this.u&&rr(b,this.u,G)),sl(this.h,k),this.Ra&&Yt(b,"TYPE","init"),this.S?(Yt(b,"$req",m),Yt(b,"SID","null"),k.U=!0,ai(k,b,null)):ai(k,b,m),this.I=2}}else this.I==3&&(u?yl(this,u):this.i.length==0||rl(this.h)||yl(this))};function yl(u,m){var b;m?b=m.l:b=u.V++;const A=xe(u.J);Yt(A,"SID",u.M),Yt(A,"RID",b),Yt(A,"AID",u.K),or(u,A),u.u&&u.o&&rr(A,u.u,u.o),b=new qn(u,u.j,b,u.D+1),u.u===null&&(b.J=u.o),m&&(u.i=m.G.concat(u.i)),m=Jo(u,b,1e3),b.H=Math.round(u.va*.5)+Math.round(u.va*.5*Math.random()),sl(u.h,b),ai(b,A,m)}function or(u,m){u.H&&zt(u.H,function(b,A){Yt(m,A,b)}),u.l&&zt({},function(b,A){Yt(m,A,b)})}function Jo(u,m,b){b=Math.min(u.i.length,b);const A=u.l?y(u.l.Ka,u.l,u):null;t:{var k=u.i;let Rt=-1;for(;;){const me=["count="+b];Rt==-1?b>0?(Rt=k[0].g,me.push("ofs="+Rt)):Rt=0:me.push("ofs="+Rt);let Ft=!0;for(let le=0;le<b;le++){var G=k[le].g;const Rn=k[le].map;if(G-=Rt,G<0)Rt=Math.max(0,k[le].g-100),Ft=!1;else try{G="req"+G+"_"||"";try{var st=Rn instanceof Map?Rn:Object.entries(Rn);for(const[gi,Yn]of st){let Kn=Yn;p(Yn)&&(Kn=ia(Yn)),me.push(G+gi+"="+encodeURIComponent(Kn))}}catch(gi){throw me.push(G+"type="+encodeURIComponent("_badmap")),gi}}catch{A&&A(Rn)}}if(Ft){st=me.join("&");break t}}st=void 0}return u=u.i.splice(0,b),m.G=u,st}function Wo(u){if(!u.g&&!u.v){u.Y=1;var m=u.Da;dt||w(),_t||(dt(),_t=!0),N.add(m,u),u.A=0}}function ur(u){return u.g||u.v||u.A>=3?!1:(u.Y++,u.v=ni(y(u.Da,u),nu(u,u.A)),u.A++,!0)}r.Da=function(){if(this.v=null,tu(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var u=4*this.T;this.j.info("BP detection timer enabled: "+u),this.B=ni(y(this.Wa,this),u)}},r.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,be(10),ha(this),tu(this))};function vl(u){u.B!=null&&(f.clearTimeout(u.B),u.B=null)}function tu(u){u.g=new qn(u,u.j,"rpc",u.Y),u.u===null&&(u.g.J=u.o),u.g.P=0;var m=xe(u.na);Yt(m,"RID","rpc"),Yt(m,"SID",u.M),Yt(m,"AID",u.K),Yt(m,"CI",u.F?"0":"1"),!u.F&&u.ia&&Yt(m,"TO",u.ia),Yt(m,"TYPE","xmlhttp"),or(u,m),u.u&&u.o&&rr(m,u.u,u.o),u.O&&(u.g.H=u.O);var b=u.g;u=u.ba,b.M=1,b.A=nr(xe(m)),b.u=null,b.R=!0,Fr(b,u)}r.Va=function(){this.C!=null&&(this.C=null,ha(this),ur(this),be(19))};function Wr(u){u.C!=null&&(f.clearTimeout(u.C),u.C=null)}function eu(u,m){var b=null;if(u.g==m){Wr(u),vl(u),u.g=null;var A=2}else if(ui(u.h,m))b=m.G,ll(u.h,m),A=1;else return;if(u.I!=0){if(m.o)if(A==1){b=m.u?m.u.length:0,m=Date.now()-m.F;var k=u.D;A=Hr(),Ve(A,new ei(A,b)),mi(u)}else Wo(u);else if(k=m.m,k==3||k==0&&m.X>0||!(A==1&&Jr(u,m)||A==2&&ur(u)))switch(b&&b.length>0&&(m=u.h,m.i=m.i.concat(b)),k){case 1:pi(u,5);break;case 4:pi(u,10);break;case 3:pi(u,6);break;default:pi(u,2)}}}function nu(u,m){let b=u.Qa+Math.floor(Math.random()*u.Za);return u.isActive()||(b*=2),b*m}function pi(u,m){if(u.j.info("Error code "+m),m==2){var b=y(u.bb,u),A=u.Ua;const k=!A;A=new dn(A||"//www.google.com/images/cleardot.gif"),f.location&&f.location.protocol=="http"||ze(A,"https"),nr(A),k?Fn(A.toString(),b):dl(A.toString(),b)}else be(2);u.I=0,u.l&&u.l.pa(m),iu(u),Zr(u)}r.bb=function(u){u?(this.j.info("Successfully pinged google.com"),be(2)):(this.j.info("Failed to ping google.com"),be(1))};function iu(u){if(u.I=0,u.ja=[],u.l){const m=ol(u.h);(m.length!=0||u.i.length!=0)&&(Y(u.ja,m),Y(u.ja,u.i),u.h.i.length=0,U(u.i),u.i.length=0),u.l.oa()}}function au(u,m,b){var A=b instanceof dn?xe(b):new dn(b);if(A.g!="")m&&(A.g=m+"."+A.g),aa(A,A.u);else{var k=f.location;A=k.protocol,m=m?m+"."+k.hostname:k.hostname,k=+k.port;const G=new dn(null);A&&ze(G,A),m&&(G.g=m),k&&aa(G,k),b&&(G.h=b),A=G}return b=u.G,m=u.wa,b&&m&&Yt(A,b,m),Yt(A,"VER",u.ka),or(u,A),A}function ru(u,m,b){if(m&&!u.L)throw Error("Can't create secondary domain capable XhrIo object.");return m=u.Aa&&!u.ma?new Zt(new hi({ab:b})):new Zt(u.ma),m.Fa(u.L),m}r.isActive=function(){return!!this.l&&this.l.isActive(this)};function su(){}r=su.prototype,r.ra=function(){},r.qa=function(){},r.pa=function(){},r.oa=function(){},r.isActive=function(){return!0},r.Ka=function(){};function fa(){}fa.prototype.g=function(u,m){return new We(u,m)};function We(u,m){_e.call(this),this.g=new ca(m),this.l=u,this.h=m&&m.messageUrlParams||null,u=m&&m.messageHeaders||null,m&&m.clientProtocolHeaderRequired&&(u?u["X-Client-Protocol"]="webchannel":u={"X-Client-Protocol":"webchannel"}),this.g.o=u,u=m&&m.initMessageHeaders||null,m&&m.messageContentType&&(u?u["X-WebChannel-Content-Type"]=m.messageContentType:u={"X-WebChannel-Content-Type":m.messageContentType}),m&&m.sa&&(u?u["X-WebChannel-Client-Profile"]=m.sa:u={"X-WebChannel-Client-Profile":m.sa}),this.g.U=u,(u=m&&m.Qb)&&!S(u)&&(this.g.u=u),this.A=m&&m.supportsCrossDomainXhr||!1,this.v=m&&m.sendRawJson||!1,(m=m&&m.httpSessionIdParam)&&!S(m)&&(this.g.G=m,u=this.h,u!==null&&m in u&&(u=this.h,m in u&&delete u[m])),this.j=new Mi(this)}x(We,_e),We.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},We.prototype.close=function(){gl(this.g)},We.prototype.o=function(u){var m=this.g;if(typeof u=="string"){var b={};b.__data__=u,u=b}else this.v&&(b={},b.__data__=ia(u),u=b);m.i.push(new Te(m.Ya++,u)),m.I==3&&mi(m)},We.prototype.N=function(){this.g.l=null,delete this.j,gl(this.g),delete this.g,We.Z.N.call(this)};function lu(u){Pe.call(this),u.__headers__&&(this.headers=u.__headers__,this.statusCode=u.__status__,delete u.__headers__,delete u.__status__);var m=u.__sm__;if(m){t:{for(const b in m){u=b;break t}u=void 0}(this.i=u)&&(u=this.i,m=m!==null&&u in m?m[u]:void 0),this.data=m}else this.data=u}x(lu,Pe);function ou(){xn.call(this),this.status=1}x(ou,xn);function Mi(u){this.g=u}x(Mi,su),Mi.prototype.ra=function(){Ve(this.g,"a")},Mi.prototype.qa=function(u){Ve(this.g,new lu(u))},Mi.prototype.pa=function(u){Ve(this.g,new ou)},Mi.prototype.oa=function(){Ve(this.g,"b")},fa.prototype.createWebChannel=fa.prototype.g,We.prototype.send=We.prototype.o,We.prototype.open=We.prototype.m,We.prototype.close=We.prototype.close,T_=function(){return new fa},E_=function(){return Hr()},b_=de,jd={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},tr.NO_ERROR=0,tr.TIMEOUT=8,tr.HTTP_ERROR=6,bc=tr,nl.COMPLETE="complete",__=nl,ko.EventType=kn,kn.OPEN="a",kn.CLOSE="b",kn.ERROR="c",kn.MESSAGE="d",_e.prototype.listen=_e.prototype.J,so=ko,Zt.prototype.listenOnce=Zt.prototype.K,Zt.prototype.getLastError=Zt.prototype.Ha,Zt.prototype.getLastErrorCode=Zt.prototype.ya,Zt.prototype.getStatus=Zt.prototype.ca,Zt.prototype.getResponseJson=Zt.prototype.La,Zt.prototype.getResponseText=Zt.prototype.la,Zt.prototype.send=Zt.prototype.ea,Zt.prototype.setWithCredentials=Zt.prototype.Fa,v_=Zt}).apply(typeof dc<"u"?dc:typeof self<"u"?self:typeof window<"u"?window:{});const H0="@firebase/firestore",F0="4.9.2";let $e=class{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}};$e.UNAUTHENTICATED=new $e(null),$e.GOOGLE_CREDENTIALS=new $e("google-credentials-uid"),$e.FIRST_PARTY=new $e("first-party-uid"),$e.MOCK_USER=new $e("mock-user");let Qs="12.3.0";const Ir=new h_("@firebase/firestore");function Ds(){return Ir.logLevel}function ut(r,...e){if(Ir.logLevel<=kt.DEBUG){const i=e.map(cm);Ir.debug(`Firestore (${Qs}): ${r}`,...i)}}function Wi(r,...e){if(Ir.logLevel<=kt.ERROR){const i=e.map(cm);Ir.error(`Firestore (${Qs}): ${r}`,...i)}}function Us(r,...e){if(Ir.logLevel<=kt.WARN){const i=e.map(cm);Ir.warn(`Firestore (${Qs}): ${r}`,...i)}}function cm(r){if(typeof r=="string")return r;try{return(function(i){return JSON.stringify(i)})(r)}catch{return r}}function Et(r,e,i){let s="Unexpected state";typeof e=="string"?s=e:i=e,x_(r,s,i)}function x_(r,e,i){let s=`FIRESTORE (${Qs}) INTERNAL ASSERTION FAILED: ${e} (ID: ${r.toString(16)})`;if(i!==void 0)try{s+=" CONTEXT: "+JSON.stringify(i)}catch{s+=" CONTEXT: "+i}throw Wi(s),new Error(s)}function Qt(r,e,i,s){let o="Unexpected state";typeof i=="string"?o=i:s=i,r||x_(e,o,s)}function wt(r,e){return r}const et={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class ot extends Gs{constructor(e,i){super(e,i),this.code=e,this.message=i,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class Cr{constructor(){this.promise=new Promise(((e,i)=>{this.resolve=e,this.reject=i}))}}class A_{constructor(e,i){this.user=i,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class aA{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,i){e.enqueueRetryable((()=>i($e.UNAUTHENTICATED)))}shutdown(){}}class rA{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,i){this.changeListener=i,e.enqueueRetryable((()=>i(this.token.user)))}shutdown(){this.changeListener=null}}class sA{constructor(e){this.t=e,this.currentUser=$e.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,i){Qt(this.o===void 0,42304);let s=this.i;const o=g=>this.i!==s?(s=this.i,i(g)):Promise.resolve();let c=new Cr;this.o=()=>{this.i++,this.currentUser=this.u(),c.resolve(),c=new Cr,e.enqueueRetryable((()=>o(this.currentUser)))};const f=()=>{const g=c;e.enqueueRetryable((async()=>{await g.promise,await o(this.currentUser)}))},p=g=>{ut("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=g,this.o&&(this.auth.addAuthTokenListener(this.o),f())};this.t.onInit((g=>p(g))),setTimeout((()=>{if(!this.auth){const g=this.t.getImmediate({optional:!0});g?p(g):(ut("FirebaseAuthCredentialsProvider","Auth not yet detected"),c.resolve(),c=new Cr)}}),0),f()}getToken(){const e=this.i,i=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(i).then((s=>this.i!==e?(ut("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):s?(Qt(typeof s.accessToken=="string",31837,{l:s}),new A_(s.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Qt(e===null||typeof e=="string",2055,{h:e}),new $e(e)}}class lA{constructor(e,i,s){this.P=e,this.T=i,this.I=s,this.type="FirstParty",this.user=$e.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class oA{constructor(e,i,s){this.P=e,this.T=i,this.I=s}getToken(){return Promise.resolve(new lA(this.P,this.T,this.I))}start(e,i){e.enqueueRetryable((()=>i($e.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class G0{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class uA{constructor(e,i){this.V=i,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,Bx(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,i){Qt(this.o===void 0,3512);const s=c=>{c.error!=null&&ut("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${c.error.message}`);const f=c.token!==this.m;return this.m=c.token,ut("FirebaseAppCheckTokenProvider",`Received ${f?"new":"existing"} token.`),f?i(c.token):Promise.resolve()};this.o=c=>{e.enqueueRetryable((()=>s(c)))};const o=c=>{ut("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=c,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((c=>o(c))),setTimeout((()=>{if(!this.appCheck){const c=this.V.getImmediate({optional:!0});c?o(c):ut("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new G0(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((i=>i?(Qt(typeof i.token=="string",44558,{tokenResult:i}),this.m=i.token,new G0(i.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}function cA(r){const e=typeof self<"u"&&(self.crypto||self.msCrypto),i=new Uint8Array(r);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(i);else for(let s=0;s<r;s++)i[s]=Math.floor(256*Math.random());return i}class hm{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",i=62*Math.floor(4.129032258064516);let s="";for(;s.length<20;){const o=cA(40);for(let c=0;c<o.length;++c)s.length<20&&o[c]<i&&(s+=e.charAt(o[c]%62))}return s}}function jt(r,e){return r<e?-1:r>e?1:0}function Od(r,e){const i=Math.min(r.length,e.length);for(let s=0;s<i;s++){const o=r.charAt(s),c=e.charAt(s);if(o!==c)return Td(o)===Td(c)?jt(o,c):Td(o)?1:-1}return jt(r.length,e.length)}const hA=55296,fA=57343;function Td(r){const e=r.charCodeAt(0);return e>=hA&&e<=fA}function Ls(r,e,i){return r.length===e.length&&r.every(((s,o)=>i(s,e[o])))}const Q0="__name__";class Ti{constructor(e,i,s){i===void 0?i=0:i>e.length&&Et(637,{offset:i,range:e.length}),s===void 0?s=e.length-i:s>e.length-i&&Et(1746,{length:s,range:e.length-i}),this.segments=e,this.offset=i,this.len=s}get length(){return this.len}isEqual(e){return Ti.comparator(this,e)===0}child(e){const i=this.segments.slice(this.offset,this.limit());return e instanceof Ti?e.forEach((s=>{i.push(s)})):i.push(e),this.construct(i)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==e.get(i))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==e.get(i))return!1;return!0}forEach(e){for(let i=this.offset,s=this.limit();i<s;i++)e(this.segments[i])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,i){const s=Math.min(e.length,i.length);for(let o=0;o<s;o++){const c=Ti.compareSegments(e.get(o),i.get(o));if(c!==0)return c}return jt(e.length,i.length)}static compareSegments(e,i){const s=Ti.isNumericId(e),o=Ti.isNumericId(i);return s&&!o?-1:!s&&o?1:s&&o?Ti.extractNumericId(e).compare(Ti.extractNumericId(i)):Od(e,i)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return La.fromString(e.substring(4,e.length-2))}}class ne extends Ti{construct(e,i,s){return new ne(e,i,s)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const i=[];for(const s of e){if(s.indexOf("//")>=0)throw new ot(et.INVALID_ARGUMENT,`Invalid segment (${s}). Paths must not contain // in them.`);i.push(...s.split("/").filter((o=>o.length>0)))}return new ne(i)}static emptyPath(){return new ne([])}}const dA=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Qe extends Ti{construct(e,i,s){return new Qe(e,i,s)}static isValidIdentifier(e){return dA.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Qe.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===Q0}static keyField(){return new Qe([Q0])}static fromServerFormat(e){const i=[];let s="",o=0;const c=()=>{if(s.length===0)throw new ot(et.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);i.push(s),s=""};let f=!1;for(;o<e.length;){const p=e[o];if(p==="\\"){if(o+1===e.length)throw new ot(et.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const g=e[o+1];if(g!=="\\"&&g!=="."&&g!=="`")throw new ot(et.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);s+=g,o+=2}else p==="`"?(f=!f,o++):p!=="."||f?(s+=p,o++):(c(),o++)}if(c(),f)throw new ot(et.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Qe(i)}static emptyPath(){return new Qe([])}}class yt{constructor(e){this.path=e}static fromPath(e){return new yt(ne.fromString(e))}static fromName(e){return new yt(ne.fromString(e).popFirst(5))}static empty(){return new yt(ne.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&ne.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,i){return ne.comparator(e.path,i.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new yt(new ne(e.slice()))}}function S_(r,e,i){if(!i)throw new ot(et.INVALID_ARGUMENT,`Function ${r}() cannot be called with an empty ${e}.`)}function mA(r,e,i,s){if(e===!0&&s===!0)throw new ot(et.INVALID_ARGUMENT,`${r} and ${i} cannot be used together.`)}function Y0(r){if(!yt.isDocumentKey(r))throw new ot(et.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${r} has ${r.length}.`)}function K0(r){if(yt.isDocumentKey(r))throw new ot(et.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${r} has ${r.length}.`)}function w_(r){return typeof r=="object"&&r!==null&&(Object.getPrototypeOf(r)===Object.prototype||Object.getPrototypeOf(r)===null)}function Yc(r){if(r===void 0)return"undefined";if(r===null)return"null";if(typeof r=="string")return r.length>20&&(r=`${r.substring(0,20)}...`),JSON.stringify(r);if(typeof r=="number"||typeof r=="boolean")return""+r;if(typeof r=="object"){if(r instanceof Array)return"an array";{const e=(function(s){return s.constructor?s.constructor.name:null})(r);return e?`a custom ${e} object`:"an object"}}return typeof r=="function"?"a function":Et(12329,{type:typeof r})}function xi(r,e){if("_delegate"in r&&(r=r._delegate),!(r instanceof e)){if(e.name===r.constructor.name)throw new ot(et.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const i=Yc(r);throw new ot(et.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${i}`)}}return r}function De(r,e){const i={typeString:r};return e&&(i.value=e),i}function Io(r,e){if(!w_(r))throw new ot(et.INVALID_ARGUMENT,"JSON must be an object");let i;for(const s in e)if(e[s]){const o=e[s].typeString,c="value"in e[s]?{value:e[s].value}:void 0;if(!(s in r)){i=`JSON missing required field: '${s}'`;break}const f=r[s];if(o&&typeof f!==o){i=`JSON field '${s}' must be a ${o}.`;break}if(c!==void 0&&f!==c.value){i=`Expected '${s}' field to equal '${c.value}'`;break}}if(i)throw new ot(et.INVALID_ARGUMENT,i);return!0}const X0=-62135596800,$0=1e6;class re{static now(){return re.fromMillis(Date.now())}static fromDate(e){return re.fromMillis(e.getTime())}static fromMillis(e){const i=Math.floor(e/1e3),s=Math.floor((e-1e3*i)*$0);return new re(i,s)}constructor(e,i){if(this.seconds=e,this.nanoseconds=i,i<0)throw new ot(et.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(i>=1e9)throw new ot(et.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(e<X0)throw new ot(et.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new ot(et.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/$0}_compareTo(e){return this.seconds===e.seconds?jt(this.nanoseconds,e.nanoseconds):jt(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:re._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(Io(e,re._jsonSchema))return new re(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-X0;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}re._jsonSchemaVersion="firestore/timestamp/1.0",re._jsonSchema={type:De("string",re._jsonSchemaVersion),seconds:De("number"),nanoseconds:De("number")};class At{static fromTimestamp(e){return new At(e)}static min(){return new At(new re(0,0))}static max(){return new At(new re(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}const bo=-1;function pA(r,e){const i=r.toTimestamp().seconds,s=r.toTimestamp().nanoseconds+1,o=At.fromTimestamp(s===1e9?new re(i+1,0):new re(i,s));return new ka(o,yt.empty(),e)}function gA(r){return new ka(r.readTime,r.key,bo)}class ka{constructor(e,i,s){this.readTime=e,this.documentKey=i,this.largestBatchId=s}static min(){return new ka(At.min(),yt.empty(),bo)}static max(){return new ka(At.max(),yt.empty(),bo)}}function yA(r,e){let i=r.readTime.compareTo(e.readTime);return i!==0?i:(i=yt.comparator(r.documentKey,e.documentKey),i!==0?i:jt(r.largestBatchId,e.largestBatchId))}const vA="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class _A{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}async function Ys(r){if(r.code!==et.FAILED_PRECONDITION||r.message!==vA)throw r;ut("LocalStore","Unexpectedly lost primary lease")}class nt{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((i=>{this.isDone=!0,this.result=i,this.nextCallback&&this.nextCallback(i)}),(i=>{this.isDone=!0,this.error=i,this.catchCallback&&this.catchCallback(i)}))}catch(e){return this.next(void 0,e)}next(e,i){return this.callbackAttached&&Et(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(i,this.error):this.wrapSuccess(e,this.result):new nt(((s,o)=>{this.nextCallback=c=>{this.wrapSuccess(e,c).next(s,o)},this.catchCallback=c=>{this.wrapFailure(i,c).next(s,o)}}))}toPromise(){return new Promise(((e,i)=>{this.next(e,i)}))}wrapUserFunction(e){try{const i=e();return i instanceof nt?i:nt.resolve(i)}catch(i){return nt.reject(i)}}wrapSuccess(e,i){return e?this.wrapUserFunction((()=>e(i))):nt.resolve(i)}wrapFailure(e,i){return e?this.wrapUserFunction((()=>e(i))):nt.reject(i)}static resolve(e){return new nt(((i,s)=>{i(e)}))}static reject(e){return new nt(((i,s)=>{s(e)}))}static waitFor(e){return new nt(((i,s)=>{let o=0,c=0,f=!1;e.forEach((p=>{++o,p.next((()=>{++c,f&&c===o&&i()}),(g=>s(g)))})),f=!0,c===o&&i()}))}static or(e){let i=nt.resolve(!1);for(const s of e)i=i.next((o=>o?nt.resolve(o):s()));return i}static forEach(e,i){const s=[];return e.forEach(((o,c)=>{s.push(i.call(this,o,c))})),this.waitFor(s)}static mapArray(e,i){return new nt(((s,o)=>{const c=e.length,f=new Array(c);let p=0;for(let g=0;g<c;g++){const y=g;i(e[y]).next((E=>{f[y]=E,++p,p===c&&s(f)}),(E=>o(E)))}}))}static doWhile(e,i){return new nt(((s,o)=>{const c=()=>{e()===!0?i().next((()=>{c()}),o):s()};c()}))}}function bA(r){const e=r.match(/Android ([\d.]+)/i),i=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(i)}function Ks(r){return r.name==="IndexedDbTransactionError"}class Kc{constructor(e,i){this.previousValue=e,i&&(i.sequenceNumberHandler=s=>this.ae(s),this.ue=s=>i.writeSequenceNumber(s))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}Kc.ce=-1;const fm=-1;function Xc(r){return r==null}function Vc(r){return r===0&&1/r==-1/0}function EA(r){return typeof r=="number"&&Number.isInteger(r)&&!Vc(r)&&r<=Number.MAX_SAFE_INTEGER&&r>=Number.MIN_SAFE_INTEGER}const R_="";function TA(r){let e="";for(let i=0;i<r.length;i++)e.length>0&&(e=Z0(e)),e=xA(r.get(i),e);return Z0(e)}function xA(r,e){let i=e;const s=r.length;for(let o=0;o<s;o++){const c=r.charAt(o);switch(c){case"\0":i+="";break;case R_:i+="";break;default:i+=c}}return i}function Z0(r){return r+R_+""}function J0(r){let e=0;for(const i in r)Object.prototype.hasOwnProperty.call(r,i)&&e++;return e}function Ya(r,e){for(const i in r)Object.prototype.hasOwnProperty.call(r,i)&&e(i,r[i])}function C_(r){for(const e in r)if(Object.prototype.hasOwnProperty.call(r,e))return!1;return!0}class ce{constructor(e,i){this.comparator=e,this.root=i||Ge.EMPTY}insert(e,i){return new ce(this.comparator,this.root.insert(e,i,this.comparator).copy(null,null,Ge.BLACK,null,null))}remove(e){return new ce(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Ge.BLACK,null,null))}get(e){let i=this.root;for(;!i.isEmpty();){const s=this.comparator(e,i.key);if(s===0)return i.value;s<0?i=i.left:s>0&&(i=i.right)}return null}indexOf(e){let i=0,s=this.root;for(;!s.isEmpty();){const o=this.comparator(e,s.key);if(o===0)return i+s.left.size;o<0?s=s.left:(i+=s.left.size+1,s=s.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((i,s)=>(e(i,s),!1)))}toString(){const e=[];return this.inorderTraversal(((i,s)=>(e.push(`${i}:${s}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new mc(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new mc(this.root,e,this.comparator,!1)}getReverseIterator(){return new mc(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new mc(this.root,e,this.comparator,!0)}}class mc{constructor(e,i,s,o){this.isReverse=o,this.nodeStack=[];let c=1;for(;!e.isEmpty();)if(c=i?s(e.key,i):1,i&&o&&(c*=-1),c<0)e=this.isReverse?e.left:e.right;else{if(c===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const i={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return i}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Ge{constructor(e,i,s,o,c){this.key=e,this.value=i,this.color=s??Ge.RED,this.left=o??Ge.EMPTY,this.right=c??Ge.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,i,s,o,c){return new Ge(e??this.key,i??this.value,s??this.color,o??this.left,c??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,i,s){let o=this;const c=s(e,o.key);return o=c<0?o.copy(null,null,null,o.left.insert(e,i,s),null):c===0?o.copy(null,i,null,null,null):o.copy(null,null,null,null,o.right.insert(e,i,s)),o.fixUp()}removeMin(){if(this.left.isEmpty())return Ge.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,i){let s,o=this;if(i(e,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(e,i),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),i(e,o.key)===0){if(o.right.isEmpty())return Ge.EMPTY;s=o.right.min(),o=o.copy(s.key,s.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(e,i))}return o.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Ge.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Ge.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),i=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,i)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Et(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Et(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw Et(27949);return e+(this.isRed()?0:1)}}Ge.EMPTY=null,Ge.RED=!0,Ge.BLACK=!1;Ge.EMPTY=new class{constructor(){this.size=0}get key(){throw Et(57766)}get value(){throw Et(16141)}get color(){throw Et(16727)}get left(){throw Et(29726)}get right(){throw Et(36894)}copy(e,i,s,o,c){return this}insert(e,i,s){return new Ge(e,i)}remove(e,i){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class je{constructor(e){this.comparator=e,this.data=new ce(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((i,s)=>(e(i),!1)))}forEachInRange(e,i){const s=this.data.getIteratorFrom(e[0]);for(;s.hasNext();){const o=s.getNext();if(this.comparator(o.key,e[1])>=0)return;i(o.key)}}forEachWhile(e,i){let s;for(s=i!==void 0?this.data.getIteratorFrom(i):this.data.getIterator();s.hasNext();)if(!e(s.getNext().key))return}firstAfterOrEqual(e){const i=this.data.getIteratorFrom(e);return i.hasNext()?i.getNext().key:null}getIterator(){return new W0(this.data.getIterator())}getIteratorFrom(e){return new W0(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let i=this;return i.size<e.size&&(i=e,e=this),e.forEach((s=>{i=i.add(s)})),i}isEqual(e){if(!(e instanceof je)||this.size!==e.size)return!1;const i=this.data.getIterator(),s=e.data.getIterator();for(;i.hasNext();){const o=i.getNext().key,c=s.getNext().key;if(this.comparator(o,c)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((i=>{e.push(i)})),e}toString(){const e=[];return this.forEach((i=>e.push(i))),"SortedSet("+e.toString()+")"}copy(e){const i=new je(this.comparator);return i.data=e,i}}class W0{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class En{constructor(e){this.fields=e,e.sort(Qe.comparator)}static empty(){return new En([])}unionWith(e){let i=new je(Qe.comparator);for(const s of this.fields)i=i.add(s);for(const s of e)i=i.add(s);return new En(i.toArray())}covers(e){for(const i of this.fields)if(i.isPrefixOf(e))return!0;return!1}isEqual(e){return Ls(this.fields,e.fields,((i,s)=>i.isEqual(s)))}}class N_ extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class Ye{constructor(e){this.binaryString=e}static fromBase64String(e){const i=(function(o){try{return atob(o)}catch(c){throw typeof DOMException<"u"&&c instanceof DOMException?new N_("Invalid base64 string: "+c):c}})(e);return new Ye(i)}static fromUint8Array(e){const i=(function(o){let c="";for(let f=0;f<o.length;++f)c+=String.fromCharCode(o[f]);return c})(e);return new Ye(i)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(i){return btoa(i)})(this.binaryString)}toUint8Array(){return(function(i){const s=new Uint8Array(i.length);for(let o=0;o<i.length;o++)s[o]=i.charCodeAt(o);return s})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return jt(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Ye.EMPTY_BYTE_STRING=new Ye("");const AA=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Ba(r){if(Qt(!!r,39018),typeof r=="string"){let e=0;const i=AA.exec(r);if(Qt(!!i,46558,{timestamp:r}),i[1]){let o=i[1];o=(o+"000000000").substr(0,9),e=Number(o)}const s=new Date(r);return{seconds:Math.floor(s.getTime()/1e3),nanos:e}}return{seconds:ye(r.seconds),nanos:ye(r.nanos)}}function ye(r){return typeof r=="number"?r:typeof r=="string"?Number(r):0}function qa(r){return typeof r=="string"?Ye.fromBase64String(r):Ye.fromUint8Array(r)}const D_="server_timestamp",I_="__type__",V_="__previous_value__",M_="__local_write_time__";function dm(r){return(r?.mapValue?.fields||{})[I_]?.stringValue===D_}function $c(r){const e=r.mapValue.fields[V_];return dm(e)?$c(e):e}function Eo(r){const e=Ba(r.mapValue.fields[M_].timestampValue);return new re(e.seconds,e.nanos)}class SA{constructor(e,i,s,o,c,f,p,g,y,E){this.databaseId=e,this.appId=i,this.persistenceKey=s,this.host=o,this.ssl=c,this.forceLongPolling=f,this.autoDetectLongPolling=p,this.longPollingOptions=g,this.useFetchStreams=y,this.isUsingEmulator=E}}const Mc="(default)";class To{constructor(e,i){this.projectId=e,this.database=i||Mc}static empty(){return new To("","")}get isDefaultDatabase(){return this.database===Mc}isEqual(e){return e instanceof To&&e.projectId===this.projectId&&e.database===this.database}}const j_="__type__",wA="__max__",pc={mapValue:{}},O_="__vector__",jc="value";function Ha(r){return"nullValue"in r?0:"booleanValue"in r?1:"integerValue"in r||"doubleValue"in r?2:"timestampValue"in r?3:"stringValue"in r?5:"bytesValue"in r?6:"referenceValue"in r?7:"geoPointValue"in r?8:"arrayValue"in r?9:"mapValue"in r?dm(r)?4:CA(r)?9007199254740991:RA(r)?10:11:Et(28295,{value:r})}function Ni(r,e){if(r===e)return!0;const i=Ha(r);if(i!==Ha(e))return!1;switch(i){case 0:case 9007199254740991:return!0;case 1:return r.booleanValue===e.booleanValue;case 4:return Eo(r).isEqual(Eo(e));case 3:return(function(o,c){if(typeof o.timestampValue=="string"&&typeof c.timestampValue=="string"&&o.timestampValue.length===c.timestampValue.length)return o.timestampValue===c.timestampValue;const f=Ba(o.timestampValue),p=Ba(c.timestampValue);return f.seconds===p.seconds&&f.nanos===p.nanos})(r,e);case 5:return r.stringValue===e.stringValue;case 6:return(function(o,c){return qa(o.bytesValue).isEqual(qa(c.bytesValue))})(r,e);case 7:return r.referenceValue===e.referenceValue;case 8:return(function(o,c){return ye(o.geoPointValue.latitude)===ye(c.geoPointValue.latitude)&&ye(o.geoPointValue.longitude)===ye(c.geoPointValue.longitude)})(r,e);case 2:return(function(o,c){if("integerValue"in o&&"integerValue"in c)return ye(o.integerValue)===ye(c.integerValue);if("doubleValue"in o&&"doubleValue"in c){const f=ye(o.doubleValue),p=ye(c.doubleValue);return f===p?Vc(f)===Vc(p):isNaN(f)&&isNaN(p)}return!1})(r,e);case 9:return Ls(r.arrayValue.values||[],e.arrayValue.values||[],Ni);case 10:case 11:return(function(o,c){const f=o.mapValue.fields||{},p=c.mapValue.fields||{};if(J0(f)!==J0(p))return!1;for(const g in f)if(f.hasOwnProperty(g)&&(p[g]===void 0||!Ni(f[g],p[g])))return!1;return!0})(r,e);default:return Et(52216,{left:r})}}function xo(r,e){return(r.values||[]).find((i=>Ni(i,e)))!==void 0}function Ps(r,e){if(r===e)return 0;const i=Ha(r),s=Ha(e);if(i!==s)return jt(i,s);switch(i){case 0:case 9007199254740991:return 0;case 1:return jt(r.booleanValue,e.booleanValue);case 2:return(function(c,f){const p=ye(c.integerValue||c.doubleValue),g=ye(f.integerValue||f.doubleValue);return p<g?-1:p>g?1:p===g?0:isNaN(p)?isNaN(g)?0:-1:1})(r,e);case 3:return tv(r.timestampValue,e.timestampValue);case 4:return tv(Eo(r),Eo(e));case 5:return Od(r.stringValue,e.stringValue);case 6:return(function(c,f){const p=qa(c),g=qa(f);return p.compareTo(g)})(r.bytesValue,e.bytesValue);case 7:return(function(c,f){const p=c.split("/"),g=f.split("/");for(let y=0;y<p.length&&y<g.length;y++){const E=jt(p[y],g[y]);if(E!==0)return E}return jt(p.length,g.length)})(r.referenceValue,e.referenceValue);case 8:return(function(c,f){const p=jt(ye(c.latitude),ye(f.latitude));return p!==0?p:jt(ye(c.longitude),ye(f.longitude))})(r.geoPointValue,e.geoPointValue);case 9:return ev(r.arrayValue,e.arrayValue);case 10:return(function(c,f){const p=c.fields||{},g=f.fields||{},y=p[jc]?.arrayValue,E=g[jc]?.arrayValue,x=jt(y?.values?.length||0,E?.values?.length||0);return x!==0?x:ev(y,E)})(r.mapValue,e.mapValue);case 11:return(function(c,f){if(c===pc.mapValue&&f===pc.mapValue)return 0;if(c===pc.mapValue)return 1;if(f===pc.mapValue)return-1;const p=c.fields||{},g=Object.keys(p),y=f.fields||{},E=Object.keys(y);g.sort(),E.sort();for(let x=0;x<g.length&&x<E.length;++x){const C=Od(g[x],E[x]);if(C!==0)return C;const U=Ps(p[g[x]],y[E[x]]);if(U!==0)return U}return jt(g.length,E.length)})(r.mapValue,e.mapValue);default:throw Et(23264,{he:i})}}function tv(r,e){if(typeof r=="string"&&typeof e=="string"&&r.length===e.length)return jt(r,e);const i=Ba(r),s=Ba(e),o=jt(i.seconds,s.seconds);return o!==0?o:jt(i.nanos,s.nanos)}function ev(r,e){const i=r.values||[],s=e.values||[];for(let o=0;o<i.length&&o<s.length;++o){const c=Ps(i[o],s[o]);if(c)return c}return jt(i.length,s.length)}function ks(r){return zd(r)}function zd(r){return"nullValue"in r?"null":"booleanValue"in r?""+r.booleanValue:"integerValue"in r?""+r.integerValue:"doubleValue"in r?""+r.doubleValue:"timestampValue"in r?(function(i){const s=Ba(i);return`time(${s.seconds},${s.nanos})`})(r.timestampValue):"stringValue"in r?r.stringValue:"bytesValue"in r?(function(i){return qa(i).toBase64()})(r.bytesValue):"referenceValue"in r?(function(i){return yt.fromName(i).toString()})(r.referenceValue):"geoPointValue"in r?(function(i){return`geo(${i.latitude},${i.longitude})`})(r.geoPointValue):"arrayValue"in r?(function(i){let s="[",o=!0;for(const c of i.values||[])o?o=!1:s+=",",s+=zd(c);return s+"]"})(r.arrayValue):"mapValue"in r?(function(i){const s=Object.keys(i.fields||{}).sort();let o="{",c=!0;for(const f of s)c?c=!1:o+=",",o+=`${f}:${zd(i.fields[f])}`;return o+"}"})(r.mapValue):Et(61005,{value:r})}function Ec(r){switch(Ha(r)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=$c(r);return e?16+Ec(e):16;case 5:return 2*r.stringValue.length;case 6:return qa(r.bytesValue).approximateByteSize();case 7:return r.referenceValue.length;case 9:return(function(s){return(s.values||[]).reduce(((o,c)=>o+Ec(c)),0)})(r.arrayValue);case 10:case 11:return(function(s){let o=0;return Ya(s.fields,((c,f)=>{o+=c.length+Ec(f)})),o})(r.mapValue);default:throw Et(13486,{value:r})}}function nv(r,e){return{referenceValue:`projects/${r.projectId}/databases/${r.database}/documents/${e.path.canonicalString()}`}}function Ud(r){return!!r&&"integerValue"in r}function mm(r){return!!r&&"arrayValue"in r}function iv(r){return!!r&&"nullValue"in r}function av(r){return!!r&&"doubleValue"in r&&isNaN(Number(r.doubleValue))}function Tc(r){return!!r&&"mapValue"in r}function RA(r){return(r?.mapValue?.fields||{})[j_]?.stringValue===O_}function fo(r){if(r.geoPointValue)return{geoPointValue:{...r.geoPointValue}};if(r.timestampValue&&typeof r.timestampValue=="object")return{timestampValue:{...r.timestampValue}};if(r.mapValue){const e={mapValue:{fields:{}}};return Ya(r.mapValue.fields,((i,s)=>e.mapValue.fields[i]=fo(s))),e}if(r.arrayValue){const e={arrayValue:{values:[]}};for(let i=0;i<(r.arrayValue.values||[]).length;++i)e.arrayValue.values[i]=fo(r.arrayValue.values[i]);return e}return{...r}}function CA(r){return(((r.mapValue||{}).fields||{}).__type__||{}).stringValue===wA}class hn{constructor(e){this.value=e}static empty(){return new hn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let i=this.value;for(let s=0;s<e.length-1;++s)if(i=(i.mapValue.fields||{})[e.get(s)],!Tc(i))return null;return i=(i.mapValue.fields||{})[e.lastSegment()],i||null}}set(e,i){this.getFieldsMap(e.popLast())[e.lastSegment()]=fo(i)}setAll(e){let i=Qe.emptyPath(),s={},o=[];e.forEach(((f,p)=>{if(!i.isImmediateParentOf(p)){const g=this.getFieldsMap(i);this.applyChanges(g,s,o),s={},o=[],i=p.popLast()}f?s[p.lastSegment()]=fo(f):o.push(p.lastSegment())}));const c=this.getFieldsMap(i);this.applyChanges(c,s,o)}delete(e){const i=this.field(e.popLast());Tc(i)&&i.mapValue.fields&&delete i.mapValue.fields[e.lastSegment()]}isEqual(e){return Ni(this.value,e.value)}getFieldsMap(e){let i=this.value;i.mapValue.fields||(i.mapValue={fields:{}});for(let s=0;s<e.length;++s){let o=i.mapValue.fields[e.get(s)];Tc(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},i.mapValue.fields[e.get(s)]=o),i=o}return i.mapValue.fields}applyChanges(e,i,s){Ya(i,((o,c)=>e[o]=c));for(const o of s)delete e[o]}clone(){return new hn(fo(this.value))}}function z_(r){const e=[];return Ya(r.fields,((i,s)=>{const o=new Qe([i]);if(Tc(s)){const c=z_(s.mapValue).fields;if(c.length===0)e.push(o);else for(const f of c)e.push(o.child(f))}else e.push(o)})),new En(e)}class Ze{constructor(e,i,s,o,c,f,p){this.key=e,this.documentType=i,this.version=s,this.readTime=o,this.createTime=c,this.data=f,this.documentState=p}static newInvalidDocument(e){return new Ze(e,0,At.min(),At.min(),At.min(),hn.empty(),0)}static newFoundDocument(e,i,s,o){return new Ze(e,1,i,At.min(),s,o,0)}static newNoDocument(e,i){return new Ze(e,2,i,At.min(),At.min(),hn.empty(),0)}static newUnknownDocument(e,i){return new Ze(e,3,i,At.min(),At.min(),hn.empty(),2)}convertToFoundDocument(e,i){return!this.createTime.isEqual(At.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=i,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=hn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=hn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=At.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Ze&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Ze(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class Oc{constructor(e,i){this.position=e,this.inclusive=i}}function rv(r,e,i){let s=0;for(let o=0;o<r.position.length;o++){const c=e[o],f=r.position[o];if(c.field.isKeyField()?s=yt.comparator(yt.fromName(f.referenceValue),i.key):s=Ps(f,i.data.field(c.field)),c.dir==="desc"&&(s*=-1),s!==0)break}return s}function sv(r,e){if(r===null)return e===null;if(e===null||r.inclusive!==e.inclusive||r.position.length!==e.position.length)return!1;for(let i=0;i<r.position.length;i++)if(!Ni(r.position[i],e.position[i]))return!1;return!0}class Ao{constructor(e,i="asc"){this.field=e,this.dir=i}}function NA(r,e){return r.dir===e.dir&&r.field.isEqual(e.field)}class U_{}class Ne extends U_{constructor(e,i,s){super(),this.field=e,this.op=i,this.value=s}static create(e,i,s){return e.isKeyField()?i==="in"||i==="not-in"?this.createKeyFieldInFilter(e,i,s):new IA(e,i,s):i==="array-contains"?new jA(e,s):i==="in"?new OA(e,s):i==="not-in"?new zA(e,s):i==="array-contains-any"?new UA(e,s):new Ne(e,i,s)}static createKeyFieldInFilter(e,i,s){return i==="in"?new VA(e,s):new MA(e,s)}matches(e){const i=e.data.field(this.field);return this.op==="!="?i!==null&&i.nullValue===void 0&&this.matchesComparison(Ps(i,this.value)):i!==null&&Ha(this.value)===Ha(i)&&this.matchesComparison(Ps(i,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Et(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Jn extends U_{constructor(e,i){super(),this.filters=e,this.op=i,this.Pe=null}static create(e,i){return new Jn(e,i)}matches(e){return L_(this)?this.filters.find((i=>!i.matches(e)))===void 0:this.filters.find((i=>i.matches(e)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((e,i)=>e.concat(i.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function L_(r){return r.op==="and"}function P_(r){return DA(r)&&L_(r)}function DA(r){for(const e of r.filters)if(e instanceof Jn)return!1;return!0}function Ld(r){if(r instanceof Ne)return r.field.canonicalString()+r.op.toString()+ks(r.value);if(P_(r))return r.filters.map((e=>Ld(e))).join(",");{const e=r.filters.map((i=>Ld(i))).join(",");return`${r.op}(${e})`}}function k_(r,e){return r instanceof Ne?(function(s,o){return o instanceof Ne&&s.op===o.op&&s.field.isEqual(o.field)&&Ni(s.value,o.value)})(r,e):r instanceof Jn?(function(s,o){return o instanceof Jn&&s.op===o.op&&s.filters.length===o.filters.length?s.filters.reduce(((c,f,p)=>c&&k_(f,o.filters[p])),!0):!1})(r,e):void Et(19439)}function B_(r){return r instanceof Ne?(function(i){return`${i.field.canonicalString()} ${i.op} ${ks(i.value)}`})(r):r instanceof Jn?(function(i){return i.op.toString()+" {"+i.getFilters().map(B_).join(" ,")+"}"})(r):"Filter"}class IA extends Ne{constructor(e,i,s){super(e,i,s),this.key=yt.fromName(s.referenceValue)}matches(e){const i=yt.comparator(e.key,this.key);return this.matchesComparison(i)}}class VA extends Ne{constructor(e,i){super(e,"in",i),this.keys=q_("in",i)}matches(e){return this.keys.some((i=>i.isEqual(e.key)))}}class MA extends Ne{constructor(e,i){super(e,"not-in",i),this.keys=q_("not-in",i)}matches(e){return!this.keys.some((i=>i.isEqual(e.key)))}}function q_(r,e){return(e.arrayValue?.values||[]).map((i=>yt.fromName(i.referenceValue)))}class jA extends Ne{constructor(e,i){super(e,"array-contains",i)}matches(e){const i=e.data.field(this.field);return mm(i)&&xo(i.arrayValue,this.value)}}class OA extends Ne{constructor(e,i){super(e,"in",i)}matches(e){const i=e.data.field(this.field);return i!==null&&xo(this.value.arrayValue,i)}}class zA extends Ne{constructor(e,i){super(e,"not-in",i)}matches(e){if(xo(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const i=e.data.field(this.field);return i!==null&&i.nullValue===void 0&&!xo(this.value.arrayValue,i)}}class UA extends Ne{constructor(e,i){super(e,"array-contains-any",i)}matches(e){const i=e.data.field(this.field);return!(!mm(i)||!i.arrayValue.values)&&i.arrayValue.values.some((s=>xo(this.value.arrayValue,s)))}}class LA{constructor(e,i=null,s=[],o=[],c=null,f=null,p=null){this.path=e,this.collectionGroup=i,this.orderBy=s,this.filters=o,this.limit=c,this.startAt=f,this.endAt=p,this.Te=null}}function lv(r,e=null,i=[],s=[],o=null,c=null,f=null){return new LA(r,e,i,s,o,c,f)}function pm(r){const e=wt(r);if(e.Te===null){let i=e.path.canonicalString();e.collectionGroup!==null&&(i+="|cg:"+e.collectionGroup),i+="|f:",i+=e.filters.map((s=>Ld(s))).join(","),i+="|ob:",i+=e.orderBy.map((s=>(function(c){return c.field.canonicalString()+c.dir})(s))).join(","),Xc(e.limit)||(i+="|l:",i+=e.limit),e.startAt&&(i+="|lb:",i+=e.startAt.inclusive?"b:":"a:",i+=e.startAt.position.map((s=>ks(s))).join(",")),e.endAt&&(i+="|ub:",i+=e.endAt.inclusive?"a:":"b:",i+=e.endAt.position.map((s=>ks(s))).join(",")),e.Te=i}return e.Te}function gm(r,e){if(r.limit!==e.limit||r.orderBy.length!==e.orderBy.length)return!1;for(let i=0;i<r.orderBy.length;i++)if(!NA(r.orderBy[i],e.orderBy[i]))return!1;if(r.filters.length!==e.filters.length)return!1;for(let i=0;i<r.filters.length;i++)if(!k_(r.filters[i],e.filters[i]))return!1;return r.collectionGroup===e.collectionGroup&&!!r.path.isEqual(e.path)&&!!sv(r.startAt,e.startAt)&&sv(r.endAt,e.endAt)}function Pd(r){return yt.isDocumentKey(r.path)&&r.collectionGroup===null&&r.filters.length===0}class Xs{constructor(e,i=null,s=[],o=[],c=null,f="F",p=null,g=null){this.path=e,this.collectionGroup=i,this.explicitOrderBy=s,this.filters=o,this.limit=c,this.limitType=f,this.startAt=p,this.endAt=g,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function PA(r,e,i,s,o,c,f,p){return new Xs(r,e,i,s,o,c,f,p)}function ym(r){return new Xs(r)}function ov(r){return r.filters.length===0&&r.limit===null&&r.startAt==null&&r.endAt==null&&(r.explicitOrderBy.length===0||r.explicitOrderBy.length===1&&r.explicitOrderBy[0].field.isKeyField())}function H_(r){return r.collectionGroup!==null}function mo(r){const e=wt(r);if(e.Ie===null){e.Ie=[];const i=new Set;for(const c of e.explicitOrderBy)e.Ie.push(c),i.add(c.field.canonicalString());const s=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(f){let p=new je(Qe.comparator);return f.filters.forEach((g=>{g.getFlattenedFilters().forEach((y=>{y.isInequality()&&(p=p.add(y.field))}))})),p})(e).forEach((c=>{i.has(c.canonicalString())||c.isKeyField()||e.Ie.push(new Ao(c,s))})),i.has(Qe.keyField().canonicalString())||e.Ie.push(new Ao(Qe.keyField(),s))}return e.Ie}function Ai(r){const e=wt(r);return e.Ee||(e.Ee=kA(e,mo(r))),e.Ee}function kA(r,e){if(r.limitType==="F")return lv(r.path,r.collectionGroup,e,r.filters,r.limit,r.startAt,r.endAt);{e=e.map((o=>{const c=o.dir==="desc"?"asc":"desc";return new Ao(o.field,c)}));const i=r.endAt?new Oc(r.endAt.position,r.endAt.inclusive):null,s=r.startAt?new Oc(r.startAt.position,r.startAt.inclusive):null;return lv(r.path,r.collectionGroup,e,r.filters,r.limit,i,s)}}function kd(r,e){const i=r.filters.concat([e]);return new Xs(r.path,r.collectionGroup,r.explicitOrderBy.slice(),i,r.limit,r.limitType,r.startAt,r.endAt)}function Bd(r,e,i){return new Xs(r.path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),e,i,r.startAt,r.endAt)}function Zc(r,e){return gm(Ai(r),Ai(e))&&r.limitType===e.limitType}function F_(r){return`${pm(Ai(r))}|lt:${r.limitType}`}function Is(r){return`Query(target=${(function(i){let s=i.path.canonicalString();return i.collectionGroup!==null&&(s+=" collectionGroup="+i.collectionGroup),i.filters.length>0&&(s+=`, filters: [${i.filters.map((o=>B_(o))).join(", ")}]`),Xc(i.limit)||(s+=", limit: "+i.limit),i.orderBy.length>0&&(s+=`, orderBy: [${i.orderBy.map((o=>(function(f){return`${f.field.canonicalString()} (${f.dir})`})(o))).join(", ")}]`),i.startAt&&(s+=", startAt: ",s+=i.startAt.inclusive?"b:":"a:",s+=i.startAt.position.map((o=>ks(o))).join(",")),i.endAt&&(s+=", endAt: ",s+=i.endAt.inclusive?"a:":"b:",s+=i.endAt.position.map((o=>ks(o))).join(",")),`Target(${s})`})(Ai(r))}; limitType=${r.limitType})`}function Jc(r,e){return e.isFoundDocument()&&(function(s,o){const c=o.key.path;return s.collectionGroup!==null?o.key.hasCollectionId(s.collectionGroup)&&s.path.isPrefixOf(c):yt.isDocumentKey(s.path)?s.path.isEqual(c):s.path.isImmediateParentOf(c)})(r,e)&&(function(s,o){for(const c of mo(s))if(!c.field.isKeyField()&&o.data.field(c.field)===null)return!1;return!0})(r,e)&&(function(s,o){for(const c of s.filters)if(!c.matches(o))return!1;return!0})(r,e)&&(function(s,o){return!(s.startAt&&!(function(f,p,g){const y=rv(f,p,g);return f.inclusive?y<=0:y<0})(s.startAt,mo(s),o)||s.endAt&&!(function(f,p,g){const y=rv(f,p,g);return f.inclusive?y>=0:y>0})(s.endAt,mo(s),o))})(r,e)}function BA(r){return r.collectionGroup||(r.path.length%2==1?r.path.lastSegment():r.path.get(r.path.length-2))}function G_(r){return(e,i)=>{let s=!1;for(const o of mo(r)){const c=qA(o,e,i);if(c!==0)return c;s=s||o.field.isKeyField()}return 0}}function qA(r,e,i){const s=r.field.isKeyField()?yt.comparator(e.key,i.key):(function(c,f,p){const g=f.data.field(c),y=p.data.field(c);return g!==null&&y!==null?Ps(g,y):Et(42886)})(r.field,e,i);switch(r.dir){case"asc":return s;case"desc":return-1*s;default:return Et(19790,{direction:r.dir})}}class zr{constructor(e,i){this.mapKeyFn=e,this.equalsFn=i,this.inner={},this.innerSize=0}get(e){const i=this.mapKeyFn(e),s=this.inner[i];if(s!==void 0){for(const[o,c]of s)if(this.equalsFn(o,e))return c}}has(e){return this.get(e)!==void 0}set(e,i){const s=this.mapKeyFn(e),o=this.inner[s];if(o===void 0)return this.inner[s]=[[e,i]],void this.innerSize++;for(let c=0;c<o.length;c++)if(this.equalsFn(o[c][0],e))return void(o[c]=[e,i]);o.push([e,i]),this.innerSize++}delete(e){const i=this.mapKeyFn(e),s=this.inner[i];if(s===void 0)return!1;for(let o=0;o<s.length;o++)if(this.equalsFn(s[o][0],e))return s.length===1?delete this.inner[i]:s.splice(o,1),this.innerSize--,!0;return!1}forEach(e){Ya(this.inner,((i,s)=>{for(const[o,c]of s)e(o,c)}))}isEmpty(){return C_(this.inner)}size(){return this.innerSize}}const HA=new ce(yt.comparator);function ta(){return HA}const Q_=new ce(yt.comparator);function lo(...r){let e=Q_;for(const i of r)e=e.insert(i.key,i);return e}function Y_(r){let e=Q_;return r.forEach(((i,s)=>e=e.insert(i,s.overlayedDocument))),e}function Rr(){return po()}function K_(){return po()}function po(){return new zr((r=>r.toString()),((r,e)=>r.isEqual(e)))}const FA=new ce(yt.comparator),GA=new je(yt.comparator);function Ot(...r){let e=GA;for(const i of r)e=e.add(i);return e}const QA=new je(jt);function YA(){return QA}function vm(r,e){if(r.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Vc(e)?"-0":e}}function X_(r){return{integerValue:""+r}}function KA(r,e){return EA(e)?X_(e):vm(r,e)}class Wc{constructor(){this._=void 0}}function XA(r,e,i){return r instanceof zc?(function(o,c){const f={fields:{[I_]:{stringValue:D_},[M_]:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return c&&dm(c)&&(c=$c(c)),c&&(f.fields[V_]=c),{mapValue:f}})(i,e):r instanceof So?Z_(r,e):r instanceof wo?J_(r,e):(function(o,c){const f=$_(o,c),p=uv(f)+uv(o.Ae);return Ud(f)&&Ud(o.Ae)?X_(p):vm(o.serializer,p)})(r,e)}function $A(r,e,i){return r instanceof So?Z_(r,e):r instanceof wo?J_(r,e):i}function $_(r,e){return r instanceof Uc?(function(s){return Ud(s)||(function(c){return!!c&&"doubleValue"in c})(s)})(e)?e:{integerValue:0}:null}class zc extends Wc{}class So extends Wc{constructor(e){super(),this.elements=e}}function Z_(r,e){const i=W_(e);for(const s of r.elements)i.some((o=>Ni(o,s)))||i.push(s);return{arrayValue:{values:i}}}class wo extends Wc{constructor(e){super(),this.elements=e}}function J_(r,e){let i=W_(e);for(const s of r.elements)i=i.filter((o=>!Ni(o,s)));return{arrayValue:{values:i}}}class Uc extends Wc{constructor(e,i){super(),this.serializer=e,this.Ae=i}}function uv(r){return ye(r.integerValue||r.doubleValue)}function W_(r){return mm(r)&&r.arrayValue.values?r.arrayValue.values.slice():[]}function ZA(r,e){return r.field.isEqual(e.field)&&(function(s,o){return s instanceof So&&o instanceof So||s instanceof wo&&o instanceof wo?Ls(s.elements,o.elements,Ni):s instanceof Uc&&o instanceof Uc?Ni(s.Ae,o.Ae):s instanceof zc&&o instanceof zc})(r.transform,e.transform)}class JA{constructor(e,i){this.version=e,this.transformResults=i}}class Un{constructor(e,i){this.updateTime=e,this.exists=i}static none(){return new Un}static exists(e){return new Un(void 0,e)}static updateTime(e){return new Un(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function xc(r,e){return r.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(r.updateTime):r.exists===void 0||r.exists===e.isFoundDocument()}class th{}function t1(r,e){if(!r.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return r.isNoDocument()?new _m(r.key,Un.none()):new Vo(r.key,r.data,Un.none());{const i=r.data,s=hn.empty();let o=new je(Qe.comparator);for(let c of e.fields)if(!o.has(c)){let f=i.field(c);f===null&&c.length>1&&(c=c.popLast(),f=i.field(c)),f===null?s.delete(c):s.set(c,f),o=o.add(c)}return new Ka(r.key,s,new En(o.toArray()),Un.none())}}function WA(r,e,i){r instanceof Vo?(function(o,c,f){const p=o.value.clone(),g=hv(o.fieldTransforms,c,f.transformResults);p.setAll(g),c.convertToFoundDocument(f.version,p).setHasCommittedMutations()})(r,e,i):r instanceof Ka?(function(o,c,f){if(!xc(o.precondition,c))return void c.convertToUnknownDocument(f.version);const p=hv(o.fieldTransforms,c,f.transformResults),g=c.data;g.setAll(e1(o)),g.setAll(p),c.convertToFoundDocument(f.version,g).setHasCommittedMutations()})(r,e,i):(function(o,c,f){c.convertToNoDocument(f.version).setHasCommittedMutations()})(0,e,i)}function go(r,e,i,s){return r instanceof Vo?(function(c,f,p,g){if(!xc(c.precondition,f))return p;const y=c.value.clone(),E=fv(c.fieldTransforms,g,f);return y.setAll(E),f.convertToFoundDocument(f.version,y).setHasLocalMutations(),null})(r,e,i,s):r instanceof Ka?(function(c,f,p,g){if(!xc(c.precondition,f))return p;const y=fv(c.fieldTransforms,g,f),E=f.data;return E.setAll(e1(c)),E.setAll(y),f.convertToFoundDocument(f.version,E).setHasLocalMutations(),p===null?null:p.unionWith(c.fieldMask.fields).unionWith(c.fieldTransforms.map((x=>x.field)))})(r,e,i,s):(function(c,f,p){return xc(c.precondition,f)?(f.convertToNoDocument(f.version).setHasLocalMutations(),null):p})(r,e,i)}function tS(r,e){let i=null;for(const s of r.fieldTransforms){const o=e.data.field(s.field),c=$_(s.transform,o||null);c!=null&&(i===null&&(i=hn.empty()),i.set(s.field,c))}return i||null}function cv(r,e){return r.type===e.type&&!!r.key.isEqual(e.key)&&!!r.precondition.isEqual(e.precondition)&&!!(function(s,o){return s===void 0&&o===void 0||!(!s||!o)&&Ls(s,o,((c,f)=>ZA(c,f)))})(r.fieldTransforms,e.fieldTransforms)&&(r.type===0?r.value.isEqual(e.value):r.type!==1||r.data.isEqual(e.data)&&r.fieldMask.isEqual(e.fieldMask))}class Vo extends th{constructor(e,i,s,o=[]){super(),this.key=e,this.value=i,this.precondition=s,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class Ka extends th{constructor(e,i,s,o,c=[]){super(),this.key=e,this.data=i,this.fieldMask=s,this.precondition=o,this.fieldTransforms=c,this.type=1}getFieldMask(){return this.fieldMask}}function e1(r){const e=new Map;return r.fieldMask.fields.forEach((i=>{if(!i.isEmpty()){const s=r.data.field(i);e.set(i,s)}})),e}function hv(r,e,i){const s=new Map;Qt(r.length===i.length,32656,{Re:i.length,Ve:r.length});for(let o=0;o<i.length;o++){const c=r[o],f=c.transform,p=e.data.field(c.field);s.set(c.field,$A(f,p,i[o]))}return s}function fv(r,e,i){const s=new Map;for(const o of r){const c=o.transform,f=i.data.field(o.field);s.set(o.field,XA(c,f,e))}return s}class _m extends th{constructor(e,i){super(),this.key=e,this.precondition=i,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class eS extends th{constructor(e,i){super(),this.key=e,this.precondition=i,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class nS{constructor(e,i,s,o){this.batchId=e,this.localWriteTime=i,this.baseMutations=s,this.mutations=o}applyToRemoteDocument(e,i){const s=i.mutationResults;for(let o=0;o<this.mutations.length;o++){const c=this.mutations[o];c.key.isEqual(e.key)&&WA(c,e,s[o])}}applyToLocalView(e,i){for(const s of this.baseMutations)s.key.isEqual(e.key)&&(i=go(s,e,i,this.localWriteTime));for(const s of this.mutations)s.key.isEqual(e.key)&&(i=go(s,e,i,this.localWriteTime));return i}applyToLocalDocumentSet(e,i){const s=K_();return this.mutations.forEach((o=>{const c=e.get(o.key),f=c.overlayedDocument;let p=this.applyToLocalView(f,c.mutatedFields);p=i.has(o.key)?null:p;const g=t1(f,p);g!==null&&s.set(o.key,g),f.isValidDocument()||f.convertToNoDocument(At.min())})),s}keys(){return this.mutations.reduce(((e,i)=>e.add(i.key)),Ot())}isEqual(e){return this.batchId===e.batchId&&Ls(this.mutations,e.mutations,((i,s)=>cv(i,s)))&&Ls(this.baseMutations,e.baseMutations,((i,s)=>cv(i,s)))}}class bm{constructor(e,i,s,o){this.batch=e,this.commitVersion=i,this.mutationResults=s,this.docVersions=o}static from(e,i,s){Qt(e.mutations.length===s.length,58842,{me:e.mutations.length,fe:s.length});let o=(function(){return FA})();const c=e.mutations;for(let f=0;f<c.length;f++)o=o.insert(c[f].key,s[f].version);return new bm(e,i,s,o)}}class iS{constructor(e,i){this.largestBatchId=e,this.mutation=i}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}class aS{constructor(e,i){this.count=e,this.unchangedNames=i}}var Ce,Pt;function rS(r){switch(r){case et.OK:return Et(64938);case et.CANCELLED:case et.UNKNOWN:case et.DEADLINE_EXCEEDED:case et.RESOURCE_EXHAUSTED:case et.INTERNAL:case et.UNAVAILABLE:case et.UNAUTHENTICATED:return!1;case et.INVALID_ARGUMENT:case et.NOT_FOUND:case et.ALREADY_EXISTS:case et.PERMISSION_DENIED:case et.FAILED_PRECONDITION:case et.ABORTED:case et.OUT_OF_RANGE:case et.UNIMPLEMENTED:case et.DATA_LOSS:return!0;default:return Et(15467,{code:r})}}function n1(r){if(r===void 0)return Wi("GRPC error has no .code"),et.UNKNOWN;switch(r){case Ce.OK:return et.OK;case Ce.CANCELLED:return et.CANCELLED;case Ce.UNKNOWN:return et.UNKNOWN;case Ce.DEADLINE_EXCEEDED:return et.DEADLINE_EXCEEDED;case Ce.RESOURCE_EXHAUSTED:return et.RESOURCE_EXHAUSTED;case Ce.INTERNAL:return et.INTERNAL;case Ce.UNAVAILABLE:return et.UNAVAILABLE;case Ce.UNAUTHENTICATED:return et.UNAUTHENTICATED;case Ce.INVALID_ARGUMENT:return et.INVALID_ARGUMENT;case Ce.NOT_FOUND:return et.NOT_FOUND;case Ce.ALREADY_EXISTS:return et.ALREADY_EXISTS;case Ce.PERMISSION_DENIED:return et.PERMISSION_DENIED;case Ce.FAILED_PRECONDITION:return et.FAILED_PRECONDITION;case Ce.ABORTED:return et.ABORTED;case Ce.OUT_OF_RANGE:return et.OUT_OF_RANGE;case Ce.UNIMPLEMENTED:return et.UNIMPLEMENTED;case Ce.DATA_LOSS:return et.DATA_LOSS;default:return Et(39323,{code:r})}}(Pt=Ce||(Ce={}))[Pt.OK=0]="OK",Pt[Pt.CANCELLED=1]="CANCELLED",Pt[Pt.UNKNOWN=2]="UNKNOWN",Pt[Pt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Pt[Pt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Pt[Pt.NOT_FOUND=5]="NOT_FOUND",Pt[Pt.ALREADY_EXISTS=6]="ALREADY_EXISTS",Pt[Pt.PERMISSION_DENIED=7]="PERMISSION_DENIED",Pt[Pt.UNAUTHENTICATED=16]="UNAUTHENTICATED",Pt[Pt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Pt[Pt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Pt[Pt.ABORTED=10]="ABORTED",Pt[Pt.OUT_OF_RANGE=11]="OUT_OF_RANGE",Pt[Pt.UNIMPLEMENTED=12]="UNIMPLEMENTED",Pt[Pt.INTERNAL=13]="INTERNAL",Pt[Pt.UNAVAILABLE=14]="UNAVAILABLE",Pt[Pt.DATA_LOSS=15]="DATA_LOSS";function sS(){return new TextEncoder}const lS=new La([4294967295,4294967295],0);function dv(r){const e=sS().encode(r),i=new y_;return i.update(e),new Uint8Array(i.digest())}function mv(r){const e=new DataView(r.buffer),i=e.getUint32(0,!0),s=e.getUint32(4,!0),o=e.getUint32(8,!0),c=e.getUint32(12,!0);return[new La([i,s],0),new La([o,c],0)]}class Em{constructor(e,i,s){if(this.bitmap=e,this.padding=i,this.hashCount=s,i<0||i>=8)throw new oo(`Invalid padding: ${i}`);if(s<0)throw new oo(`Invalid hash count: ${s}`);if(e.length>0&&this.hashCount===0)throw new oo(`Invalid hash count: ${s}`);if(e.length===0&&i!==0)throw new oo(`Invalid padding when bitmap length is 0: ${i}`);this.ge=8*e.length-i,this.pe=La.fromNumber(this.ge)}ye(e,i,s){let o=e.add(i.multiply(La.fromNumber(s)));return o.compare(lS)===1&&(o=new La([o.getBits(0),o.getBits(1)],0)),o.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const i=dv(e),[s,o]=mv(i);for(let c=0;c<this.hashCount;c++){const f=this.ye(s,o,c);if(!this.we(f))return!1}return!0}static create(e,i,s){const o=e%8==0?0:8-e%8,c=new Uint8Array(Math.ceil(e/8)),f=new Em(c,o,i);return s.forEach((p=>f.insert(p))),f}insert(e){if(this.ge===0)return;const i=dv(e),[s,o]=mv(i);for(let c=0;c<this.hashCount;c++){const f=this.ye(s,o,c);this.Se(f)}}Se(e){const i=Math.floor(e/8),s=e%8;this.bitmap[i]|=1<<s}}class oo extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class eh{constructor(e,i,s,o,c){this.snapshotVersion=e,this.targetChanges=i,this.targetMismatches=s,this.documentUpdates=o,this.resolvedLimboDocuments=c}static createSynthesizedRemoteEventForCurrentChange(e,i,s){const o=new Map;return o.set(e,Mo.createSynthesizedTargetChangeForCurrentChange(e,i,s)),new eh(At.min(),o,new ce(jt),ta(),Ot())}}class Mo{constructor(e,i,s,o,c){this.resumeToken=e,this.current=i,this.addedDocuments=s,this.modifiedDocuments=o,this.removedDocuments=c}static createSynthesizedTargetChangeForCurrentChange(e,i,s){return new Mo(s,i,Ot(),Ot(),Ot())}}class Ac{constructor(e,i,s,o){this.be=e,this.removedTargetIds=i,this.key=s,this.De=o}}class i1{constructor(e,i){this.targetId=e,this.Ce=i}}class a1{constructor(e,i,s=Ye.EMPTY_BYTE_STRING,o=null){this.state=e,this.targetIds=i,this.resumeToken=s,this.cause=o}}class pv{constructor(){this.ve=0,this.Fe=gv(),this.Me=Ye.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=Ot(),i=Ot(),s=Ot();return this.Fe.forEach(((o,c)=>{switch(c){case 0:e=e.add(o);break;case 2:i=i.add(o);break;case 1:s=s.add(o);break;default:Et(38017,{changeType:c})}})),new Mo(this.Me,this.xe,e,i,s)}qe(){this.Oe=!1,this.Fe=gv()}Qe(e,i){this.Oe=!0,this.Fe=this.Fe.insert(e,i)}$e(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}Ue(){this.ve+=1}Ke(){this.ve-=1,Qt(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class oS{constructor(e){this.Ge=e,this.ze=new Map,this.je=ta(),this.Je=gc(),this.He=gc(),this.Ye=new ce(jt)}Ze(e){for(const i of e.be)e.De&&e.De.isFoundDocument()?this.Xe(i,e.De):this.et(i,e.key,e.De);for(const i of e.removedTargetIds)this.et(i,e.key,e.De)}tt(e){this.forEachTarget(e,(i=>{const s=this.nt(i);switch(e.state){case 0:this.rt(i)&&s.Le(e.resumeToken);break;case 1:s.Ke(),s.Ne||s.qe(),s.Le(e.resumeToken);break;case 2:s.Ke(),s.Ne||this.removeTarget(i);break;case 3:this.rt(i)&&(s.We(),s.Le(e.resumeToken));break;case 4:this.rt(i)&&(this.it(i),s.Le(e.resumeToken));break;default:Et(56790,{state:e.state})}}))}forEachTarget(e,i){e.targetIds.length>0?e.targetIds.forEach(i):this.ze.forEach(((s,o)=>{this.rt(o)&&i(o)}))}st(e){const i=e.targetId,s=e.Ce.count,o=this.ot(i);if(o){const c=o.target;if(Pd(c))if(s===0){const f=new yt(c.path);this.et(i,f,Ze.newNoDocument(f,At.min()))}else Qt(s===1,20013,{expectedCount:s});else{const f=this._t(i);if(f!==s){const p=this.ut(e),g=p?this.ct(p,e,f):1;if(g!==0){this.it(i);const y=g===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(i,y)}}}}}ut(e){const i=e.Ce.unchangedNames;if(!i||!i.bits)return null;const{bits:{bitmap:s="",padding:o=0},hashCount:c=0}=i;let f,p;try{f=qa(s).toUint8Array()}catch(g){if(g instanceof N_)return Us("Decoding the base64 bloom filter in existence filter failed ("+g.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw g}try{p=new Em(f,o,c)}catch(g){return Us(g instanceof oo?"BloomFilter error: ":"Applying bloom filter failed: ",g),null}return p.ge===0?null:p}ct(e,i,s){return i.Ce.count===s-this.Pt(e,i.targetId)?0:2}Pt(e,i){const s=this.Ge.getRemoteKeysForTarget(i);let o=0;return s.forEach((c=>{const f=this.Ge.ht(),p=`projects/${f.projectId}/databases/${f.database}/documents/${c.path.canonicalString()}`;e.mightContain(p)||(this.et(i,c,null),o++)})),o}Tt(e){const i=new Map;this.ze.forEach(((c,f)=>{const p=this.ot(f);if(p){if(c.current&&Pd(p.target)){const g=new yt(p.target.path);this.It(g).has(f)||this.Et(f,g)||this.et(f,g,Ze.newNoDocument(g,e))}c.Be&&(i.set(f,c.ke()),c.qe())}}));let s=Ot();this.He.forEach(((c,f)=>{let p=!0;f.forEachWhile((g=>{const y=this.ot(g);return!y||y.purpose==="TargetPurposeLimboResolution"||(p=!1,!1)})),p&&(s=s.add(c))})),this.je.forEach(((c,f)=>f.setReadTime(e)));const o=new eh(e,i,this.Ye,this.je,s);return this.je=ta(),this.Je=gc(),this.He=gc(),this.Ye=new ce(jt),o}Xe(e,i){if(!this.rt(e))return;const s=this.Et(e,i.key)?2:0;this.nt(e).Qe(i.key,s),this.je=this.je.insert(i.key,i),this.Je=this.Je.insert(i.key,this.It(i.key).add(e)),this.He=this.He.insert(i.key,this.dt(i.key).add(e))}et(e,i,s){if(!this.rt(e))return;const o=this.nt(e);this.Et(e,i)?o.Qe(i,1):o.$e(i),this.He=this.He.insert(i,this.dt(i).delete(e)),this.He=this.He.insert(i,this.dt(i).add(e)),s&&(this.je=this.je.insert(i,s))}removeTarget(e){this.ze.delete(e)}_t(e){const i=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+i.addedDocuments.size-i.removedDocuments.size}Ue(e){this.nt(e).Ue()}nt(e){let i=this.ze.get(e);return i||(i=new pv,this.ze.set(e,i)),i}dt(e){let i=this.He.get(e);return i||(i=new je(jt),this.He=this.He.insert(e,i)),i}It(e){let i=this.Je.get(e);return i||(i=new je(jt),this.Je=this.Je.insert(e,i)),i}rt(e){const i=this.ot(e)!==null;return i||ut("WatchChangeAggregator","Detected inactive target",e),i}ot(e){const i=this.ze.get(e);return i&&i.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new pv),this.Ge.getRemoteKeysForTarget(e).forEach((i=>{this.et(e,i,null)}))}Et(e,i){return this.Ge.getRemoteKeysForTarget(e).has(i)}}function gc(){return new ce(yt.comparator)}function gv(){return new ce(yt.comparator)}const uS={asc:"ASCENDING",desc:"DESCENDING"},cS={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},hS={and:"AND",or:"OR"};class fS{constructor(e,i){this.databaseId=e,this.useProto3Json=i}}function qd(r,e){return r.useProto3Json||Xc(e)?e:{value:e}}function Lc(r,e){return r.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function r1(r,e){return r.useProto3Json?e.toBase64():e.toUint8Array()}function dS(r,e){return Lc(r,e.toTimestamp())}function Si(r){return Qt(!!r,49232),At.fromTimestamp((function(i){const s=Ba(i);return new re(s.seconds,s.nanos)})(r))}function Tm(r,e){return Hd(r,e).canonicalString()}function Hd(r,e){const i=(function(o){return new ne(["projects",o.projectId,"databases",o.database])})(r).child("documents");return e===void 0?i:i.child(e)}function s1(r){const e=ne.fromString(r);return Qt(h1(e),10190,{key:e.toString()}),e}function Fd(r,e){return Tm(r.databaseId,e.path)}function xd(r,e){const i=s1(e);if(i.get(1)!==r.databaseId.projectId)throw new ot(et.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+i.get(1)+" vs "+r.databaseId.projectId);if(i.get(3)!==r.databaseId.database)throw new ot(et.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+i.get(3)+" vs "+r.databaseId.database);return new yt(o1(i))}function l1(r,e){return Tm(r.databaseId,e)}function mS(r){const e=s1(r);return e.length===4?ne.emptyPath():o1(e)}function Gd(r){return new ne(["projects",r.databaseId.projectId,"databases",r.databaseId.database]).canonicalString()}function o1(r){return Qt(r.length>4&&r.get(4)==="documents",29091,{key:r.toString()}),r.popFirst(5)}function yv(r,e,i){return{name:Fd(r,e),fields:i.value.mapValue.fields}}function pS(r,e){let i;if("targetChange"in e){e.targetChange;const s=(function(y){return y==="NO_CHANGE"?0:y==="ADD"?1:y==="REMOVE"?2:y==="CURRENT"?3:y==="RESET"?4:Et(39313,{state:y})})(e.targetChange.targetChangeType||"NO_CHANGE"),o=e.targetChange.targetIds||[],c=(function(y,E){return y.useProto3Json?(Qt(E===void 0||typeof E=="string",58123),Ye.fromBase64String(E||"")):(Qt(E===void 0||E instanceof Buffer||E instanceof Uint8Array,16193),Ye.fromUint8Array(E||new Uint8Array))})(r,e.targetChange.resumeToken),f=e.targetChange.cause,p=f&&(function(y){const E=y.code===void 0?et.UNKNOWN:n1(y.code);return new ot(E,y.message||"")})(f);i=new a1(s,o,c,p||null)}else if("documentChange"in e){e.documentChange;const s=e.documentChange;s.document,s.document.name,s.document.updateTime;const o=xd(r,s.document.name),c=Si(s.document.updateTime),f=s.document.createTime?Si(s.document.createTime):At.min(),p=new hn({mapValue:{fields:s.document.fields}}),g=Ze.newFoundDocument(o,c,f,p),y=s.targetIds||[],E=s.removedTargetIds||[];i=new Ac(y,E,g.key,g)}else if("documentDelete"in e){e.documentDelete;const s=e.documentDelete;s.document;const o=xd(r,s.document),c=s.readTime?Si(s.readTime):At.min(),f=Ze.newNoDocument(o,c),p=s.removedTargetIds||[];i=new Ac([],p,f.key,f)}else if("documentRemove"in e){e.documentRemove;const s=e.documentRemove;s.document;const o=xd(r,s.document),c=s.removedTargetIds||[];i=new Ac([],c,o,null)}else{if(!("filter"in e))return Et(11601,{Rt:e});{e.filter;const s=e.filter;s.targetId;const{count:o=0,unchangedNames:c}=s,f=new aS(o,c),p=s.targetId;i=new i1(p,f)}}return i}function gS(r,e){let i;if(e instanceof Vo)i={update:yv(r,e.key,e.value)};else if(e instanceof _m)i={delete:Fd(r,e.key)};else if(e instanceof Ka)i={update:yv(r,e.key,e.data),updateMask:SS(e.fieldMask)};else{if(!(e instanceof eS))return Et(16599,{Vt:e.type});i={verify:Fd(r,e.key)}}return e.fieldTransforms.length>0&&(i.updateTransforms=e.fieldTransforms.map((s=>(function(c,f){const p=f.transform;if(p instanceof zc)return{fieldPath:f.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(p instanceof So)return{fieldPath:f.field.canonicalString(),appendMissingElements:{values:p.elements}};if(p instanceof wo)return{fieldPath:f.field.canonicalString(),removeAllFromArray:{values:p.elements}};if(p instanceof Uc)return{fieldPath:f.field.canonicalString(),increment:p.Ae};throw Et(20930,{transform:f.transform})})(0,s)))),e.precondition.isNone||(i.currentDocument=(function(o,c){return c.updateTime!==void 0?{updateTime:dS(o,c.updateTime)}:c.exists!==void 0?{exists:c.exists}:Et(27497)})(r,e.precondition)),i}function yS(r,e){return r&&r.length>0?(Qt(e!==void 0,14353),r.map((i=>(function(o,c){let f=o.updateTime?Si(o.updateTime):Si(c);return f.isEqual(At.min())&&(f=Si(c)),new JA(f,o.transformResults||[])})(i,e)))):[]}function vS(r,e){return{documents:[l1(r,e.path)]}}function _S(r,e){const i={structuredQuery:{}},s=e.path;let o;e.collectionGroup!==null?(o=s,i.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(o=s.popLast(),i.structuredQuery.from=[{collectionId:s.lastSegment()}]),i.parent=l1(r,o);const c=(function(y){if(y.length!==0)return c1(Jn.create(y,"and"))})(e.filters);c&&(i.structuredQuery.where=c);const f=(function(y){if(y.length!==0)return y.map((E=>(function(C){return{field:Vs(C.field),direction:TS(C.dir)}})(E)))})(e.orderBy);f&&(i.structuredQuery.orderBy=f);const p=qd(r,e.limit);return p!==null&&(i.structuredQuery.limit=p),e.startAt&&(i.structuredQuery.startAt=(function(y){return{before:y.inclusive,values:y.position}})(e.startAt)),e.endAt&&(i.structuredQuery.endAt=(function(y){return{before:!y.inclusive,values:y.position}})(e.endAt)),{ft:i,parent:o}}function bS(r){let e=mS(r.parent);const i=r.structuredQuery,s=i.from?i.from.length:0;let o=null;if(s>0){Qt(s===1,65062);const E=i.from[0];E.allDescendants?o=E.collectionId:e=e.child(E.collectionId)}let c=[];i.where&&(c=(function(x){const C=u1(x);return C instanceof Jn&&P_(C)?C.getFilters():[C]})(i.where));let f=[];i.orderBy&&(f=(function(x){return x.map((C=>(function(Y){return new Ao(Ms(Y.field),(function(P){switch(P){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(Y.direction))})(C)))})(i.orderBy));let p=null;i.limit&&(p=(function(x){let C;return C=typeof x=="object"?x.value:x,Xc(C)?null:C})(i.limit));let g=null;i.startAt&&(g=(function(x){const C=!!x.before,U=x.values||[];return new Oc(U,C)})(i.startAt));let y=null;return i.endAt&&(y=(function(x){const C=!x.before,U=x.values||[];return new Oc(U,C)})(i.endAt)),PA(e,o,f,c,p,"F",g,y)}function ES(r,e){const i=(function(o){switch(o){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Et(28987,{purpose:o})}})(e.purpose);return i==null?null:{"goog-listen-tags":i}}function u1(r){return r.unaryFilter!==void 0?(function(i){switch(i.unaryFilter.op){case"IS_NAN":const s=Ms(i.unaryFilter.field);return Ne.create(s,"==",{doubleValue:NaN});case"IS_NULL":const o=Ms(i.unaryFilter.field);return Ne.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const c=Ms(i.unaryFilter.field);return Ne.create(c,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const f=Ms(i.unaryFilter.field);return Ne.create(f,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Et(61313);default:return Et(60726)}})(r):r.fieldFilter!==void 0?(function(i){return Ne.create(Ms(i.fieldFilter.field),(function(o){switch(o){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Et(58110);default:return Et(50506)}})(i.fieldFilter.op),i.fieldFilter.value)})(r):r.compositeFilter!==void 0?(function(i){return Jn.create(i.compositeFilter.filters.map((s=>u1(s))),(function(o){switch(o){case"AND":return"and";case"OR":return"or";default:return Et(1026)}})(i.compositeFilter.op))})(r):Et(30097,{filter:r})}function TS(r){return uS[r]}function xS(r){return cS[r]}function AS(r){return hS[r]}function Vs(r){return{fieldPath:r.canonicalString()}}function Ms(r){return Qe.fromServerFormat(r.fieldPath)}function c1(r){return r instanceof Ne?(function(i){if(i.op==="=="){if(av(i.value))return{unaryFilter:{field:Vs(i.field),op:"IS_NAN"}};if(iv(i.value))return{unaryFilter:{field:Vs(i.field),op:"IS_NULL"}}}else if(i.op==="!="){if(av(i.value))return{unaryFilter:{field:Vs(i.field),op:"IS_NOT_NAN"}};if(iv(i.value))return{unaryFilter:{field:Vs(i.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Vs(i.field),op:xS(i.op),value:i.value}}})(r):r instanceof Jn?(function(i){const s=i.getFilters().map((o=>c1(o)));return s.length===1?s[0]:{compositeFilter:{op:AS(i.op),filters:s}}})(r):Et(54877,{filter:r})}function SS(r){const e=[];return r.fields.forEach((i=>e.push(i.canonicalString()))),{fieldPaths:e}}function h1(r){return r.length>=4&&r.get(0)==="projects"&&r.get(2)==="databases"}class Oa{constructor(e,i,s,o,c=At.min(),f=At.min(),p=Ye.EMPTY_BYTE_STRING,g=null){this.target=e,this.targetId=i,this.purpose=s,this.sequenceNumber=o,this.snapshotVersion=c,this.lastLimboFreeSnapshotVersion=f,this.resumeToken=p,this.expectedCount=g}withSequenceNumber(e){return new Oa(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,i){return new Oa(this.target,this.targetId,this.purpose,this.sequenceNumber,i,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Oa(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Oa(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class wS{constructor(e){this.yt=e}}function RS(r){const e=bS({parent:r.parent,structuredQuery:r.structuredQuery});return r.limitType==="LAST"?Bd(e,e.limit,"L"):e}class CS{constructor(){this.Cn=new NS}addToCollectionParentIndex(e,i){return this.Cn.add(i),nt.resolve()}getCollectionParents(e,i){return nt.resolve(this.Cn.getEntries(i))}addFieldIndex(e,i){return nt.resolve()}deleteFieldIndex(e,i){return nt.resolve()}deleteAllFieldIndexes(e){return nt.resolve()}createTargetIndexes(e,i){return nt.resolve()}getDocumentsMatchingTarget(e,i){return nt.resolve(null)}getIndexType(e,i){return nt.resolve(0)}getFieldIndexes(e,i){return nt.resolve([])}getNextCollectionGroupToUpdate(e){return nt.resolve(null)}getMinOffset(e,i){return nt.resolve(ka.min())}getMinOffsetFromCollectionGroup(e,i){return nt.resolve(ka.min())}updateCollectionGroup(e,i,s){return nt.resolve()}updateIndexEntries(e,i){return nt.resolve()}}class NS{constructor(){this.index={}}add(e){const i=e.lastSegment(),s=e.popLast(),o=this.index[i]||new je(ne.comparator),c=!o.has(s);return this.index[i]=o.add(s),c}has(e){const i=e.lastSegment(),s=e.popLast(),o=this.index[i];return o&&o.has(s)}getEntries(e){return(this.index[e]||new je(ne.comparator)).toArray()}}const vv={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},f1=41943040;class cn{static withCacheSize(e){return new cn(e,cn.DEFAULT_COLLECTION_PERCENTILE,cn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,i,s){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=i,this.maximumSequenceNumbersToCollect=s}}cn.DEFAULT_COLLECTION_PERCENTILE=10,cn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,cn.DEFAULT=new cn(f1,cn.DEFAULT_COLLECTION_PERCENTILE,cn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),cn.DISABLED=new cn(-1,0,0);class Bs{constructor(e){this.ar=e}next(){return this.ar+=2,this.ar}static ur(){return new Bs(0)}static cr(){return new Bs(-1)}}const _v="LruGarbageCollector",DS=1048576;function bv([r,e],[i,s]){const o=jt(r,i);return o===0?jt(e,s):o}class IS{constructor(e){this.Ir=e,this.buffer=new je(bv),this.Er=0}dr(){return++this.Er}Ar(e){const i=[e,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(i);else{const s=this.buffer.last();bv(i,s)<0&&(this.buffer=this.buffer.delete(s).add(i))}}get maxValue(){return this.buffer.last()[0]}}class VS{constructor(e,i,s){this.garbageCollector=e,this.asyncQueue=i,this.localStore=s,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(e){ut(_v,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(i){Ks(i)?ut(_v,"Ignoring IndexedDB error during garbage collection: ",i):await Ys(i)}await this.Vr(3e5)}))}}class MS{constructor(e,i){this.mr=e,this.params=i}calculateTargetCount(e,i){return this.mr.gr(e).next((s=>Math.floor(i/100*s)))}nthSequenceNumber(e,i){if(i===0)return nt.resolve(Kc.ce);const s=new IS(i);return this.mr.forEachTarget(e,(o=>s.Ar(o.sequenceNumber))).next((()=>this.mr.pr(e,(o=>s.Ar(o))))).next((()=>s.maxValue))}removeTargets(e,i,s){return this.mr.removeTargets(e,i,s)}removeOrphanedDocuments(e,i){return this.mr.removeOrphanedDocuments(e,i)}collect(e,i){return this.params.cacheSizeCollectionThreshold===-1?(ut("LruGarbageCollector","Garbage collection skipped; disabled"),nt.resolve(vv)):this.getCacheSize(e).next((s=>s<this.params.cacheSizeCollectionThreshold?(ut("LruGarbageCollector",`Garbage collection skipped; Cache size ${s} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),vv):this.yr(e,i)))}getCacheSize(e){return this.mr.getCacheSize(e)}yr(e,i){let s,o,c,f,p,g,y;const E=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((x=>(x>this.params.maximumSequenceNumbersToCollect?(ut("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${x}`),o=this.params.maximumSequenceNumbersToCollect):o=x,f=Date.now(),this.nthSequenceNumber(e,o)))).next((x=>(s=x,p=Date.now(),this.removeTargets(e,s,i)))).next((x=>(c=x,g=Date.now(),this.removeOrphanedDocuments(e,s)))).next((x=>(y=Date.now(),Ds()<=kt.DEBUG&&ut("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${f-E}ms
	Determined least recently used ${o} in `+(p-f)+`ms
	Removed ${c} targets in `+(g-p)+`ms
	Removed ${x} documents in `+(y-g)+`ms
Total Duration: ${y-E}ms`),nt.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:c,documentsRemoved:x}))))}}function jS(r,e){return new MS(r,e)}class OS{constructor(){this.changes=new zr((e=>e.toString()),((e,i)=>e.isEqual(i))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,i){this.assertNotApplied(),this.changes.set(e,Ze.newInvalidDocument(e).setReadTime(i))}getEntry(e,i){this.assertNotApplied();const s=this.changes.get(i);return s!==void 0?nt.resolve(s):this.getFromCache(e,i)}getEntries(e,i){return this.getAllFromCache(e,i)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class zS{constructor(e,i){this.overlayedDocument=e,this.mutatedFields=i}}class US{constructor(e,i,s,o){this.remoteDocumentCache=e,this.mutationQueue=i,this.documentOverlayCache=s,this.indexManager=o}getDocument(e,i){let s=null;return this.documentOverlayCache.getOverlay(e,i).next((o=>(s=o,this.remoteDocumentCache.getEntry(e,i)))).next((o=>(s!==null&&go(s.mutation,o,En.empty(),re.now()),o)))}getDocuments(e,i){return this.remoteDocumentCache.getEntries(e,i).next((s=>this.getLocalViewOfDocuments(e,s,Ot()).next((()=>s))))}getLocalViewOfDocuments(e,i,s=Ot()){const o=Rr();return this.populateOverlays(e,o,i).next((()=>this.computeViews(e,i,o,s).next((c=>{let f=lo();return c.forEach(((p,g)=>{f=f.insert(p,g.overlayedDocument)})),f}))))}getOverlayedDocuments(e,i){const s=Rr();return this.populateOverlays(e,s,i).next((()=>this.computeViews(e,i,s,Ot())))}populateOverlays(e,i,s){const o=[];return s.forEach((c=>{i.has(c)||o.push(c)})),this.documentOverlayCache.getOverlays(e,o).next((c=>{c.forEach(((f,p)=>{i.set(f,p)}))}))}computeViews(e,i,s,o){let c=ta();const f=po(),p=(function(){return po()})();return i.forEach(((g,y)=>{const E=s.get(y.key);o.has(y.key)&&(E===void 0||E.mutation instanceof Ka)?c=c.insert(y.key,y):E!==void 0?(f.set(y.key,E.mutation.getFieldMask()),go(E.mutation,y,E.mutation.getFieldMask(),re.now())):f.set(y.key,En.empty())})),this.recalculateAndSaveOverlays(e,c).next((g=>(g.forEach(((y,E)=>f.set(y,E))),i.forEach(((y,E)=>p.set(y,new zS(E,f.get(y)??null)))),p)))}recalculateAndSaveOverlays(e,i){const s=po();let o=new ce(((f,p)=>f-p)),c=Ot();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,i).next((f=>{for(const p of f)p.keys().forEach((g=>{const y=i.get(g);if(y===null)return;let E=s.get(g)||En.empty();E=p.applyToLocalView(y,E),s.set(g,E);const x=(o.get(p.batchId)||Ot()).add(g);o=o.insert(p.batchId,x)}))})).next((()=>{const f=[],p=o.getReverseIterator();for(;p.hasNext();){const g=p.getNext(),y=g.key,E=g.value,x=K_();E.forEach((C=>{if(!c.has(C)){const U=t1(i.get(C),s.get(C));U!==null&&x.set(C,U),c=c.add(C)}})),f.push(this.documentOverlayCache.saveOverlays(e,y,x))}return nt.waitFor(f)})).next((()=>s))}recalculateAndSaveOverlaysForDocumentKeys(e,i){return this.remoteDocumentCache.getEntries(e,i).next((s=>this.recalculateAndSaveOverlays(e,s)))}getDocumentsMatchingQuery(e,i,s,o){return(function(f){return yt.isDocumentKey(f.path)&&f.collectionGroup===null&&f.filters.length===0})(i)?this.getDocumentsMatchingDocumentQuery(e,i.path):H_(i)?this.getDocumentsMatchingCollectionGroupQuery(e,i,s,o):this.getDocumentsMatchingCollectionQuery(e,i,s,o)}getNextDocuments(e,i,s,o){return this.remoteDocumentCache.getAllFromCollectionGroup(e,i,s,o).next((c=>{const f=o-c.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,i,s.largestBatchId,o-c.size):nt.resolve(Rr());let p=bo,g=c;return f.next((y=>nt.forEach(y,((E,x)=>(p<x.largestBatchId&&(p=x.largestBatchId),c.get(E)?nt.resolve():this.remoteDocumentCache.getEntry(e,E).next((C=>{g=g.insert(E,C)}))))).next((()=>this.populateOverlays(e,y,c))).next((()=>this.computeViews(e,g,y,Ot()))).next((E=>({batchId:p,changes:Y_(E)})))))}))}getDocumentsMatchingDocumentQuery(e,i){return this.getDocument(e,new yt(i)).next((s=>{let o=lo();return s.isFoundDocument()&&(o=o.insert(s.key,s)),o}))}getDocumentsMatchingCollectionGroupQuery(e,i,s,o){const c=i.collectionGroup;let f=lo();return this.indexManager.getCollectionParents(e,c).next((p=>nt.forEach(p,(g=>{const y=(function(x,C){return new Xs(C,null,x.explicitOrderBy.slice(),x.filters.slice(),x.limit,x.limitType,x.startAt,x.endAt)})(i,g.child(c));return this.getDocumentsMatchingCollectionQuery(e,y,s,o).next((E=>{E.forEach(((x,C)=>{f=f.insert(x,C)}))}))})).next((()=>f))))}getDocumentsMatchingCollectionQuery(e,i,s,o){let c;return this.documentOverlayCache.getOverlaysForCollection(e,i.path,s.largestBatchId).next((f=>(c=f,this.remoteDocumentCache.getDocumentsMatchingQuery(e,i,s,c,o)))).next((f=>{c.forEach(((g,y)=>{const E=y.getKey();f.get(E)===null&&(f=f.insert(E,Ze.newInvalidDocument(E)))}));let p=lo();return f.forEach(((g,y)=>{const E=c.get(g);E!==void 0&&go(E.mutation,y,En.empty(),re.now()),Jc(i,y)&&(p=p.insert(g,y))})),p}))}}class LS{constructor(e){this.serializer=e,this.Lr=new Map,this.kr=new Map}getBundleMetadata(e,i){return nt.resolve(this.Lr.get(i))}saveBundleMetadata(e,i){return this.Lr.set(i.id,(function(o){return{id:o.id,version:o.version,createTime:Si(o.createTime)}})(i)),nt.resolve()}getNamedQuery(e,i){return nt.resolve(this.kr.get(i))}saveNamedQuery(e,i){return this.kr.set(i.name,(function(o){return{name:o.name,query:RS(o.bundledQuery),readTime:Si(o.readTime)}})(i)),nt.resolve()}}class PS{constructor(){this.overlays=new ce(yt.comparator),this.qr=new Map}getOverlay(e,i){return nt.resolve(this.overlays.get(i))}getOverlays(e,i){const s=Rr();return nt.forEach(i,(o=>this.getOverlay(e,o).next((c=>{c!==null&&s.set(o,c)})))).next((()=>s))}saveOverlays(e,i,s){return s.forEach(((o,c)=>{this.St(e,i,c)})),nt.resolve()}removeOverlaysForBatchId(e,i,s){const o=this.qr.get(s);return o!==void 0&&(o.forEach((c=>this.overlays=this.overlays.remove(c))),this.qr.delete(s)),nt.resolve()}getOverlaysForCollection(e,i,s){const o=Rr(),c=i.length+1,f=new yt(i.child("")),p=this.overlays.getIteratorFrom(f);for(;p.hasNext();){const g=p.getNext().value,y=g.getKey();if(!i.isPrefixOf(y.path))break;y.path.length===c&&g.largestBatchId>s&&o.set(g.getKey(),g)}return nt.resolve(o)}getOverlaysForCollectionGroup(e,i,s,o){let c=new ce(((y,E)=>y-E));const f=this.overlays.getIterator();for(;f.hasNext();){const y=f.getNext().value;if(y.getKey().getCollectionGroup()===i&&y.largestBatchId>s){let E=c.get(y.largestBatchId);E===null&&(E=Rr(),c=c.insert(y.largestBatchId,E)),E.set(y.getKey(),y)}}const p=Rr(),g=c.getIterator();for(;g.hasNext()&&(g.getNext().value.forEach(((y,E)=>p.set(y,E))),!(p.size()>=o)););return nt.resolve(p)}St(e,i,s){const o=this.overlays.get(s.key);if(o!==null){const f=this.qr.get(o.largestBatchId).delete(s.key);this.qr.set(o.largestBatchId,f)}this.overlays=this.overlays.insert(s.key,new iS(i,s));let c=this.qr.get(i);c===void 0&&(c=Ot(),this.qr.set(i,c)),this.qr.set(i,c.add(s.key))}}class kS{constructor(){this.sessionToken=Ye.EMPTY_BYTE_STRING}getSessionToken(e){return nt.resolve(this.sessionToken)}setSessionToken(e,i){return this.sessionToken=i,nt.resolve()}}class xm{constructor(){this.Qr=new je(Le.$r),this.Ur=new je(Le.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(e,i){const s=new Le(e,i);this.Qr=this.Qr.add(s),this.Ur=this.Ur.add(s)}Wr(e,i){e.forEach((s=>this.addReference(s,i)))}removeReference(e,i){this.Gr(new Le(e,i))}zr(e,i){e.forEach((s=>this.removeReference(s,i)))}jr(e){const i=new yt(new ne([])),s=new Le(i,e),o=new Le(i,e+1),c=[];return this.Ur.forEachInRange([s,o],(f=>{this.Gr(f),c.push(f.key)})),c}Jr(){this.Qr.forEach((e=>this.Gr(e)))}Gr(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}Hr(e){const i=new yt(new ne([])),s=new Le(i,e),o=new Le(i,e+1);let c=Ot();return this.Ur.forEachInRange([s,o],(f=>{c=c.add(f.key)})),c}containsKey(e){const i=new Le(e,0),s=this.Qr.firstAfterOrEqual(i);return s!==null&&e.isEqual(s.key)}}class Le{constructor(e,i){this.key=e,this.Yr=i}static $r(e,i){return yt.comparator(e.key,i.key)||jt(e.Yr,i.Yr)}static Kr(e,i){return jt(e.Yr,i.Yr)||yt.comparator(e.key,i.key)}}class BS{constructor(e,i){this.indexManager=e,this.referenceDelegate=i,this.mutationQueue=[],this.tr=1,this.Zr=new je(Le.$r)}checkEmpty(e){return nt.resolve(this.mutationQueue.length===0)}addMutationBatch(e,i,s,o){const c=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const f=new nS(c,i,s,o);this.mutationQueue.push(f);for(const p of o)this.Zr=this.Zr.add(new Le(p.key,c)),this.indexManager.addToCollectionParentIndex(e,p.key.path.popLast());return nt.resolve(f)}lookupMutationBatch(e,i){return nt.resolve(this.Xr(i))}getNextMutationBatchAfterBatchId(e,i){const s=i+1,o=this.ei(s),c=o<0?0:o;return nt.resolve(this.mutationQueue.length>c?this.mutationQueue[c]:null)}getHighestUnacknowledgedBatchId(){return nt.resolve(this.mutationQueue.length===0?fm:this.tr-1)}getAllMutationBatches(e){return nt.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,i){const s=new Le(i,0),o=new Le(i,Number.POSITIVE_INFINITY),c=[];return this.Zr.forEachInRange([s,o],(f=>{const p=this.Xr(f.Yr);c.push(p)})),nt.resolve(c)}getAllMutationBatchesAffectingDocumentKeys(e,i){let s=new je(jt);return i.forEach((o=>{const c=new Le(o,0),f=new Le(o,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([c,f],(p=>{s=s.add(p.Yr)}))})),nt.resolve(this.ti(s))}getAllMutationBatchesAffectingQuery(e,i){const s=i.path,o=s.length+1;let c=s;yt.isDocumentKey(c)||(c=c.child(""));const f=new Le(new yt(c),0);let p=new je(jt);return this.Zr.forEachWhile((g=>{const y=g.key.path;return!!s.isPrefixOf(y)&&(y.length===o&&(p=p.add(g.Yr)),!0)}),f),nt.resolve(this.ti(p))}ti(e){const i=[];return e.forEach((s=>{const o=this.Xr(s);o!==null&&i.push(o)})),i}removeMutationBatch(e,i){Qt(this.ni(i.batchId,"removed")===0,55003),this.mutationQueue.shift();let s=this.Zr;return nt.forEach(i.mutations,(o=>{const c=new Le(o.key,i.batchId);return s=s.delete(c),this.referenceDelegate.markPotentiallyOrphaned(e,o.key)})).next((()=>{this.Zr=s}))}ir(e){}containsKey(e,i){const s=new Le(i,0),o=this.Zr.firstAfterOrEqual(s);return nt.resolve(i.isEqual(o&&o.key))}performConsistencyCheck(e){return this.mutationQueue.length,nt.resolve()}ni(e,i){return this.ei(e)}ei(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Xr(e){const i=this.ei(e);return i<0||i>=this.mutationQueue.length?null:this.mutationQueue[i]}}class qS{constructor(e){this.ri=e,this.docs=(function(){return new ce(yt.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,i){const s=i.key,o=this.docs.get(s),c=o?o.size:0,f=this.ri(i);return this.docs=this.docs.insert(s,{document:i.mutableCopy(),size:f}),this.size+=f-c,this.indexManager.addToCollectionParentIndex(e,s.path.popLast())}removeEntry(e){const i=this.docs.get(e);i&&(this.docs=this.docs.remove(e),this.size-=i.size)}getEntry(e,i){const s=this.docs.get(i);return nt.resolve(s?s.document.mutableCopy():Ze.newInvalidDocument(i))}getEntries(e,i){let s=ta();return i.forEach((o=>{const c=this.docs.get(o);s=s.insert(o,c?c.document.mutableCopy():Ze.newInvalidDocument(o))})),nt.resolve(s)}getDocumentsMatchingQuery(e,i,s,o){let c=ta();const f=i.path,p=new yt(f.child("__id-9223372036854775808__")),g=this.docs.getIteratorFrom(p);for(;g.hasNext();){const{key:y,value:{document:E}}=g.getNext();if(!f.isPrefixOf(y.path))break;y.path.length>f.length+1||yA(gA(E),s)<=0||(o.has(E.key)||Jc(i,E))&&(c=c.insert(E.key,E.mutableCopy()))}return nt.resolve(c)}getAllFromCollectionGroup(e,i,s,o){Et(9500)}ii(e,i){return nt.forEach(this.docs,(s=>i(s)))}newChangeBuffer(e){return new HS(this)}getSize(e){return nt.resolve(this.size)}}class HS extends OS{constructor(e){super(),this.Nr=e}applyChanges(e){const i=[];return this.changes.forEach(((s,o)=>{o.isValidDocument()?i.push(this.Nr.addEntry(e,o)):this.Nr.removeEntry(s)})),nt.waitFor(i)}getFromCache(e,i){return this.Nr.getEntry(e,i)}getAllFromCache(e,i){return this.Nr.getEntries(e,i)}}class FS{constructor(e){this.persistence=e,this.si=new zr((i=>pm(i)),gm),this.lastRemoteSnapshotVersion=At.min(),this.highestTargetId=0,this.oi=0,this._i=new xm,this.targetCount=0,this.ai=Bs.ur()}forEachTarget(e,i){return this.si.forEach(((s,o)=>i(o))),nt.resolve()}getLastRemoteSnapshotVersion(e){return nt.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return nt.resolve(this.oi)}allocateTargetId(e){return this.highestTargetId=this.ai.next(),nt.resolve(this.highestTargetId)}setTargetsMetadata(e,i,s){return s&&(this.lastRemoteSnapshotVersion=s),i>this.oi&&(this.oi=i),nt.resolve()}Pr(e){this.si.set(e.target,e);const i=e.targetId;i>this.highestTargetId&&(this.ai=new Bs(i),this.highestTargetId=i),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}addTargetData(e,i){return this.Pr(i),this.targetCount+=1,nt.resolve()}updateTargetData(e,i){return this.Pr(i),nt.resolve()}removeTargetData(e,i){return this.si.delete(i.target),this._i.jr(i.targetId),this.targetCount-=1,nt.resolve()}removeTargets(e,i,s){let o=0;const c=[];return this.si.forEach(((f,p)=>{p.sequenceNumber<=i&&s.get(p.targetId)===null&&(this.si.delete(f),c.push(this.removeMatchingKeysForTargetId(e,p.targetId)),o++)})),nt.waitFor(c).next((()=>o))}getTargetCount(e){return nt.resolve(this.targetCount)}getTargetData(e,i){const s=this.si.get(i)||null;return nt.resolve(s)}addMatchingKeys(e,i,s){return this._i.Wr(i,s),nt.resolve()}removeMatchingKeys(e,i,s){this._i.zr(i,s);const o=this.persistence.referenceDelegate,c=[];return o&&i.forEach((f=>{c.push(o.markPotentiallyOrphaned(e,f))})),nt.waitFor(c)}removeMatchingKeysForTargetId(e,i){return this._i.jr(i),nt.resolve()}getMatchingKeysForTargetId(e,i){const s=this._i.Hr(i);return nt.resolve(s)}containsKey(e,i){return nt.resolve(this._i.containsKey(i))}}class d1{constructor(e,i){this.ui={},this.overlays={},this.ci=new Kc(0),this.li=!1,this.li=!0,this.hi=new kS,this.referenceDelegate=e(this),this.Pi=new FS(this),this.indexManager=new CS,this.remoteDocumentCache=(function(o){return new qS(o)})((s=>this.referenceDelegate.Ti(s))),this.serializer=new wS(i),this.Ii=new LS(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let i=this.overlays[e.toKey()];return i||(i=new PS,this.overlays[e.toKey()]=i),i}getMutationQueue(e,i){let s=this.ui[e.toKey()];return s||(s=new BS(i,this.referenceDelegate),this.ui[e.toKey()]=s),s}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(e,i,s){ut("MemoryPersistence","Starting transaction:",e);const o=new GS(this.ci.next());return this.referenceDelegate.Ei(),s(o).next((c=>this.referenceDelegate.di(o).next((()=>c)))).toPromise().then((c=>(o.raiseOnCommittedEvent(),c)))}Ai(e,i){return nt.or(Object.values(this.ui).map((s=>()=>s.containsKey(e,i))))}}class GS extends _A{constructor(e){super(),this.currentSequenceNumber=e}}class Am{constructor(e){this.persistence=e,this.Ri=new xm,this.Vi=null}static mi(e){return new Am(e)}get fi(){if(this.Vi)return this.Vi;throw Et(60996)}addReference(e,i,s){return this.Ri.addReference(s,i),this.fi.delete(s.toString()),nt.resolve()}removeReference(e,i,s){return this.Ri.removeReference(s,i),this.fi.add(s.toString()),nt.resolve()}markPotentiallyOrphaned(e,i){return this.fi.add(i.toString()),nt.resolve()}removeTarget(e,i){this.Ri.jr(i.targetId).forEach((o=>this.fi.add(o.toString())));const s=this.persistence.getTargetCache();return s.getMatchingKeysForTargetId(e,i.targetId).next((o=>{o.forEach((c=>this.fi.add(c.toString())))})).next((()=>s.removeTargetData(e,i)))}Ei(){this.Vi=new Set}di(e){const i=this.persistence.getRemoteDocumentCache().newChangeBuffer();return nt.forEach(this.fi,(s=>{const o=yt.fromPath(s);return this.gi(e,o).next((c=>{c||i.removeEntry(o,At.min())}))})).next((()=>(this.Vi=null,i.apply(e))))}updateLimboDocument(e,i){return this.gi(e,i).next((s=>{s?this.fi.delete(i.toString()):this.fi.add(i.toString())}))}Ti(e){return 0}gi(e,i){return nt.or([()=>nt.resolve(this.Ri.containsKey(i)),()=>this.persistence.getTargetCache().containsKey(e,i),()=>this.persistence.Ai(e,i)])}}class Pc{constructor(e,i){this.persistence=e,this.pi=new zr((s=>TA(s.path)),((s,o)=>s.isEqual(o))),this.garbageCollector=jS(this,i)}static mi(e,i){return new Pc(e,i)}Ei(){}di(e){return nt.resolve()}forEachTarget(e,i){return this.persistence.getTargetCache().forEachTarget(e,i)}gr(e){const i=this.wr(e);return this.persistence.getTargetCache().getTargetCount(e).next((s=>i.next((o=>s+o))))}wr(e){let i=0;return this.pr(e,(s=>{i++})).next((()=>i))}pr(e,i){return nt.forEach(this.pi,((s,o)=>this.br(e,s,o).next((c=>c?nt.resolve():i(o)))))}removeTargets(e,i,s){return this.persistence.getTargetCache().removeTargets(e,i,s)}removeOrphanedDocuments(e,i){let s=0;const o=this.persistence.getRemoteDocumentCache(),c=o.newChangeBuffer();return o.ii(e,(f=>this.br(e,f,i).next((p=>{p||(s++,c.removeEntry(f,At.min()))})))).next((()=>c.apply(e))).next((()=>s))}markPotentiallyOrphaned(e,i){return this.pi.set(i,e.currentSequenceNumber),nt.resolve()}removeTarget(e,i){const s=i.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,s)}addReference(e,i,s){return this.pi.set(s,e.currentSequenceNumber),nt.resolve()}removeReference(e,i,s){return this.pi.set(s,e.currentSequenceNumber),nt.resolve()}updateLimboDocument(e,i){return this.pi.set(i,e.currentSequenceNumber),nt.resolve()}Ti(e){let i=e.key.toString().length;return e.isFoundDocument()&&(i+=Ec(e.data.value)),i}br(e,i,s){return nt.or([()=>this.persistence.Ai(e,i),()=>this.persistence.getTargetCache().containsKey(e,i),()=>{const o=this.pi.get(i);return nt.resolve(o!==void 0&&o>s)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}class Sm{constructor(e,i,s,o){this.targetId=e,this.fromCache=i,this.Es=s,this.ds=o}static As(e,i){let s=Ot(),o=Ot();for(const c of i.docChanges)switch(c.type){case 0:s=s.add(c.doc.key);break;case 1:o=o.add(c.doc.key)}return new Sm(e,i.fromCache,s,o)}}class QS{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}class YS{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=(function(){return L2()?8:bA(z2())>0?6:4})()}initialize(e,i){this.ps=e,this.indexManager=i,this.Rs=!0}getDocumentsMatchingQuery(e,i,s,o){const c={result:null};return this.ys(e,i).next((f=>{c.result=f})).next((()=>{if(!c.result)return this.ws(e,i,o,s).next((f=>{c.result=f}))})).next((()=>{if(c.result)return;const f=new QS;return this.Ss(e,i,f).next((p=>{if(c.result=p,this.Vs)return this.bs(e,i,f,p.size)}))})).next((()=>c.result))}bs(e,i,s,o){return s.documentReadCount<this.fs?(Ds()<=kt.DEBUG&&ut("QueryEngine","SDK will not create cache indexes for query:",Is(i),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),nt.resolve()):(Ds()<=kt.DEBUG&&ut("QueryEngine","Query:",Is(i),"scans",s.documentReadCount,"local documents and returns",o,"documents as results."),s.documentReadCount>this.gs*o?(Ds()<=kt.DEBUG&&ut("QueryEngine","The SDK decides to create cache indexes for query:",Is(i),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Ai(i))):nt.resolve())}ys(e,i){if(ov(i))return nt.resolve(null);let s=Ai(i);return this.indexManager.getIndexType(e,s).next((o=>o===0?null:(i.limit!==null&&o===1&&(i=Bd(i,null,"F"),s=Ai(i)),this.indexManager.getDocumentsMatchingTarget(e,s).next((c=>{const f=Ot(...c);return this.ps.getDocuments(e,f).next((p=>this.indexManager.getMinOffset(e,s).next((g=>{const y=this.Ds(i,p);return this.Cs(i,y,f,g.readTime)?this.ys(e,Bd(i,null,"F")):this.vs(e,y,i,g)}))))})))))}ws(e,i,s,o){return ov(i)||o.isEqual(At.min())?nt.resolve(null):this.ps.getDocuments(e,s).next((c=>{const f=this.Ds(i,c);return this.Cs(i,f,s,o)?nt.resolve(null):(Ds()<=kt.DEBUG&&ut("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),Is(i)),this.vs(e,f,i,pA(o,bo)).next((p=>p)))}))}Ds(e,i){let s=new je(G_(e));return i.forEach(((o,c)=>{Jc(e,c)&&(s=s.add(c))})),s}Cs(e,i,s,o){if(e.limit===null)return!1;if(s.size!==i.size)return!0;const c=e.limitType==="F"?i.last():i.first();return!!c&&(c.hasPendingWrites||c.version.compareTo(o)>0)}Ss(e,i,s){return Ds()<=kt.DEBUG&&ut("QueryEngine","Using full collection scan to execute query:",Is(i)),this.ps.getDocumentsMatchingQuery(e,i,ka.min(),s)}vs(e,i,s,o){return this.ps.getDocumentsMatchingQuery(e,s,o).next((c=>(i.forEach((f=>{c=c.insert(f.key,f)})),c)))}}const wm="LocalStore",KS=3e8;class XS{constructor(e,i,s,o){this.persistence=e,this.Fs=i,this.serializer=o,this.Ms=new ce(jt),this.xs=new zr((c=>pm(c)),gm),this.Os=new Map,this.Ns=e.getRemoteDocumentCache(),this.Pi=e.getTargetCache(),this.Ii=e.getBundleCache(),this.Bs(s)}Bs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new US(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(i=>e.collect(i,this.Ms)))}}function $S(r,e,i,s){return new XS(r,e,i,s)}async function m1(r,e){const i=wt(r);return await i.persistence.runTransaction("Handle user change","readonly",(s=>{let o;return i.mutationQueue.getAllMutationBatches(s).next((c=>(o=c,i.Bs(e),i.mutationQueue.getAllMutationBatches(s)))).next((c=>{const f=[],p=[];let g=Ot();for(const y of o){f.push(y.batchId);for(const E of y.mutations)g=g.add(E.key)}for(const y of c){p.push(y.batchId);for(const E of y.mutations)g=g.add(E.key)}return i.localDocuments.getDocuments(s,g).next((y=>({Ls:y,removedBatchIds:f,addedBatchIds:p})))}))}))}function ZS(r,e){const i=wt(r);return i.persistence.runTransaction("Acknowledge batch","readwrite-primary",(s=>{const o=e.batch.keys(),c=i.Ns.newChangeBuffer({trackRemovals:!0});return(function(p,g,y,E){const x=y.batch,C=x.keys();let U=nt.resolve();return C.forEach((Y=>{U=U.next((()=>E.getEntry(g,Y))).next(($=>{const P=y.docVersions.get(Y);Qt(P!==null,48541),$.version.compareTo(P)<0&&(x.applyToRemoteDocument($,y),$.isValidDocument()&&($.setReadTime(y.commitVersion),E.addEntry($)))}))})),U.next((()=>p.mutationQueue.removeMutationBatch(g,x)))})(i,s,e,c).next((()=>c.apply(s))).next((()=>i.mutationQueue.performConsistencyCheck(s))).next((()=>i.documentOverlayCache.removeOverlaysForBatchId(s,o,e.batch.batchId))).next((()=>i.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(s,(function(p){let g=Ot();for(let y=0;y<p.mutationResults.length;++y)p.mutationResults[y].transformResults.length>0&&(g=g.add(p.batch.mutations[y].key));return g})(e)))).next((()=>i.localDocuments.getDocuments(s,o)))}))}function p1(r){const e=wt(r);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(i=>e.Pi.getLastRemoteSnapshotVersion(i)))}function JS(r,e){const i=wt(r),s=e.snapshotVersion;let o=i.Ms;return i.persistence.runTransaction("Apply remote event","readwrite-primary",(c=>{const f=i.Ns.newChangeBuffer({trackRemovals:!0});o=i.Ms;const p=[];e.targetChanges.forEach(((E,x)=>{const C=o.get(x);if(!C)return;p.push(i.Pi.removeMatchingKeys(c,E.removedDocuments,x).next((()=>i.Pi.addMatchingKeys(c,E.addedDocuments,x))));let U=C.withSequenceNumber(c.currentSequenceNumber);e.targetMismatches.get(x)!==null?U=U.withResumeToken(Ye.EMPTY_BYTE_STRING,At.min()).withLastLimboFreeSnapshotVersion(At.min()):E.resumeToken.approximateByteSize()>0&&(U=U.withResumeToken(E.resumeToken,s)),o=o.insert(x,U),(function($,P,J){return $.resumeToken.approximateByteSize()===0||P.snapshotVersion.toMicroseconds()-$.snapshotVersion.toMicroseconds()>=KS?!0:J.addedDocuments.size+J.modifiedDocuments.size+J.removedDocuments.size>0})(C,U,E)&&p.push(i.Pi.updateTargetData(c,U))}));let g=ta(),y=Ot();if(e.documentUpdates.forEach((E=>{e.resolvedLimboDocuments.has(E)&&p.push(i.persistence.referenceDelegate.updateLimboDocument(c,E))})),p.push(WS(c,f,e.documentUpdates).next((E=>{g=E.ks,y=E.qs}))),!s.isEqual(At.min())){const E=i.Pi.getLastRemoteSnapshotVersion(c).next((x=>i.Pi.setTargetsMetadata(c,c.currentSequenceNumber,s)));p.push(E)}return nt.waitFor(p).next((()=>f.apply(c))).next((()=>i.localDocuments.getLocalViewOfDocuments(c,g,y))).next((()=>g))})).then((c=>(i.Ms=o,c)))}function WS(r,e,i){let s=Ot(),o=Ot();return i.forEach((c=>s=s.add(c))),e.getEntries(r,s).next((c=>{let f=ta();return i.forEach(((p,g)=>{const y=c.get(p);g.isFoundDocument()!==y.isFoundDocument()&&(o=o.add(p)),g.isNoDocument()&&g.version.isEqual(At.min())?(e.removeEntry(p,g.readTime),f=f.insert(p,g)):!y.isValidDocument()||g.version.compareTo(y.version)>0||g.version.compareTo(y.version)===0&&y.hasPendingWrites?(e.addEntry(g),f=f.insert(p,g)):ut(wm,"Ignoring outdated watch update for ",p,". Current version:",y.version," Watch version:",g.version)})),{ks:f,qs:o}}))}function tw(r,e){const i=wt(r);return i.persistence.runTransaction("Get next mutation batch","readonly",(s=>(e===void 0&&(e=fm),i.mutationQueue.getNextMutationBatchAfterBatchId(s,e))))}function ew(r,e){const i=wt(r);return i.persistence.runTransaction("Allocate target","readwrite",(s=>{let o;return i.Pi.getTargetData(s,e).next((c=>c?(o=c,nt.resolve(o)):i.Pi.allocateTargetId(s).next((f=>(o=new Oa(e,f,"TargetPurposeListen",s.currentSequenceNumber),i.Pi.addTargetData(s,o).next((()=>o)))))))})).then((s=>{const o=i.Ms.get(s.targetId);return(o===null||s.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(i.Ms=i.Ms.insert(s.targetId,s),i.xs.set(e,s.targetId)),s}))}async function Qd(r,e,i){const s=wt(r),o=s.Ms.get(e),c=i?"readwrite":"readwrite-primary";try{i||await s.persistence.runTransaction("Release target",c,(f=>s.persistence.referenceDelegate.removeTarget(f,o)))}catch(f){if(!Ks(f))throw f;ut(wm,`Failed to update sequence numbers for target ${e}: ${f}`)}s.Ms=s.Ms.remove(e),s.xs.delete(o.target)}function Ev(r,e,i){const s=wt(r);let o=At.min(),c=Ot();return s.persistence.runTransaction("Execute query","readwrite",(f=>(function(g,y,E){const x=wt(g),C=x.xs.get(E);return C!==void 0?nt.resolve(x.Ms.get(C)):x.Pi.getTargetData(y,E)})(s,f,Ai(e)).next((p=>{if(p)return o=p.lastLimboFreeSnapshotVersion,s.Pi.getMatchingKeysForTargetId(f,p.targetId).next((g=>{c=g}))})).next((()=>s.Fs.getDocumentsMatchingQuery(f,e,i?o:At.min(),i?c:Ot()))).next((p=>(nw(s,BA(e),p),{documents:p,Qs:c})))))}function nw(r,e,i){let s=r.Os.get(e)||At.min();i.forEach(((o,c)=>{c.readTime.compareTo(s)>0&&(s=c.readTime)})),r.Os.set(e,s)}class Tv{constructor(){this.activeTargetIds=YA()}zs(e){this.activeTargetIds=this.activeTargetIds.add(e)}js(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class iw{constructor(){this.Mo=new Tv,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,i,s){}addLocalQueryTarget(e,i=!0){return i&&this.Mo.zs(e),this.xo[e]||"not-current"}updateQueryState(e,i,s){this.xo[e]=i}removeLocalQueryTarget(e){this.Mo.js(e)}isLocalQueryTarget(e){return this.Mo.activeTargetIds.has(e)}clearQueryState(e){delete this.xo[e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(e){return this.Mo.activeTargetIds.has(e)}start(){return this.Mo=new Tv,Promise.resolve()}handleUserChange(e,i,s){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class aw{Oo(e){}shutdown(){}}const xv="ConnectivityMonitor";class Av{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(e){this.qo.push(e)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){ut(xv,"Network connectivity changed: AVAILABLE");for(const e of this.qo)e(0)}ko(){ut(xv,"Network connectivity changed: UNAVAILABLE");for(const e of this.qo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}let yc=null;function Yd(){return yc===null?yc=(function(){return 268435456+Math.round(2147483648*Math.random())})():yc++,"0x"+yc.toString(16)}const Ad="RestConnection",rw={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class sw{get $o(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const i=e.ssl?"https":"http",s=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.Uo=i+"://"+e.host,this.Ko=`projects/${s}/databases/${o}`,this.Wo=this.databaseId.database===Mc?`project_id=${s}`:`project_id=${s}&database_id=${o}`}Go(e,i,s,o,c){const f=Yd(),p=this.zo(e,i.toUriEncodedString());ut(Ad,`Sending RPC '${e}' ${f}:`,p,s);const g={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(g,o,c);const{host:y}=new URL(p),E=om(y);return this.Jo(e,p,g,s,E).then((x=>(ut(Ad,`Received RPC '${e}' ${f}: `,x),x)),(x=>{throw Us(Ad,`RPC '${e}' ${f} failed with error: `,x,"url: ",p,"request:",s),x}))}Ho(e,i,s,o,c,f){return this.Go(e,i,s,o,c)}jo(e,i,s){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+Qs})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),i&&i.headers.forEach(((o,c)=>e[c]=o)),s&&s.headers.forEach(((o,c)=>e[c]=o))}zo(e,i){const s=rw[e];return`${this.Uo}/v1/${i}:${s}`}terminate(){}}class lw{constructor(e){this.Yo=e.Yo,this.Zo=e.Zo}Xo(e){this.e_=e}t_(e){this.n_=e}r_(e){this.i_=e}onMessage(e){this.s_=e}close(){this.Zo()}send(e){this.Yo(e)}o_(){this.e_()}__(){this.n_()}a_(e){this.i_(e)}u_(e){this.s_(e)}}const Xe="WebChannelConnection";class ow extends sw{constructor(e){super(e),this.c_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,i,s,o,c){const f=Yd();return new Promise(((p,g)=>{const y=new v_;y.setWithCredentials(!0),y.listenOnce(__.COMPLETE,(()=>{try{switch(y.getLastErrorCode()){case bc.NO_ERROR:const x=y.getResponseJson();ut(Xe,`XHR for RPC '${e}' ${f} received:`,JSON.stringify(x)),p(x);break;case bc.TIMEOUT:ut(Xe,`RPC '${e}' ${f} timed out`),g(new ot(et.DEADLINE_EXCEEDED,"Request time out"));break;case bc.HTTP_ERROR:const C=y.getStatus();if(ut(Xe,`RPC '${e}' ${f} failed with status:`,C,"response text:",y.getResponseText()),C>0){let U=y.getResponseJson();Array.isArray(U)&&(U=U[0]);const Y=U?.error;if(Y&&Y.status&&Y.message){const $=(function(J){const it=J.toLowerCase().replace(/_/g,"-");return Object.values(et).indexOf(it)>=0?it:et.UNKNOWN})(Y.status);g(new ot($,Y.message))}else g(new ot(et.UNKNOWN,"Server responded with status "+y.getStatus()))}else g(new ot(et.UNAVAILABLE,"Connection failed."));break;default:Et(9055,{l_:e,streamId:f,h_:y.getLastErrorCode(),P_:y.getLastError()})}}finally{ut(Xe,`RPC '${e}' ${f} completed.`)}}));const E=JSON.stringify(o);ut(Xe,`RPC '${e}' ${f} sending request:`,o),y.send(i,"POST",E,s,15)}))}T_(e,i,s){const o=Yd(),c=[this.Uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],f=T_(),p=E_(),g={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},y=this.longPollingOptions.timeoutSeconds;y!==void 0&&(g.longPollingTimeout=Math.round(1e3*y)),this.useFetchStreams&&(g.useFetchStreams=!0),this.jo(g.initMessageHeaders,i,s),g.encodeInitMessageHeaders=!0;const E=c.join("");ut(Xe,`Creating RPC '${e}' stream ${o}: ${E}`,g);const x=f.createWebChannel(E,g);this.I_(x);let C=!1,U=!1;const Y=new lw({Yo:P=>{U?ut(Xe,`Not sending because RPC '${e}' stream ${o} is closed:`,P):(C||(ut(Xe,`Opening RPC '${e}' stream ${o} transport.`),x.open(),C=!0),ut(Xe,`RPC '${e}' stream ${o} sending:`,P),x.send(P))},Zo:()=>x.close()}),$=(P,J,it)=>{P.listen(J,(Z=>{try{it(Z)}catch(vt){setTimeout((()=>{throw vt}),0)}}))};return $(x,so.EventType.OPEN,(()=>{U||(ut(Xe,`RPC '${e}' stream ${o} transport opened.`),Y.o_())})),$(x,so.EventType.CLOSE,(()=>{U||(U=!0,ut(Xe,`RPC '${e}' stream ${o} transport closed`),Y.a_(),this.E_(x))})),$(x,so.EventType.ERROR,(P=>{U||(U=!0,Us(Xe,`RPC '${e}' stream ${o} transport errored. Name:`,P.name,"Message:",P.message),Y.a_(new ot(et.UNAVAILABLE,"The operation could not be completed")))})),$(x,so.EventType.MESSAGE,(P=>{if(!U){const J=P.data[0];Qt(!!J,16349);const it=J,Z=it?.error||it[0]?.error;if(Z){ut(Xe,`RPC '${e}' stream ${o} received error:`,Z);const vt=Z.status;let dt=(function(w){const R=Ce[w];if(R!==void 0)return n1(R)})(vt),_t=Z.message;dt===void 0&&(dt=et.INTERNAL,_t="Unknown error status: "+vt+" with message "+Z.message),U=!0,Y.a_(new ot(dt,_t)),x.close()}else ut(Xe,`RPC '${e}' stream ${o} received:`,J),Y.u_(J)}})),$(p,b_.STAT_EVENT,(P=>{P.stat===jd.PROXY?ut(Xe,`RPC '${e}' stream ${o} detected buffering proxy`):P.stat===jd.NOPROXY&&ut(Xe,`RPC '${e}' stream ${o} detected no buffering proxy`)})),setTimeout((()=>{Y.__()}),0),Y}terminate(){this.c_.forEach((e=>e.close())),this.c_=[]}I_(e){this.c_.push(e)}E_(e){this.c_=this.c_.filter((i=>i===e))}}function Sd(){return typeof document<"u"?document:null}function nh(r){return new fS(r,!0)}class g1{constructor(e,i,s=1e3,o=1.5,c=6e4){this.Mi=e,this.timerId=i,this.d_=s,this.A_=o,this.R_=c,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();const i=Math.floor(this.V_+this.y_()),s=Math.max(0,Date.now()-this.f_),o=Math.max(0,i-s);o>0&&ut("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.V_} ms, delay with jitter: ${i} ms, last attempt: ${s} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,o,(()=>(this.f_=Date.now(),e()))),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}const Sv="PersistentStream";class y1{constructor(e,i,s,o,c,f,p,g){this.Mi=e,this.S_=s,this.b_=o,this.connection=c,this.authCredentialsProvider=f,this.appCheckCredentialsProvider=p,this.listener=g,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new g1(e,i)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,(()=>this.k_())))}q_(e){this.Q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,i){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():i&&i.code===et.RESOURCE_EXHAUSTED?(Wi(i.toString()),Wi("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):i&&i.code===et.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.r_(i)}K_(){}auth(){this.state=1;const e=this.W_(this.D_),i=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([s,o])=>{this.D_===i&&this.G_(s,o)}),(s=>{e((()=>{const o=new ot(et.UNKNOWN,"Fetching auth token failed: "+s.message);return this.z_(o)}))}))}G_(e,i){const s=this.W_(this.D_);this.stream=this.j_(e,i),this.stream.Xo((()=>{s((()=>this.listener.Xo()))})),this.stream.t_((()=>{s((()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.t_())))})),this.stream.r_((o=>{s((()=>this.z_(o)))})),this.stream.onMessage((o=>{s((()=>++this.F_==1?this.J_(o):this.onNext(o)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(e){return ut(Sv,`close with error: ${e}`),this.stream=null,this.close(4,e)}W_(e){return i=>{this.Mi.enqueueAndForget((()=>this.D_===e?i():(ut(Sv,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class uw extends y1{constructor(e,i,s,o,c,f){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",i,s,o,f),this.serializer=c}j_(e,i){return this.connection.T_("Listen",e,i)}J_(e){return this.onNext(e)}onNext(e){this.M_.reset();const i=pS(this.serializer,e),s=(function(c){if(!("targetChange"in c))return At.min();const f=c.targetChange;return f.targetIds&&f.targetIds.length?At.min():f.readTime?Si(f.readTime):At.min()})(e);return this.listener.H_(i,s)}Y_(e){const i={};i.database=Gd(this.serializer),i.addTarget=(function(c,f){let p;const g=f.target;if(p=Pd(g)?{documents:vS(c,g)}:{query:_S(c,g).ft},p.targetId=f.targetId,f.resumeToken.approximateByteSize()>0){p.resumeToken=r1(c,f.resumeToken);const y=qd(c,f.expectedCount);y!==null&&(p.expectedCount=y)}else if(f.snapshotVersion.compareTo(At.min())>0){p.readTime=Lc(c,f.snapshotVersion.toTimestamp());const y=qd(c,f.expectedCount);y!==null&&(p.expectedCount=y)}return p})(this.serializer,e);const s=ES(this.serializer,e);s&&(i.labels=s),this.q_(i)}Z_(e){const i={};i.database=Gd(this.serializer),i.removeTarget=e,this.q_(i)}}class cw extends y1{constructor(e,i,s,o,c,f){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",i,s,o,f),this.serializer=c}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(e,i){return this.connection.T_("Write",e,i)}J_(e){return Qt(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,Qt(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){Qt(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const i=yS(e.writeResults,e.commitTime),s=Si(e.commitTime);return this.listener.na(s,i)}ra(){const e={};e.database=Gd(this.serializer),this.q_(e)}ea(e){const i={streamToken:this.lastStreamToken,writes:e.map((s=>gS(this.serializer,s)))};this.q_(i)}}class hw{}class fw extends hw{constructor(e,i,s,o){super(),this.authCredentials=e,this.appCheckCredentials=i,this.connection=s,this.serializer=o,this.ia=!1}sa(){if(this.ia)throw new ot(et.FAILED_PRECONDITION,"The client has already been terminated.")}Go(e,i,s,o){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([c,f])=>this.connection.Go(e,Hd(i,s),o,c,f))).catch((c=>{throw c.name==="FirebaseError"?(c.code===et.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),c):new ot(et.UNKNOWN,c.toString())}))}Ho(e,i,s,o,c){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([f,p])=>this.connection.Ho(e,Hd(i,s),o,f,p,c))).catch((f=>{throw f.name==="FirebaseError"?(f.code===et.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),f):new ot(et.UNKNOWN,f.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}class dw{constructor(e,i){this.asyncQueue=e,this.onlineStateHandler=i,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const i=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(Wi(i),this.aa=!1):ut("OnlineStateTracker",i)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}const Vr="RemoteStore";class mw{constructor(e,i,s,o,c){this.localStore=e,this.datastore=i,this.asyncQueue=s,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=c,this.Aa.Oo((f=>{s.enqueueAndForget((async()=>{Ur(this)&&(ut(Vr,"Restarting streams for network reachability change."),await(async function(g){const y=wt(g);y.Ea.add(4),await jo(y),y.Ra.set("Unknown"),y.Ea.delete(4),await ih(y)})(this))}))})),this.Ra=new dw(s,o)}}async function ih(r){if(Ur(r))for(const e of r.da)await e(!0)}async function jo(r){for(const e of r.da)await e(!1)}function v1(r,e){const i=wt(r);i.Ia.has(e.targetId)||(i.Ia.set(e.targetId,e),Dm(i)?Nm(i):$s(i).O_()&&Cm(i,e))}function Rm(r,e){const i=wt(r),s=$s(i);i.Ia.delete(e),s.O_()&&_1(i,e),i.Ia.size===0&&(s.O_()?s.L_():Ur(i)&&i.Ra.set("Unknown"))}function Cm(r,e){if(r.Va.Ue(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(At.min())>0){const i=r.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(i)}$s(r).Y_(e)}function _1(r,e){r.Va.Ue(e),$s(r).Z_(e)}function Nm(r){r.Va=new oS({getRemoteKeysForTarget:e=>r.remoteSyncer.getRemoteKeysForTarget(e),At:e=>r.Ia.get(e)||null,ht:()=>r.datastore.serializer.databaseId}),$s(r).start(),r.Ra.ua()}function Dm(r){return Ur(r)&&!$s(r).x_()&&r.Ia.size>0}function Ur(r){return wt(r).Ea.size===0}function b1(r){r.Va=void 0}async function pw(r){r.Ra.set("Online")}async function gw(r){r.Ia.forEach(((e,i)=>{Cm(r,e)}))}async function yw(r,e){b1(r),Dm(r)?(r.Ra.ha(e),Nm(r)):r.Ra.set("Unknown")}async function vw(r,e,i){if(r.Ra.set("Online"),e instanceof a1&&e.state===2&&e.cause)try{await(async function(o,c){const f=c.cause;for(const p of c.targetIds)o.Ia.has(p)&&(await o.remoteSyncer.rejectListen(p,f),o.Ia.delete(p),o.Va.removeTarget(p))})(r,e)}catch(s){ut(Vr,"Failed to remove targets %s: %s ",e.targetIds.join(","),s),await kc(r,s)}else if(e instanceof Ac?r.Va.Ze(e):e instanceof i1?r.Va.st(e):r.Va.tt(e),!i.isEqual(At.min()))try{const s=await p1(r.localStore);i.compareTo(s)>=0&&await(function(c,f){const p=c.Va.Tt(f);return p.targetChanges.forEach(((g,y)=>{if(g.resumeToken.approximateByteSize()>0){const E=c.Ia.get(y);E&&c.Ia.set(y,E.withResumeToken(g.resumeToken,f))}})),p.targetMismatches.forEach(((g,y)=>{const E=c.Ia.get(g);if(!E)return;c.Ia.set(g,E.withResumeToken(Ye.EMPTY_BYTE_STRING,E.snapshotVersion)),_1(c,g);const x=new Oa(E.target,g,y,E.sequenceNumber);Cm(c,x)})),c.remoteSyncer.applyRemoteEvent(p)})(r,i)}catch(s){ut(Vr,"Failed to raise snapshot:",s),await kc(r,s)}}async function kc(r,e,i){if(!Ks(e))throw e;r.Ea.add(1),await jo(r),r.Ra.set("Offline"),i||(i=()=>p1(r.localStore)),r.asyncQueue.enqueueRetryable((async()=>{ut(Vr,"Retrying IndexedDB access"),await i(),r.Ea.delete(1),await ih(r)}))}function E1(r,e){return e().catch((i=>kc(r,i,e)))}async function ah(r){const e=wt(r),i=Fa(e);let s=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:fm;for(;_w(e);)try{const o=await tw(e.localStore,s);if(o===null){e.Ta.length===0&&i.L_();break}s=o.batchId,bw(e,o)}catch(o){await kc(e,o)}T1(e)&&x1(e)}function _w(r){return Ur(r)&&r.Ta.length<10}function bw(r,e){r.Ta.push(e);const i=Fa(r);i.O_()&&i.X_&&i.ea(e.mutations)}function T1(r){return Ur(r)&&!Fa(r).x_()&&r.Ta.length>0}function x1(r){Fa(r).start()}async function Ew(r){Fa(r).ra()}async function Tw(r){const e=Fa(r);for(const i of r.Ta)e.ea(i.mutations)}async function xw(r,e,i){const s=r.Ta.shift(),o=bm.from(s,e,i);await E1(r,(()=>r.remoteSyncer.applySuccessfulWrite(o))),await ah(r)}async function Aw(r,e){e&&Fa(r).X_&&await(async function(s,o){if((function(f){return rS(f)&&f!==et.ABORTED})(o.code)){const c=s.Ta.shift();Fa(s).B_(),await E1(s,(()=>s.remoteSyncer.rejectFailedWrite(c.batchId,o))),await ah(s)}})(r,e),T1(r)&&x1(r)}async function wv(r,e){const i=wt(r);i.asyncQueue.verifyOperationInProgress(),ut(Vr,"RemoteStore received new credentials");const s=Ur(i);i.Ea.add(3),await jo(i),s&&i.Ra.set("Unknown"),await i.remoteSyncer.handleCredentialChange(e),i.Ea.delete(3),await ih(i)}async function Sw(r,e){const i=wt(r);e?(i.Ea.delete(2),await ih(i)):e||(i.Ea.add(2),await jo(i),i.Ra.set("Unknown"))}function $s(r){return r.ma||(r.ma=(function(i,s,o){const c=wt(i);return c.sa(),new uw(s,c.connection,c.authCredentials,c.appCheckCredentials,c.serializer,o)})(r.datastore,r.asyncQueue,{Xo:pw.bind(null,r),t_:gw.bind(null,r),r_:yw.bind(null,r),H_:vw.bind(null,r)}),r.da.push((async e=>{e?(r.ma.B_(),Dm(r)?Nm(r):r.Ra.set("Unknown")):(await r.ma.stop(),b1(r))}))),r.ma}function Fa(r){return r.fa||(r.fa=(function(i,s,o){const c=wt(i);return c.sa(),new cw(s,c.connection,c.authCredentials,c.appCheckCredentials,c.serializer,o)})(r.datastore,r.asyncQueue,{Xo:()=>Promise.resolve(),t_:Ew.bind(null,r),r_:Aw.bind(null,r),ta:Tw.bind(null,r),na:xw.bind(null,r)}),r.da.push((async e=>{e?(r.fa.B_(),await ah(r)):(await r.fa.stop(),r.Ta.length>0&&(ut(Vr,`Stopping write stream with ${r.Ta.length} pending writes`),r.Ta=[]))}))),r.fa}class Im{constructor(e,i,s,o,c){this.asyncQueue=e,this.timerId=i,this.targetTimeMs=s,this.op=o,this.removalCallback=c,this.deferred=new Cr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((f=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,i,s,o,c){const f=Date.now()+s,p=new Im(e,i,f,o,c);return p.start(s),p}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new ot(et.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Vm(r,e){if(Wi("AsyncQueue",`${e}: ${r}`),Ks(r))return new ot(et.UNAVAILABLE,`${e}: ${r}`);throw r}class Os{static emptySet(e){return new Os(e.comparator)}constructor(e){this.comparator=e?(i,s)=>e(i,s)||yt.comparator(i.key,s.key):(i,s)=>yt.comparator(i.key,s.key),this.keyedMap=lo(),this.sortedSet=new ce(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const i=this.keyedMap.get(e);return i?this.sortedSet.indexOf(i):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((i,s)=>(e(i),!1)))}add(e){const i=this.delete(e.key);return i.copy(i.keyedMap.insert(e.key,e),i.sortedSet.insert(e,null))}delete(e){const i=this.get(e);return i?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(i)):this}isEqual(e){if(!(e instanceof Os)||this.size!==e.size)return!1;const i=this.sortedSet.getIterator(),s=e.sortedSet.getIterator();for(;i.hasNext();){const o=i.getNext().key,c=s.getNext().key;if(!o.isEqual(c))return!1}return!0}toString(){const e=[];return this.forEach((i=>{e.push(i.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,i){const s=new Os;return s.comparator=this.comparator,s.keyedMap=e,s.sortedSet=i,s}}class Rv{constructor(){this.ga=new ce(yt.comparator)}track(e){const i=e.doc.key,s=this.ga.get(i);s?e.type!==0&&s.type===3?this.ga=this.ga.insert(i,e):e.type===3&&s.type!==1?this.ga=this.ga.insert(i,{type:s.type,doc:e.doc}):e.type===2&&s.type===2?this.ga=this.ga.insert(i,{type:2,doc:e.doc}):e.type===2&&s.type===0?this.ga=this.ga.insert(i,{type:0,doc:e.doc}):e.type===1&&s.type===0?this.ga=this.ga.remove(i):e.type===1&&s.type===2?this.ga=this.ga.insert(i,{type:1,doc:s.doc}):e.type===0&&s.type===1?this.ga=this.ga.insert(i,{type:2,doc:e.doc}):Et(63341,{Rt:e,pa:s}):this.ga=this.ga.insert(i,e)}ya(){const e=[];return this.ga.inorderTraversal(((i,s)=>{e.push(s)})),e}}class qs{constructor(e,i,s,o,c,f,p,g,y){this.query=e,this.docs=i,this.oldDocs=s,this.docChanges=o,this.mutatedKeys=c,this.fromCache=f,this.syncStateChanged=p,this.excludesMetadataChanges=g,this.hasCachedResults=y}static fromInitialDocuments(e,i,s,o,c){const f=[];return i.forEach((p=>{f.push({type:0,doc:p})})),new qs(e,i,Os.emptySet(i),f,s,o,!0,!1,c)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Zc(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const i=this.docChanges,s=e.docChanges;if(i.length!==s.length)return!1;for(let o=0;o<i.length;o++)if(i[o].type!==s[o].type||!i[o].doc.isEqual(s[o].doc))return!1;return!0}}class ww{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some((e=>e.Da()))}}class Rw{constructor(){this.queries=Cv(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(i,s){const o=wt(i),c=o.queries;o.queries=Cv(),c.forEach(((f,p)=>{for(const g of p.Sa)g.onError(s)}))})(this,new ot(et.ABORTED,"Firestore shutting down"))}}function Cv(){return new zr((r=>F_(r)),Zc)}async function Cw(r,e){const i=wt(r);let s=3;const o=e.query;let c=i.queries.get(o);c?!c.ba()&&e.Da()&&(s=2):(c=new ww,s=e.Da()?0:1);try{switch(s){case 0:c.wa=await i.onListen(o,!0);break;case 1:c.wa=await i.onListen(o,!1);break;case 2:await i.onFirstRemoteStoreListen(o)}}catch(f){const p=Vm(f,`Initialization of query '${Is(e.query)}' failed`);return void e.onError(p)}i.queries.set(o,c),c.Sa.push(e),e.va(i.onlineState),c.wa&&e.Fa(c.wa)&&Mm(i)}async function Nw(r,e){const i=wt(r),s=e.query;let o=3;const c=i.queries.get(s);if(c){const f=c.Sa.indexOf(e);f>=0&&(c.Sa.splice(f,1),c.Sa.length===0?o=e.Da()?0:1:!c.ba()&&e.Da()&&(o=2))}switch(o){case 0:return i.queries.delete(s),i.onUnlisten(s,!0);case 1:return i.queries.delete(s),i.onUnlisten(s,!1);case 2:return i.onLastRemoteStoreUnlisten(s);default:return}}function Dw(r,e){const i=wt(r);let s=!1;for(const o of e){const c=o.query,f=i.queries.get(c);if(f){for(const p of f.Sa)p.Fa(o)&&(s=!0);f.wa=o}}s&&Mm(i)}function Iw(r,e,i){const s=wt(r),o=s.queries.get(e);if(o)for(const c of o.Sa)c.onError(i);s.queries.delete(e)}function Mm(r){r.Ca.forEach((e=>{e.next()}))}var Kd,Nv;(Nv=Kd||(Kd={})).Ma="default",Nv.Cache="cache";class Vw{constructor(e,i,s){this.query=e,this.xa=i,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=s||{}}Fa(e){if(!this.options.includeMetadataChanges){const s=[];for(const o of e.docChanges)o.type!==3&&s.push(o);e=new qs(e.query,e.docs,e.oldDocs,s,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let i=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),i=!0):this.La(e,this.onlineState)&&(this.ka(e),i=!0),this.Na=e,i}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let i=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),i=!0),i}La(e,i){if(!e.fromCache||!this.Da())return!0;const s=i!=="Offline";return(!this.options.qa||!s)&&(!e.docs.isEmpty()||e.hasCachedResults||i==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const i=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!i)&&this.options.includeMetadataChanges===!0}ka(e){e=qs.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==Kd.Cache}}class A1{constructor(e){this.key=e}}class S1{constructor(e){this.key=e}}class Mw{constructor(e,i){this.query=e,this.Ya=i,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=Ot(),this.mutatedKeys=Ot(),this.eu=G_(e),this.tu=new Os(this.eu)}get nu(){return this.Ya}ru(e,i){const s=i?i.iu:new Rv,o=i?i.tu:this.tu;let c=i?i.mutatedKeys:this.mutatedKeys,f=o,p=!1;const g=this.query.limitType==="F"&&o.size===this.query.limit?o.last():null,y=this.query.limitType==="L"&&o.size===this.query.limit?o.first():null;if(e.inorderTraversal(((E,x)=>{const C=o.get(E),U=Jc(this.query,x)?x:null,Y=!!C&&this.mutatedKeys.has(C.key),$=!!U&&(U.hasLocalMutations||this.mutatedKeys.has(U.key)&&U.hasCommittedMutations);let P=!1;C&&U?C.data.isEqual(U.data)?Y!==$&&(s.track({type:3,doc:U}),P=!0):this.su(C,U)||(s.track({type:2,doc:U}),P=!0,(g&&this.eu(U,g)>0||y&&this.eu(U,y)<0)&&(p=!0)):!C&&U?(s.track({type:0,doc:U}),P=!0):C&&!U&&(s.track({type:1,doc:C}),P=!0,(g||y)&&(p=!0)),P&&(U?(f=f.add(U),c=$?c.add(E):c.delete(E)):(f=f.delete(E),c=c.delete(E)))})),this.query.limit!==null)for(;f.size>this.query.limit;){const E=this.query.limitType==="F"?f.last():f.first();f=f.delete(E.key),c=c.delete(E.key),s.track({type:1,doc:E})}return{tu:f,iu:s,Cs:p,mutatedKeys:c}}su(e,i){return e.hasLocalMutations&&i.hasCommittedMutations&&!i.hasLocalMutations}applyChanges(e,i,s,o){const c=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const f=e.iu.ya();f.sort(((E,x)=>(function(U,Y){const $=P=>{switch(P){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Et(20277,{Rt:P})}};return $(U)-$(Y)})(E.type,x.type)||this.eu(E.doc,x.doc))),this.ou(s),o=o??!1;const p=i&&!o?this._u():[],g=this.Xa.size===0&&this.current&&!o?1:0,y=g!==this.Za;return this.Za=g,f.length!==0||y?{snapshot:new qs(this.query,e.tu,c,f,e.mutatedKeys,g===0,y,!1,!!s&&s.resumeToken.approximateByteSize()>0),au:p}:{au:p}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new Rv,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(e){return!this.Ya.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach((i=>this.Ya=this.Ya.add(i))),e.modifiedDocuments.forEach((i=>{})),e.removedDocuments.forEach((i=>this.Ya=this.Ya.delete(i))),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Xa;this.Xa=Ot(),this.tu.forEach((s=>{this.uu(s.key)&&(this.Xa=this.Xa.add(s.key))}));const i=[];return e.forEach((s=>{this.Xa.has(s)||i.push(new S1(s))})),this.Xa.forEach((s=>{e.has(s)||i.push(new A1(s))})),i}cu(e){this.Ya=e.Qs,this.Xa=Ot();const i=this.ru(e.documents);return this.applyChanges(i,!0)}lu(){return qs.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const jm="SyncEngine";class jw{constructor(e,i,s){this.query=e,this.targetId=i,this.view=s}}class Ow{constructor(e){this.key=e,this.hu=!1}}class zw{constructor(e,i,s,o,c,f){this.localStore=e,this.remoteStore=i,this.eventManager=s,this.sharedClientState=o,this.currentUser=c,this.maxConcurrentLimboResolutions=f,this.Pu={},this.Tu=new zr((p=>F_(p)),Zc),this.Iu=new Map,this.Eu=new Set,this.du=new ce(yt.comparator),this.Au=new Map,this.Ru=new xm,this.Vu={},this.mu=new Map,this.fu=Bs.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function Uw(r,e,i=!0){const s=I1(r);let o;const c=s.Tu.get(e);return c?(s.sharedClientState.addLocalQueryTarget(c.targetId),o=c.view.lu()):o=await w1(s,e,i,!0),o}async function Lw(r,e){const i=I1(r);await w1(i,e,!0,!1)}async function w1(r,e,i,s){const o=await ew(r.localStore,Ai(e)),c=o.targetId,f=r.sharedClientState.addLocalQueryTarget(c,i);let p;return s&&(p=await Pw(r,e,c,f==="current",o.resumeToken)),r.isPrimaryClient&&i&&v1(r.remoteStore,o),p}async function Pw(r,e,i,s,o){r.pu=(x,C,U)=>(async function($,P,J,it){let Z=P.view.ru(J);Z.Cs&&(Z=await Ev($.localStore,P.query,!1).then((({documents:N})=>P.view.ru(N,Z))));const vt=it&&it.targetChanges.get(P.targetId),dt=it&&it.targetMismatches.get(P.targetId)!=null,_t=P.view.applyChanges(Z,$.isPrimaryClient,vt,dt);return Iv($,P.targetId,_t.au),_t.snapshot})(r,x,C,U);const c=await Ev(r.localStore,e,!0),f=new Mw(e,c.Qs),p=f.ru(c.documents),g=Mo.createSynthesizedTargetChangeForCurrentChange(i,s&&r.onlineState!=="Offline",o),y=f.applyChanges(p,r.isPrimaryClient,g);Iv(r,i,y.au);const E=new jw(e,i,f);return r.Tu.set(e,E),r.Iu.has(i)?r.Iu.get(i).push(e):r.Iu.set(i,[e]),y.snapshot}async function kw(r,e,i){const s=wt(r),o=s.Tu.get(e),c=s.Iu.get(o.targetId);if(c.length>1)return s.Iu.set(o.targetId,c.filter((f=>!Zc(f,e)))),void s.Tu.delete(e);s.isPrimaryClient?(s.sharedClientState.removeLocalQueryTarget(o.targetId),s.sharedClientState.isActiveQueryTarget(o.targetId)||await Qd(s.localStore,o.targetId,!1).then((()=>{s.sharedClientState.clearQueryState(o.targetId),i&&Rm(s.remoteStore,o.targetId),Xd(s,o.targetId)})).catch(Ys)):(Xd(s,o.targetId),await Qd(s.localStore,o.targetId,!0))}async function Bw(r,e){const i=wt(r),s=i.Tu.get(e),o=i.Iu.get(s.targetId);i.isPrimaryClient&&o.length===1&&(i.sharedClientState.removeLocalQueryTarget(s.targetId),Rm(i.remoteStore,s.targetId))}async function qw(r,e,i){const s=Xw(r);try{const o=await(function(f,p){const g=wt(f),y=re.now(),E=p.reduce(((U,Y)=>U.add(Y.key)),Ot());let x,C;return g.persistence.runTransaction("Locally write mutations","readwrite",(U=>{let Y=ta(),$=Ot();return g.Ns.getEntries(U,E).next((P=>{Y=P,Y.forEach(((J,it)=>{it.isValidDocument()||($=$.add(J))}))})).next((()=>g.localDocuments.getOverlayedDocuments(U,Y))).next((P=>{x=P;const J=[];for(const it of p){const Z=tS(it,x.get(it.key).overlayedDocument);Z!=null&&J.push(new Ka(it.key,Z,z_(Z.value.mapValue),Un.exists(!0)))}return g.mutationQueue.addMutationBatch(U,y,J,p)})).next((P=>{C=P;const J=P.applyToLocalDocumentSet(x,$);return g.documentOverlayCache.saveOverlays(U,P.batchId,J)}))})).then((()=>({batchId:C.batchId,changes:Y_(x)})))})(s.localStore,e);s.sharedClientState.addPendingMutation(o.batchId),(function(f,p,g){let y=f.Vu[f.currentUser.toKey()];y||(y=new ce(jt)),y=y.insert(p,g),f.Vu[f.currentUser.toKey()]=y})(s,o.batchId,i),await Oo(s,o.changes),await ah(s.remoteStore)}catch(o){const c=Vm(o,"Failed to persist write");i.reject(c)}}async function R1(r,e){const i=wt(r);try{const s=await JS(i.localStore,e);e.targetChanges.forEach(((o,c)=>{const f=i.Au.get(c);f&&(Qt(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1,22616),o.addedDocuments.size>0?f.hu=!0:o.modifiedDocuments.size>0?Qt(f.hu,14607):o.removedDocuments.size>0&&(Qt(f.hu,42227),f.hu=!1))})),await Oo(i,s,e)}catch(s){await Ys(s)}}function Dv(r,e,i){const s=wt(r);if(s.isPrimaryClient&&i===0||!s.isPrimaryClient&&i===1){const o=[];s.Tu.forEach(((c,f)=>{const p=f.view.va(e);p.snapshot&&o.push(p.snapshot)})),(function(f,p){const g=wt(f);g.onlineState=p;let y=!1;g.queries.forEach(((E,x)=>{for(const C of x.Sa)C.va(p)&&(y=!0)})),y&&Mm(g)})(s.eventManager,e),o.length&&s.Pu.H_(o),s.onlineState=e,s.isPrimaryClient&&s.sharedClientState.setOnlineState(e)}}async function Hw(r,e,i){const s=wt(r);s.sharedClientState.updateQueryState(e,"rejected",i);const o=s.Au.get(e),c=o&&o.key;if(c){let f=new ce(yt.comparator);f=f.insert(c,Ze.newNoDocument(c,At.min()));const p=Ot().add(c),g=new eh(At.min(),new Map,new ce(jt),f,p);await R1(s,g),s.du=s.du.remove(c),s.Au.delete(e),Om(s)}else await Qd(s.localStore,e,!1).then((()=>Xd(s,e,i))).catch(Ys)}async function Fw(r,e){const i=wt(r),s=e.batch.batchId;try{const o=await ZS(i.localStore,e);N1(i,s,null),C1(i,s),i.sharedClientState.updateMutationState(s,"acknowledged"),await Oo(i,o)}catch(o){await Ys(o)}}async function Gw(r,e,i){const s=wt(r);try{const o=await(function(f,p){const g=wt(f);return g.persistence.runTransaction("Reject batch","readwrite-primary",(y=>{let E;return g.mutationQueue.lookupMutationBatch(y,p).next((x=>(Qt(x!==null,37113),E=x.keys(),g.mutationQueue.removeMutationBatch(y,x)))).next((()=>g.mutationQueue.performConsistencyCheck(y))).next((()=>g.documentOverlayCache.removeOverlaysForBatchId(y,E,p))).next((()=>g.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(y,E))).next((()=>g.localDocuments.getDocuments(y,E)))}))})(s.localStore,e);N1(s,e,i),C1(s,e),s.sharedClientState.updateMutationState(e,"rejected",i),await Oo(s,o)}catch(o){await Ys(o)}}function C1(r,e){(r.mu.get(e)||[]).forEach((i=>{i.resolve()})),r.mu.delete(e)}function N1(r,e,i){const s=wt(r);let o=s.Vu[s.currentUser.toKey()];if(o){const c=o.get(e);c&&(i?c.reject(i):c.resolve(),o=o.remove(e)),s.Vu[s.currentUser.toKey()]=o}}function Xd(r,e,i=null){r.sharedClientState.removeLocalQueryTarget(e);for(const s of r.Iu.get(e))r.Tu.delete(s),i&&r.Pu.yu(s,i);r.Iu.delete(e),r.isPrimaryClient&&r.Ru.jr(e).forEach((s=>{r.Ru.containsKey(s)||D1(r,s)}))}function D1(r,e){r.Eu.delete(e.path.canonicalString());const i=r.du.get(e);i!==null&&(Rm(r.remoteStore,i),r.du=r.du.remove(e),r.Au.delete(i),Om(r))}function Iv(r,e,i){for(const s of i)s instanceof A1?(r.Ru.addReference(s.key,e),Qw(r,s)):s instanceof S1?(ut(jm,"Document no longer in limbo: "+s.key),r.Ru.removeReference(s.key,e),r.Ru.containsKey(s.key)||D1(r,s.key)):Et(19791,{wu:s})}function Qw(r,e){const i=e.key,s=i.path.canonicalString();r.du.get(i)||r.Eu.has(s)||(ut(jm,"New document in limbo: "+i),r.Eu.add(s),Om(r))}function Om(r){for(;r.Eu.size>0&&r.du.size<r.maxConcurrentLimboResolutions;){const e=r.Eu.values().next().value;r.Eu.delete(e);const i=new yt(ne.fromString(e)),s=r.fu.next();r.Au.set(s,new Ow(i)),r.du=r.du.insert(i,s),v1(r.remoteStore,new Oa(Ai(ym(i.path)),s,"TargetPurposeLimboResolution",Kc.ce))}}async function Oo(r,e,i){const s=wt(r),o=[],c=[],f=[];s.Tu.isEmpty()||(s.Tu.forEach(((p,g)=>{f.push(s.pu(g,e,i).then((y=>{if((y||i)&&s.isPrimaryClient){const E=y?!y.fromCache:i?.targetChanges.get(g.targetId)?.current;s.sharedClientState.updateQueryState(g.targetId,E?"current":"not-current")}if(y){o.push(y);const E=Sm.As(g.targetId,y);c.push(E)}})))})),await Promise.all(f),s.Pu.H_(o),await(async function(g,y){const E=wt(g);try{await E.persistence.runTransaction("notifyLocalViewChanges","readwrite",(x=>nt.forEach(y,(C=>nt.forEach(C.Es,(U=>E.persistence.referenceDelegate.addReference(x,C.targetId,U))).next((()=>nt.forEach(C.ds,(U=>E.persistence.referenceDelegate.removeReference(x,C.targetId,U)))))))))}catch(x){if(!Ks(x))throw x;ut(wm,"Failed to update sequence numbers: "+x)}for(const x of y){const C=x.targetId;if(!x.fromCache){const U=E.Ms.get(C),Y=U.snapshotVersion,$=U.withLastLimboFreeSnapshotVersion(Y);E.Ms=E.Ms.insert(C,$)}}})(s.localStore,c))}async function Yw(r,e){const i=wt(r);if(!i.currentUser.isEqual(e)){ut(jm,"User change. New user:",e.toKey());const s=await m1(i.localStore,e);i.currentUser=e,(function(c,f){c.mu.forEach((p=>{p.forEach((g=>{g.reject(new ot(et.CANCELLED,f))}))})),c.mu.clear()})(i,"'waitForPendingWrites' promise is rejected due to a user change."),i.sharedClientState.handleUserChange(e,s.removedBatchIds,s.addedBatchIds),await Oo(i,s.Ls)}}function Kw(r,e){const i=wt(r),s=i.Au.get(e);if(s&&s.hu)return Ot().add(s.key);{let o=Ot();const c=i.Iu.get(e);if(!c)return o;for(const f of c){const p=i.Tu.get(f);o=o.unionWith(p.view.nu)}return o}}function I1(r){const e=wt(r);return e.remoteStore.remoteSyncer.applyRemoteEvent=R1.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=Kw.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=Hw.bind(null,e),e.Pu.H_=Dw.bind(null,e.eventManager),e.Pu.yu=Iw.bind(null,e.eventManager),e}function Xw(r){const e=wt(r);return e.remoteStore.remoteSyncer.applySuccessfulWrite=Fw.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=Gw.bind(null,e),e}class Bc{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=nh(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,i){return null}Mu(e,i){return null}vu(e){return $S(this.persistence,new YS,e.initialUser,this.serializer)}Cu(e){return new d1(Am.mi,this.serializer)}Du(e){return new iw}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Bc.provider={build:()=>new Bc};class $w extends Bc{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,i){Qt(this.persistence.referenceDelegate instanceof Pc,46915);const s=this.persistence.referenceDelegate.garbageCollector;return new VS(s,e.asyncQueue,i)}Cu(e){const i=this.cacheSizeBytes!==void 0?cn.withCacheSize(this.cacheSizeBytes):cn.DEFAULT;return new d1((s=>Pc.mi(s,i)),this.serializer)}}class $d{async initialize(e,i){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(i),this.remoteStore=this.createRemoteStore(i),this.eventManager=this.createEventManager(i),this.syncEngine=this.createSyncEngine(i,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=s=>Dv(this.syncEngine,s,1),this.remoteStore.remoteSyncer.handleCredentialChange=Yw.bind(null,this.syncEngine),await Sw(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new Rw})()}createDatastore(e){const i=nh(e.databaseInfo.databaseId),s=(function(c){return new ow(c)})(e.databaseInfo);return(function(c,f,p,g){return new fw(c,f,p,g)})(e.authCredentials,e.appCheckCredentials,s,i)}createRemoteStore(e){return(function(s,o,c,f,p){return new mw(s,o,c,f,p)})(this.localStore,this.datastore,e.asyncQueue,(i=>Dv(this.syncEngine,i,0)),(function(){return Av.v()?new Av:new aw})())}createSyncEngine(e,i){return(function(o,c,f,p,g,y,E){const x=new zw(o,c,f,p,g,y);return E&&(x.gu=!0),x})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,i)}async terminate(){await(async function(i){const s=wt(i);ut(Vr,"RemoteStore shutting down."),s.Ea.add(5),await jo(s),s.Aa.shutdown(),s.Ra.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}$d.provider={build:()=>new $d};class Zw{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):Wi("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,i){setTimeout((()=>{this.muted||e(i)}),0)}}const Ga="FirestoreClient";class Jw{constructor(e,i,s,o,c){this.authCredentials=e,this.appCheckCredentials=i,this.asyncQueue=s,this.databaseInfo=o,this.user=$e.UNAUTHENTICATED,this.clientId=hm.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=c,this.authCredentials.start(s,(async f=>{ut(Ga,"Received user=",f.uid),await this.authCredentialListener(f),this.user=f})),this.appCheckCredentials.start(s,(f=>(ut(Ga,"Received new app check token=",f),this.appCheckCredentialListener(f,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Cr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(i){const s=Vm(i,"Failed to shutdown persistence");e.reject(s)}})),e.promise}}async function wd(r,e){r.asyncQueue.verifyOperationInProgress(),ut(Ga,"Initializing OfflineComponentProvider");const i=r.configuration;await e.initialize(i);let s=i.initialUser;r.setCredentialChangeListener((async o=>{s.isEqual(o)||(await m1(e.localStore,o),s=o)})),e.persistence.setDatabaseDeletedListener((()=>r.terminate())),r._offlineComponents=e}async function Vv(r,e){r.asyncQueue.verifyOperationInProgress();const i=await Ww(r);ut(Ga,"Initializing OnlineComponentProvider"),await e.initialize(i,r.configuration),r.setCredentialChangeListener((s=>wv(e.remoteStore,s))),r.setAppCheckTokenChangeListener(((s,o)=>wv(e.remoteStore,o))),r._onlineComponents=e}async function Ww(r){if(!r._offlineComponents)if(r._uninitializedComponentsProvider){ut(Ga,"Using user provided OfflineComponentProvider");try{await wd(r,r._uninitializedComponentsProvider._offline)}catch(e){const i=e;if(!(function(o){return o.name==="FirebaseError"?o.code===et.FAILED_PRECONDITION||o.code===et.UNIMPLEMENTED:!(typeof DOMException<"u"&&o instanceof DOMException)||o.code===22||o.code===20||o.code===11})(i))throw i;Us("Error using user provided cache. Falling back to memory cache: "+i),await wd(r,new Bc)}}else ut(Ga,"Using default OfflineComponentProvider"),await wd(r,new $w(void 0));return r._offlineComponents}async function V1(r){return r._onlineComponents||(r._uninitializedComponentsProvider?(ut(Ga,"Using user provided OnlineComponentProvider"),await Vv(r,r._uninitializedComponentsProvider._online)):(ut(Ga,"Using default OnlineComponentProvider"),await Vv(r,new $d))),r._onlineComponents}function tR(r){return V1(r).then((e=>e.syncEngine))}async function Mv(r){const e=await V1(r),i=e.eventManager;return i.onListen=Uw.bind(null,e.syncEngine),i.onUnlisten=kw.bind(null,e.syncEngine),i.onFirstRemoteStoreListen=Lw.bind(null,e.syncEngine),i.onLastRemoteStoreUnlisten=Bw.bind(null,e.syncEngine),i}function M1(r){const e={};return r.timeoutSeconds!==void 0&&(e.timeoutSeconds=r.timeoutSeconds),e}const jv=new Map;const j1="firestore.googleapis.com",Ov=!0;class zv{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new ot(et.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=j1,this.ssl=Ov}else this.host=e.host,this.ssl=e.ssl??Ov;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=f1;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<DS)throw new ot(et.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}mA("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=M1(e.experimentalLongPollingOptions??{}),(function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new ot(et.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new ot(et.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new ot(et.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(s,o){return s.timeoutSeconds===o.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class rh{constructor(e,i,s,o){this._authCredentials=e,this._appCheckCredentials=i,this._databaseId=s,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new zv({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new ot(et.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new ot(et.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new zv(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(s){if(!s)return new aA;switch(s.type){case"firstParty":return new oA(s.sessionIndex||"0",s.iamToken||null,s.authTokenFactory||null);case"provider":return s.client;default:throw new ot(et.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(i){const s=jv.get(i);s&&(ut("ComponentProvider","Removing Datastore"),jv.delete(i),s.terminate())})(this),Promise.resolve()}}function eR(r,e,i,s={}){r=xi(r,rh);const o=om(e),c=r._getSettings(),f={...c,emulatorOptions:r._getEmulatorOptions()},p=`${e}:${i}`;o&&(I2(`https://${p}`),O2("Firestore",!0)),c.host!==j1&&c.host!==p&&Us("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const g={...c,host:p,ssl:o,emulatorOptions:s};if(!Nc(g,f)&&(r._setSettings(g),s.mockUserToken)){let y,E;if(typeof s.mockUserToken=="string")y=s.mockUserToken,E=$e.MOCK_USER;else{y=V2(s.mockUserToken,r._app?.options.projectId);const x=s.mockUserToken.sub||s.mockUserToken.user_id;if(!x)throw new ot(et.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");E=new $e(x)}r._authCredentials=new rA(new A_(y,E))}}class Lr{constructor(e,i,s){this.converter=i,this._query=s,this.type="query",this.firestore=e}withConverter(e){return new Lr(this.firestore,e,this._query)}}class ve{constructor(e,i,s){this.converter=i,this._key=s,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Pa(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new ve(this.firestore,e,this._key)}toJSON(){return{type:ve._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,i,s){if(Io(i,ve._jsonSchema))return new ve(e,s||null,new yt(ne.fromString(i.referencePath)))}}ve._jsonSchemaVersion="firestore/documentReference/1.0",ve._jsonSchema={type:De("string",ve._jsonSchemaVersion),referencePath:De("string")};class Pa extends Lr{constructor(e,i,s){super(e,i,ym(s)),this._path=s,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new ve(this.firestore,null,new yt(e))}withConverter(e){return new Pa(this.firestore,e,this._path)}}function ao(r,e,...i){if(r=Ci(r),S_("collection","path",e),r instanceof rh){const s=ne.fromString(e,...i);return K0(s),new Pa(r,null,s)}{if(!(r instanceof ve||r instanceof Pa))throw new ot(et.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=r._path.child(ne.fromString(e,...i));return K0(s),new Pa(r.firestore,null,s)}}function uo(r,e,...i){if(r=Ci(r),arguments.length===1&&(e=hm.newId()),S_("doc","path",e),r instanceof rh){const s=ne.fromString(e,...i);return Y0(s),new ve(r,null,new yt(s))}{if(!(r instanceof ve||r instanceof Pa))throw new ot(et.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=r._path.child(ne.fromString(e,...i));return Y0(s),new ve(r.firestore,r instanceof Pa?r.converter:null,new yt(s))}}const Uv="AsyncQueue";class Lv{constructor(e=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new g1(this,"async_queue_retry"),this._c=()=>{const s=Sd();s&&ut(Uv,"Visibility state changed to "+s.visibilityState),this.M_.w_()},this.ac=e;const i=Sd();i&&typeof i.addEventListener=="function"&&i.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const i=Sd();i&&typeof i.removeEventListener=="function"&&i.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise((()=>{}));const i=new Cr;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(e().then(i.resolve,i.reject),i.promise))).then((()=>i.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Xu.push(e),this.lc())))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(e){if(!Ks(e))throw e;ut(Uv,"Operation failed with retryable error: "+e)}this.Xu.length>0&&this.M_.p_((()=>this.lc()))}}cc(e){const i=this.ac.then((()=>(this.rc=!0,e().catch((s=>{throw this.nc=s,this.rc=!1,Wi("INTERNAL UNHANDLED ERROR: ",Pv(s)),s})).then((s=>(this.rc=!1,s))))));return this.ac=i,i}enqueueAfterDelay(e,i,s){this.uc(),this.oc.indexOf(e)>-1&&(i=0);const o=Im.createAndSchedule(this,e,i,s,(c=>this.hc(c)));return this.tc.push(o),o}uc(){this.nc&&Et(47125,{Pc:Pv(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const i of this.tc)if(i.timerId===e)return!0;return!1}Ec(e){return this.Tc().then((()=>{this.tc.sort(((i,s)=>i.targetTimeMs-s.targetTimeMs));for(const i of this.tc)if(i.skipDelay(),e!=="all"&&i.timerId===e)break;return this.Tc()}))}dc(e){this.oc.push(e)}hc(e){const i=this.tc.indexOf(e);this.tc.splice(i,1)}}function Pv(r){let e=r.message||"";return r.stack&&(e=r.stack.includes(r.message)?r.stack:r.message+`
`+r.stack),e}function kv(r){return(function(i,s){if(typeof i!="object"||i===null)return!1;const o=i;for(const c of s)if(c in o&&typeof o[c]=="function")return!0;return!1})(r,["next","error","complete"])}class Mr extends rh{constructor(e,i,s,o){super(e,i,s,o),this.type="firestore",this._queue=new Lv,this._persistenceKey=o?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new Lv(e),this._firestoreClient=void 0,await e}}}function nR(r,e){const i=typeof r=="object"?r:Gx(),s=typeof r=="string"?r:Mc,o=kx(i,"firestore").getImmediate({identifier:s});if(!o._initialized){const c=N2("firestore");c&&eR(o,...c)}return o}function O1(r){if(r._terminated)throw new ot(et.FAILED_PRECONDITION,"The client has already been terminated.");return r._firestoreClient||iR(r),r._firestoreClient}function iR(r){const e=r._freezeSettings(),i=(function(o,c,f,p){return new SA(o,c,f,p.host,p.ssl,p.experimentalForceLongPolling,p.experimentalAutoDetectLongPolling,M1(p.experimentalLongPollingOptions),p.useFetchStreams,p.isUsingEmulator)})(r._databaseId,r._app?.options.appId||"",r._persistenceKey,e);r._componentsProvider||e.localCache?._offlineComponentProvider&&e.localCache?._onlineComponentProvider&&(r._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),r._firestoreClient=new Jw(r._authCredentials,r._appCheckCredentials,r._queue,i,r._componentsProvider&&(function(o){const c=o?._online.build();return{_offline:o?._offline.build(c),_online:c}})(r._componentsProvider))}class zn{constructor(e){this._byteString=e}static fromBase64String(e){try{return new zn(Ye.fromBase64String(e))}catch(i){throw new ot(et.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+i)}}static fromUint8Array(e){return new zn(Ye.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:zn._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(Io(e,zn._jsonSchema))return zn.fromBase64String(e.bytes)}}zn._jsonSchemaVersion="firestore/bytes/1.0",zn._jsonSchema={type:De("string",zn._jsonSchemaVersion),bytes:De("string")};class sh{constructor(...e){for(let i=0;i<e.length;++i)if(e[i].length===0)throw new ot(et.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Qe(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class zm{constructor(e){this._methodName=e}}class wi{constructor(e,i){if(!isFinite(e)||e<-90||e>90)throw new ot(et.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(i)||i<-180||i>180)throw new ot(et.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+i);this._lat=e,this._long=i}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return jt(this._lat,e._lat)||jt(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:wi._jsonSchemaVersion}}static fromJSON(e){if(Io(e,wi._jsonSchema))return new wi(e.latitude,e.longitude)}}wi._jsonSchemaVersion="firestore/geoPoint/1.0",wi._jsonSchema={type:De("string",wi._jsonSchemaVersion),latitude:De("number"),longitude:De("number")};class Ri{constructor(e){this._values=(e||[]).map((i=>i))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(s,o){if(s.length!==o.length)return!1;for(let c=0;c<s.length;++c)if(s[c]!==o[c])return!1;return!0})(this._values,e._values)}toJSON(){return{type:Ri._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(Io(e,Ri._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every((i=>typeof i=="number")))return new Ri(e.vectorValues);throw new ot(et.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}Ri._jsonSchemaVersion="firestore/vectorValue/1.0",Ri._jsonSchema={type:De("string",Ri._jsonSchemaVersion),vectorValues:De("object")};const aR=/^__.*__$/;class rR{constructor(e,i,s){this.data=e,this.fieldMask=i,this.fieldTransforms=s}toMutation(e,i){return this.fieldMask!==null?new Ka(e,this.data,this.fieldMask,i,this.fieldTransforms):new Vo(e,this.data,i,this.fieldTransforms)}}class z1{constructor(e,i,s){this.data=e,this.fieldMask=i,this.fieldTransforms=s}toMutation(e,i){return new Ka(e,this.data,this.fieldMask,i,this.fieldTransforms)}}function U1(r){switch(r){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Et(40011,{Ac:r})}}class Um{constructor(e,i,s,o,c,f){this.settings=e,this.databaseId=i,this.serializer=s,this.ignoreUndefinedProperties=o,c===void 0&&this.Rc(),this.fieldTransforms=c||[],this.fieldMask=f||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(e){return new Um({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(e){const i=this.path?.child(e),s=this.Vc({path:i,fc:!1});return s.gc(e),s}yc(e){const i=this.path?.child(e),s=this.Vc({path:i,fc:!1});return s.Rc(),s}wc(e){return this.Vc({path:void 0,fc:!0})}Sc(e){return qc(e,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(e){return this.fieldMask.find((i=>e.isPrefixOf(i)))!==void 0||this.fieldTransforms.find((i=>e.isPrefixOf(i.field)))!==void 0}Rc(){if(this.path)for(let e=0;e<this.path.length;e++)this.gc(this.path.get(e))}gc(e){if(e.length===0)throw this.Sc("Document fields must not be empty");if(U1(this.Ac)&&aR.test(e))throw this.Sc('Document fields cannot begin and end with "__"')}}class sR{constructor(e,i,s){this.databaseId=e,this.ignoreUndefinedProperties=i,this.serializer=s||nh(e)}Cc(e,i,s,o=!1){return new Um({Ac:e,methodName:i,Dc:s,path:Qe.emptyPath(),fc:!1,bc:o},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function lh(r){const e=r._freezeSettings(),i=nh(r._databaseId);return new sR(r._databaseId,!!e.ignoreUndefinedProperties,i)}function L1(r,e,i,s,o,c={}){const f=r.Cc(c.merge||c.mergeFields?2:0,e,i,o);Lm("Data must be an object, but it was:",f,s);const p=P1(s,f);let g,y;if(c.merge)g=new En(f.fieldMask),y=f.fieldTransforms;else if(c.mergeFields){const E=[];for(const x of c.mergeFields){const C=Zd(e,x,i);if(!f.contains(C))throw new ot(et.INVALID_ARGUMENT,`Field '${C}' is specified in your field mask but missing from your input data.`);B1(E,C)||E.push(C)}g=new En(E),y=f.fieldTransforms.filter((x=>g.covers(x.field)))}else g=null,y=f.fieldTransforms;return new rR(new hn(p),g,y)}class oh extends zm{_toFieldTransform(e){if(e.Ac!==2)throw e.Ac===1?e.Sc(`${this._methodName}() can only appear at the top level of your update data`):e.Sc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof oh}}function lR(r,e,i,s){const o=r.Cc(1,e,i);Lm("Data must be an object, but it was:",o,s);const c=[],f=hn.empty();Ya(s,((g,y)=>{const E=Pm(e,g,i);y=Ci(y);const x=o.yc(E);if(y instanceof oh)c.push(E);else{const C=zo(y,x);C!=null&&(c.push(E),f.set(E,C))}}));const p=new En(c);return new z1(f,p,o.fieldTransforms)}function oR(r,e,i,s,o,c){const f=r.Cc(1,e,i),p=[Zd(e,s,i)],g=[o];if(c.length%2!=0)throw new ot(et.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let C=0;C<c.length;C+=2)p.push(Zd(e,c[C])),g.push(c[C+1]);const y=[],E=hn.empty();for(let C=p.length-1;C>=0;--C)if(!B1(y,p[C])){const U=p[C];let Y=g[C];Y=Ci(Y);const $=f.yc(U);if(Y instanceof oh)y.push(U);else{const P=zo(Y,$);P!=null&&(y.push(U),E.set(U,P))}}const x=new En(y);return new z1(E,x,f.fieldTransforms)}function uR(r,e,i,s=!1){return zo(i,r.Cc(s?4:3,e))}function zo(r,e){if(k1(r=Ci(r)))return Lm("Unsupported field value:",e,r),P1(r,e);if(r instanceof zm)return(function(s,o){if(!U1(o.Ac))throw o.Sc(`${s._methodName}() can only be used with update() and set()`);if(!o.path)throw o.Sc(`${s._methodName}() is not currently supported inside arrays`);const c=s._toFieldTransform(o);c&&o.fieldTransforms.push(c)})(r,e),null;if(r===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),r instanceof Array){if(e.settings.fc&&e.Ac!==4)throw e.Sc("Nested arrays are not supported");return(function(s,o){const c=[];let f=0;for(const p of s){let g=zo(p,o.wc(f));g==null&&(g={nullValue:"NULL_VALUE"}),c.push(g),f++}return{arrayValue:{values:c}}})(r,e)}return(function(s,o){if((s=Ci(s))===null)return{nullValue:"NULL_VALUE"};if(typeof s=="number")return KA(o.serializer,s);if(typeof s=="boolean")return{booleanValue:s};if(typeof s=="string")return{stringValue:s};if(s instanceof Date){const c=re.fromDate(s);return{timestampValue:Lc(o.serializer,c)}}if(s instanceof re){const c=new re(s.seconds,1e3*Math.floor(s.nanoseconds/1e3));return{timestampValue:Lc(o.serializer,c)}}if(s instanceof wi)return{geoPointValue:{latitude:s.latitude,longitude:s.longitude}};if(s instanceof zn)return{bytesValue:r1(o.serializer,s._byteString)};if(s instanceof ve){const c=o.databaseId,f=s.firestore._databaseId;if(!f.isEqual(c))throw o.Sc(`Document reference is for database ${f.projectId}/${f.database} but should be for database ${c.projectId}/${c.database}`);return{referenceValue:Tm(s.firestore._databaseId||o.databaseId,s._key.path)}}if(s instanceof Ri)return(function(f,p){return{mapValue:{fields:{[j_]:{stringValue:O_},[jc]:{arrayValue:{values:f.toArray().map((y=>{if(typeof y!="number")throw p.Sc("VectorValues must only contain numeric values.");return vm(p.serializer,y)}))}}}}}})(s,o);throw o.Sc(`Unsupported field value: ${Yc(s)}`)})(r,e)}function P1(r,e){const i={};return C_(r)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Ya(r,((s,o)=>{const c=zo(o,e.mc(s));c!=null&&(i[s]=c)})),{mapValue:{fields:i}}}function k1(r){return!(typeof r!="object"||r===null||r instanceof Array||r instanceof Date||r instanceof re||r instanceof wi||r instanceof zn||r instanceof ve||r instanceof zm||r instanceof Ri)}function Lm(r,e,i){if(!k1(i)||!w_(i)){const s=Yc(i);throw s==="an object"?e.Sc(r+" a custom object"):e.Sc(r+" "+s)}}function Zd(r,e,i){if((e=Ci(e))instanceof sh)return e._internalPath;if(typeof e=="string")return Pm(r,e);throw qc("Field path arguments must be of type string or ",r,!1,void 0,i)}const cR=new RegExp("[~\\*/\\[\\]]");function Pm(r,e,i){if(e.search(cR)>=0)throw qc(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,r,!1,void 0,i);try{return new sh(...e.split("."))._internalPath}catch{throw qc(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,r,!1,void 0,i)}}function qc(r,e,i,s,o){const c=s&&!s.isEmpty(),f=o!==void 0;let p=`Function ${e}() called with invalid data`;i&&(p+=" (via `toFirestore()`)"),p+=". ";let g="";return(c||f)&&(g+=" (found",c&&(g+=` in field ${s}`),f&&(g+=` in document ${o}`),g+=")"),new ot(et.INVALID_ARGUMENT,p+r+g)}function B1(r,e){return r.some((i=>i.isEqual(e)))}class q1{constructor(e,i,s,o,c){this._firestore=e,this._userDataWriter=i,this._key=s,this._document=o,this._converter=c}get id(){return this._key.path.lastSegment()}get ref(){return new ve(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new hR(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const i=this._document.data.field(km("DocumentSnapshot.get",e));if(i!==null)return this._userDataWriter.convertValue(i)}}}class hR extends q1{data(){return super.data()}}function km(r,e){return typeof e=="string"?Pm(r,e):e instanceof sh?e._internalPath:e._delegate._internalPath}function fR(r){if(r.limitType==="L"&&r.explicitOrderBy.length===0)throw new ot(et.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Bm{}class H1 extends Bm{}function dR(r,e,...i){let s=[];e instanceof Bm&&s.push(e),s=s.concat(i),(function(c){const f=c.filter((g=>g instanceof Hm)).length,p=c.filter((g=>g instanceof qm)).length;if(f>1||f>0&&p>0)throw new ot(et.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(s);for(const o of s)r=o._apply(r);return r}class qm extends H1{constructor(e,i,s){super(),this._field=e,this._op=i,this._value=s,this.type="where"}static _create(e,i,s){return new qm(e,i,s)}_apply(e){const i=this._parse(e);return F1(e._query,i),new Lr(e.firestore,e.converter,kd(e._query,i))}_parse(e){const i=lh(e.firestore);return(function(c,f,p,g,y,E,x){let C;if(y.isKeyField()){if(E==="array-contains"||E==="array-contains-any")throw new ot(et.INVALID_ARGUMENT,`Invalid Query. You can't perform '${E}' queries on documentId().`);if(E==="in"||E==="not-in"){qv(x,E);const Y=[];for(const $ of x)Y.push(Bv(g,c,$));C={arrayValue:{values:Y}}}else C=Bv(g,c,x)}else E!=="in"&&E!=="not-in"&&E!=="array-contains-any"||qv(x,E),C=uR(p,f,x,E==="in"||E==="not-in");return Ne.create(y,E,C)})(e._query,"where",i,e.firestore._databaseId,this._field,this._op,this._value)}}class Hm extends Bm{constructor(e,i){super(),this.type=e,this._queryConstraints=i}static _create(e,i){return new Hm(e,i)}_parse(e){const i=this._queryConstraints.map((s=>s._parse(e))).filter((s=>s.getFilters().length>0));return i.length===1?i[0]:Jn.create(i,this._getOperator())}_apply(e){const i=this._parse(e);return i.getFilters().length===0?e:((function(o,c){let f=o;const p=c.getFlattenedFilters();for(const g of p)F1(f,g),f=kd(f,g)})(e._query,i),new Lr(e.firestore,e.converter,kd(e._query,i)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class Fm extends H1{constructor(e,i){super(),this._field=e,this._direction=i,this.type="orderBy"}static _create(e,i){return new Fm(e,i)}_apply(e){const i=(function(o,c,f){if(o.startAt!==null)throw new ot(et.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(o.endAt!==null)throw new ot(et.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new Ao(c,f)})(e._query,this._field,this._direction);return new Lr(e.firestore,e.converter,(function(o,c){const f=o.explicitOrderBy.concat([c]);return new Xs(o.path,o.collectionGroup,f,o.filters.slice(),o.limit,o.limitType,o.startAt,o.endAt)})(e._query,i))}}function mR(r,e="asc"){const i=e,s=km("orderBy",r);return Fm._create(s,i)}function Bv(r,e,i){if(typeof(i=Ci(i))=="string"){if(i==="")throw new ot(et.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!H_(e)&&i.indexOf("/")!==-1)throw new ot(et.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${i}' contains a '/' character.`);const s=e.path.child(ne.fromString(i));if(!yt.isDocumentKey(s))throw new ot(et.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${s}' is not because it has an odd number of segments (${s.length}).`);return nv(r,new yt(s))}if(i instanceof ve)return nv(r,i._key);throw new ot(et.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Yc(i)}.`)}function qv(r,e){if(!Array.isArray(r)||r.length===0)throw new ot(et.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function F1(r,e){const i=(function(o,c){for(const f of o)for(const p of f.getFlattenedFilters())if(c.indexOf(p.op)>=0)return p.op;return null})(r.filters,(function(o){switch(o){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(e.op));if(i!==null)throw i===e.op?new ot(et.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new ot(et.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${i.toString()}' filters.`)}class pR{convertValue(e,i="none"){switch(Ha(e)){case 0:return null;case 1:return e.booleanValue;case 2:return ye(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,i);case 5:return e.stringValue;case 6:return this.convertBytes(qa(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,i);case 11:return this.convertObject(e.mapValue,i);case 10:return this.convertVectorValue(e.mapValue);default:throw Et(62114,{value:e})}}convertObject(e,i){return this.convertObjectMap(e.fields,i)}convertObjectMap(e,i="none"){const s={};return Ya(e,((o,c)=>{s[o]=this.convertValue(c,i)})),s}convertVectorValue(e){const i=e.fields?.[jc].arrayValue?.values?.map((s=>ye(s.doubleValue)));return new Ri(i)}convertGeoPoint(e){return new wi(ye(e.latitude),ye(e.longitude))}convertArray(e,i){return(e.values||[]).map((s=>this.convertValue(s,i)))}convertServerTimestamp(e,i){switch(i){case"previous":const s=$c(e);return s==null?null:this.convertValue(s,i);case"estimate":return this.convertTimestamp(Eo(e));default:return null}}convertTimestamp(e){const i=Ba(e);return new re(i.seconds,i.nanos)}convertDocumentKey(e,i){const s=ne.fromString(e);Qt(h1(s),9688,{name:e});const o=new To(s.get(1),s.get(3)),c=new yt(s.popFirst(5));return o.isEqual(i)||Wi(`Document ${c} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${i.projectId}/${i.database}) instead.`),c}}function G1(r,e,i){let s;return s=r?r.toFirestore(e):e,s}class co{constructor(e,i){this.hasPendingWrites=e,this.fromCache=i}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Nr extends q1{constructor(e,i,s,o,c,f){super(e,i,s,o,f),this._firestore=e,this._firestoreImpl=e,this.metadata=c}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const i=new Sc(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(i,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,i={}){if(this._document){const s=this._document.data.field(km("DocumentSnapshot.get",e));if(s!==null)return this._userDataWriter.convertValue(s,i.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new ot(et.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,i={};return i.type=Nr._jsonSchemaVersion,i.bundle="",i.bundleSource="DocumentSnapshot",i.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?i:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),i.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),i)}}Nr._jsonSchemaVersion="firestore/documentSnapshot/1.0",Nr._jsonSchema={type:De("string",Nr._jsonSchemaVersion),bundleSource:De("string","DocumentSnapshot"),bundleName:De("string"),bundle:De("string")};class Sc extends Nr{data(e={}){return super.data(e)}}class zs{constructor(e,i,s,o){this._firestore=e,this._userDataWriter=i,this._snapshot=o,this.metadata=new co(o.hasPendingWrites,o.fromCache),this.query=s}get docs(){const e=[];return this.forEach((i=>e.push(i))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,i){this._snapshot.docs.forEach((s=>{e.call(i,new Sc(this._firestore,this._userDataWriter,s.key,s,new co(this._snapshot.mutatedKeys.has(s.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const i=!!e.includeMetadataChanges;if(i&&this._snapshot.excludesMetadataChanges)throw new ot(et.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===i||(this._cachedChanges=(function(o,c){if(o._snapshot.oldDocs.isEmpty()){let f=0;return o._snapshot.docChanges.map((p=>{const g=new Sc(o._firestore,o._userDataWriter,p.doc.key,p.doc,new co(o._snapshot.mutatedKeys.has(p.doc.key),o._snapshot.fromCache),o.query.converter);return p.doc,{type:"added",doc:g,oldIndex:-1,newIndex:f++}}))}{let f=o._snapshot.oldDocs;return o._snapshot.docChanges.filter((p=>c||p.type!==3)).map((p=>{const g=new Sc(o._firestore,o._userDataWriter,p.doc.key,p.doc,new co(o._snapshot.mutatedKeys.has(p.doc.key),o._snapshot.fromCache),o.query.converter);let y=-1,E=-1;return p.type!==0&&(y=f.indexOf(p.doc.key),f=f.delete(p.doc.key)),p.type!==1&&(f=f.add(p.doc),E=f.indexOf(p.doc.key)),{type:gR(p.type),doc:g,oldIndex:y,newIndex:E}}))}})(this,i),this._cachedChangesIncludeMetadataChanges=i),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new ot(et.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=zs._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=hm.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const i=[],s=[],o=[];return this.docs.forEach((c=>{c._document!==null&&(i.push(c._document),s.push(this._userDataWriter.convertObjectMap(c._document.data.value.mapValue.fields,"previous")),o.push(c.ref.path))})),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function gR(r){switch(r){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Et(61501,{type:r})}}zs._jsonSchemaVersion="firestore/querySnapshot/1.0",zs._jsonSchema={type:De("string",zs._jsonSchemaVersion),bundleSource:De("string","QuerySnapshot"),bundleName:De("string"),bundle:De("string")};class Q1 extends pR{constructor(e){super(),this.firestore=e}convertBytes(e){return new zn(e)}convertReference(e){const i=this.convertDocumentKey(e,this.firestore._databaseId);return new ve(this.firestore,null,i)}}function Hv(r,e,i){r=xi(r,ve);const s=xi(r.firestore,Mr),o=G1(r.converter,e);return uh(s,[L1(lh(s),"setDoc",r._key,o,r.converter!==null,i).toMutation(r._key,Un.none())])}function yR(r,e,i,...s){r=xi(r,ve);const o=xi(r.firestore,Mr),c=lh(o);let f;return f=typeof(e=Ci(e))=="string"||e instanceof sh?oR(c,"updateDoc",r._key,e,i,s):lR(c,"updateDoc",r._key,e),uh(o,[f.toMutation(r._key,Un.exists(!0))])}function vR(r){return uh(xi(r.firestore,Mr),[new _m(r._key,Un.none())])}function _R(r,e){const i=xi(r.firestore,Mr),s=uo(r),o=G1(r.converter,e);return uh(i,[L1(lh(r.firestore),"addDoc",s._key,o,r.converter!==null,{}).toMutation(s._key,Un.exists(!1))]).then((()=>s))}function ro(r,...e){r=Ci(r);let i={includeMetadataChanges:!1,source:"default"},s=0;typeof e[s]!="object"||kv(e[s])||(i=e[s++]);const o={includeMetadataChanges:i.includeMetadataChanges,source:i.source};if(kv(e[s])){const g=e[s];e[s]=g.next?.bind(g),e[s+1]=g.error?.bind(g),e[s+2]=g.complete?.bind(g)}let c,f,p;if(r instanceof ve)f=xi(r.firestore,Mr),p=ym(r._key.path),c={next:g=>{e[s]&&e[s](bR(f,r,g))},error:e[s+1],complete:e[s+2]};else{const g=xi(r,Lr);f=xi(g.firestore,Mr),p=g._query;const y=new Q1(f);c={next:E=>{e[s]&&e[s](new zs(f,y,g,E))},error:e[s+1],complete:e[s+2]},fR(r._query)}return(function(y,E,x,C){const U=new Zw(C),Y=new Vw(E,U,x);return y.asyncQueue.enqueueAndForget((async()=>Cw(await Mv(y),Y))),()=>{U.Nu(),y.asyncQueue.enqueueAndForget((async()=>Nw(await Mv(y),Y)))}})(O1(f),p,o,c)}function uh(r,e){return(function(s,o){const c=new Cr;return s.asyncQueue.enqueueAndForget((async()=>qw(await tR(s),o,c))),c.promise})(O1(r),e)}function bR(r,e,i){const s=i.docs.get(e._key),o=new Q1(r);return new Nr(r,o,e._key,s,new co(i.hasPendingWrites,i.fromCache),e.converter)}(function(e,i=!0){(function(o){Qs=o})(Fx),Ic(new vo("firestore",((s,{instanceIdentifier:o,options:c})=>{const f=s.getProvider("app").getImmediate(),p=new Mr(new sA(s.getProvider("auth-internal")),new uA(f,s.getProvider("app-check-internal")),(function(y,E){if(!Object.prototype.hasOwnProperty.apply(y.options,["projectId"]))throw new ot(et.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new To(y.options.projectId,E)})(f,o),f);return c={useFetchStreams:i,...c},p._setSettings(c),p}),"PUBLIC").setMultipleInstances(!0)),js(H0,F0,e),js(H0,F0,"esm2020")})();const ER={apiKey:"YOUR_API_KEY",authDomain:"YOUR_PROJECT_ID.firebaseapp.com",projectId:"YOUR_PROJECT_ID",storageBucket:"YOUR_PROJECT_ID.appspot.com",messagingSenderId:"SENDER_ID",appId:"APP_ID"},TR=m_(ER),Ei=nR(TR),Y1=L.createContext(),Pr=()=>L.useContext(Y1),Xi="south-mall",xR=({children:r})=>{const[e,i]=L.useState(Dr),[s,o]=L.useState([]),[c,f]=L.useState([]),[p,g]=L.useState([]),[y,E]=L.useState([]),[x,C]=L.useState([]);L.useEffect(()=>{if(!Ei)return;const S=ao(Ei,"projects",Xi,"updates");dR(S,mR("id","desc"));const pt=ro(S,at=>{const lt=at.docs.map(ht=>({...ht.data(),firestoreId:ht.id}));lt.sort((ht,Tt)=>Tt.id-ht.id),o(lt.length>0?lt:g2)},at=>console.error("Updates Sync Error:",at)),xt=ao(Ei,"projects",Xi,"actions"),F=ro(xt,at=>{const lt=at.docs.map(ht=>({...ht.data(),firestoreId:ht.id}));f(lt.length>0?lt:y2)}),rt=ao(Ei,"projects",Xi,"qa"),ft=ro(rt,at=>{const lt=at.docs.map(ht=>({...ht.data(),firestoreId:ht.id}));lt.sort((ht,Tt)=>Tt.id-ht.id),g(lt.length>0?lt:v2)}),zt=ao(Ei,"projects",Xi,"photos"),Ht=ro(zt,at=>{const lt=at.docs.map(ht=>({...ht.data(),firestoreId:ht.id}));lt.sort((ht,Tt)=>Tt.id-ht.id),C(lt)}),j=uo(Ei,"projects",Xi,"data","documents"),W=ro(j,at=>{at.exists()?E(at.data().structure):(Hv(j,{structure:D0}),E(D0))});return()=>{pt(),F(),ft(),Ht(),W()}},[]);const U=async(S,pt)=>{const xt={...pt,id:Date.now()};try{await _R(ao(Ei,"projects",Xi,S),xt)}catch(F){console.error(`Error adding to ${S}:`,F),alert("Sync Error: Check your Firebase Config.")}},Y=async(S,pt)=>{if(pt)try{await vR(uo(Ei,"projects",Xi,S,pt))}catch(xt){console.error(`Error deleting from ${S}:`,xt)}},$=async(S,pt,xt)=>{if(pt)try{await yR(uo(Ei,"projects",Xi,S,pt),xt)}catch(F){console.error(`Error updating ${S}:`,F)}},P=S=>U("updates",S),J=S=>U("actions",{...S,status:"Open"}),it=(S,pt)=>{const xt=c.find(F=>F.id===S);xt&&$("actions",xt.firestoreId,{status:pt})},Z=S=>{const pt=c.find(xt=>xt.id===S);pt&&Y("actions",pt.firestoreId)},vt=S=>{U("qa",{...S,status:"Open",replies:[],date:new Date().toLocaleDateString("en-GB",{day:"2-digit",month:"short",year:"numeric"})})},dt=(S,pt,xt)=>{const F=p.find(rt=>rt.id.toString()===S.toString());if(F){const rt={author:xt,date:new Date().toLocaleDateString("en-GB",{day:"2-digit",month:"short",year:"numeric"}),content:pt},ft=[...F.replies,rt];$("qa",F.firestoreId,{replies:ft,status:"Answered"})}},_t=S=>{const pt=p.find(xt=>xt.id===S);pt&&Y("qa",pt.firestoreId)},N=S=>U("photos",S),w=S=>{const pt=x.find(xt=>xt.id===S);pt&&Y("photos",pt.firestoreId)},R=async S=>{try{await Hv(uo(Ei,"projects",Xi,"data","documents"),{structure:S})}catch(pt){console.error("Error saving docs:",pt)}},M=(S,pt,xt)=>{const F={id:`new-${Date.now()}`,name:S.name,type:S.name.split(".").pop().toUpperCase(),author:xt,date:new Date().toLocaleDateString("en-GB",{day:"2-digit",month:"short",year:"numeric"})},rt=y.map(ft=>ft.id===pt?{...ft,items:[F,...ft.items]}:ft);E(rt),R(rt)},I=S=>{const pt=y.map(xt=>({...xt,items:xt.items.filter(F=>F.id!==S)}));E(pt),R(pt)},O=(S,pt)=>{i(xt=>xt.map(F=>F.id===S?{...F,...pt}:F))};return _.jsx(Y1.Provider,{value:{projects:e,updates:s,actions:c,qa:p,documents:y,photos:x,updateProjectDetails:O,addUpdate:P,addAction:J,updateActionStatus:it,deleteAction:Z,addQuestion:vt,addReply:dt,deleteQuestion:_t,addDocument:M,deleteDocument:I,addPhoto:N,deletePhoto:w},children:r})};const AR=r=>r.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),SR=r=>r.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,i,s)=>s?s.toUpperCase():i.toLowerCase()),Fv=r=>{const e=SR(r);return e.charAt(0).toUpperCase()+e.slice(1)},K1=(...r)=>r.filter((e,i,s)=>!!e&&e.trim()!==""&&s.indexOf(e)===i).join(" ").trim(),wR=r=>{for(const e in r)if(e.startsWith("aria-")||e==="role"||e==="title")return!0};var RR={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const CR=L.forwardRef(({color:r="currentColor",size:e=24,strokeWidth:i=2,absoluteStrokeWidth:s,className:o="",children:c,iconNode:f,...p},g)=>L.createElement("svg",{ref:g,...RR,width:e,height:e,stroke:r,strokeWidth:s?Number(i)*24/Number(e):i,className:K1("lucide",o),...!c&&!wR(p)&&{"aria-hidden":"true"},...p},[...f.map(([y,E])=>L.createElement(y,E)),...Array.isArray(c)?c:[c]]));const $t=(r,e)=>{const i=L.forwardRef(({className:s,...o},c)=>L.createElement(CR,{ref:c,iconNode:e,className:K1(`lucide-${AR(Fv(r))}`,`lucide-${r}`,s),...o}));return i.displayName=Fv(r),i};const NR=[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]],X1=$t("arrow-left",NR);const DR=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]],$1=$t("arrow-right",DR);const IR=[["path",{d:"M10 12h4",key:"a56b0p"}],["path",{d:"M10 8h4",key:"1sr2af"}],["path",{d:"M14 21v-3a2 2 0 0 0-4 0v3",key:"1rgiei"}],["path",{d:"M6 10H4a2 2 0 0 0-2 2v7a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-2",key:"secmi2"}],["path",{d:"M6 21V5a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v16",key:"16ra0t"}]],VR=$t("building-2",IR);const MR=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],Z1=$t("calendar",MR);const jR=[["path",{d:"M13.997 4a2 2 0 0 1 1.76 1.05l.486.9A2 2 0 0 0 18.003 7H20a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V9a2 2 0 0 1 2-2h1.997a2 2 0 0 0 1.759-1.048l.489-.904A2 2 0 0 1 10.004 4z",key:"18u6gg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]],OR=$t("camera",jR);const zR=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],UR=$t("check",zR);const LR=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],PR=$t("chevron-down",LR);const kR=[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]],BR=$t("chevron-left",kR);const qR=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],Hc=$t("chevron-right",qR);const HR=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]],FR=$t("circle-alert",HR);const GR=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]],J1=$t("circle-check",GR);const QR=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3",key:"1u773s"}],["path",{d:"M12 17h.01",key:"p32p05"}]],YR=$t("circle-question-mark",QR);const KR=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],XR=$t("circle",KR);const $R=[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],ZR=$t("clock",$R);const JR=[["path",{d:"M6 22a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.704.706l3.588 3.588A2.4 2.4 0 0 1 20 8v12a2 2 0 0 1-2 2z",key:"1oefj6"}],["path",{d:"M14 2v5a1 1 0 0 0 1 1h5",key:"wfsgrz"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]],WR=$t("file-text",JR);const tC=[["path",{d:"M20 20a2 2 0 0 0 2-2V8a2 2 0 0 0-2-2h-7.9a2 2 0 0 1-1.69-.9L9.6 3.9A2 2 0 0 0 7.93 3H4a2 2 0 0 0-2 2v13a2 2 0 0 0 2 2Z",key:"1kt360"}]],eC=$t("folder",tC);const nC=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]],iC=$t("info",nC);const aC=[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]],rC=$t("lock",aC);const sC=[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]],lC=$t("log-out",sC);const oC=[["path",{d:"M22 17a2 2 0 0 1-2 2H6.828a2 2 0 0 0-1.414.586l-2.202 2.202A.71.71 0 0 1 2 21.286V5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2z",key:"18887p"}]],W1=$t("message-square",oC);const uC=[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]],cC=$t("pen",uC);const hC=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],Gm=$t("plus",hC);const fC=[["path",{d:"M12.586 2.586A2 2 0 0 0 11.172 2H4a2 2 0 0 0-2 2v7.172a2 2 0 0 0 .586 1.414l8.704 8.704a2.426 2.426 0 0 0 3.42 0l6.58-6.58a2.426 2.426 0 0 0 0-3.42z",key:"vktsd0"}],["circle",{cx:"7.5",cy:"7.5",r:".5",fill:"currentColor",key:"kqv944"}]],dC=$t("tag",fC);const mC=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]],pC=$t("target",mC);const gC=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],Ro=$t("trash-2",gC);const yC=[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]],tb=$t("triangle-alert",yC);const vC=[["path",{d:"M12 3v12",key:"1x0j5s"}],["path",{d:"m17 8-5-5-5 5",key:"7q97r8"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}]],Qm=$t("upload",vC);const _C=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],Ym=$t("user",_C);const bC=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],jr=$t("x",bC),EC=()=>{const{user:r,isAdmin:e,logout:i}=ea();return _.jsxs("div",{className:"min-h-screen flex flex-col",children:[_.jsx("header",{className:"bg-white border-b border-[var(--color-border)] h-16 flex items-center px-6 sticky top-0 z-50",children:_.jsxs("div",{className:"container flex items-center justify-between h-full",children:[_.jsx(Qc,{to:"/dashboard",className:"flex items-center gap-2",children:_.jsx("img",{src:"/EMG-Dashboard-Prototype/logo.png",alt:"EMG Logo",className:"h-8 w-auto object-contain"})}),_.jsxs("div",{className:"flex items-center gap-4",children:[e&&_.jsx("span",{className:"bg-indigo-100 text-indigo-700 text-xs font-bold px-2 py-1 rounded border border-indigo-200 uppercase tracking-wide",children:"Admin Mode"}),r?_.jsxs("div",{className:"flex items-center gap-3 pl-4 border-l border-gray-200",children:[_.jsxs("div",{className:"text-right hidden sm:block",children:[_.jsx("div",{className:"text-sm font-medium text-gray-900",children:r.name}),_.jsx("div",{className:"text-xs text-gray-500",children:r.email})]}),_.jsx("div",{className:"h-9 w-9 rounded-full bg-slate-100 flex items-center justify-center text-slate-500 border border-slate-200",children:_.jsx(Ym,{size:18})}),_.jsx("button",{onClick:i,className:"p-2 text-gray-400 hover:text-red-500 transition-colors",title:"Logout",children:_.jsx(lC,{size:18})})]}):_.jsx("div",{className:"h-8 w-8 rounded-full bg-gray-200"})]})]})}),_.jsx("main",{className:"flex-1 py-8",children:_.jsx(t_,{})}),_.jsx("footer",{className:"h-12 border-t border-[var(--color-border)] bg-white flex items-center justify-center text-sm text-[var(--color-text-secondary)]",children:" 2025 EMG. Early Access Preview."})]})},TC=()=>{const r=No(),[e,i]=L.useState(""),[s,o]=L.useState(!1),c=()=>{e&&(e==="south-mall"?r("/login"):o(!0))};return _.jsxs("div",{className:"min-h-screen bg-slate-50 flex items-center justify-center p-4",children:[_.jsxs("div",{className:"w-full max-w-md bg-white rounded-xl shadow-2xl p-8 border border-gray-100 relative overflow-hidden",children:[_.jsx("div",{className:"absolute top-0 left-0 w-full h-1 bg-gradient-to-r from-blue-600 to-cyan-500"}),_.jsxs("div",{className:"mb-8 flex flex-col items-center",children:[_.jsx("img",{src:"/EMG-Dashboard-Prototype/logo.png",alt:"EMG Logo",className:"h-14 w-auto mb-4"}),_.jsx("h1",{className:"text-2xl font-bold text-gray-800 text-center",children:"Project Portal"}),_.jsx("p",{className:"text-gray-500 text-sm mt-2 text-center",children:"Select your project to securely access site updates and documentation."})]}),_.jsxs("div",{className:"space-y-4",children:[_.jsxs("div",{children:[_.jsx("label",{className:"block text-xs font-semibold text-gray-500 uppercase tracking-wider mb-2",children:"Select Project"}),_.jsxs("div",{className:"relative",children:[_.jsxs("select",{className:"w-full appearance-none bg-gray-50 border border-gray-200 text-gray-700 py-3 px-4 pr-8 rounded-lg leading-tight focus:outline-none focus:bg-white focus:border-blue-500 transition-colors",value:e,onChange:f=>i(f.target.value),children:[_.jsx("option",{value:"",disabled:!0,children:"Choose active engagement..."}),Dr.map(f=>_.jsx("option",{value:f.id,children:f.name},f.id))]}),_.jsx("div",{className:"pointer-events-none absolute inset-y-0 right-0 flex items-center px-2 text-gray-700",children:_.jsx(Hc,{size:16,className:"rotate-90"})})]})]}),_.jsxs("button",{onClick:c,disabled:!e,className:`w-full py-3 rounded-lg font-semibold flex items-center justify-center gap-2 transition-all ${e?"bg-blue-600 text-white shadow-lg shadow-blue-200 hover:bg-blue-700":"bg-gray-100 text-gray-400 cursor-not-allowed"}`,children:[e==="south-mall"?"Continue to Login":"Request Access",_.jsx(Hc,{size:18})]})]}),_.jsxs("div",{className:"mt-8 flex items-center justify-center gap-2 text-xs text-gray-400",children:[_.jsx(rC,{size:12}),_.jsx("span",{children:"Secure Connection  EMG Client Services"})]})]}),s&&_.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-sm z-50 flex items-center justify-center p-4 animate-in fade-in duration-200",children:_.jsxs("div",{className:"bg-white rounded-lg shadow-xl max-w-sm w-full p-6 text-center relative",children:[_.jsx("button",{onClick:()=>o(!1),className:"absolute top-4 right-4 text-gray-300 hover:text-gray-500",children:_.jsx(jr,{size:20})}),_.jsx("div",{className:"w-12 h-12 bg-amber-100 text-amber-600 rounded-full flex items-center justify-center mx-auto mb-4",children:_.jsx(FR,{size:24})}),_.jsx("h3",{className:"text-lg font-bold text-gray-800 mb-2",children:"Restricted Access"}),_.jsxs("p",{className:"text-sm text-gray-500 mb-6",children:["The portal for ",_.jsx("strong",{children:Dr.find(f=>f.id===e)?.name})," is currently restricted to authorized stakeholders only."]}),_.jsx("button",{onClick:()=>o(!1),className:"btn btn-primary w-full text-sm",children:"Request Authorization"})]})})]})},xC=()=>{const r=No(),{login:e}=ea(),[i,s]=L.useState(!1),[o,c]=L.useState(""),[f,p]=L.useState(""),g=y=>{y.preventDefault(),e(o),r("/project/south-mall")};return _.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50 p-4",children:_.jsxs("div",{className:"max-w-md w-full bg-white rounded-xl shadow-lg p-8 border border-gray-100",children:[_.jsxs("button",{onClick:()=>r("/"),className:"flex items-center text-sm text-gray-500 hover:text-gray-700 mb-6 transition-colors",children:[_.jsx(BR,{size:16})," Back to Project Selection"]}),_.jsxs("div",{className:"mb-8 text-center sm:text-left",children:[_.jsx("img",{src:"/EMG-Dashboard-Prototype/logo.png",alt:"EMG Logo",className:"h-12 w-auto mb-6 mx-auto sm:mx-0"}),_.jsx("h1",{className:"text-2xl font-bold text-[var(--color-brand-primary)]",children:"South Mall New World"}),_.jsx("p",{className:"text-gray-500 mt-1",children:i?"Welcome back. Please log in.":"Setup your account to access the project portal."})]}),_.jsxs("form",{onSubmit:g,className:"space-y-5",children:[_.jsxs("div",{children:[_.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Email Address"}),_.jsx("input",{type:"email",required:!0,className:"w-full border border-gray-300 rounded-lg p-3 focus:outline-none focus:ring-2 focus:ring-blue-500/20 focus:border-blue-500",placeholder:"name@company.com",value:o,onChange:y=>c(y.target.value)})]}),_.jsxs("div",{children:[_.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:i?"Password":"Create Password"}),_.jsx("input",{type:"password",required:!0,className:"w-full border border-gray-300 rounded-lg p-3 focus:outline-none focus:ring-2 focus:ring-blue-500/20 focus:border-blue-500",placeholder:"",minLength:i?0:6,value:f,onChange:y=>p(y.target.value)}),!i&&_.jsx("p",{className:"text-xs text-gray-400 mt-1",children:"Must be at least 6 characters"})]}),_.jsxs("button",{type:"submit",className:"btn btn-primary w-full py-3 mt-2 gap-2",children:[i?"Log In":"Create Account & Enter",_.jsx($1,{size:16})]})]}),_.jsx("div",{className:"mt-6 text-center",children:_.jsx("button",{onClick:()=>s(!i),className:"text-sm text-[var(--color-brand-primary)] hover:underline font-medium",children:i?"Need an account? Sign up":"Already have an account? Log in"})}),_.jsx("div",{className:"mt-6 pt-6 border-t border-gray-100 text-center text-xs text-gray-400",children:"By continuing, you agree to the EMG Portal Terms of Use."})]})})},AC=()=>{const r=No(),e=Dr[0],i=Dr.slice(1),s=o=>{switch(o){case"In Progress":return"badge-success";case"Planning":return"badge-warning";case"On Hold":return"badge-warning";case"Ongoing":return"badge-info";default:return"badge-neutral"}};return _.jsxs("div",{className:"container max-w-5xl",children:[_.jsxs("div",{className:"mb-8",children:[_.jsx("h1",{className:"text-2xl font-bold text-[var(--color-brand-primary)]",children:"Project Dashboard"}),_.jsx("p",{className:"text-[var(--color-text-secondary)]",children:"Overview of all active engagements"})]}),_.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-8",children:[_.jsxs("div",{className:"md:col-span-2 space-y-6",children:[_.jsx("h2",{className:"text-lg text-[var(--color-text-primary)] font-semibold border-b border-gray-200 pb-2",children:"Your Primary Project"}),_.jsxs("div",{className:"card hover:shadow-md transition-shadow cursor-pointer border-l-4 border-l-[var(--color-accent)]",onClick:()=>r(`/project/${e.id}`),children:[_.jsx("div",{className:"flex justify-between items-start mb-4",children:_.jsxs("div",{children:[_.jsx("span",{className:`badge ${s(e.status)} mb-2`,children:e.status}),_.jsx("h3",{className:"text-xl font-bold text-[var(--color-brand-primary)] mb-1",children:e.name}),_.jsxs("div",{className:"flex items-center text-sm text-[var(--color-text-secondary)] gap-4",children:[_.jsxs("span",{className:"flex items-center gap-1",children:[_.jsx(VR,{size:14})," ",e.location]}),_.jsxs("span",{className:"flex items-center gap-1",children:[_.jsx(ZR,{size:14})," Last updated ",e.lastUpdated]})]})]})}),_.jsx("p",{className:"text-gray-600 mb-6 leading-relaxed",children:e.summary}),_.jsx("div",{className:"flex justify-end",children:_.jsxs("button",{className:"btn btn-outline text-sm gap-2",children:["View Project Details",_.jsx($1,{size:16})]})})]})]}),_.jsxs("div",{className:"space-y-6",children:[_.jsx("h2",{className:"text-lg text-[var(--color-text-primary)] font-semibold border-b border-gray-200 pb-2",children:"Other Active Projects"}),_.jsxs("div",{className:"card bg-gray-50 border-gray-100",children:[_.jsx("div",{className:"space-y-4",children:i.map(o=>_.jsxs("div",{className:"pb-4 border-b border-gray-100 last:border-0 last:pb-0",children:[_.jsx("div",{className:"flex justify-between items-start mb-1",children:_.jsx("h4",{className:"font-medium text-[var(--color-brand-secondary)]",children:o.name})}),_.jsxs("div",{className:"flex items-center justify-between text-xs",children:[_.jsx("span",{className:`badge ${s(o.status)} scale-90 origin-left`,children:o.status}),_.jsxs("span",{className:"text-gray-400",children:["Upd: ",o.lastUpdated]})]})]},o.id))}),_.jsx("div",{className:"mt-6 pt-4 border-t border-gray-200 text-xs text-gray-500 text-center",children:"Detailed views for these projects are not enabled in this preview."})]})]})]})]})},SC=()=>{const{id:r}=nm(),e=Dr.find(o=>o.id===r)||Dr[0],i=o=>{switch(o){case"In Progress":return"badge-success";case"Planning":return"badge-warning";case"On Hold":return"badge-warning";case"Ongoing":return"badge-info";default:return"badge-neutral"}},s=[{name:"Overview",path:"overview"},{name:"Updates",path:"updates"},{name:"Photos",path:"photos"},{name:"Documents",path:"documents"},{name:"Actions",path:"actions"},{name:"Q&A",path:"qa"}];return _.jsxs("div",{className:"container max-w-6xl",children:[_.jsx("div",{className:"mb-4",children:_.jsxs(Rc,{to:"/dashboard",className:"text-sm text-gray-500 hover:text-[var(--color-brand-primary)] flex items-center gap-1",children:[_.jsx(X1,{size:14})," Back to Dashboard"]})}),_.jsxs("div",{className:"bg-white border border-[var(--color-border)] rounded-t-lg p-6 pb-0",children:[_.jsxs("div",{className:"flex justify-between items-start mb-6",children:[_.jsxs("div",{children:[_.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[_.jsx("h1",{className:"text-2xl font-bold text-[var(--color-brand-primary)]",children:e.name}),_.jsx("span",{className:`badge ${i(e.status)}`,children:e.status})]}),_.jsxs("p",{className:"text-[var(--color-text-secondary)] text-sm",children:["Project ID: ",r?.toUpperCase(),"  Last updated ",e.lastUpdated]})]}),_.jsx("div",{children:_.jsxs("div",{className:"text-right",children:[_.jsx("span",{className:"text-xs text-gray-400 block uppercase tracking-wide",children:"Client"}),_.jsx("span",{className:"font-medium",children:"Foodstuffs North Island"})]})})]}),_.jsx("div",{className:"flex border-b border-gray-200",children:s.map(o=>_.jsx(Rc,{to:o.path,className:({isActive:c})=>`px-6 py-3 text-sm font-medium border-b-2 transition-colors ${c?"border-[var(--color-brand-primary)] text-[var(--color-brand-primary)]":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:o.name},o.path))})]}),_.jsx("div",{className:"bg-white border border-t-0 border-[var(--color-border)] rounded-b-lg p-6 min-h-[500px]",children:_.jsx(t_,{})})]})},wC=()=>{const{id:r}=nm(),{qa:e,addReply:i}=Pr(),{user:s}=ea(),o=e.find(g=>g.id.toString()===r),[c,f]=L.useState(""),p=()=>{if(!c.trim())return;const g=s.name+(s.role==="admin"?" (Admin)":"");i(r,c,g),f("")};return o?_.jsxs("div",{className:"container max-w-4xl pt-6",children:[_.jsx("div",{className:"mb-6",children:_.jsxs(Rc,{to:"/project/south-mall/qa",className:"text-sm text-gray-500 hover:text-[var(--color-brand-primary)] flex items-center gap-1",children:[_.jsx(X1,{size:14})," Back to Project Q&A"]})}),_.jsxs("div",{className:"bg-white border border-[var(--color-border)] rounded-lg overflow-hidden shadow-sm animate-in fade-in",children:[_.jsxs("div",{className:"p-6 border-b border-gray-100 bg-gray-50/50",children:[_.jsxs("div",{className:"flex gap-3 mb-4",children:[_.jsx("span",{className:`px-2 py-0.5 rounded text-xs font-bold uppercase ${o.status==="Answered"?"bg-green-100 text-green-700":"bg-amber-100 text-amber-700"}`,children:o.status}),_.jsx("span",{className:"text-xs text-gray-500 border border-gray-200 px-2 py-0.5 rounded-full bg-white",children:o.category})]}),_.jsx("h1",{className:"text-2xl font-bold text-[var(--color-brand-primary)] mb-2",children:o.title}),_.jsxs("div",{className:"flex items-center text-sm text-gray-500 gap-4",children:[_.jsxs("span",{children:["Raised ",o.date]}),_.jsx("span",{children:""}),_.jsxs("span",{children:["ID: #",o.id.toString().padStart(4,"0")]})]})]}),_.jsxs("div",{className:"p-8",children:[_.jsx("h3",{className:"text-xs font-bold text-gray-400 uppercase tracking-wider mb-3",children:"Context & Question"}),_.jsxs("div",{className:"prose prose-slate max-w-none text-gray-700 bg-gray-50 p-6 rounded-md border border-gray-100 italic",children:['"',o.context,'"']})]}),_.jsxs("div",{className:"p-8 pt-0",children:[_.jsxs("h3",{className:"text-xs font-bold text-gray-400 uppercase tracking-wider mb-6 flex items-center gap-2",children:[_.jsx(W1,{size:14})," Discussion History (",o.replies.length,")"]}),_.jsx("div",{className:"space-y-6",children:o.replies.length===0?_.jsx("div",{className:"text-center py-8 text-gray-400 text-sm bg-gray-50 rounded-lg border border-dashed border-gray-200",children:"No replies yet."}):o.replies.map((g,y)=>_.jsxs("div",{className:"flex gap-4 group animate-in fade-in slide-in-from-bottom-2",children:[_.jsx("div",{className:"flex-shrink-0",children:_.jsx("div",{className:"w-10 h-10 rounded-full bg-slate-200 flex items-center justify-center text-slate-500",children:_.jsx(Ym,{size:20})})}),_.jsxs("div",{className:"flex-grow",children:[_.jsxs("div",{className:"flex items-center justify-between mb-1",children:[_.jsx("span",{className:"font-semibold text-[var(--color-brand-primary)]",children:g.author}),_.jsx("span",{className:"text-xs text-gray-400",children:g.date})]}),_.jsx("div",{className:"text-gray-700 leading-relaxed bg-white border border-gray-100 p-4 rounded-lg rounded-tl-none shadow-sm",children:g.content}),y===o.replies.length-1&&o.status==="Answered"&&_.jsxs("div",{className:"mt-2 flex items-center gap-1 text-xs text-green-600 font-medium",children:[_.jsx(J1,{size:12})," Marked as Answer"]})]})]},y))})]}),_.jsx("div",{className:"bg-gray-50 p-6 border-t border-gray-200",children:s?_.jsxs("div",{className:"flex gap-4",children:[_.jsx("div",{className:"w-10 h-10 rounded-full bg-[var(--color-brand-primary)] flex items-center justify-center text-white flex-shrink-0",children:_.jsx("span",{className:"font-bold text-sm",children:s.name.charAt(0)})}),_.jsxs("div",{className:"flex-grow",children:[_.jsx("textarea",{className:"w-full border border-gray-300 rounded-md p-3 text-sm focus:outline-none focus:ring-2 focus:ring-blue-500/20 focus:border-blue-500 transition-all resize-none",rows:"3",placeholder:"Write a reply...",value:c,onChange:g=>f(g.target.value)}),_.jsx("div",{className:"flex justify-end mt-2",children:_.jsx("button",{onClick:p,disabled:!c.trim(),className:"btn btn-primary text-sm disabled:opacity-50 disabled:cursor-not-allowed",children:"Post Reply"})})]})]}):_.jsx("div",{className:"text-center text-sm text-gray-400",children:"Log in to participate in the discussion."})})]})]}):_.jsx("div",{className:"p-8 text-center",children:"Thread not found"})},RC=()=>{const{id:r}=nm(),{projects:e,updateProjectDetails:i}=Pr(),{isAdmin:s}=ea(),o=e.find(E=>E.id===r)||e[0],[c,f]=L.useState(!1),[p,g]=L.useState({summary:o.summary,focus:o.focus,coordination:o.coordination}),y=()=>{i(o.id,p),f(!1)};return _.jsxs("div",{className:"max-w-4xl mx-auto space-y-8 animate-in fade-in duration-300 relative",children:[s&&!c&&_.jsx("div",{className:"absolute -top-2 right-0",children:_.jsxs("button",{onClick:()=>f(!0),className:"text-xs flex items-center gap-1 text-blue-600 hover:text-blue-800 bg-blue-50 px-2 py-1 rounded border border-blue-100 transition-colors",children:[_.jsx(cC,{size:12})," Edit Details"]})}),c&&_.jsxs("div",{className:"bg-blue-50 p-6 rounded-lg border border-blue-200 mb-8 space-y-4 shadow-inner",children:[_.jsxs("div",{className:"flex justify-between items-center mb-2",children:[_.jsx("h3",{className:"font-bold text-blue-800",children:"Edit Project Overview"}),_.jsx("button",{onClick:()=>f(!1),className:"text-gray-400 hover:text-gray-600",children:_.jsx(jr,{size:18})})]}),_.jsxs("div",{children:[_.jsx("label",{className:"block text-xs font-bold text-blue-800 uppercase mb-1",children:"Project Summary"}),_.jsx("textarea",{className:"w-full p-2 rounded border border-blue-200 focus:outline-none focus:ring-2 focus:ring-blue-500",rows:"3",value:p.summary,onChange:E=>g({...p,summary:E.target.value})})]}),_.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[_.jsxs("div",{children:[_.jsx("label",{className:"block text-xs font-bold text-blue-800 uppercase mb-1",children:"Current Focus"}),_.jsx("input",{className:"w-full p-2 rounded border border-blue-200 focus:outline-none focus:ring-2 focus:ring-blue-500",value:p.focus,onChange:E=>g({...p,focus:E.target.value})})]}),_.jsxs("div",{children:[_.jsx("label",{className:"block text-xs font-bold text-blue-800 uppercase mb-1",children:"Coordination"}),_.jsx("input",{className:"w-full p-2 rounded border border-blue-200 focus:outline-none focus:ring-2 focus:ring-blue-500",value:p.coordination,onChange:E=>g({...p,coordination:E.target.value})})]})]}),_.jsxs("div",{className:"flex justify-end gap-2 pt-2",children:[_.jsx("button",{onClick:()=>f(!1),className:"btn btn-outline bg-white text-xs",children:"Cancel"}),_.jsxs("button",{onClick:y,className:"btn btn-primary text-xs gap-1",children:[_.jsx(UR,{size:14})," Save Changes"]})]})]}),_.jsxs("section",{children:[_.jsxs("h3",{className:"text-lg font-semibold text-[var(--color-brand-primary)] mb-4 flex items-center gap-2",children:[_.jsx(iC,{size:18,className:"text-[var(--color-accent)]"})," Project Summary"]}),_.jsx("p",{className:"text-gray-600 leading-relaxed bg-gray-50 p-4 rounded-md border border-gray-100",children:o.summary})]}),_.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[_.jsxs("div",{className:"card border-l-4 border-l-blue-500",children:[_.jsxs("h3",{className:"text-base font-semibold text-[var(--color-brand-primary)] mb-3 flex items-center gap-2",children:[_.jsx(pC,{size:18,className:"text-blue-500"})," Current Focus"]}),_.jsx("p",{className:"text-gray-600 text-sm",children:o.focus})]}),_.jsxs("div",{className:"card border-l-4 border-l-amber-500",children:[_.jsxs("h3",{className:"text-base font-semibold text-[var(--color-brand-primary)] mb-3 flex items-center gap-2",children:[_.jsx(tb,{size:18,className:"text-amber-500"})," Key Coordination Items"]}),_.jsx("p",{className:"text-gray-600 text-sm",children:o.coordination})]})]}),_.jsxs("section",{children:[_.jsx("h3",{className:"text-sm font-medium text-gray-500 mb-2 uppercase tracking-wide",children:"Location Context"}),_.jsxs("div",{className:"aspect-video bg-gray-100 rounded-lg flex items-center justify-center border border-gray-200 text-gray-400 relative overflow-hidden",children:[_.jsx("div",{className:"absolute inset-0 bg-[url('https://api.mapbox.com/styles/v1/mapbox/light-v10/static/174.77,036.84,10,0/800x600?access_token=YOUR_TOKEN')] bg-cover opacity-20 grayscale"}),_.jsx("p",{className:"z-10",children:"Interactive Map Disabled in Preview"})]})]})]})},CC=()=>{const{updates:r,addUpdate:e}=Pr(),{user:i,isAdmin:s}=ea(),[o,c]=L.useState(!1),[f,p]=L.useState(""),[g,y]=L.useState("Progress"),E=x=>{x.preventDefault(),e({projectId:"south-mall",date:new Date().toLocaleDateString("en-GB",{day:"2-digit",month:"short",year:"numeric"}),author:`${i.name} (EMG)`,content:f,tag:g}),p(""),c(!1)};return _.jsxs("div",{className:"max-w-4xl mx-auto",children:[_.jsxs("div",{className:"flex justify-between items-center mb-6",children:[_.jsx("h2",{className:"text-lg font-semibold text-[var(--color-brand-primary)]",children:"Project Feed"}),_.jsxs("div",{className:"flex gap-2",children:[s&&_.jsxs("button",{onClick:()=>c(!o),className:"btn btn-primary text-xs gap-1",children:[_.jsx(Gm,{size:14})," Post Update"]}),_.jsx("button",{className:"btn btn-outline text-sm",disabled:!0,children:"Filter by Date"})]})]}),o&&_.jsx("div",{className:"bg-white border border-blue-100 shadow-sm rounded-lg p-4 mb-8 animate-in slide-in-from-top-2",children:_.jsxs("form",{onSubmit:E,children:[_.jsx("textarea",{className:"w-full border border-gray-200 rounded p-3 text-sm focus:outline-none focus:ring-2 focus:ring-blue-500 mb-3",placeholder:"What's the latest on site?",rows:"3",value:f,onChange:x=>p(x.target.value),required:!0}),_.jsxs("div",{className:"flex justify-between items-center",children:[_.jsxs("select",{className:"text-sm border border-gray-200 rounded p-1.5",value:g,onChange:x=>y(x.target.value),children:[_.jsx("option",{children:"Progress"}),_.jsx("option",{children:"Compliance"}),_.jsx("option",{children:"Safety"}),_.jsx("option",{children:"Delay"})]}),_.jsxs("div",{className:"flex gap-2",children:[_.jsx("button",{type:"button",onClick:()=>c(!1),className:"btn btn-outline text-xs border-transparent",children:"Cancel"}),_.jsx("button",{type:"submit",className:"btn btn-primary text-xs",children:"Post"})]})]})]})}),_.jsx("div",{className:"space-y-6 relative before:absolute before:inset-0 before:ml-5 before:-translate-x-px md:before:mx-auto md:before:translate-x-0 before:h-full before:w-0.5 before:bg-gradient-to-b before:from-transparent before:via-slate-300 before:to-transparent",children:r.map(x=>_.jsxs("div",{className:"relative flex items-start group is-active animate-in fade-in duration-500",children:[_.jsx("div",{className:"absolute left-0 mt-1 ml-2.5 h-5 w-5 rounded-full border-2 border-[var(--color-bg-surface)] bg-slate-300 group-[.is-active]:bg-[var(--color-accent)] z-10 flex items-center justify-center",children:_.jsx("div",{className:"h-1.5 w-1.5 rounded-full bg-white"})}),_.jsxs("div",{className:"ml-12 w-full card p-5 border-gray-200 hover:border-blue-200 transition-colors",children:[_.jsxs("div",{className:"flex justify-between items-start mb-2",children:[_.jsxs("div",{className:"flex items-center gap-2 text-sm text-[var(--color-text-secondary)]",children:[_.jsxs("span",{className:"font-semibold text-[var(--color-brand-primary)] flex items-center gap-1",children:[_.jsx(Ym,{size:14})," ",x.author]}),_.jsx("span",{children:""}),_.jsxs("span",{className:"flex items-center gap-1",children:[_.jsx(Z1,{size:14})," ",x.date]})]}),_.jsx("span",{className:"badge badge-neutral bg-gray-100 text-gray-600",children:x.tag})]}),_.jsx("p",{className:"text-gray-700 leading-relaxed text-sm",children:x.content})]})]},x.id))}),_.jsx("div",{className:"mt-8 text-center",children:_.jsx("button",{className:"text-sm text-gray-400 hover:text-gray-600",children:"Load Older Updates"})})]})},ch=({isOpen:r,onClose:e,onConfirm:i,title:s,itemType:o})=>{const[c,f]=L.useState(""),[p,g]=L.useState("");if(!r)return null;const y=E=>{E.preventDefault(),c==="password123"?(i(),e(),f(""),g("")):g("Incorrect password. Access denied.")};return _.jsx("div",{className:"fixed inset-0 bg-black/50 z-50 flex items-center justify-center p-4 backdrop-blur-sm animate-in fade-in duration-200",children:_.jsxs("div",{className:"bg-white rounded-xl shadow-2xl max-w-md w-full border border-gray-100 overflow-hidden transform transition-all scale-100",children:[_.jsxs("div",{className:"bg-red-50 p-6 border-b border-red-100 flex items-start gap-4",children:[_.jsx("div",{className:"bg-red-100 p-2 rounded-full text-red-600 flex-shrink-0",children:_.jsx(tb,{size:24})}),_.jsxs("div",{children:[_.jsx("h3",{className:"text-lg font-bold text-red-800",children:"Confirm Deletion"}),_.jsxs("p",{className:"text-sm text-red-600 mt-1",children:["Are you sure you want to delete this ",o,"? This action cannot be undone."]})]}),_.jsx("button",{onClick:e,className:"text-red-400 hover:text-red-700 ml-auto",children:_.jsx(jr,{size:20})})]}),_.jsxs("form",{onSubmit:y,className:"p-6 space-y-4",children:[_.jsxs("div",{children:[_.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Admin Password Required"}),_.jsx("input",{type:"password",className:`w-full p-3 border rounded-lg focus:outline-none focus:ring-2 ${p?"border-red-300 ring-red-200":"border-gray-300 focus:ring-red-200 focus:border-red-500"}`,placeholder:"Enter password...",value:c,onChange:E=>{f(E.target.value),g("")},autoFocus:!0}),p&&_.jsxs("p",{className:"text-xs text-red-600 mt-2 font-medium flex items-center gap-1",children:[_.jsx(jr,{size:12})," ",p]})]}),_.jsxs("div",{className:"flex justify-end gap-3 pt-2",children:[_.jsx("button",{type:"button",onClick:e,className:"px-4 py-2 text-sm font-medium text-gray-600 hover:text-gray-800 bg-gray-50 hover:bg-gray-100 rounded-lg transition-colors",children:"Cancel"}),_.jsx("button",{type:"submit",className:"px-4 py-2 text-sm font-bold text-white bg-red-600 hover:bg-red-700 rounded-lg shadow-sm shadow-red-200 transition-colors",children:"Confirm Delete"})]})]})]})})},NC=()=>{const{isAdmin:r}=ea(),{photos:e,addPhoto:i,deletePhoto:s}=Pr(),[o,c]=L.useState(!1),[f,p]=L.useState({desc:"",tag:"Progress",src:""}),g=L.useRef(null),[y,E]=L.useState(!1),[x,C]=L.useState(!1),[U,Y]=L.useState(null),$=dt=>{Y(dt),C(!0)},P=()=>{U&&(s(U),Y(null))},J=dt=>new Promise(_t=>{const N=new FileReader;N.readAsDataURL(dt),N.onload=w=>{const R=new Image;R.src=w.target.result,R.onload=()=>{const M=document.createElement("canvas"),I=800,O=I/R.width,S=R.width>I?I:R.width,pt=R.width>I?R.height*O:R.height;M.width=S,M.height=pt,M.getContext("2d").drawImage(R,0,0,S,pt);const F=M.toDataURL("image/jpeg",.7);_t(F)}}}),it=async dt=>{const _t=dt.target.files[0];if(_t){E(!0);try{const N=await J(_t);p(w=>({...w,src:N}))}catch(N){console.error("Compression failed",N),alert("Failed to process image.")}finally{E(!1)}}},Z=dt=>{if(dt.preventDefault(),!f.src){alert("Please select a photo first.");return}const _t={id:Date.now(),src:f.src,date:new Date().toLocaleDateString("en-GB",{day:"2-digit",month:"short",year:"numeric"}),tag:f.tag,desc:f.desc};i(_t),c(!1),p({desc:"",tag:"Progress",src:""})},vt=()=>{g.current&&g.current.click()};return _.jsxs("div",{children:[_.jsxs("div",{className:"flex justify-between items-center mb-6",children:[_.jsx("h2",{className:"text-lg font-semibold text-[var(--color-brand-primary)]",children:"Site Photos"}),_.jsxs("div",{className:"flex gap-2",children:[r&&_.jsxs("button",{onClick:()=>c(!0),className:"btn btn-primary text-xs gap-1",children:[_.jsx(Gm,{size:14})," Upload Photo"]}),_.jsx("button",{className:"btn btn-outline text-xs px-3",children:"Latest"})]})]}),_.jsx(ch,{isOpen:x,onClose:()=>C(!1),onConfirm:P,title:"Delete Photo",itemType:"photo"}),o&&_.jsxs("div",{className:"bg-gray-50 border border-dashed border-gray-300 rounded-lg p-4 mb-6 animate-in fade-in",children:[_.jsx("h3",{className:"font-bold text-gray-700 text-sm mb-3",children:"Add New Photo"}),_.jsxs("form",{onSubmit:Z,className:"space-y-3",children:[_.jsx("div",{children:_.jsx("input",{className:"w-full p-2 text-sm border border-gray-300 rounded",placeholder:"Photo Description",required:!0,value:f.desc,onChange:dt=>p({...f,desc:dt.target.value})})}),_.jsxs("div",{className:"flex flex-col sm:flex-row gap-3",children:[_.jsxs("select",{className:"p-2 text-sm border border-gray-300 rounded sm:w-1/3",value:f.tag,onChange:dt=>p({...f,tag:dt.target.value}),children:[_.jsx("option",{children:"Progress"}),_.jsx("option",{children:"Safety"}),_.jsx("option",{children:"Site Works"}),_.jsx("option",{children:"Interior"}),_.jsx("option",{children:"Exterior"})]}),_.jsxs("div",{className:"flex-1 flex gap-2",children:[_.jsx("input",{type:"file",ref:g,onChange:it,accept:"image/*",capture:"environment",className:"hidden"}),_.jsx("button",{type:"button",onClick:vt,disabled:y,className:`flex-1 p-2 text-sm border rounded flex items-center justify-center gap-2 transition-colors ${f.src?"bg-green-50 text-green-700 border-green-200":"bg-white text-gray-500 border-gray-300 hover:bg-gray-50"}`,children:y?"Compressing...":f.src?_.jsxs(_.Fragment,{children:[_.jsx(OR,{size:16})," Photo Selected"]}):_.jsxs(_.Fragment,{children:[_.jsx(Qm,{size:16})," Upload form Device / Camera"]})})]})]}),f.src&&_.jsxs("div",{className:"relative h-32 w-full rounded-lg overflow-hidden border border-gray-200 bg-black/5",children:[_.jsx("img",{src:f.src,alt:"Preview",className:"w-full h-full object-contain"}),_.jsx("button",{type:"button",onClick:()=>p({...f,src:""}),className:"absolute top-2 right-2 bg-black/50 text-white rounded-full p-1 hover:bg-black/70",children:_.jsx(Ro,{size:12})})]}),_.jsxs("div",{className:"flex justify-end gap-2 pt-2",children:[_.jsx("button",{type:"button",onClick:()=>c(!1),className:"btn btn-outline text-xs bg-white",children:"Cancel"}),_.jsx("button",{type:"submit",className:"btn btn-primary text-xs",disabled:!f.src||y,children:"Save Photo"})]})]})]}),_.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 gap-6",children:e.map(dt=>_.jsxs("div",{className:"group cursor-pointer relative",children:[_.jsxs("div",{className:"aspect-[4/3] bg-gray-100 rounded-md overflow-hidden relative border border-gray-200 mb-3",children:[_.jsx("img",{src:dt.src,alt:dt.desc,className:"w-full h-full object-cover transition-transform duration-500 group-hover:scale-105"}),_.jsx("div",{className:"absolute inset-0 bg-black/0 group-hover:bg-black/10 transition-colors"}),r&&_.jsx("button",{onClick:_t=>{_t.stopPropagation(),$(dt.id)},className:"absolute top-2 right-2 bg-red-600 text-white p-1.5 rounded-full opacity-0 group-hover:opacity-100 transition-opacity hover:bg-red-700 z-10",title:"Delete Photo",children:_.jsx(Ro,{size:14})})]}),_.jsxs("div",{children:[_.jsx("div",{className:"flex justify-between items-start",children:_.jsx("h3",{className:"text-sm font-medium text-[var(--color-brand-primary)] group-hover:text-[var(--color-accent)] transition-colors line-clamp-1",children:dt.desc})}),_.jsxs("div",{className:"flex items-center gap-3 mt-1 text-xs text-[var(--color-text-secondary)]",children:[_.jsxs("span",{className:"flex items-center gap-1",children:[_.jsx(Z1,{size:12})," ",dt.date]}),_.jsxs("span",{className:"flex items-center gap-1",children:[_.jsx(dC,{size:12})," ",dt.tag]})]})]})]},dt.id))})]})},DC=()=>{const{actions:r,addAction:e,updateActionStatus:i,deleteAction:s}=Pr(),{user:o,isAdmin:c}=ea(),[f,p]=L.useState(!1),[g,y]=L.useState({task:"",assignedTo:"",dueDate:""}),[E,x]=L.useState(!1),[C,U]=L.useState(null),Y=Z=>{U(Z),x(!0)},$=()=>{C&&(s(C),U(null))},P=Z=>Z==="Closed"?_.jsxs("span",{className:"badge badge-success flex items-center gap-1",children:[_.jsx(J1,{size:12})," Closed"]}):_.jsxs("span",{className:"badge badge-neutral ring-1 ring-gray-200 flex items-center gap-1",children:[_.jsx(XR,{size:12})," Open"]}),J=Z=>{Z.preventDefault(),e(g),y({task:"",assignedTo:"",dueDate:""}),p(!1)},it=(Z,vt)=>{if(!o)return;i(Z,vt==="Open"?"Closed":"Open")};return _.jsxs("div",{className:"max-w-5xl mx-auto",children:[_.jsxs("div",{className:"flex justify-between items-center mb-6",children:[_.jsx("h2",{className:"text-lg font-semibold text-[var(--color-brand-primary)]",children:"Open Actions"}),_.jsxs("div",{className:"flex gap-2",children:[o&&_.jsxs("button",{onClick:()=>p(!f),className:"btn btn-primary text-sm gap-1",children:[_.jsx(Gm,{size:16})," Add Action"]}),_.jsx("button",{className:"btn btn-outline text-sm",children:"Download List"})]})]}),_.jsx(ch,{isOpen:E,onClose:()=>x(!1),onConfirm:$,title:"Delete Action",itemType:"action"}),f&&_.jsxs("div",{className:"bg-gray-50 border border-gray-200 rounded-lg p-4 mb-6 animate-in slide-in-from-top-2",children:[_.jsxs("div",{className:"flex justify-between items-center mb-4",children:[_.jsx("h3",{className:"font-bold text-gray-700 text-sm",children:"Adding New Action Item"}),_.jsx("button",{onClick:()=>p(!1),className:"text-gray-400 hover:text-gray-600",children:_.jsx(jr,{size:18})})]}),_.jsxs("form",{onSubmit:J,className:"grid grid-cols-1 md:grid-cols-4 gap-4 items-end",children:[_.jsxs("div",{className:"md:col-span-2",children:[_.jsx("label",{className:"block text-xs font-medium text-gray-500 mb-1",children:"Task Description"}),_.jsx("input",{className:"w-full p-2 text-sm border border-gray-300 rounded",required:!0,value:g.task,onChange:Z=>y({...g,task:Z.target.value})})]}),_.jsxs("div",{children:[_.jsx("label",{className:"block text-xs font-medium text-gray-500 mb-1",children:"Assigned To"}),_.jsxs("select",{className:"w-full p-2 text-sm border border-gray-300 rounded",value:g.assignedTo,onChange:Z=>y({...g,assignedTo:Z.target.value}),children:[_.jsx("option",{value:"",children:"-- Select --"}),_.jsx("option",{children:"EMG"}),_.jsx("option",{children:"Contractor"}),_.jsx("option",{children:"Client"}),_.jsx("option",{children:"Consultant (Arch)"}),_.jsx("option",{children:"Consultant (Elec)"})]})]}),_.jsxs("div",{children:[_.jsx("label",{className:"block text-xs font-medium text-gray-500 mb-1",children:"Due Date"}),_.jsx("input",{type:"date",className:"w-full p-2 text-sm border border-gray-300 rounded",required:!0,value:g.dueDate,onChange:Z=>y({...g,dueDate:Z.target.value})})]}),_.jsx("div",{className:"md:col-span-4 flex justify-end",children:_.jsx("button",{type:"submit",className:"btn btn-primary text-xs",children:"Create Action"})})]})]}),_.jsx("div",{className:"overflow-hidden border border-gray-200 rounded-lg shadow-sm",children:_.jsxs("table",{className:"w-full text-sm text-left",children:[_.jsx("thead",{className:"bg-gray-50 text-gray-500 font-medium border-b border-gray-200",children:_.jsxs("tr",{children:[_.jsx("th",{className:"px-6 py-3 w-16",children:"#"}),_.jsx("th",{className:"px-6 py-3",children:"Task Description"}),_.jsx("th",{className:"px-6 py-3 w-48",children:"Assigned To"}),_.jsx("th",{className:"px-6 py-3 w-32",children:"Due Date"}),_.jsx("th",{className:"px-6 py-3 w-32 text-center",children:"Status"}),c&&_.jsx("th",{className:"px-6 py-3 w-16 text-center"})]})}),_.jsx("tbody",{className:"divide-y divide-gray-100 bg-white",children:r.map(Z=>_.jsxs("tr",{className:"hover:bg-gray-50 transition-colors group",children:[_.jsx("td",{className:"px-6 py-4 text-gray-400",children:Z.id}),_.jsx("td",{className:"px-6 py-4 font-medium text-[var(--color-brand-primary)]",children:Z.task}),_.jsx("td",{className:"px-6 py-4",children:_.jsx("span",{className:"inline-flex items-center px-2 py-0.5 rounded text-xs font-medium bg-slate-100 text-slate-700",children:Z.assignedTo})}),_.jsx("td",{className:"px-6 py-4 text-gray-500",children:Z.dueDate}),_.jsx("td",{className:"px-6 py-4 text-center",children:_.jsx("button",{onClick:()=>it(Z.id,Z.status),className:`transition-transform active:scale-95 ${o?"cursor-pointer hover:opacity-80":"cursor-default"}`,disabled:!o,title:o?"Click to toggle status":"",children:P(Z.status)})}),c&&_.jsx("td",{className:"px-6 py-4 text-center",children:_.jsx("button",{onClick:()=>Y(Z.id),className:"text-red-300 hover:text-red-600 transition-colors",title:"Delete Action",children:_.jsx(Ro,{size:16})})})]},Z.id))})]})})]})},IC=({isOpen:r,onClose:e,folders:i,onUpload:s})=>{const[o,c]=L.useState(null),[f,p]=L.useState("");if(!r)return null;const g=y=>{y.preventDefault(),o&&f&&(s(o,f),e(),c(null),p(""))};return _.jsx("div",{className:"fixed inset-0 bg-black/50 z-50 flex items-center justify-center p-4 animate-in fade-in duration-200",children:_.jsxs("div",{className:"bg-white rounded-lg shadow-xl w-full max-w-md",children:[_.jsxs("div",{className:"flex justify-between items-center p-4 border-b border-gray-100",children:[_.jsx("h3",{className:"font-semibold text-gray-800",children:"Upload Document"}),_.jsx("button",{onClick:e,className:"text-gray-400 hover:text-gray-600",children:_.jsx(jr,{size:20})})]}),_.jsxs("form",{onSubmit:g,className:"p-6 space-y-4",children:[_.jsxs("div",{children:[_.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Select File"}),_.jsx("input",{type:"file",required:!0,onChange:y=>c(y.target.files[0]),className:`block w-full text-sm text-gray-500\r
                                file:mr-4 file:py-2 file:px-4\r
                                file:rounded-full file:border-0\r
                                file:text-sm file:font-semibold\r
                                file:bg-blue-50 file:text-blue-700\r
                                hover:file:bg-blue-100\r
                            `})]}),_.jsxs("div",{children:[_.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Target Folder"}),_.jsxs("select",{required:!0,value:f,onChange:y=>p(y.target.value),className:"w-full border border-gray-300 rounded-lg p-2.5 text-sm focus:outline-none focus:ring-2 focus:ring-blue-500/20 focus:border-blue-500",children:[_.jsx("option",{value:"",disabled:!0,children:"Select a folder..."}),i.map(y=>_.jsx("option",{value:y.id,children:y.name},y.id))]})]}),_.jsxs("div",{className:"pt-2 flex justify-end gap-2",children:[_.jsx("button",{type:"button",onClick:e,className:"btn btn-ghost text-sm",children:"Cancel"}),_.jsxs("button",{type:"submit",className:"btn btn-primary text-sm flex items-center gap-2",children:[_.jsx(Qm,{size:16})," Upload Now"]})]})]})]})})},VC=()=>{const{user:r,isAdmin:e}=ea(),{documents:i,addDocument:s,deleteDocument:o}=Pr(),[c,f]=L.useState(["folder-1","folder-2","folder-3","folder-4"]),[p,g]=L.useState(!1),[y,E]=L.useState(!1),[x,C]=L.useState(null),U=J=>{f(it=>it.includes(J)?it.filter(Z=>Z!==J):[...it,J])},Y=(J,it)=>{J.stopPropagation(),C(it),g(!0)},$=()=>{x&&(o(x),C(null))},P=(J,it)=>{s(J,it,r?r.name:"Unknown"),c.includes(it)||f(Z=>[...Z,it])};return _.jsxs("div",{className:"max-w-6xl mx-auto",children:[_.jsx(ch,{isOpen:p,onClose:()=>g(!1),onConfirm:$,title:"Delete Document",itemType:"document"}),_.jsx(IC,{isOpen:y,onClose:()=>E(!1),folders:i,onUpload:P}),_.jsxs("div",{className:"bg-blue-50/50 border border-blue-100 p-4 rounded-lg mb-6 flex items-start sm:items-center justify-between gap-4",children:[_.jsx("p",{className:"text-sm text-blue-800",children:"All project documentation is stored and accessed centrally to ensure clarity and version control."}),_.jsxs("button",{onClick:()=>E(!0),className:"btn btn-outline bg-white text-xs whitespace-nowrap gap-2 hover:bg-blue-50 border-blue-200 text-blue-700",children:[_.jsx(Qm,{size:14})," Upload Document"]})]}),_.jsxs("div",{className:"border border-gray-200 rounded-lg overflow-hidden bg-white shadow-sm",children:[_.jsxs("div",{className:"grid grid-cols-12 bg-gray-50 border-b border-gray-200 text-xs font-semibold text-gray-500 uppercase tracking-wider py-3 px-4",children:[_.jsx("div",{className:"col-span-6",children:"File Name"}),_.jsx("div",{className:"col-span-2",children:"Type"}),_.jsx("div",{className:"col-span-2",children:"Uploaded By"}),_.jsx("div",{className:"col-span-2 text-right",children:"Date"})]}),_.jsx("div",{className:"divide-y divide-gray-100",children:i.map(J=>{const it=c.includes(J.id);return _.jsxs(OE.Fragment,{children:[_.jsxs("div",{onClick:()=>U(J.id),className:"grid grid-cols-12 items-center py-3 px-4 hover:bg-gray-50 cursor-pointer transition-colors group",children:[_.jsxs("div",{className:"col-span-6 flex items-center gap-3",children:[_.jsx("span",{className:"text-gray-400 group-hover:text-gray-600",children:it?_.jsx(PR,{size:14}):_.jsx(Hc,{size:14})}),_.jsx(eC,{size:18,className:"text-amber-400 fill-amber-100"}),_.jsx("span",{className:"font-semibold text-gray-700 text-sm group-hover:text-blue-700",children:J.name}),_.jsxs("span",{className:"text-xs text-gray-400 font-normal",children:["(",J.items.length,")"]})]}),_.jsx("div",{className:"col-span-2 text-xs text-gray-400 font-medium",children:"Folder"}),_.jsx("div",{className:"col-span-2 text-xs text-gray-400",children:"-"}),_.jsx("div",{className:"col-span-2 text-xs text-gray-400 text-right",children:"-"})]}),it&&J.items.map(Z=>_.jsxs("div",{className:"grid grid-cols-12 items-center py-2.5 px-4 bg-slate-50/30 hover:bg-blue-50/30 border-l-4 border-l-transparent hover:border-l-blue-400 transition-all pl-12 group/file",children:[_.jsxs("div",{className:"col-span-6 flex items-center gap-3",children:[_.jsx(WR,{size:16,className:"text-gray-400"}),_.jsx("span",{className:"text-sm text-gray-600 hover:text-gray-900 hover:underline cursor-pointer truncate mr-2",children:Z.name}),e&&_.jsx("button",{onClick:vt=>Y(vt,Z.id),className:"text-gray-300 hover:text-red-500 opacity-0 group-hover/file:opacity-100 transition-all p-1",title:"Delete Document",children:_.jsx(Ro,{size:14})})]}),_.jsx("div",{className:"col-span-2 text-xs text-gray-500 font-mono bg-gray-100 inline-block px-1.5 py-0.5 rounded w-fit",children:Z.type}),_.jsx("div",{className:"col-span-2 text-xs text-gray-500",children:Z.author}),_.jsx("div",{className:"col-span-2 text-xs text-gray-500 text-right font-medium",children:Z.date})]},Z.id))]},J.id)})})]})]})},MC=()=>{const{qa:r,addQuestion:e,deleteQuestion:i}=Pr(),{user:s,isAdmin:o}=ea(),[c,f]=L.useState(!1),[p,g]=L.useState({title:"",context:"",category:"RFI"}),[y,E]=L.useState(!1),[x,C]=L.useState(null),U=(P,J)=>{P.preventDefault(),P.stopPropagation(),C(J),E(!0)},Y=()=>{x&&(i(x),C(null))},$=P=>{P.preventDefault(),e(p),g({title:"",context:"",category:"RFI"}),f(!1)};return _.jsxs("div",{className:"max-w-4xl mx-auto",children:[_.jsxs("div",{className:"flex justify-between items-center mb-6",children:[_.jsxs("div",{children:[_.jsx("h2",{className:"text-lg font-semibold text-[var(--color-brand-primary)]",children:"Project Q&A"}),_.jsx("p",{className:"text-sm text-[var(--color-text-secondary)]",children:"Visible to all project stakeholders"})]}),s&&_.jsxs("button",{onClick:()=>f(!c),className:"btn btn-primary text-sm gap-2",children:[_.jsx(YR,{size:16}),"Ask Question"]})]}),_.jsx(ch,{isOpen:y,onClose:()=>E(!1),onConfirm:Y,title:"Delete Question",itemType:"question thread"}),c&&_.jsxs("div",{className:"bg-amber-50 border border-amber-200 rounded-lg p-5 mb-6 animate-in slide-in-from-top-2",children:[_.jsxs("div",{className:"flex justify-between items-center mb-4",children:[_.jsx("h3",{className:"font-bold text-amber-800 text-sm",children:"Post New Question"}),_.jsx("button",{onClick:()=>f(!1),className:"text-amber-400 hover:text-amber-600",children:_.jsx(jr,{size:18})})]}),_.jsxs("form",{onSubmit:$,className:"space-y-4",children:[_.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[_.jsxs("div",{className:"md:col-span-2",children:[_.jsx("label",{className:"block text-xs font-bold text-amber-800 uppercase mb-1",children:"Subject / Question"}),_.jsx("input",{className:"w-full p-2 text-sm border border-amber-200 rounded",required:!0,placeholder:"e.g. Clarification on perimeter fence",value:p.title,onChange:P=>g({...p,title:P.target.value})})]}),_.jsxs("div",{children:[_.jsx("label",{className:"block text-xs font-bold text-amber-800 uppercase mb-1",children:"Category"}),_.jsxs("select",{className:"w-full p-2 text-sm border border-amber-200 rounded",value:p.category,onChange:P=>g({...p,category:P.target.value}),children:[_.jsx("option",{children:"RFI"}),_.jsx("option",{children:"Access"}),_.jsx("option",{children:"Safety"}),_.jsx("option",{children:"Design"}),_.jsx("option",{children:"Other"})]})]})]}),_.jsxs("div",{children:[_.jsx("label",{className:"block text-xs font-bold text-amber-800 uppercase mb-1",children:"Detailed Context"}),_.jsx("textarea",{className:"w-full p-2 text-sm border border-amber-200 rounded",rows:"3",required:!0,placeholder:"Provide enough detail for the team to answer...",value:p.context,onChange:P=>g({...p,context:P.target.value})})]}),_.jsx("div",{className:"flex justify-end",children:_.jsx("button",{type:"submit",className:"btn btn-primary bg-amber-600 hover:bg-amber-700 border-transparent text-xs text-white",children:"Post Question"})})]})]}),_.jsx("div",{className:"space-y-4",children:r.map(P=>_.jsxs(Qc,{to:`/question/${P.id}`,className:"block relative group",children:[_.jsxs("div",{className:"card p-5 border-gray-200 hover:border-[var(--color-accent)] hover:shadow-md transition-all cursor-pointer animate-in fade-in",children:[_.jsxs("div",{className:"flex justify-between items-start mb-2",children:[_.jsxs("div",{className:"flex items-center gap-3",children:[_.jsx("span",{className:`px-2 py-1 rounded text-xs font-bold uppercase ${P.status==="Answered"?"bg-green-100 text-green-700":"bg-amber-100 text-amber-700"}`,children:P.status}),_.jsx("span",{className:"text-xs text-gray-400 font-medium border border-gray-100 px-2 py-0.5 rounded-full bg-white",children:P.category})]}),_.jsx("span",{className:"text-xs text-gray-400",children:P.date})]}),_.jsxs("h3",{className:"text-lg font-semibold text-[var(--color-brand-primary)] group-hover:text-[var(--color-accent)] mb-2 flex items-center justify-between",children:[P.title,_.jsx(Hc,{className:"opacity-0 group-hover:opacity-100 transition-opacity text-[var(--color-accent)]",size:20})]}),_.jsx("p",{className:"text-gray-600 text-sm line-clamp-2 mb-4",children:P.context}),_.jsxs("div",{className:"flex items-center gap-2 text-xs text-gray-500 pt-3 border-t border-gray-100",children:[_.jsx(W1,{size:14}),P.replies.length," replies",P.replies.length>0&&_.jsxs("span",{children:[" Last reply by ",P.replies[P.replies.length-1].author]})]})]}),o&&_.jsx("button",{onClick:J=>U(J,P.id),className:"absolute top-4 right-4 p-2 text-gray-300 hover:text-red-500 hover:bg-red-50 rounded-full transition-all opacity-0 group-hover:opacity-100 z-10",title:"Delete Thread",children:_.jsx(Ro,{size:16})})]},P.id))})]})};function jC(){return _.jsx(p2,{children:_.jsx(xR,{children:_.jsx(s2,{children:_.jsxs(UT,{children:[_.jsx(un,{path:"/",element:_.jsx(TC,{})}),_.jsx(un,{path:"/login",element:_.jsx(xC,{})}),_.jsxs(un,{element:_.jsx(EC,{}),children:[_.jsx(un,{path:"/dashboard",element:_.jsx(AC,{})}),_.jsxs(un,{path:"/project/:id",element:_.jsx(SC,{}),children:[_.jsx(un,{index:!0,element:_.jsx(OT,{to:"overview",replace:!0})}),_.jsx(un,{path:"overview",element:_.jsx(RC,{})}),_.jsx(un,{path:"updates",element:_.jsx(CC,{})}),_.jsx(un,{path:"photos",element:_.jsx(NC,{})}),_.jsx(un,{path:"actions",element:_.jsx(DC,{})}),_.jsx(un,{path:"documents",element:_.jsx(VC,{})}),_.jsx(un,{path:"qa",element:_.jsx(MC,{})})]}),_.jsx(un,{path:"/question/:id",element:_.jsx(wC,{})})]})]})})})})}qE.createRoot(document.getElementById("root")).render(_.jsx(L.StrictMode,{children:_.jsx(jC,{})}));
