(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))s(o);new MutationObserver(o=>{for(const u of o)if(u.type==="childList")for(const f of u.addedNodes)f.tagName==="LINK"&&f.rel==="modulepreload"&&s(f)}).observe(document,{childList:!0,subtree:!0});function n(o){const u={};return o.integrity&&(u.integrity=o.integrity),o.referrerPolicy&&(u.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?u.credentials="include":o.crossOrigin==="anonymous"?u.credentials="omit":u.credentials="same-origin",u}function s(o){if(o.ep)return;o.ep=!0;const u=n(o);fetch(o.href,u)}})();function sA(r){return r&&r.__esModule&&Object.prototype.hasOwnProperty.call(r,"default")?r.default:r}var hm={exports:{}},Vl={};var Vv;function aA(){if(Vv)return Vl;Vv=1;var r=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function n(s,o,u){var f=null;if(u!==void 0&&(f=""+u),o.key!==void 0&&(f=""+o.key),"key"in o){u={};for(var m in o)m!=="key"&&(u[m]=o[m])}else u=o;return o=u.ref,{$$typeof:r,type:s,key:f,ref:o!==void 0?o:null,props:u}}return Vl.Fragment=e,Vl.jsx=n,Vl.jsxs=n,Vl}var jv;function oA(){return jv||(jv=1,hm.exports=aA()),hm.exports}var _=oA(),fm={exports:{}},xe={};var kv;function lA(){if(kv)return xe;kv=1;var r=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),u=Symbol.for("react.consumer"),f=Symbol.for("react.context"),m=Symbol.for("react.forward_ref"),p=Symbol.for("react.suspense"),g=Symbol.for("react.memo"),b=Symbol.for("react.lazy"),T=Symbol.for("react.activity"),w=Symbol.iterator;function j(O){return O===null||typeof O!="object"?null:(O=w&&O[w]||O["@@iterator"],typeof O=="function"?O:null)}var F={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},K=Object.assign,k={};function X(O,W,le){this.props=O,this.context=W,this.refs=k,this.updater=le||F}X.prototype.isReactComponent={},X.prototype.setState=function(O,W){if(typeof O!="object"&&typeof O!="function"&&O!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,O,W,"setState")},X.prototype.forceUpdate=function(O){this.updater.enqueueForceUpdate(this,O,"forceUpdate")};function ie(){}ie.prototype=X.prototype;function Z(O,W,le){this.props=O,this.context=W,this.refs=k,this.updater=le||F}var ye=Z.prototype=new ie;ye.constructor=Z,K(ye,X.prototype),ye.isPureReactComponent=!0;var Se=Array.isArray;function ae(){}var R={H:null,A:null,T:null,S:null},x=Object.prototype.hasOwnProperty;function C(O,W,le){var ce=le.ref;return{$$typeof:r,type:O,key:W,ref:ce!==void 0?ce:null,props:le}}function M(O,W){return C(O.type,W,O.props)}function D(O){return typeof O=="object"&&O!==null&&O.$$typeof===r}function P(O){var W={"=":"=0",":":"=2"};return"$"+O.replace(/[=:]/g,function(le){return W[le]})}var I=/\/+/g;function $e(O,W){return typeof O=="object"&&O!==null&&O.key!=null?P(""+O.key):W.toString(36)}function ut(O){switch(O.status){case"fulfilled":return O.value;case"rejected":throw O.reason;default:switch(typeof O.status=="string"?O.then(ae,ae):(O.status="pending",O.then(function(W){O.status==="pending"&&(O.status="fulfilled",O.value=W)},function(W){O.status==="pending"&&(O.status="rejected",O.reason=W)})),O.status){case"fulfilled":return O.value;case"rejected":throw O.reason}}throw O}function Y(O,W,le,ce,Te){var we=typeof O;(we==="undefined"||we==="boolean")&&(O=null);var Ve=!1;if(O===null)Ve=!0;else switch(we){case"bigint":case"string":case"number":Ve=!0;break;case"object":switch(O.$$typeof){case r:case e:Ve=!0;break;case b:return Ve=O._init,Y(Ve(O._payload),W,le,ce,Te)}}if(Ve)return Te=Te(O),Ve=ce===""?"."+$e(O,0):ce,Se(Te)?(le="",Ve!=null&&(le=Ve.replace(I,"$&/")+"/"),Y(Te,W,le,"",function(st){return st})):Te!=null&&(D(Te)&&(Te=M(Te,le+(Te.key==null||O&&O.key===Te.key?"":(""+Te.key).replace(I,"$&/")+"/")+Ve)),W.push(Te)),1;Ve=0;var qe=ce===""?".":ce+":";if(Se(O))for(var De=0;De<O.length;De++)ce=O[De],we=qe+$e(ce,De),Ve+=Y(ce,W,le,we,Te);else if(De=j(O),typeof De=="function")for(O=De.call(O),De=0;!(ce=O.next()).done;)ce=ce.value,we=qe+$e(ce,De++),Ve+=Y(ce,W,le,we,Te);else if(we==="object"){if(typeof O.then=="function")return Y(ut(O),W,le,ce,Te);throw W=String(O),Error("Objects are not valid as a React child (found: "+(W==="[object Object]"?"object with keys {"+Object.keys(O).join(", ")+"}":W)+"). If you meant to render a collection of children, use an array instead.")}return Ve}function J(O,W,le){if(O==null)return O;var ce=[],Te=0;return Y(O,ce,"","",function(we){return W.call(le,we,Te++)}),ce}function se(O){if(O._status===-1){var W=O._result;W=W(),W.then(function(le){(O._status===0||O._status===-1)&&(O._status=1,O._result=le)},function(le){(O._status===0||O._status===-1)&&(O._status=2,O._result=le)}),O._status===-1&&(O._status=0,O._result=W)}if(O._status===1)return O._result.default;throw O._result}var de=typeof reportError=="function"?reportError:function(O){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var W=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof O=="object"&&O!==null&&typeof O.message=="string"?String(O.message):String(O),error:O});if(!window.dispatchEvent(W))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",O);return}console.error(O)},_e={map:J,forEach:function(O,W,le){J(O,function(){W.apply(this,arguments)},le)},count:function(O){var W=0;return J(O,function(){W++}),W},toArray:function(O){return J(O,function(W){return W})||[]},only:function(O){if(!D(O))throw Error("React.Children.only expected to receive a single React element child.");return O}};return xe.Activity=T,xe.Children=_e,xe.Component=X,xe.Fragment=n,xe.Profiler=o,xe.PureComponent=Z,xe.StrictMode=s,xe.Suspense=p,xe.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=R,xe.__COMPILER_RUNTIME={__proto__:null,c:function(O){return R.H.useMemoCache(O)}},xe.cache=function(O){return function(){return O.apply(null,arguments)}},xe.cacheSignal=function(){return null},xe.cloneElement=function(O,W,le){if(O==null)throw Error("The argument must be a React element, but you passed "+O+".");var ce=K({},O.props),Te=O.key;if(W!=null)for(we in W.key!==void 0&&(Te=""+W.key),W)!x.call(W,we)||we==="key"||we==="__self"||we==="__source"||we==="ref"&&W.ref===void 0||(ce[we]=W[we]);var we=arguments.length-2;if(we===1)ce.children=le;else if(1<we){for(var Ve=Array(we),qe=0;qe<we;qe++)Ve[qe]=arguments[qe+2];ce.children=Ve}return C(O.type,Te,ce)},xe.createContext=function(O){return O={$$typeof:f,_currentValue:O,_currentValue2:O,_threadCount:0,Provider:null,Consumer:null},O.Provider=O,O.Consumer={$$typeof:u,_context:O},O},xe.createElement=function(O,W,le){var ce,Te={},we=null;if(W!=null)for(ce in W.key!==void 0&&(we=""+W.key),W)x.call(W,ce)&&ce!=="key"&&ce!=="__self"&&ce!=="__source"&&(Te[ce]=W[ce]);var Ve=arguments.length-2;if(Ve===1)Te.children=le;else if(1<Ve){for(var qe=Array(Ve),De=0;De<Ve;De++)qe[De]=arguments[De+2];Te.children=qe}if(O&&O.defaultProps)for(ce in Ve=O.defaultProps,Ve)Te[ce]===void 0&&(Te[ce]=Ve[ce]);return C(O,we,Te)},xe.createRef=function(){return{current:null}},xe.forwardRef=function(O){return{$$typeof:m,render:O}},xe.isValidElement=D,xe.lazy=function(O){return{$$typeof:b,_payload:{_status:-1,_result:O},_init:se}},xe.memo=function(O,W){return{$$typeof:g,type:O,compare:W===void 0?null:W}},xe.startTransition=function(O){var W=R.T,le={};R.T=le;try{var ce=O(),Te=R.S;Te!==null&&Te(le,ce),typeof ce=="object"&&ce!==null&&typeof ce.then=="function"&&ce.then(ae,de)}catch(we){de(we)}finally{W!==null&&le.types!==null&&(W.types=le.types),R.T=W}},xe.unstable_useCacheRefresh=function(){return R.H.useCacheRefresh()},xe.use=function(O){return R.H.use(O)},xe.useActionState=function(O,W,le){return R.H.useActionState(O,W,le)},xe.useCallback=function(O,W){return R.H.useCallback(O,W)},xe.useContext=function(O){return R.H.useContext(O)},xe.useDebugValue=function(){},xe.useDeferredValue=function(O,W){return R.H.useDeferredValue(O,W)},xe.useEffect=function(O,W){return R.H.useEffect(O,W)},xe.useEffectEvent=function(O){return R.H.useEffectEvent(O)},xe.useId=function(){return R.H.useId()},xe.useImperativeHandle=function(O,W,le){return R.H.useImperativeHandle(O,W,le)},xe.useInsertionEffect=function(O,W){return R.H.useInsertionEffect(O,W)},xe.useLayoutEffect=function(O,W){return R.H.useLayoutEffect(O,W)},xe.useMemo=function(O,W){return R.H.useMemo(O,W)},xe.useOptimistic=function(O,W){return R.H.useOptimistic(O,W)},xe.useReducer=function(O,W,le){return R.H.useReducer(O,W,le)},xe.useRef=function(O){return R.H.useRef(O)},xe.useState=function(O){return R.H.useState(O)},xe.useSyncExternalStore=function(O,W,le){return R.H.useSyncExternalStore(O,W,le)},xe.useTransition=function(){return R.H.useTransition()},xe.version="19.2.3",xe}var Pv;function cp(){return Pv||(Pv=1,fm.exports=lA()),fm.exports}var L=cp();const NE=sA(L);var dm={exports:{}},jl={},mm={exports:{}},pm={};var Lv;function uA(){return Lv||(Lv=1,(function(r){function e(Y,J){var se=Y.length;Y.push(J);e:for(;0<se;){var de=se-1>>>1,_e=Y[de];if(0<o(_e,J))Y[de]=J,Y[se]=_e,se=de;else break e}}function n(Y){return Y.length===0?null:Y[0]}function s(Y){if(Y.length===0)return null;var J=Y[0],se=Y.pop();if(se!==J){Y[0]=se;e:for(var de=0,_e=Y.length,O=_e>>>1;de<O;){var W=2*(de+1)-1,le=Y[W],ce=W+1,Te=Y[ce];if(0>o(le,se))ce<_e&&0>o(Te,le)?(Y[de]=Te,Y[ce]=se,de=ce):(Y[de]=le,Y[W]=se,de=W);else if(ce<_e&&0>o(Te,se))Y[de]=Te,Y[ce]=se,de=ce;else break e}}return J}function o(Y,J){var se=Y.sortIndex-J.sortIndex;return se!==0?se:Y.id-J.id}if(r.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var u=performance;r.unstable_now=function(){return u.now()}}else{var f=Date,m=f.now();r.unstable_now=function(){return f.now()-m}}var p=[],g=[],b=1,T=null,w=3,j=!1,F=!1,K=!1,k=!1,X=typeof setTimeout=="function"?setTimeout:null,ie=typeof clearTimeout=="function"?clearTimeout:null,Z=typeof setImmediate<"u"?setImmediate:null;function ye(Y){for(var J=n(g);J!==null;){if(J.callback===null)s(g);else if(J.startTime<=Y)s(g),J.sortIndex=J.expirationTime,e(p,J);else break;J=n(g)}}function Se(Y){if(K=!1,ye(Y),!F)if(n(p)!==null)F=!0,ae||(ae=!0,P());else{var J=n(g);J!==null&&ut(Se,J.startTime-Y)}}var ae=!1,R=-1,x=5,C=-1;function M(){return k?!0:!(r.unstable_now()-C<x)}function D(){if(k=!1,ae){var Y=r.unstable_now();C=Y;var J=!0;try{e:{F=!1,K&&(K=!1,ie(R),R=-1),j=!0;var se=w;try{t:{for(ye(Y),T=n(p);T!==null&&!(T.expirationTime>Y&&M());){var de=T.callback;if(typeof de=="function"){T.callback=null,w=T.priorityLevel;var _e=de(T.expirationTime<=Y);if(Y=r.unstable_now(),typeof _e=="function"){T.callback=_e,ye(Y),J=!0;break t}T===n(p)&&s(p),ye(Y)}else s(p);T=n(p)}if(T!==null)J=!0;else{var O=n(g);O!==null&&ut(Se,O.startTime-Y),J=!1}}break e}finally{T=null,w=se,j=!1}J=void 0}}finally{J?P():ae=!1}}}var P;if(typeof Z=="function")P=function(){Z(D)};else if(typeof MessageChannel<"u"){var I=new MessageChannel,$e=I.port2;I.port1.onmessage=D,P=function(){$e.postMessage(null)}}else P=function(){X(D,0)};function ut(Y,J){R=X(function(){Y(r.unstable_now())},J)}r.unstable_IdlePriority=5,r.unstable_ImmediatePriority=1,r.unstable_LowPriority=4,r.unstable_NormalPriority=3,r.unstable_Profiling=null,r.unstable_UserBlockingPriority=2,r.unstable_cancelCallback=function(Y){Y.callback=null},r.unstable_forceFrameRate=function(Y){0>Y||125<Y?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):x=0<Y?Math.floor(1e3/Y):5},r.unstable_getCurrentPriorityLevel=function(){return w},r.unstable_next=function(Y){switch(w){case 1:case 2:case 3:var J=3;break;default:J=w}var se=w;w=J;try{return Y()}finally{w=se}},r.unstable_requestPaint=function(){k=!0},r.unstable_runWithPriority=function(Y,J){switch(Y){case 1:case 2:case 3:case 4:case 5:break;default:Y=3}var se=w;w=Y;try{return J()}finally{w=se}},r.unstable_scheduleCallback=function(Y,J,se){var de=r.unstable_now();switch(typeof se=="object"&&se!==null?(se=se.delay,se=typeof se=="number"&&0<se?de+se:de):se=de,Y){case 1:var _e=-1;break;case 2:_e=250;break;case 5:_e=1073741823;break;case 4:_e=1e4;break;default:_e=5e3}return _e=se+_e,Y={id:b++,callback:J,priorityLevel:Y,startTime:se,expirationTime:_e,sortIndex:-1},se>de?(Y.sortIndex=se,e(g,Y),n(p)===null&&Y===n(g)&&(K?(ie(R),R=-1):K=!0,ut(Se,se-de))):(Y.sortIndex=_e,e(p,Y),F||j||(F=!0,ae||(ae=!0,P()))),Y},r.unstable_shouldYield=M,r.unstable_wrapCallback=function(Y){var J=w;return function(){var se=w;w=J;try{return Y.apply(this,arguments)}finally{w=se}}}})(pm)),pm}var Uv;function cA(){return Uv||(Uv=1,mm.exports=uA()),mm.exports}var gm={exports:{}},Jt={};var zv;function hA(){if(zv)return Jt;zv=1;var r=cp();function e(p){var g="https://react.dev/errors/"+p;if(1<arguments.length){g+="?args[]="+encodeURIComponent(arguments[1]);for(var b=2;b<arguments.length;b++)g+="&args[]="+encodeURIComponent(arguments[b])}return"Minified React error #"+p+"; visit "+g+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var s={d:{f:n,r:function(){throw Error(e(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},o=Symbol.for("react.portal");function u(p,g,b){var T=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:o,key:T==null?null:""+T,children:p,containerInfo:g,implementation:b}}var f=r.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function m(p,g){if(p==="font")return"";if(typeof g=="string")return g==="use-credentials"?g:""}return Jt.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=s,Jt.createPortal=function(p,g){var b=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!g||g.nodeType!==1&&g.nodeType!==9&&g.nodeType!==11)throw Error(e(299));return u(p,g,null,b)},Jt.flushSync=function(p){var g=f.T,b=s.p;try{if(f.T=null,s.p=2,p)return p()}finally{f.T=g,s.p=b,s.d.f()}},Jt.preconnect=function(p,g){typeof p=="string"&&(g?(g=g.crossOrigin,g=typeof g=="string"?g==="use-credentials"?g:"":void 0):g=null,s.d.C(p,g))},Jt.prefetchDNS=function(p){typeof p=="string"&&s.d.D(p)},Jt.preinit=function(p,g){if(typeof p=="string"&&g&&typeof g.as=="string"){var b=g.as,T=m(b,g.crossOrigin),w=typeof g.integrity=="string"?g.integrity:void 0,j=typeof g.fetchPriority=="string"?g.fetchPriority:void 0;b==="style"?s.d.S(p,typeof g.precedence=="string"?g.precedence:void 0,{crossOrigin:T,integrity:w,fetchPriority:j}):b==="script"&&s.d.X(p,{crossOrigin:T,integrity:w,fetchPriority:j,nonce:typeof g.nonce=="string"?g.nonce:void 0})}},Jt.preinitModule=function(p,g){if(typeof p=="string")if(typeof g=="object"&&g!==null){if(g.as==null||g.as==="script"){var b=m(g.as,g.crossOrigin);s.d.M(p,{crossOrigin:b,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0})}}else g==null&&s.d.M(p)},Jt.preload=function(p,g){if(typeof p=="string"&&typeof g=="object"&&g!==null&&typeof g.as=="string"){var b=g.as,T=m(b,g.crossOrigin);s.d.L(p,b,{crossOrigin:T,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0,type:typeof g.type=="string"?g.type:void 0,fetchPriority:typeof g.fetchPriority=="string"?g.fetchPriority:void 0,referrerPolicy:typeof g.referrerPolicy=="string"?g.referrerPolicy:void 0,imageSrcSet:typeof g.imageSrcSet=="string"?g.imageSrcSet:void 0,imageSizes:typeof g.imageSizes=="string"?g.imageSizes:void 0,media:typeof g.media=="string"?g.media:void 0})}},Jt.preloadModule=function(p,g){if(typeof p=="string")if(g){var b=m(g.as,g.crossOrigin);s.d.m(p,{as:typeof g.as=="string"&&g.as!=="script"?g.as:void 0,crossOrigin:b,integrity:typeof g.integrity=="string"?g.integrity:void 0})}else s.d.m(p)},Jt.requestFormReset=function(p){s.d.r(p)},Jt.unstable_batchedUpdates=function(p,g){return p(g)},Jt.useFormState=function(p,g,b){return f.H.useFormState(p,g,b)},Jt.useFormStatus=function(){return f.H.useHostTransitionStatus()},Jt.version="19.2.3",Jt}var Bv;function fA(){if(Bv)return gm.exports;Bv=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(e){console.error(e)}}return r(),gm.exports=hA(),gm.exports}var qv;function dA(){if(qv)return jl;qv=1;var r=cA(),e=cp(),n=fA();function s(t){var i="https://react.dev/errors/"+t;if(1<arguments.length){i+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)i+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+t+"; visit "+i+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function u(t){var i=t,a=t;if(t.alternate)for(;i.return;)i=i.return;else{t=i;do i=t,(i.flags&4098)!==0&&(a=i.return),t=i.return;while(t)}return i.tag===3?a:null}function f(t){if(t.tag===13){var i=t.memoizedState;if(i===null&&(t=t.alternate,t!==null&&(i=t.memoizedState)),i!==null)return i.dehydrated}return null}function m(t){if(t.tag===31){var i=t.memoizedState;if(i===null&&(t=t.alternate,t!==null&&(i=t.memoizedState)),i!==null)return i.dehydrated}return null}function p(t){if(u(t)!==t)throw Error(s(188))}function g(t){var i=t.alternate;if(!i){if(i=u(t),i===null)throw Error(s(188));return i!==t?null:t}for(var a=t,l=i;;){var h=a.return;if(h===null)break;var d=h.alternate;if(d===null){if(l=h.return,l!==null){a=l;continue}break}if(h.child===d.child){for(d=h.child;d;){if(d===a)return p(h),t;if(d===l)return p(h),i;d=d.sibling}throw Error(s(188))}if(a.return!==l.return)a=h,l=d;else{for(var v=!1,S=h.child;S;){if(S===a){v=!0,a=h,l=d;break}if(S===l){v=!0,l=h,a=d;break}S=S.sibling}if(!v){for(S=d.child;S;){if(S===a){v=!0,a=d,l=h;break}if(S===l){v=!0,l=d,a=h;break}S=S.sibling}if(!v)throw Error(s(189))}}if(a.alternate!==l)throw Error(s(190))}if(a.tag!==3)throw Error(s(188));return a.stateNode.current===a?t:i}function b(t){var i=t.tag;if(i===5||i===26||i===27||i===6)return t;for(t=t.child;t!==null;){if(i=b(t),i!==null)return i;t=t.sibling}return null}var T=Object.assign,w=Symbol.for("react.element"),j=Symbol.for("react.transitional.element"),F=Symbol.for("react.portal"),K=Symbol.for("react.fragment"),k=Symbol.for("react.strict_mode"),X=Symbol.for("react.profiler"),ie=Symbol.for("react.consumer"),Z=Symbol.for("react.context"),ye=Symbol.for("react.forward_ref"),Se=Symbol.for("react.suspense"),ae=Symbol.for("react.suspense_list"),R=Symbol.for("react.memo"),x=Symbol.for("react.lazy"),C=Symbol.for("react.activity"),M=Symbol.for("react.memo_cache_sentinel"),D=Symbol.iterator;function P(t){return t===null||typeof t!="object"?null:(t=D&&t[D]||t["@@iterator"],typeof t=="function"?t:null)}var I=Symbol.for("react.client.reference");function $e(t){if(t==null)return null;if(typeof t=="function")return t.$$typeof===I?null:t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case K:return"Fragment";case X:return"Profiler";case k:return"StrictMode";case Se:return"Suspense";case ae:return"SuspenseList";case C:return"Activity"}if(typeof t=="object")switch(t.$$typeof){case F:return"Portal";case Z:return t.displayName||"Context";case ie:return(t._context.displayName||"Context")+".Consumer";case ye:var i=t.render;return t=t.displayName,t||(t=i.displayName||i.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case R:return i=t.displayName||null,i!==null?i:$e(t.type)||"Memo";case x:i=t._payload,t=t._init;try{return $e(t(i))}catch{}}return null}var ut=Array.isArray,Y=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,J=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,se={pending:!1,data:null,method:null,action:null},de=[],_e=-1;function O(t){return{current:t}}function W(t){0>_e||(t.current=de[_e],de[_e]=null,_e--)}function le(t,i){_e++,de[_e]=t.current,t.current=i}var ce=O(null),Te=O(null),we=O(null),Ve=O(null);function qe(t,i){switch(le(we,i),le(Te,t),le(ce,null),i.nodeType){case 9:case 11:t=(t=i.documentElement)&&(t=t.namespaceURI)?iv(t):0;break;default:if(t=i.tagName,i=i.namespaceURI)i=iv(i),t=rv(i,t);else switch(t){case"svg":t=1;break;case"math":t=2;break;default:t=0}}W(ce),le(ce,t)}function De(){W(ce),W(Te),W(we)}function st(t){t.memoizedState!==null&&le(Ve,t);var i=ce.current,a=rv(i,t.type);i!==a&&(le(Te,t),le(ce,a))}function Rn(t){Te.current===t&&(W(ce),W(Te)),Ve.current===t&&(W(Ve),Nl._currentValue=se)}var ha,fa;function ui(t){if(ha===void 0)try{throw Error()}catch(a){var i=a.stack.trim().match(/\n( *(at )?)/);ha=i&&i[1]||"",fa=-1<a.stack.indexOf(`
    at`)?" (<anonymous>)":-1<a.stack.indexOf("@")?"@unknown:0:0":""}return`
`+ha+t+fa}var No=!1;function vs(t,i){if(!t||No)return"";No=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var l={DetermineComponentFrameRoot:function(){try{if(i){var ne=function(){throw Error()};if(Object.defineProperty(ne.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(ne,[])}catch(Q){var H=Q}Reflect.construct(t,[],ne)}else{try{ne.call()}catch(Q){H=Q}t.call(ne.prototype)}}else{try{throw Error()}catch(Q){H=Q}(ne=t())&&typeof ne.catch=="function"&&ne.catch(function(){})}}catch(Q){if(Q&&H&&typeof Q.stack=="string")return[Q.stack,H.stack]}return[null,null]}};l.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var h=Object.getOwnPropertyDescriptor(l.DetermineComponentFrameRoot,"name");h&&h.configurable&&Object.defineProperty(l.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var d=l.DetermineComponentFrameRoot(),v=d[0],S=d[1];if(v&&S){var N=v.split(`
`),q=S.split(`
`);for(h=l=0;l<N.length&&!N[l].includes("DetermineComponentFrameRoot");)l++;for(;h<q.length&&!q[h].includes("DetermineComponentFrameRoot");)h++;if(l===N.length||h===q.length)for(l=N.length-1,h=q.length-1;1<=l&&0<=h&&N[l]!==q[h];)h--;for(;1<=l&&0<=h;l--,h--)if(N[l]!==q[h]){if(l!==1||h!==1)do if(l--,h--,0>h||N[l]!==q[h]){var $=`
`+N[l].replace(" at new "," at ");return t.displayName&&$.includes("<anonymous>")&&($=$.replace("<anonymous>",t.displayName)),$}while(1<=l&&0<=h);break}}}finally{No=!1,Error.prepareStackTrace=a}return(a=t?t.displayName||t.name:"")?ui(a):""}function Do(t,i){switch(t.tag){case 26:case 27:case 5:return ui(t.type);case 16:return ui("Lazy");case 13:return t.child!==i&&i!==null?ui("Suspense Fallback"):ui("Suspense");case 19:return ui("SuspenseList");case 0:case 15:return vs(t.type,!1);case 11:return vs(t.type.render,!1);case 1:return vs(t.type,!0);case 31:return ui("Activity");default:return""}}function Oo(t){try{var i="",a=null;do i+=Do(t,a),a=t,t=t.return;while(t);return i}catch(l){return`
Error generating stack: `+l.message+`
`+l.stack}}var Tt=Object.prototype.hasOwnProperty,Vt=r.unstable_scheduleCallback,pr=r.unstable_cancelCallback,df=r.unstable_shouldYield,Su=r.unstable_requestPaint,nn=r.unstable_now,Es=r.unstable_getCurrentPriorityLevel,Mo=r.unstable_ImmediatePriority,Vo=r.unstable_UserBlockingPriority,gr=r.unstable_NormalPriority,mf=r.unstable_LowPriority,Au=r.unstable_IdlePriority,wu=r.log,xu=r.unstable_setDisableYieldValue,Kn=null,qt=null;function Cn(t){if(typeof wu=="function"&&xu(t),qt&&typeof qt.setStrictMode=="function")try{qt.setStrictMode(Kn,t)}catch{}}var yt=Math.clz32?Math.clz32:Cu,Ru=Math.log,da=Math.LN2;function Cu(t){return t>>>=0,t===0?32:31-(Ru(t)/da|0)|0}var ci=256,bs=262144,St=4194304;function hi(t){var i=t&42;if(i!==0)return i;switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return t&261888;case 262144:case 524288:case 1048576:case 2097152:return t&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return t&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return t}}function fi(t,i,a){var l=t.pendingLanes;if(l===0)return 0;var h=0,d=t.suspendedLanes,v=t.pingedLanes;t=t.warmLanes;var S=l&134217727;return S!==0?(l=S&~d,l!==0?h=hi(l):(v&=S,v!==0?h=hi(v):a||(a=S&~t,a!==0&&(h=hi(a))))):(S=l&~d,S!==0?h=hi(S):v!==0?h=hi(v):a||(a=l&~t,a!==0&&(h=hi(a)))),h===0?0:i!==0&&i!==h&&(i&d)===0&&(d=h&-h,a=i&-i,d>=a||d===32&&(a&4194048)!==0)?i:h}function Yn(t,i){return(t.pendingLanes&~(t.suspendedLanes&~t.pingedLanes)&i)===0}function pf(t,i){switch(t){case 1:case 2:case 4:case 8:case 64:return i+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Iu(){var t=St;return St<<=1,(St&62914560)===0&&(St=4194304),t}function di(t){for(var i=[],a=0;31>a;a++)i.push(t);return i}function Ts(t,i){t.pendingLanes|=i,i!==268435456&&(t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0)}function gf(t,i,a,l,h,d){var v=t.pendingLanes;t.pendingLanes=a,t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0,t.expiredLanes&=a,t.entangledLanes&=a,t.errorRecoveryDisabledLanes&=a,t.shellSuspendCounter=0;var S=t.entanglements,N=t.expirationTimes,q=t.hiddenUpdates;for(a=v&~a;0<a;){var $=31-yt(a),ne=1<<$;S[$]=0,N[$]=-1;var H=q[$];if(H!==null)for(q[$]=null,$=0;$<H.length;$++){var Q=H[$];Q!==null&&(Q.lane&=-536870913)}a&=~ne}l!==0&&Ss(t,l,0),d!==0&&h===0&&t.tag!==0&&(t.suspendedLanes|=d&~(v&~i))}function Ss(t,i,a){t.pendingLanes|=i,t.suspendedLanes&=~i;var l=31-yt(i);t.entangledLanes|=i,t.entanglements[l]=t.entanglements[l]|1073741824|a&261930}function jo(t,i){var a=t.entangledLanes|=i;for(t=t.entanglements;a;){var l=31-yt(a),h=1<<l;h&i|t[l]&i&&(t[l]|=i),a&=~h}}function ko(t,i){var a=i&-i;return a=(a&42)!==0?1:As(a),(a&(t.suspendedLanes|i))!==0?0:a}function As(t){switch(t){case 2:t=1;break;case 8:t=4;break;case 32:t=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:t=128;break;case 268435456:t=134217728;break;default:t=0}return t}function zi(t){return t&=-t,2<t?8<t?(t&134217727)!==0?32:268435456:8:2}function Nu(){var t=J.p;return t!==0?t:(t=window.event,t===void 0?32:Rv(t.type))}function $n(t,i){var a=J.p;try{return J.p=t,i()}finally{J.p=a}}var Xn=Math.random().toString(36).slice(2),At="__reactFiber$"+Xn,Lt="__reactProps$"+Xn,mi="__reactContainer$"+Xn,ma="__reactEvents$"+Xn,yf="__reactListeners$"+Xn,Du="__reactHandles$"+Xn,Ou="__reactResources$"+Xn,pi="__reactMarker$"+Xn;function pa(t){delete t[At],delete t[Lt],delete t[ma],delete t[yf],delete t[Du]}function gi(t){var i=t[At];if(i)return i;for(var a=t.parentNode;a;){if(i=a[mi]||a[At]){if(a=i.alternate,i.child!==null||a!==null&&a.child!==null)for(t=hv(t);t!==null;){if(a=t[At])return a;t=hv(t)}return i}t=a,a=t.parentNode}return null}function In(t){if(t=t[At]||t[mi]){var i=t.tag;if(i===5||i===6||i===13||i===31||i===26||i===27||i===3)return t}return null}function gn(t){var i=t.tag;if(i===5||i===26||i===27||i===6)return t.stateNode;throw Error(s(33))}function yi(t){var i=t[Ou];return i||(i=t[Ou]={hoistableStyles:new Map,hoistableScripts:new Map}),i}function wt(t){t[pi]=!0}var Po=new Set,Lo={};function _i(t,i){vi(t,i),vi(t+"Capture",i)}function vi(t,i){for(Lo[t]=i,t=0;t<i.length;t++)Po.add(i[t])}var Uo=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),zo={},Bo={};function Mu(t){return Tt.call(Bo,t)?!0:Tt.call(zo,t)?!1:Uo.test(t)?Bo[t]=!0:(zo[t]=!0,!1)}function ga(t,i,a){if(Mu(i))if(a===null)t.removeAttribute(i);else{switch(typeof a){case"undefined":case"function":case"symbol":t.removeAttribute(i);return;case"boolean":var l=i.toLowerCase().slice(0,5);if(l!=="data-"&&l!=="aria-"){t.removeAttribute(i);return}}t.setAttribute(i,""+a)}}function yn(t,i,a){if(a===null)t.removeAttribute(i);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(i);return}t.setAttribute(i,""+a)}}function xt(t,i,a,l){if(l===null)t.removeAttribute(a);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(a);return}t.setAttributeNS(i,a,""+l)}}function Ut(t){switch(typeof t){case"bigint":case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function yr(t){var i=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(i==="checkbox"||i==="radio")}function qo(t,i,a){var l=Object.getOwnPropertyDescriptor(t.constructor.prototype,i);if(!t.hasOwnProperty(i)&&typeof l<"u"&&typeof l.get=="function"&&typeof l.set=="function"){var h=l.get,d=l.set;return Object.defineProperty(t,i,{configurable:!0,get:function(){return h.call(this)},set:function(v){a=""+v,d.call(this,v)}}),Object.defineProperty(t,i,{enumerable:l.enumerable}),{getValue:function(){return a},setValue:function(v){a=""+v},stopTracking:function(){t._valueTracker=null,delete t[i]}}}}function Xe(t){if(!t._valueTracker){var i=yr(t)?"checked":"value";t._valueTracker=qo(t,i,""+t[i])}}function ws(t){if(!t)return!1;var i=t._valueTracker;if(!i)return!0;var a=i.getValue(),l="";return t&&(l=yr(t)?t.checked?"true":"false":t.value),t=l,t!==a?(i.setValue(t),!0):!1}function Ei(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}var xs=/[\n"\\]/g;function an(t){return t.replace(xs,function(i){return"\\"+i.charCodeAt(0).toString(16)+" "})}function ya(t,i,a,l,h,d,v,S){t.name="",v!=null&&typeof v!="function"&&typeof v!="symbol"&&typeof v!="boolean"?t.type=v:t.removeAttribute("type"),i!=null?v==="number"?(i===0&&t.value===""||t.value!=i)&&(t.value=""+Ut(i)):t.value!==""+Ut(i)&&(t.value=""+Ut(i)):v!=="submit"&&v!=="reset"||t.removeAttribute("value"),i!=null?Ho(t,v,Ut(i)):a!=null?Ho(t,v,Ut(a)):l!=null&&t.removeAttribute("value"),h==null&&d!=null&&(t.defaultChecked=!!d),h!=null&&(t.checked=h&&typeof h!="function"&&typeof h!="symbol"),S!=null&&typeof S!="function"&&typeof S!="symbol"&&typeof S!="boolean"?t.name=""+Ut(S):t.removeAttribute("name")}function Vu(t,i,a,l,h,d,v,S){if(d!=null&&typeof d!="function"&&typeof d!="symbol"&&typeof d!="boolean"&&(t.type=d),i!=null||a!=null){if(!(d!=="submit"&&d!=="reset"||i!=null)){Xe(t);return}a=a!=null?""+Ut(a):"",i=i!=null?""+Ut(i):a,S||i===t.value||(t.value=i),t.defaultValue=i}l=l??h,l=typeof l!="function"&&typeof l!="symbol"&&!!l,t.checked=S?t.checked:!!l,t.defaultChecked=!!l,v!=null&&typeof v!="function"&&typeof v!="symbol"&&typeof v!="boolean"&&(t.name=v),Xe(t)}function Ho(t,i,a){i==="number"&&Ei(t.ownerDocument)===t||t.defaultValue===""+a||(t.defaultValue=""+a)}function _r(t,i,a,l){if(t=t.options,i){i={};for(var h=0;h<a.length;h++)i["$"+a[h]]=!0;for(a=0;a<t.length;a++)h=i.hasOwnProperty("$"+t[a].value),t[a].selected!==h&&(t[a].selected=h),h&&l&&(t[a].defaultSelected=!0)}else{for(a=""+Ut(a),i=null,h=0;h<t.length;h++){if(t[h].value===a){t[h].selected=!0,l&&(t[h].defaultSelected=!0);return}i!==null||t[h].disabled||(i=t[h])}i!==null&&(i.selected=!0)}}function ju(t,i,a){if(i!=null&&(i=""+Ut(i),i!==t.value&&(t.value=i),a==null)){t.defaultValue!==i&&(t.defaultValue=i);return}t.defaultValue=a!=null?""+Ut(a):""}function vr(t,i,a,l){if(i==null){if(l!=null){if(a!=null)throw Error(s(92));if(ut(l)){if(1<l.length)throw Error(s(93));l=l[0]}a=l}a==null&&(a=""),i=a}a=Ut(i),t.defaultValue=a,l=t.textContent,l===a&&l!==""&&l!==null&&(t.value=l),Xe(t)}function on(t,i){if(i){var a=t.firstChild;if(a&&a===t.lastChild&&a.nodeType===3){a.nodeValue=i;return}}t.textContent=i}var ku=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Fo(t,i,a){var l=i.indexOf("--")===0;a==null||typeof a=="boolean"||a===""?l?t.setProperty(i,""):i==="float"?t.cssFloat="":t[i]="":l?t.setProperty(i,a):typeof a!="number"||a===0||ku.has(i)?i==="float"?t.cssFloat=a:t[i]=(""+a).trim():t[i]=a+"px"}function Go(t,i,a){if(i!=null&&typeof i!="object")throw Error(s(62));if(t=t.style,a!=null){for(var l in a)!a.hasOwnProperty(l)||i!=null&&i.hasOwnProperty(l)||(l.indexOf("--")===0?t.setProperty(l,""):l==="float"?t.cssFloat="":t[l]="");for(var h in i)l=i[h],i.hasOwnProperty(h)&&a[h]!==l&&Fo(t,h,l)}else for(var d in i)i.hasOwnProperty(d)&&Fo(t,d,i[d])}function _a(t){if(t.indexOf("-")===-1)return!1;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Pu=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Er=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function va(t){return Er.test(""+t)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":t}function Jn(){}var Qo=null;function Nn(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var br=null,bi=null;function Rs(t){var i=In(t);if(i&&(t=i.stateNode)){var a=t[Lt]||null;e:switch(t=i.stateNode,i.type){case"input":if(ya(t,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name),i=a.name,a.type==="radio"&&i!=null){for(a=t;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll('input[name="'+an(""+i)+'"][type="radio"]'),i=0;i<a.length;i++){var l=a[i];if(l!==t&&l.form===t.form){var h=l[Lt]||null;if(!h)throw Error(s(90));ya(l,h.value,h.defaultValue,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name)}}for(i=0;i<a.length;i++)l=a[i],l.form===t.form&&ws(l)}break e;case"textarea":ju(t,a.value,a.defaultValue);break e;case"select":i=a.value,i!=null&&_r(t,!!a.multiple,i,!1)}}}var Ea=!1;function Tr(t,i,a){if(Ea)return t(i,a);Ea=!0;try{var l=t(i);return l}finally{if(Ea=!1,(br!==null||bi!==null)&&(Nc(),br&&(i=br,t=bi,bi=br=null,Rs(i),t)))for(i=0;i<t.length;i++)Rs(t[i])}}function Wn(t,i){var a=t.stateNode;if(a===null)return null;var l=a[Lt]||null;if(l===null)return null;a=l[i];e:switch(i){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(t=t.type,l=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!l;break e;default:t=!1}if(t)return null;if(a&&typeof a!="function")throw Error(s(231,i,typeof a));return a}var Dn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Cs=!1;if(Dn)try{var Ze={};Object.defineProperty(Ze,"passive",{get:function(){Cs=!0}}),window.addEventListener("test",Ze,Ze),window.removeEventListener("test",Ze,Ze)}catch{Cs=!1}var Ti=null,Ko=null,Is=null;function Yo(){if(Is)return Is;var t,i=Ko,a=i.length,l,h="value"in Ti?Ti.value:Ti.textContent,d=h.length;for(t=0;t<a&&i[t]===h[t];t++);var v=a-t;for(l=1;l<=v&&i[a-l]===h[d-l];l++);return Is=h.slice(t,1<l?1-l:void 0)}function Ns(t){var i=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&i===13&&(t=13)):t=i,t===10&&(t=13),32<=t||t===13?t:0}function Bi(){return!0}function Zn(){return!1}function Ht(t){function i(a,l,h,d,v){this._reactName=a,this._targetInst=h,this.type=l,this.nativeEvent=d,this.target=v,this.currentTarget=null;for(var S in t)t.hasOwnProperty(S)&&(a=t[S],this[S]=a?a(d):d[S]);return this.isDefaultPrevented=(d.defaultPrevented!=null?d.defaultPrevented:d.returnValue===!1)?Bi:Zn,this.isPropagationStopped=Zn,this}return T(i.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=Bi)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=Bi)},persist:function(){},isPersistent:Bi}),i}var qi={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Si=Ht(qi),Sr=T({},qi,{view:0,detail:0}),$o=Ht(Sr),Ar,ba,Ai,Ta=T({},Sr,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:wr,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Ai&&(Ai&&t.type==="mousemove"?(Ar=t.screenX-Ai.screenX,ba=t.screenY-Ai.screenY):ba=Ar=0,Ai=t),Ar)},movementY:function(t){return"movementY"in t?t.movementY:ba}}),Xo=Ht(Ta),Ds=T({},Ta,{dataTransfer:0}),Lu=Ht(Ds),Uu=T({},Sr,{relatedTarget:0}),Os=Ht(Uu),Jo=T({},qi,{animationName:0,elapsedTime:0,pseudoElement:0}),zu=Ht(Jo),Sa=T({},qi,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),Bu=Ht(Sa),qu=T({},qi,{data:0}),wi=Ht(qu),Hu={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Fu={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Gu={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Qu(t){var i=this.nativeEvent;return i.getModifierState?i.getModifierState(t):(t=Gu[t])?!!i[t]:!1}function wr(){return Qu}var rn=T({},Sr,{key:function(t){if(t.key){var i=Hu[t.key]||t.key;if(i!=="Unidentified")return i}return t.type==="keypress"?(t=Ns(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?Fu[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:wr,charCode:function(t){return t.type==="keypress"?Ns(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Ns(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),Ku=Ht(rn),Yu=T({},Ta,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Hi=Ht(Yu),c=T({},Sr,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:wr}),y=Ht(c),E=T({},qi,{propertyName:0,elapsedTime:0,pseudoElement:0}),A=Ht(E),z=T({},Ta,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),G=Ht(z),oe=T({},qi,{newState:0,oldState:0}),Ce=Ht(oe),_t=[9,13,27,32],Ge=Dn&&"CompositionEvent"in window,ct=null;Dn&&"documentMode"in document&&(ct=document.documentMode);var On=Dn&&"TextEvent"in window&&!ct,xi=Dn&&(!Ge||ct&&8<ct&&11>=ct),ei=" ",ti=!1;function Ms(t,i){switch(t){case"keyup":return _t.indexOf(i.keyCode)!==-1;case"keydown":return i.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Aa(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var wa=!1;function I1(t,i){switch(t){case"compositionend":return Aa(i);case"keypress":return i.which!==32?null:(ti=!0,ei);case"textInput":return t=i.data,t===ei&&ti?null:t;default:return null}}function N1(t,i){if(wa)return t==="compositionend"||!Ge&&Ms(t,i)?(t=Yo(),Is=Ko=Ti=null,wa=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(i.ctrlKey||i.altKey||i.metaKey)||i.ctrlKey&&i.altKey){if(i.char&&1<i.char.length)return i.char;if(i.which)return String.fromCharCode(i.which)}return null;case"compositionend":return xi&&i.locale!=="ko"?null:i.data;default:return null}}var D1={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function mg(t){var i=t&&t.nodeName&&t.nodeName.toLowerCase();return i==="input"?!!D1[t.type]:i==="textarea"}function pg(t,i,a,l){br?bi?bi.push(l):bi=[l]:br=l,i=Pc(i,"onChange"),0<i.length&&(a=new Si("onChange","change",null,a,l),t.push({event:a,listeners:i}))}var Wo=null,Zo=null;function O1(t){J_(t,0)}function $u(t){var i=gn(t);if(ws(i))return t}function gg(t,i){if(t==="change")return i}var yg=!1;if(Dn){var _f;if(Dn){var vf="oninput"in document;if(!vf){var _g=document.createElement("div");_g.setAttribute("oninput","return;"),vf=typeof _g.oninput=="function"}_f=vf}else _f=!1;yg=_f&&(!document.documentMode||9<document.documentMode)}function vg(){Wo&&(Wo.detachEvent("onpropertychange",Eg),Zo=Wo=null)}function Eg(t){if(t.propertyName==="value"&&$u(Zo)){var i=[];pg(i,Zo,t,Nn(t)),Tr(O1,i)}}function M1(t,i,a){t==="focusin"?(vg(),Wo=i,Zo=a,Wo.attachEvent("onpropertychange",Eg)):t==="focusout"&&vg()}function V1(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return $u(Zo)}function j1(t,i){if(t==="click")return $u(i)}function k1(t,i){if(t==="input"||t==="change")return $u(i)}function P1(t,i){return t===i&&(t!==0||1/t===1/i)||t!==t&&i!==i}var _n=typeof Object.is=="function"?Object.is:P1;function el(t,i){if(_n(t,i))return!0;if(typeof t!="object"||t===null||typeof i!="object"||i===null)return!1;var a=Object.keys(t),l=Object.keys(i);if(a.length!==l.length)return!1;for(l=0;l<a.length;l++){var h=a[l];if(!Tt.call(i,h)||!_n(t[h],i[h]))return!1}return!0}function bg(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function Tg(t,i){var a=bg(t);t=0;for(var l;a;){if(a.nodeType===3){if(l=t+a.textContent.length,t<=i&&l>=i)return{node:a,offset:i-t};t=l}e:{for(;a;){if(a.nextSibling){a=a.nextSibling;break e}a=a.parentNode}a=void 0}a=bg(a)}}function Sg(t,i){return t&&i?t===i?!0:t&&t.nodeType===3?!1:i&&i.nodeType===3?Sg(t,i.parentNode):"contains"in t?t.contains(i):t.compareDocumentPosition?!!(t.compareDocumentPosition(i)&16):!1:!1}function Ag(t){t=t!=null&&t.ownerDocument!=null&&t.ownerDocument.defaultView!=null?t.ownerDocument.defaultView:window;for(var i=Ei(t.document);i instanceof t.HTMLIFrameElement;){try{var a=typeof i.contentWindow.location.href=="string"}catch{a=!1}if(a)t=i.contentWindow;else break;i=Ei(t.document)}return i}function Ef(t){var i=t&&t.nodeName&&t.nodeName.toLowerCase();return i&&(i==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||i==="textarea"||t.contentEditable==="true")}var L1=Dn&&"documentMode"in document&&11>=document.documentMode,xa=null,bf=null,tl=null,Tf=!1;function wg(t,i,a){var l=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;Tf||xa==null||xa!==Ei(l)||(l=xa,"selectionStart"in l&&Ef(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),tl&&el(tl,l)||(tl=l,l=Pc(bf,"onSelect"),0<l.length&&(i=new Si("onSelect","select",null,i,a),t.push({event:i,listeners:l}),i.target=xa)))}function Vs(t,i){var a={};return a[t.toLowerCase()]=i.toLowerCase(),a["Webkit"+t]="webkit"+i,a["Moz"+t]="moz"+i,a}var Ra={animationend:Vs("Animation","AnimationEnd"),animationiteration:Vs("Animation","AnimationIteration"),animationstart:Vs("Animation","AnimationStart"),transitionrun:Vs("Transition","TransitionRun"),transitionstart:Vs("Transition","TransitionStart"),transitioncancel:Vs("Transition","TransitionCancel"),transitionend:Vs("Transition","TransitionEnd")},Sf={},xg={};Dn&&(xg=document.createElement("div").style,"AnimationEvent"in window||(delete Ra.animationend.animation,delete Ra.animationiteration.animation,delete Ra.animationstart.animation),"TransitionEvent"in window||delete Ra.transitionend.transition);function js(t){if(Sf[t])return Sf[t];if(!Ra[t])return t;var i=Ra[t],a;for(a in i)if(i.hasOwnProperty(a)&&a in xg)return Sf[t]=i[a];return t}var Rg=js("animationend"),Cg=js("animationiteration"),Ig=js("animationstart"),U1=js("transitionrun"),z1=js("transitionstart"),B1=js("transitioncancel"),Ng=js("transitionend"),Dg=new Map,Af="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Af.push("scrollEnd");function ni(t,i){Dg.set(t,i),_i(i,[t])}var Xu=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var i=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(i))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)},Mn=[],Ca=0,wf=0;function Ju(){for(var t=Ca,i=wf=Ca=0;i<t;){var a=Mn[i];Mn[i++]=null;var l=Mn[i];Mn[i++]=null;var h=Mn[i];Mn[i++]=null;var d=Mn[i];if(Mn[i++]=null,l!==null&&h!==null){var v=l.pending;v===null?h.next=h:(h.next=v.next,v.next=h),l.pending=h}d!==0&&Og(a,h,d)}}function Wu(t,i,a,l){Mn[Ca++]=t,Mn[Ca++]=i,Mn[Ca++]=a,Mn[Ca++]=l,wf|=l,t.lanes|=l,t=t.alternate,t!==null&&(t.lanes|=l)}function xf(t,i,a,l){return Wu(t,i,a,l),Zu(t)}function ks(t,i){return Wu(t,null,null,i),Zu(t)}function Og(t,i,a){t.lanes|=a;var l=t.alternate;l!==null&&(l.lanes|=a);for(var h=!1,d=t.return;d!==null;)d.childLanes|=a,l=d.alternate,l!==null&&(l.childLanes|=a),d.tag===22&&(t=d.stateNode,t===null||t._visibility&1||(h=!0)),t=d,d=d.return;return t.tag===3?(d=t.stateNode,h&&i!==null&&(h=31-yt(a),t=d.hiddenUpdates,l=t[h],l===null?t[h]=[i]:l.push(i),i.lane=a|536870912),d):null}function Zu(t){if(50<Sl)throw Sl=0,jd=null,Error(s(185));for(var i=t.return;i!==null;)t=i,i=t.return;return t.tag===3?t.stateNode:null}var Ia={};function q1(t,i,a,l){this.tag=t,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=i,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function vn(t,i,a,l){return new q1(t,i,a,l)}function Rf(t){return t=t.prototype,!(!t||!t.isReactComponent)}function Fi(t,i){var a=t.alternate;return a===null?(a=vn(t.tag,i,t.key,t.mode),a.elementType=t.elementType,a.type=t.type,a.stateNode=t.stateNode,a.alternate=t,t.alternate=a):(a.pendingProps=i,a.type=t.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=t.flags&65011712,a.childLanes=t.childLanes,a.lanes=t.lanes,a.child=t.child,a.memoizedProps=t.memoizedProps,a.memoizedState=t.memoizedState,a.updateQueue=t.updateQueue,i=t.dependencies,a.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext},a.sibling=t.sibling,a.index=t.index,a.ref=t.ref,a.refCleanup=t.refCleanup,a}function Mg(t,i){t.flags&=65011714;var a=t.alternate;return a===null?(t.childLanes=0,t.lanes=i,t.child=null,t.subtreeFlags=0,t.memoizedProps=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.stateNode=null):(t.childLanes=a.childLanes,t.lanes=a.lanes,t.child=a.child,t.subtreeFlags=0,t.deletions=null,t.memoizedProps=a.memoizedProps,t.memoizedState=a.memoizedState,t.updateQueue=a.updateQueue,t.type=a.type,i=a.dependencies,t.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext}),t}function ec(t,i,a,l,h,d){var v=0;if(l=t,typeof t=="function")Rf(t)&&(v=1);else if(typeof t=="string")v=KS(t,a,ce.current)?26:t==="html"||t==="head"||t==="body"?27:5;else e:switch(t){case C:return t=vn(31,a,i,h),t.elementType=C,t.lanes=d,t;case K:return Ps(a.children,h,d,i);case k:v=8,h|=24;break;case X:return t=vn(12,a,i,h|2),t.elementType=X,t.lanes=d,t;case Se:return t=vn(13,a,i,h),t.elementType=Se,t.lanes=d,t;case ae:return t=vn(19,a,i,h),t.elementType=ae,t.lanes=d,t;default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case Z:v=10;break e;case ie:v=9;break e;case ye:v=11;break e;case R:v=14;break e;case x:v=16,l=null;break e}v=29,a=Error(s(130,t===null?"null":typeof t,"")),l=null}return i=vn(v,a,i,h),i.elementType=t,i.type=l,i.lanes=d,i}function Ps(t,i,a,l){return t=vn(7,t,l,i),t.lanes=a,t}function Cf(t,i,a){return t=vn(6,t,null,i),t.lanes=a,t}function Vg(t){var i=vn(18,null,null,0);return i.stateNode=t,i}function If(t,i,a){return i=vn(4,t.children!==null?t.children:[],t.key,i),i.lanes=a,i.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},i}var jg=new WeakMap;function Vn(t,i){if(typeof t=="object"&&t!==null){var a=jg.get(t);return a!==void 0?a:(i={value:t,source:i,stack:Oo(i)},jg.set(t,i),i)}return{value:t,source:i,stack:Oo(i)}}var Na=[],Da=0,tc=null,nl=0,jn=[],kn=0,xr=null,Ri=1,Ci="";function Gi(t,i){Na[Da++]=nl,Na[Da++]=tc,tc=t,nl=i}function kg(t,i,a){jn[kn++]=Ri,jn[kn++]=Ci,jn[kn++]=xr,xr=t;var l=Ri;t=Ci;var h=32-yt(l)-1;l&=~(1<<h),a+=1;var d=32-yt(i)+h;if(30<d){var v=h-h%5;d=(l&(1<<v)-1).toString(32),l>>=v,h-=v,Ri=1<<32-yt(i)+h|a<<h|l,Ci=d+t}else Ri=1<<d|a<<h|l,Ci=t}function Nf(t){t.return!==null&&(Gi(t,1),kg(t,1,0))}function Df(t){for(;t===tc;)tc=Na[--Da],Na[Da]=null,nl=Na[--Da],Na[Da]=null;for(;t===xr;)xr=jn[--kn],jn[kn]=null,Ci=jn[--kn],jn[kn]=null,Ri=jn[--kn],jn[kn]=null}function Pg(t,i){jn[kn++]=Ri,jn[kn++]=Ci,jn[kn++]=xr,Ri=i.id,Ci=i.overflow,xr=t}var Ft=null,at=null,ze=!1,Rr=null,Pn=!1,Of=Error(s(519));function Cr(t){var i=Error(s(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw il(Vn(i,t)),Of}function Lg(t){var i=t.stateNode,a=t.type,l=t.memoizedProps;switch(i[At]=t,i[Lt]=l,a){case"dialog":Me("cancel",i),Me("close",i);break;case"iframe":case"object":case"embed":Me("load",i);break;case"video":case"audio":for(a=0;a<wl.length;a++)Me(wl[a],i);break;case"source":Me("error",i);break;case"img":case"image":case"link":Me("error",i),Me("load",i);break;case"details":Me("toggle",i);break;case"input":Me("invalid",i),Vu(i,l.value,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name,!0);break;case"select":Me("invalid",i);break;case"textarea":Me("invalid",i),vr(i,l.value,l.defaultValue,l.children)}a=l.children,typeof a!="string"&&typeof a!="number"&&typeof a!="bigint"||i.textContent===""+a||l.suppressHydrationWarning===!0||tv(i.textContent,a)?(l.popover!=null&&(Me("beforetoggle",i),Me("toggle",i)),l.onScroll!=null&&Me("scroll",i),l.onScrollEnd!=null&&Me("scrollend",i),l.onClick!=null&&(i.onclick=Jn),i=!0):i=!1,i||Cr(t,!0)}function Ug(t){for(Ft=t.return;Ft;)switch(Ft.tag){case 5:case 31:case 13:Pn=!1;return;case 27:case 3:Pn=!0;return;default:Ft=Ft.return}}function Oa(t){if(t!==Ft)return!1;if(!ze)return Ug(t),ze=!0,!1;var i=t.tag,a;if((a=i!==3&&i!==27)&&((a=i===5)&&(a=t.type,a=!(a!=="form"&&a!=="button")||Xd(t.type,t.memoizedProps)),a=!a),a&&at&&Cr(t),Ug(t),i===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(s(317));at=cv(t)}else if(i===31){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(s(317));at=cv(t)}else i===27?(i=at,qr(t.type)?(t=tm,tm=null,at=t):at=i):at=Ft?Un(t.stateNode.nextSibling):null;return!0}function Ls(){at=Ft=null,ze=!1}function Mf(){var t=Rr;return t!==null&&(hn===null?hn=t:hn.push.apply(hn,t),Rr=null),t}function il(t){Rr===null?Rr=[t]:Rr.push(t)}var Vf=O(null),Us=null,Qi=null;function Ir(t,i,a){le(Vf,i._currentValue),i._currentValue=a}function Ki(t){t._currentValue=Vf.current,W(Vf)}function jf(t,i,a){for(;t!==null;){var l=t.alternate;if((t.childLanes&i)!==i?(t.childLanes|=i,l!==null&&(l.childLanes|=i)):l!==null&&(l.childLanes&i)!==i&&(l.childLanes|=i),t===a)break;t=t.return}}function kf(t,i,a,l){var h=t.child;for(h!==null&&(h.return=t);h!==null;){var d=h.dependencies;if(d!==null){var v=h.child;d=d.firstContext;e:for(;d!==null;){var S=d;d=h;for(var N=0;N<i.length;N++)if(S.context===i[N]){d.lanes|=a,S=d.alternate,S!==null&&(S.lanes|=a),jf(d.return,a,t),l||(v=null);break e}d=S.next}}else if(h.tag===18){if(v=h.return,v===null)throw Error(s(341));v.lanes|=a,d=v.alternate,d!==null&&(d.lanes|=a),jf(v,a,t),v=null}else v=h.child;if(v!==null)v.return=h;else for(v=h;v!==null;){if(v===t){v=null;break}if(h=v.sibling,h!==null){h.return=v.return,v=h;break}v=v.return}h=v}}function Ma(t,i,a,l){t=null;for(var h=i,d=!1;h!==null;){if(!d){if((h.flags&524288)!==0)d=!0;else if((h.flags&262144)!==0)break}if(h.tag===10){var v=h.alternate;if(v===null)throw Error(s(387));if(v=v.memoizedProps,v!==null){var S=h.type;_n(h.pendingProps.value,v.value)||(t!==null?t.push(S):t=[S])}}else if(h===Ve.current){if(v=h.alternate,v===null)throw Error(s(387));v.memoizedState.memoizedState!==h.memoizedState.memoizedState&&(t!==null?t.push(Nl):t=[Nl])}h=h.return}t!==null&&kf(i,t,a,l),i.flags|=262144}function nc(t){for(t=t.firstContext;t!==null;){if(!_n(t.context._currentValue,t.memoizedValue))return!0;t=t.next}return!1}function zs(t){Us=t,Qi=null,t=t.dependencies,t!==null&&(t.firstContext=null)}function Gt(t){return zg(Us,t)}function ic(t,i){return Us===null&&zs(t),zg(t,i)}function zg(t,i){var a=i._currentValue;if(i={context:i,memoizedValue:a,next:null},Qi===null){if(t===null)throw Error(s(308));Qi=i,t.dependencies={lanes:0,firstContext:i},t.flags|=524288}else Qi=Qi.next=i;return a}var H1=typeof AbortController<"u"?AbortController:function(){var t=[],i=this.signal={aborted:!1,addEventListener:function(a,l){t.push(l)}};this.abort=function(){i.aborted=!0,t.forEach(function(a){return a()})}},F1=r.unstable_scheduleCallback,G1=r.unstable_NormalPriority,Rt={$$typeof:Z,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Pf(){return{controller:new H1,data:new Map,refCount:0}}function rl(t){t.refCount--,t.refCount===0&&F1(G1,function(){t.controller.abort()})}var sl=null,Lf=0,Va=0,ja=null;function Q1(t,i){if(sl===null){var a=sl=[];Lf=0,Va=Bd(),ja={status:"pending",value:void 0,then:function(l){a.push(l)}}}return Lf++,i.then(Bg,Bg),i}function Bg(){if(--Lf===0&&sl!==null){ja!==null&&(ja.status="fulfilled");var t=sl;sl=null,Va=0,ja=null;for(var i=0;i<t.length;i++)(0,t[i])()}}function K1(t,i){var a=[],l={status:"pending",value:null,reason:null,then:function(h){a.push(h)}};return t.then(function(){l.status="fulfilled",l.value=i;for(var h=0;h<a.length;h++)(0,a[h])(i)},function(h){for(l.status="rejected",l.reason=h,h=0;h<a.length;h++)(0,a[h])(void 0)}),l}var qg=Y.S;Y.S=function(t,i){w_=nn(),typeof i=="object"&&i!==null&&typeof i.then=="function"&&Q1(t,i),qg!==null&&qg(t,i)};var Bs=O(null);function Uf(){var t=Bs.current;return t!==null?t:it.pooledCache}function rc(t,i){i===null?le(Bs,Bs.current):le(Bs,i.pool)}function Hg(){var t=Uf();return t===null?null:{parent:Rt._currentValue,pool:t}}var ka=Error(s(460)),zf=Error(s(474)),sc=Error(s(542)),ac={then:function(){}};function Fg(t){return t=t.status,t==="fulfilled"||t==="rejected"}function Gg(t,i,a){switch(a=t[a],a===void 0?t.push(i):a!==i&&(i.then(Jn,Jn),i=a),i.status){case"fulfilled":return i.value;case"rejected":throw t=i.reason,Kg(t),t;default:if(typeof i.status=="string")i.then(Jn,Jn);else{if(t=it,t!==null&&100<t.shellSuspendCounter)throw Error(s(482));t=i,t.status="pending",t.then(function(l){if(i.status==="pending"){var h=i;h.status="fulfilled",h.value=l}},function(l){if(i.status==="pending"){var h=i;h.status="rejected",h.reason=l}})}switch(i.status){case"fulfilled":return i.value;case"rejected":throw t=i.reason,Kg(t),t}throw Hs=i,ka}}function qs(t){try{var i=t._init;return i(t._payload)}catch(a){throw a!==null&&typeof a=="object"&&typeof a.then=="function"?(Hs=a,ka):a}}var Hs=null;function Qg(){if(Hs===null)throw Error(s(459));var t=Hs;return Hs=null,t}function Kg(t){if(t===ka||t===sc)throw Error(s(483))}var Pa=null,al=0;function oc(t){var i=al;return al+=1,Pa===null&&(Pa=[]),Gg(Pa,t,i)}function ol(t,i){i=i.props.ref,t.ref=i!==void 0?i:null}function lc(t,i){throw i.$$typeof===w?Error(s(525)):(t=Object.prototype.toString.call(i),Error(s(31,t==="[object Object]"?"object with keys {"+Object.keys(i).join(", ")+"}":t)))}function Yg(t){function i(U,V){if(t){var B=U.deletions;B===null?(U.deletions=[V],U.flags|=16):B.push(V)}}function a(U,V){if(!t)return null;for(;V!==null;)i(U,V),V=V.sibling;return null}function l(U){for(var V=new Map;U!==null;)U.key!==null?V.set(U.key,U):V.set(U.index,U),U=U.sibling;return V}function h(U,V){return U=Fi(U,V),U.index=0,U.sibling=null,U}function d(U,V,B){return U.index=B,t?(B=U.alternate,B!==null?(B=B.index,B<V?(U.flags|=67108866,V):B):(U.flags|=67108866,V)):(U.flags|=1048576,V)}function v(U){return t&&U.alternate===null&&(U.flags|=67108866),U}function S(U,V,B,ee){return V===null||V.tag!==6?(V=Cf(B,U.mode,ee),V.return=U,V):(V=h(V,B),V.return=U,V)}function N(U,V,B,ee){var pe=B.type;return pe===K?$(U,V,B.props.children,ee,B.key):V!==null&&(V.elementType===pe||typeof pe=="object"&&pe!==null&&pe.$$typeof===x&&qs(pe)===V.type)?(V=h(V,B.props),ol(V,B),V.return=U,V):(V=ec(B.type,B.key,B.props,null,U.mode,ee),ol(V,B),V.return=U,V)}function q(U,V,B,ee){return V===null||V.tag!==4||V.stateNode.containerInfo!==B.containerInfo||V.stateNode.implementation!==B.implementation?(V=If(B,U.mode,ee),V.return=U,V):(V=h(V,B.children||[]),V.return=U,V)}function $(U,V,B,ee,pe){return V===null||V.tag!==7?(V=Ps(B,U.mode,ee,pe),V.return=U,V):(V=h(V,B),V.return=U,V)}function ne(U,V,B){if(typeof V=="string"&&V!==""||typeof V=="number"||typeof V=="bigint")return V=Cf(""+V,U.mode,B),V.return=U,V;if(typeof V=="object"&&V!==null){switch(V.$$typeof){case j:return B=ec(V.type,V.key,V.props,null,U.mode,B),ol(B,V),B.return=U,B;case F:return V=If(V,U.mode,B),V.return=U,V;case x:return V=qs(V),ne(U,V,B)}if(ut(V)||P(V))return V=Ps(V,U.mode,B,null),V.return=U,V;if(typeof V.then=="function")return ne(U,oc(V),B);if(V.$$typeof===Z)return ne(U,ic(U,V),B);lc(U,V)}return null}function H(U,V,B,ee){var pe=V!==null?V.key:null;if(typeof B=="string"&&B!==""||typeof B=="number"||typeof B=="bigint")return pe!==null?null:S(U,V,""+B,ee);if(typeof B=="object"&&B!==null){switch(B.$$typeof){case j:return B.key===pe?N(U,V,B,ee):null;case F:return B.key===pe?q(U,V,B,ee):null;case x:return B=qs(B),H(U,V,B,ee)}if(ut(B)||P(B))return pe!==null?null:$(U,V,B,ee,null);if(typeof B.then=="function")return H(U,V,oc(B),ee);if(B.$$typeof===Z)return H(U,V,ic(U,B),ee);lc(U,B)}return null}function Q(U,V,B,ee,pe){if(typeof ee=="string"&&ee!==""||typeof ee=="number"||typeof ee=="bigint")return U=U.get(B)||null,S(V,U,""+ee,pe);if(typeof ee=="object"&&ee!==null){switch(ee.$$typeof){case j:return U=U.get(ee.key===null?B:ee.key)||null,N(V,U,ee,pe);case F:return U=U.get(ee.key===null?B:ee.key)||null,q(V,U,ee,pe);case x:return ee=qs(ee),Q(U,V,B,ee,pe)}if(ut(ee)||P(ee))return U=U.get(B)||null,$(V,U,ee,pe,null);if(typeof ee.then=="function")return Q(U,V,B,oc(ee),pe);if(ee.$$typeof===Z)return Q(U,V,B,ic(V,ee),pe);lc(V,ee)}return null}function fe(U,V,B,ee){for(var pe=null,He=null,me=V,Ne=V=0,ke=null;me!==null&&Ne<B.length;Ne++){me.index>Ne?(ke=me,me=null):ke=me.sibling;var Fe=H(U,me,B[Ne],ee);if(Fe===null){me===null&&(me=ke);break}t&&me&&Fe.alternate===null&&i(U,me),V=d(Fe,V,Ne),He===null?pe=Fe:He.sibling=Fe,He=Fe,me=ke}if(Ne===B.length)return a(U,me),ze&&Gi(U,Ne),pe;if(me===null){for(;Ne<B.length;Ne++)me=ne(U,B[Ne],ee),me!==null&&(V=d(me,V,Ne),He===null?pe=me:He.sibling=me,He=me);return ze&&Gi(U,Ne),pe}for(me=l(me);Ne<B.length;Ne++)ke=Q(me,U,Ne,B[Ne],ee),ke!==null&&(t&&ke.alternate!==null&&me.delete(ke.key===null?Ne:ke.key),V=d(ke,V,Ne),He===null?pe=ke:He.sibling=ke,He=ke);return t&&me.forEach(function(Kr){return i(U,Kr)}),ze&&Gi(U,Ne),pe}function ve(U,V,B,ee){if(B==null)throw Error(s(151));for(var pe=null,He=null,me=V,Ne=V=0,ke=null,Fe=B.next();me!==null&&!Fe.done;Ne++,Fe=B.next()){me.index>Ne?(ke=me,me=null):ke=me.sibling;var Kr=H(U,me,Fe.value,ee);if(Kr===null){me===null&&(me=ke);break}t&&me&&Kr.alternate===null&&i(U,me),V=d(Kr,V,Ne),He===null?pe=Kr:He.sibling=Kr,He=Kr,me=ke}if(Fe.done)return a(U,me),ze&&Gi(U,Ne),pe;if(me===null){for(;!Fe.done;Ne++,Fe=B.next())Fe=ne(U,Fe.value,ee),Fe!==null&&(V=d(Fe,V,Ne),He===null?pe=Fe:He.sibling=Fe,He=Fe);return ze&&Gi(U,Ne),pe}for(me=l(me);!Fe.done;Ne++,Fe=B.next())Fe=Q(me,U,Ne,Fe.value,ee),Fe!==null&&(t&&Fe.alternate!==null&&me.delete(Fe.key===null?Ne:Fe.key),V=d(Fe,V,Ne),He===null?pe=Fe:He.sibling=Fe,He=Fe);return t&&me.forEach(function(rA){return i(U,rA)}),ze&&Gi(U,Ne),pe}function nt(U,V,B,ee){if(typeof B=="object"&&B!==null&&B.type===K&&B.key===null&&(B=B.props.children),typeof B=="object"&&B!==null){switch(B.$$typeof){case j:e:{for(var pe=B.key;V!==null;){if(V.key===pe){if(pe=B.type,pe===K){if(V.tag===7){a(U,V.sibling),ee=h(V,B.props.children),ee.return=U,U=ee;break e}}else if(V.elementType===pe||typeof pe=="object"&&pe!==null&&pe.$$typeof===x&&qs(pe)===V.type){a(U,V.sibling),ee=h(V,B.props),ol(ee,B),ee.return=U,U=ee;break e}a(U,V);break}else i(U,V);V=V.sibling}B.type===K?(ee=Ps(B.props.children,U.mode,ee,B.key),ee.return=U,U=ee):(ee=ec(B.type,B.key,B.props,null,U.mode,ee),ol(ee,B),ee.return=U,U=ee)}return v(U);case F:e:{for(pe=B.key;V!==null;){if(V.key===pe)if(V.tag===4&&V.stateNode.containerInfo===B.containerInfo&&V.stateNode.implementation===B.implementation){a(U,V.sibling),ee=h(V,B.children||[]),ee.return=U,U=ee;break e}else{a(U,V);break}else i(U,V);V=V.sibling}ee=If(B,U.mode,ee),ee.return=U,U=ee}return v(U);case x:return B=qs(B),nt(U,V,B,ee)}if(ut(B))return fe(U,V,B,ee);if(P(B)){if(pe=P(B),typeof pe!="function")throw Error(s(150));return B=pe.call(B),ve(U,V,B,ee)}if(typeof B.then=="function")return nt(U,V,oc(B),ee);if(B.$$typeof===Z)return nt(U,V,ic(U,B),ee);lc(U,B)}return typeof B=="string"&&B!==""||typeof B=="number"||typeof B=="bigint"?(B=""+B,V!==null&&V.tag===6?(a(U,V.sibling),ee=h(V,B),ee.return=U,U=ee):(a(U,V),ee=Cf(B,U.mode,ee),ee.return=U,U=ee),v(U)):a(U,V)}return function(U,V,B,ee){try{al=0;var pe=nt(U,V,B,ee);return Pa=null,pe}catch(me){if(me===ka||me===sc)throw me;var He=vn(29,me,null,U.mode);return He.lanes=ee,He.return=U,He}finally{}}}var Fs=Yg(!0),$g=Yg(!1),Nr=!1;function Bf(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function qf(t,i){t=t.updateQueue,i.updateQueue===t&&(i.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,callbacks:null})}function Dr(t){return{lane:t,tag:0,payload:null,callback:null,next:null}}function Or(t,i,a){var l=t.updateQueue;if(l===null)return null;if(l=l.shared,(Qe&2)!==0){var h=l.pending;return h===null?i.next=i:(i.next=h.next,h.next=i),l.pending=i,i=Zu(t),Og(t,null,a),i}return Wu(t,l,i,a),Zu(t)}function ll(t,i,a){if(i=i.updateQueue,i!==null&&(i=i.shared,(a&4194048)!==0)){var l=i.lanes;l&=t.pendingLanes,a|=l,i.lanes=a,jo(t,a)}}function Hf(t,i){var a=t.updateQueue,l=t.alternate;if(l!==null&&(l=l.updateQueue,a===l)){var h=null,d=null;if(a=a.firstBaseUpdate,a!==null){do{var v={lane:a.lane,tag:a.tag,payload:a.payload,callback:null,next:null};d===null?h=d=v:d=d.next=v,a=a.next}while(a!==null);d===null?h=d=i:d=d.next=i}else h=d=i;a={baseState:l.baseState,firstBaseUpdate:h,lastBaseUpdate:d,shared:l.shared,callbacks:l.callbacks},t.updateQueue=a;return}t=a.lastBaseUpdate,t===null?a.firstBaseUpdate=i:t.next=i,a.lastBaseUpdate=i}var Ff=!1;function ul(){if(Ff){var t=ja;if(t!==null)throw t}}function cl(t,i,a,l){Ff=!1;var h=t.updateQueue;Nr=!1;var d=h.firstBaseUpdate,v=h.lastBaseUpdate,S=h.shared.pending;if(S!==null){h.shared.pending=null;var N=S,q=N.next;N.next=null,v===null?d=q:v.next=q,v=N;var $=t.alternate;$!==null&&($=$.updateQueue,S=$.lastBaseUpdate,S!==v&&(S===null?$.firstBaseUpdate=q:S.next=q,$.lastBaseUpdate=N))}if(d!==null){var ne=h.baseState;v=0,$=q=N=null,S=d;do{var H=S.lane&-536870913,Q=H!==S.lane;if(Q?(je&H)===H:(l&H)===H){H!==0&&H===Va&&(Ff=!0),$!==null&&($=$.next={lane:0,tag:S.tag,payload:S.payload,callback:null,next:null});e:{var fe=t,ve=S;H=i;var nt=a;switch(ve.tag){case 1:if(fe=ve.payload,typeof fe=="function"){ne=fe.call(nt,ne,H);break e}ne=fe;break e;case 3:fe.flags=fe.flags&-65537|128;case 0:if(fe=ve.payload,H=typeof fe=="function"?fe.call(nt,ne,H):fe,H==null)break e;ne=T({},ne,H);break e;case 2:Nr=!0}}H=S.callback,H!==null&&(t.flags|=64,Q&&(t.flags|=8192),Q=h.callbacks,Q===null?h.callbacks=[H]:Q.push(H))}else Q={lane:H,tag:S.tag,payload:S.payload,callback:S.callback,next:null},$===null?(q=$=Q,N=ne):$=$.next=Q,v|=H;if(S=S.next,S===null){if(S=h.shared.pending,S===null)break;Q=S,S=Q.next,Q.next=null,h.lastBaseUpdate=Q,h.shared.pending=null}}while(!0);$===null&&(N=ne),h.baseState=N,h.firstBaseUpdate=q,h.lastBaseUpdate=$,d===null&&(h.shared.lanes=0),Pr|=v,t.lanes=v,t.memoizedState=ne}}function Xg(t,i){if(typeof t!="function")throw Error(s(191,t));t.call(i)}function Jg(t,i){var a=t.callbacks;if(a!==null)for(t.callbacks=null,t=0;t<a.length;t++)Xg(a[t],i)}var La=O(null),uc=O(0);function Wg(t,i){t=nr,le(uc,t),le(La,i),nr=t|i.baseLanes}function Gf(){le(uc,nr),le(La,La.current)}function Qf(){nr=uc.current,W(La),W(uc)}var En=O(null),Ln=null;function Mr(t){var i=t.alternate;le(vt,vt.current&1),le(En,t),Ln===null&&(i===null||La.current!==null||i.memoizedState!==null)&&(Ln=t)}function Kf(t){le(vt,vt.current),le(En,t),Ln===null&&(Ln=t)}function Zg(t){t.tag===22?(le(vt,vt.current),le(En,t),Ln===null&&(Ln=t)):Vr()}function Vr(){le(vt,vt.current),le(En,En.current)}function bn(t){W(En),Ln===t&&(Ln=null),W(vt)}var vt=O(0);function cc(t){for(var i=t;i!==null;){if(i.tag===13){var a=i.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||Zd(a)||em(a)))return i}else if(i.tag===19&&(i.memoizedProps.revealOrder==="forwards"||i.memoizedProps.revealOrder==="backwards"||i.memoizedProps.revealOrder==="unstable_legacy-backwards"||i.memoizedProps.revealOrder==="together")){if((i.flags&128)!==0)return i}else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===t)break;for(;i.sibling===null;){if(i.return===null||i.return===t)return null;i=i.return}i.sibling.return=i.return,i=i.sibling}return null}var Yi=0,Ie=null,et=null,Ct=null,hc=!1,Ua=!1,Gs=!1,fc=0,hl=0,za=null,Y1=0;function mt(){throw Error(s(321))}function Yf(t,i){if(i===null)return!1;for(var a=0;a<i.length&&a<t.length;a++)if(!_n(t[a],i[a]))return!1;return!0}function $f(t,i,a,l,h,d){return Yi=d,Ie=i,i.memoizedState=null,i.updateQueue=null,i.lanes=0,Y.H=t===null||t.memoizedState===null?ky:cd,Gs=!1,d=a(l,h),Gs=!1,Ua&&(d=ty(i,a,l,h)),ey(t),d}function ey(t){Y.H=ml;var i=et!==null&&et.next!==null;if(Yi=0,Ct=et=Ie=null,hc=!1,hl=0,za=null,i)throw Error(s(300));t===null||It||(t=t.dependencies,t!==null&&nc(t)&&(It=!0))}function ty(t,i,a,l){Ie=t;var h=0;do{if(Ua&&(za=null),hl=0,Ua=!1,25<=h)throw Error(s(301));if(h+=1,Ct=et=null,t.updateQueue!=null){var d=t.updateQueue;d.lastEffect=null,d.events=null,d.stores=null,d.memoCache!=null&&(d.memoCache.index=0)}Y.H=Py,d=i(a,l)}while(Ua);return d}function $1(){var t=Y.H,i=t.useState()[0];return i=typeof i.then=="function"?fl(i):i,t=t.useState()[0],(et!==null?et.memoizedState:null)!==t&&(Ie.flags|=1024),i}function Xf(){var t=fc!==0;return fc=0,t}function Jf(t,i,a){i.updateQueue=t.updateQueue,i.flags&=-2053,t.lanes&=~a}function Wf(t){if(hc){for(t=t.memoizedState;t!==null;){var i=t.queue;i!==null&&(i.pending=null),t=t.next}hc=!1}Yi=0,Ct=et=Ie=null,Ua=!1,hl=fc=0,za=null}function sn(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ct===null?Ie.memoizedState=Ct=t:Ct=Ct.next=t,Ct}function Et(){if(et===null){var t=Ie.alternate;t=t!==null?t.memoizedState:null}else t=et.next;var i=Ct===null?Ie.memoizedState:Ct.next;if(i!==null)Ct=i,et=t;else{if(t===null)throw Ie.alternate===null?Error(s(467)):Error(s(310));et=t,t={memoizedState:et.memoizedState,baseState:et.baseState,baseQueue:et.baseQueue,queue:et.queue,next:null},Ct===null?Ie.memoizedState=Ct=t:Ct=Ct.next=t}return Ct}function dc(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function fl(t){var i=hl;return hl+=1,za===null&&(za=[]),t=Gg(za,t,i),i=Ie,(Ct===null?i.memoizedState:Ct.next)===null&&(i=i.alternate,Y.H=i===null||i.memoizedState===null?ky:cd),t}function mc(t){if(t!==null&&typeof t=="object"){if(typeof t.then=="function")return fl(t);if(t.$$typeof===Z)return Gt(t)}throw Error(s(438,String(t)))}function Zf(t){var i=null,a=Ie.updateQueue;if(a!==null&&(i=a.memoCache),i==null){var l=Ie.alternate;l!==null&&(l=l.updateQueue,l!==null&&(l=l.memoCache,l!=null&&(i={data:l.data.map(function(h){return h.slice()}),index:0})))}if(i==null&&(i={data:[],index:0}),a===null&&(a=dc(),Ie.updateQueue=a),a.memoCache=i,a=i.data[i.index],a===void 0)for(a=i.data[i.index]=Array(t),l=0;l<t;l++)a[l]=M;return i.index++,a}function $i(t,i){return typeof i=="function"?i(t):i}function pc(t){var i=Et();return ed(i,et,t)}function ed(t,i,a){var l=t.queue;if(l===null)throw Error(s(311));l.lastRenderedReducer=a;var h=t.baseQueue,d=l.pending;if(d!==null){if(h!==null){var v=h.next;h.next=d.next,d.next=v}i.baseQueue=h=d,l.pending=null}if(d=t.baseState,h===null)t.memoizedState=d;else{i=h.next;var S=v=null,N=null,q=i,$=!1;do{var ne=q.lane&-536870913;if(ne!==q.lane?(je&ne)===ne:(Yi&ne)===ne){var H=q.revertLane;if(H===0)N!==null&&(N=N.next={lane:0,revertLane:0,gesture:null,action:q.action,hasEagerState:q.hasEagerState,eagerState:q.eagerState,next:null}),ne===Va&&($=!0);else if((Yi&H)===H){q=q.next,H===Va&&($=!0);continue}else ne={lane:0,revertLane:q.revertLane,gesture:null,action:q.action,hasEagerState:q.hasEagerState,eagerState:q.eagerState,next:null},N===null?(S=N=ne,v=d):N=N.next=ne,Ie.lanes|=H,Pr|=H;ne=q.action,Gs&&a(d,ne),d=q.hasEagerState?q.eagerState:a(d,ne)}else H={lane:ne,revertLane:q.revertLane,gesture:q.gesture,action:q.action,hasEagerState:q.hasEagerState,eagerState:q.eagerState,next:null},N===null?(S=N=H,v=d):N=N.next=H,Ie.lanes|=ne,Pr|=ne;q=q.next}while(q!==null&&q!==i);if(N===null?v=d:N.next=S,!_n(d,t.memoizedState)&&(It=!0,$&&(a=ja,a!==null)))throw a;t.memoizedState=d,t.baseState=v,t.baseQueue=N,l.lastRenderedState=d}return h===null&&(l.lanes=0),[t.memoizedState,l.dispatch]}function td(t){var i=Et(),a=i.queue;if(a===null)throw Error(s(311));a.lastRenderedReducer=t;var l=a.dispatch,h=a.pending,d=i.memoizedState;if(h!==null){a.pending=null;var v=h=h.next;do d=t(d,v.action),v=v.next;while(v!==h);_n(d,i.memoizedState)||(It=!0),i.memoizedState=d,i.baseQueue===null&&(i.baseState=d),a.lastRenderedState=d}return[d,l]}function ny(t,i,a){var l=Ie,h=Et(),d=ze;if(d){if(a===void 0)throw Error(s(407));a=a()}else a=i();var v=!_n((et||h).memoizedState,a);if(v&&(h.memoizedState=a,It=!0),h=h.queue,rd(sy.bind(null,l,h,t),[t]),h.getSnapshot!==i||v||Ct!==null&&Ct.memoizedState.tag&1){if(l.flags|=2048,Ba(9,{destroy:void 0},ry.bind(null,l,h,a,i),null),it===null)throw Error(s(349));d||(Yi&127)!==0||iy(l,i,a)}return a}function iy(t,i,a){t.flags|=16384,t={getSnapshot:i,value:a},i=Ie.updateQueue,i===null?(i=dc(),Ie.updateQueue=i,i.stores=[t]):(a=i.stores,a===null?i.stores=[t]:a.push(t))}function ry(t,i,a,l){i.value=a,i.getSnapshot=l,ay(i)&&oy(t)}function sy(t,i,a){return a(function(){ay(i)&&oy(t)})}function ay(t){var i=t.getSnapshot;t=t.value;try{var a=i();return!_n(t,a)}catch{return!0}}function oy(t){var i=ks(t,2);i!==null&&fn(i,t,2)}function nd(t){var i=sn();if(typeof t=="function"){var a=t;if(t=a(),Gs){Cn(!0);try{a()}finally{Cn(!1)}}}return i.memoizedState=i.baseState=t,i.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:$i,lastRenderedState:t},i}function ly(t,i,a,l){return t.baseState=a,ed(t,et,typeof l=="function"?l:$i)}function X1(t,i,a,l,h){if(_c(t))throw Error(s(485));if(t=i.action,t!==null){var d={payload:h,action:t,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(v){d.listeners.push(v)}};Y.T!==null?a(!0):d.isTransition=!1,l(d),a=i.pending,a===null?(d.next=i.pending=d,uy(i,d)):(d.next=a.next,i.pending=a.next=d)}}function uy(t,i){var a=i.action,l=i.payload,h=t.state;if(i.isTransition){var d=Y.T,v={};Y.T=v;try{var S=a(h,l),N=Y.S;N!==null&&N(v,S),cy(t,i,S)}catch(q){id(t,i,q)}finally{d!==null&&v.types!==null&&(d.types=v.types),Y.T=d}}else try{d=a(h,l),cy(t,i,d)}catch(q){id(t,i,q)}}function cy(t,i,a){a!==null&&typeof a=="object"&&typeof a.then=="function"?a.then(function(l){hy(t,i,l)},function(l){return id(t,i,l)}):hy(t,i,a)}function hy(t,i,a){i.status="fulfilled",i.value=a,fy(i),t.state=a,i=t.pending,i!==null&&(a=i.next,a===i?t.pending=null:(a=a.next,i.next=a,uy(t,a)))}function id(t,i,a){var l=t.pending;if(t.pending=null,l!==null){l=l.next;do i.status="rejected",i.reason=a,fy(i),i=i.next;while(i!==l)}t.action=null}function fy(t){t=t.listeners;for(var i=0;i<t.length;i++)(0,t[i])()}function dy(t,i){return i}function my(t,i){if(ze){var a=it.formState;if(a!==null){e:{var l=Ie;if(ze){if(at){t:{for(var h=at,d=Pn;h.nodeType!==8;){if(!d){h=null;break t}if(h=Un(h.nextSibling),h===null){h=null;break t}}d=h.data,h=d==="F!"||d==="F"?h:null}if(h){at=Un(h.nextSibling),l=h.data==="F!";break e}}Cr(l)}l=!1}l&&(i=a[0])}}return a=sn(),a.memoizedState=a.baseState=i,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:dy,lastRenderedState:i},a.queue=l,a=My.bind(null,Ie,l),l.dispatch=a,l=nd(!1),d=ud.bind(null,Ie,!1,l.queue),l=sn(),h={state:i,dispatch:null,action:t,pending:null},l.queue=h,a=X1.bind(null,Ie,h,d,a),h.dispatch=a,l.memoizedState=t,[i,a,!1]}function py(t){var i=Et();return gy(i,et,t)}function gy(t,i,a){if(i=ed(t,i,dy)[0],t=pc($i)[0],typeof i=="object"&&i!==null&&typeof i.then=="function")try{var l=fl(i)}catch(v){throw v===ka?sc:v}else l=i;i=Et();var h=i.queue,d=h.dispatch;return a!==i.memoizedState&&(Ie.flags|=2048,Ba(9,{destroy:void 0},J1.bind(null,h,a),null)),[l,d,t]}function J1(t,i){t.action=i}function yy(t){var i=Et(),a=et;if(a!==null)return gy(i,a,t);Et(),i=i.memoizedState,a=Et();var l=a.queue.dispatch;return a.memoizedState=t,[i,l,!1]}function Ba(t,i,a,l){return t={tag:t,create:a,deps:l,inst:i,next:null},i=Ie.updateQueue,i===null&&(i=dc(),Ie.updateQueue=i),a=i.lastEffect,a===null?i.lastEffect=t.next=t:(l=a.next,a.next=t,t.next=l,i.lastEffect=t),t}function _y(){return Et().memoizedState}function gc(t,i,a,l){var h=sn();Ie.flags|=t,h.memoizedState=Ba(1|i,{destroy:void 0},a,l===void 0?null:l)}function yc(t,i,a,l){var h=Et();l=l===void 0?null:l;var d=h.memoizedState.inst;et!==null&&l!==null&&Yf(l,et.memoizedState.deps)?h.memoizedState=Ba(i,d,a,l):(Ie.flags|=t,h.memoizedState=Ba(1|i,d,a,l))}function vy(t,i){gc(8390656,8,t,i)}function rd(t,i){yc(2048,8,t,i)}function W1(t){Ie.flags|=4;var i=Ie.updateQueue;if(i===null)i=dc(),Ie.updateQueue=i,i.events=[t];else{var a=i.events;a===null?i.events=[t]:a.push(t)}}function Ey(t){var i=Et().memoizedState;return W1({ref:i,nextImpl:t}),function(){if((Qe&2)!==0)throw Error(s(440));return i.impl.apply(void 0,arguments)}}function by(t,i){return yc(4,2,t,i)}function Ty(t,i){return yc(4,4,t,i)}function Sy(t,i){if(typeof i=="function"){t=t();var a=i(t);return function(){typeof a=="function"?a():i(null)}}if(i!=null)return t=t(),i.current=t,function(){i.current=null}}function Ay(t,i,a){a=a!=null?a.concat([t]):null,yc(4,4,Sy.bind(null,i,t),a)}function sd(){}function wy(t,i){var a=Et();i=i===void 0?null:i;var l=a.memoizedState;return i!==null&&Yf(i,l[1])?l[0]:(a.memoizedState=[t,i],t)}function xy(t,i){var a=Et();i=i===void 0?null:i;var l=a.memoizedState;if(i!==null&&Yf(i,l[1]))return l[0];if(l=t(),Gs){Cn(!0);try{t()}finally{Cn(!1)}}return a.memoizedState=[l,i],l}function ad(t,i,a){return a===void 0||(Yi&1073741824)!==0&&(je&261930)===0?t.memoizedState=i:(t.memoizedState=a,t=R_(),Ie.lanes|=t,Pr|=t,a)}function Ry(t,i,a,l){return _n(a,i)?a:La.current!==null?(t=ad(t,a,l),_n(t,i)||(It=!0),t):(Yi&42)===0||(Yi&1073741824)!==0&&(je&261930)===0?(It=!0,t.memoizedState=a):(t=R_(),Ie.lanes|=t,Pr|=t,i)}function Cy(t,i,a,l,h){var d=J.p;J.p=d!==0&&8>d?d:8;var v=Y.T,S={};Y.T=S,ud(t,!1,i,a);try{var N=h(),q=Y.S;if(q!==null&&q(S,N),N!==null&&typeof N=="object"&&typeof N.then=="function"){var $=K1(N,l);dl(t,i,$,An(t))}else dl(t,i,l,An(t))}catch(ne){dl(t,i,{then:function(){},status:"rejected",reason:ne},An())}finally{J.p=d,v!==null&&S.types!==null&&(v.types=S.types),Y.T=v}}function Z1(){}function od(t,i,a,l){if(t.tag!==5)throw Error(s(476));var h=Iy(t).queue;Cy(t,h,i,se,a===null?Z1:function(){return Ny(t),a(l)})}function Iy(t){var i=t.memoizedState;if(i!==null)return i;i={memoizedState:se,baseState:se,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:$i,lastRenderedState:se},next:null};var a={};return i.next={memoizedState:a,baseState:a,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:$i,lastRenderedState:a},next:null},t.memoizedState=i,t=t.alternate,t!==null&&(t.memoizedState=i),i}function Ny(t){var i=Iy(t);i.next===null&&(i=t.alternate.memoizedState),dl(t,i.next.queue,{},An())}function ld(){return Gt(Nl)}function Dy(){return Et().memoizedState}function Oy(){return Et().memoizedState}function eS(t){for(var i=t.return;i!==null;){switch(i.tag){case 24:case 3:var a=An();t=Dr(a);var l=Or(i,t,a);l!==null&&(fn(l,i,a),ll(l,i,a)),i={cache:Pf()},t.payload=i;return}i=i.return}}function tS(t,i,a){var l=An();a={lane:l,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null},_c(t)?Vy(i,a):(a=xf(t,i,a,l),a!==null&&(fn(a,t,l),jy(a,i,l)))}function My(t,i,a){var l=An();dl(t,i,a,l)}function dl(t,i,a,l){var h={lane:l,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null};if(_c(t))Vy(i,h);else{var d=t.alternate;if(t.lanes===0&&(d===null||d.lanes===0)&&(d=i.lastRenderedReducer,d!==null))try{var v=i.lastRenderedState,S=d(v,a);if(h.hasEagerState=!0,h.eagerState=S,_n(S,v))return Wu(t,i,h,0),it===null&&Ju(),!1}catch{}finally{}if(a=xf(t,i,h,l),a!==null)return fn(a,t,l),jy(a,i,l),!0}return!1}function ud(t,i,a,l){if(l={lane:2,revertLane:Bd(),gesture:null,action:l,hasEagerState:!1,eagerState:null,next:null},_c(t)){if(i)throw Error(s(479))}else i=xf(t,a,l,2),i!==null&&fn(i,t,2)}function _c(t){var i=t.alternate;return t===Ie||i!==null&&i===Ie}function Vy(t,i){Ua=hc=!0;var a=t.pending;a===null?i.next=i:(i.next=a.next,a.next=i),t.pending=i}function jy(t,i,a){if((a&4194048)!==0){var l=i.lanes;l&=t.pendingLanes,a|=l,i.lanes=a,jo(t,a)}}var ml={readContext:Gt,use:mc,useCallback:mt,useContext:mt,useEffect:mt,useImperativeHandle:mt,useLayoutEffect:mt,useInsertionEffect:mt,useMemo:mt,useReducer:mt,useRef:mt,useState:mt,useDebugValue:mt,useDeferredValue:mt,useTransition:mt,useSyncExternalStore:mt,useId:mt,useHostTransitionStatus:mt,useFormState:mt,useActionState:mt,useOptimistic:mt,useMemoCache:mt,useCacheRefresh:mt};ml.useEffectEvent=mt;var ky={readContext:Gt,use:mc,useCallback:function(t,i){return sn().memoizedState=[t,i===void 0?null:i],t},useContext:Gt,useEffect:vy,useImperativeHandle:function(t,i,a){a=a!=null?a.concat([t]):null,gc(4194308,4,Sy.bind(null,i,t),a)},useLayoutEffect:function(t,i){return gc(4194308,4,t,i)},useInsertionEffect:function(t,i){gc(4,2,t,i)},useMemo:function(t,i){var a=sn();i=i===void 0?null:i;var l=t();if(Gs){Cn(!0);try{t()}finally{Cn(!1)}}return a.memoizedState=[l,i],l},useReducer:function(t,i,a){var l=sn();if(a!==void 0){var h=a(i);if(Gs){Cn(!0);try{a(i)}finally{Cn(!1)}}}else h=i;return l.memoizedState=l.baseState=h,t={pending:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:h},l.queue=t,t=t.dispatch=tS.bind(null,Ie,t),[l.memoizedState,t]},useRef:function(t){var i=sn();return t={current:t},i.memoizedState=t},useState:function(t){t=nd(t);var i=t.queue,a=My.bind(null,Ie,i);return i.dispatch=a,[t.memoizedState,a]},useDebugValue:sd,useDeferredValue:function(t,i){var a=sn();return ad(a,t,i)},useTransition:function(){var t=nd(!1);return t=Cy.bind(null,Ie,t.queue,!0,!1),sn().memoizedState=t,[!1,t]},useSyncExternalStore:function(t,i,a){var l=Ie,h=sn();if(ze){if(a===void 0)throw Error(s(407));a=a()}else{if(a=i(),it===null)throw Error(s(349));(je&127)!==0||iy(l,i,a)}h.memoizedState=a;var d={value:a,getSnapshot:i};return h.queue=d,vy(sy.bind(null,l,d,t),[t]),l.flags|=2048,Ba(9,{destroy:void 0},ry.bind(null,l,d,a,i),null),a},useId:function(){var t=sn(),i=it.identifierPrefix;if(ze){var a=Ci,l=Ri;a=(l&~(1<<32-yt(l)-1)).toString(32)+a,i="_"+i+"R_"+a,a=fc++,0<a&&(i+="H"+a.toString(32)),i+="_"}else a=Y1++,i="_"+i+"r_"+a.toString(32)+"_";return t.memoizedState=i},useHostTransitionStatus:ld,useFormState:my,useActionState:my,useOptimistic:function(t){var i=sn();i.memoizedState=i.baseState=t;var a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return i.queue=a,i=ud.bind(null,Ie,!0,a),a.dispatch=i,[t,i]},useMemoCache:Zf,useCacheRefresh:function(){return sn().memoizedState=eS.bind(null,Ie)},useEffectEvent:function(t){var i=sn(),a={impl:t};return i.memoizedState=a,function(){if((Qe&2)!==0)throw Error(s(440));return a.impl.apply(void 0,arguments)}}},cd={readContext:Gt,use:mc,useCallback:wy,useContext:Gt,useEffect:rd,useImperativeHandle:Ay,useInsertionEffect:by,useLayoutEffect:Ty,useMemo:xy,useReducer:pc,useRef:_y,useState:function(){return pc($i)},useDebugValue:sd,useDeferredValue:function(t,i){var a=Et();return Ry(a,et.memoizedState,t,i)},useTransition:function(){var t=pc($i)[0],i=Et().memoizedState;return[typeof t=="boolean"?t:fl(t),i]},useSyncExternalStore:ny,useId:Dy,useHostTransitionStatus:ld,useFormState:py,useActionState:py,useOptimistic:function(t,i){var a=Et();return ly(a,et,t,i)},useMemoCache:Zf,useCacheRefresh:Oy};cd.useEffectEvent=Ey;var Py={readContext:Gt,use:mc,useCallback:wy,useContext:Gt,useEffect:rd,useImperativeHandle:Ay,useInsertionEffect:by,useLayoutEffect:Ty,useMemo:xy,useReducer:td,useRef:_y,useState:function(){return td($i)},useDebugValue:sd,useDeferredValue:function(t,i){var a=Et();return et===null?ad(a,t,i):Ry(a,et.memoizedState,t,i)},useTransition:function(){var t=td($i)[0],i=Et().memoizedState;return[typeof t=="boolean"?t:fl(t),i]},useSyncExternalStore:ny,useId:Dy,useHostTransitionStatus:ld,useFormState:yy,useActionState:yy,useOptimistic:function(t,i){var a=Et();return et!==null?ly(a,et,t,i):(a.baseState=t,[t,a.queue.dispatch])},useMemoCache:Zf,useCacheRefresh:Oy};Py.useEffectEvent=Ey;function hd(t,i,a,l){i=t.memoizedState,a=a(l,i),a=a==null?i:T({},i,a),t.memoizedState=a,t.lanes===0&&(t.updateQueue.baseState=a)}var fd={enqueueSetState:function(t,i,a){t=t._reactInternals;var l=An(),h=Dr(l);h.payload=i,a!=null&&(h.callback=a),i=Or(t,h,l),i!==null&&(fn(i,t,l),ll(i,t,l))},enqueueReplaceState:function(t,i,a){t=t._reactInternals;var l=An(),h=Dr(l);h.tag=1,h.payload=i,a!=null&&(h.callback=a),i=Or(t,h,l),i!==null&&(fn(i,t,l),ll(i,t,l))},enqueueForceUpdate:function(t,i){t=t._reactInternals;var a=An(),l=Dr(a);l.tag=2,i!=null&&(l.callback=i),i=Or(t,l,a),i!==null&&(fn(i,t,a),ll(i,t,a))}};function Ly(t,i,a,l,h,d,v){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(l,d,v):i.prototype&&i.prototype.isPureReactComponent?!el(a,l)||!el(h,d):!0}function Uy(t,i,a,l){t=i.state,typeof i.componentWillReceiveProps=="function"&&i.componentWillReceiveProps(a,l),typeof i.UNSAFE_componentWillReceiveProps=="function"&&i.UNSAFE_componentWillReceiveProps(a,l),i.state!==t&&fd.enqueueReplaceState(i,i.state,null)}function Qs(t,i){var a=i;if("ref"in i){a={};for(var l in i)l!=="ref"&&(a[l]=i[l])}if(t=t.defaultProps){a===i&&(a=T({},a));for(var h in t)a[h]===void 0&&(a[h]=t[h])}return a}function zy(t){Xu(t)}function By(t){console.error(t)}function qy(t){Xu(t)}function vc(t,i){try{var a=t.onUncaughtError;a(i.value,{componentStack:i.stack})}catch(l){setTimeout(function(){throw l})}}function Hy(t,i,a){try{var l=t.onCaughtError;l(a.value,{componentStack:a.stack,errorBoundary:i.tag===1?i.stateNode:null})}catch(h){setTimeout(function(){throw h})}}function dd(t,i,a){return a=Dr(a),a.tag=3,a.payload={element:null},a.callback=function(){vc(t,i)},a}function Fy(t){return t=Dr(t),t.tag=3,t}function Gy(t,i,a,l){var h=a.type.getDerivedStateFromError;if(typeof h=="function"){var d=l.value;t.payload=function(){return h(d)},t.callback=function(){Hy(i,a,l)}}var v=a.stateNode;v!==null&&typeof v.componentDidCatch=="function"&&(t.callback=function(){Hy(i,a,l),typeof h!="function"&&(Lr===null?Lr=new Set([this]):Lr.add(this));var S=l.stack;this.componentDidCatch(l.value,{componentStack:S!==null?S:""})})}function nS(t,i,a,l,h){if(a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){if(i=a.alternate,i!==null&&Ma(i,a,h,!0),a=En.current,a!==null){switch(a.tag){case 31:case 13:return Ln===null?Dc():a.alternate===null&&pt===0&&(pt=3),a.flags&=-257,a.flags|=65536,a.lanes=h,l===ac?a.flags|=16384:(i=a.updateQueue,i===null?a.updateQueue=new Set([l]):i.add(l),Ld(t,l,h)),!1;case 22:return a.flags|=65536,l===ac?a.flags|=16384:(i=a.updateQueue,i===null?(i={transitions:null,markerInstances:null,retryQueue:new Set([l])},a.updateQueue=i):(a=i.retryQueue,a===null?i.retryQueue=new Set([l]):a.add(l)),Ld(t,l,h)),!1}throw Error(s(435,a.tag))}return Ld(t,l,h),Dc(),!1}if(ze)return i=En.current,i!==null?((i.flags&65536)===0&&(i.flags|=256),i.flags|=65536,i.lanes=h,l!==Of&&(t=Error(s(422),{cause:l}),il(Vn(t,a)))):(l!==Of&&(i=Error(s(423),{cause:l}),il(Vn(i,a))),t=t.current.alternate,t.flags|=65536,h&=-h,t.lanes|=h,l=Vn(l,a),h=dd(t.stateNode,l,h),Hf(t,h),pt!==4&&(pt=2)),!1;var d=Error(s(520),{cause:l});if(d=Vn(d,a),Tl===null?Tl=[d]:Tl.push(d),pt!==4&&(pt=2),i===null)return!0;l=Vn(l,a),a=i;do{switch(a.tag){case 3:return a.flags|=65536,t=h&-h,a.lanes|=t,t=dd(a.stateNode,l,t),Hf(a,t),!1;case 1:if(i=a.type,d=a.stateNode,(a.flags&128)===0&&(typeof i.getDerivedStateFromError=="function"||d!==null&&typeof d.componentDidCatch=="function"&&(Lr===null||!Lr.has(d))))return a.flags|=65536,h&=-h,a.lanes|=h,h=Fy(h),Gy(h,t,a,l),Hf(a,h),!1}a=a.return}while(a!==null);return!1}var md=Error(s(461)),It=!1;function Qt(t,i,a,l){i.child=t===null?$g(i,null,a,l):Fs(i,t.child,a,l)}function Qy(t,i,a,l,h){a=a.render;var d=i.ref;if("ref"in l){var v={};for(var S in l)S!=="ref"&&(v[S]=l[S])}else v=l;return zs(i),l=$f(t,i,a,v,d,h),S=Xf(),t!==null&&!It?(Jf(t,i,h),Xi(t,i,h)):(ze&&S&&Nf(i),i.flags|=1,Qt(t,i,l,h),i.child)}function Ky(t,i,a,l,h){if(t===null){var d=a.type;return typeof d=="function"&&!Rf(d)&&d.defaultProps===void 0&&a.compare===null?(i.tag=15,i.type=d,Yy(t,i,d,l,h)):(t=ec(a.type,null,l,i,i.mode,h),t.ref=i.ref,t.return=i,i.child=t)}if(d=t.child,!Td(t,h)){var v=d.memoizedProps;if(a=a.compare,a=a!==null?a:el,a(v,l)&&t.ref===i.ref)return Xi(t,i,h)}return i.flags|=1,t=Fi(d,l),t.ref=i.ref,t.return=i,i.child=t}function Yy(t,i,a,l,h){if(t!==null){var d=t.memoizedProps;if(el(d,l)&&t.ref===i.ref)if(It=!1,i.pendingProps=l=d,Td(t,h))(t.flags&131072)!==0&&(It=!0);else return i.lanes=t.lanes,Xi(t,i,h)}return pd(t,i,a,l,h)}function $y(t,i,a,l){var h=l.children,d=t!==null?t.memoizedState:null;if(t===null&&i.stateNode===null&&(i.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),l.mode==="hidden"){if((i.flags&128)!==0){if(d=d!==null?d.baseLanes|a:a,t!==null){for(l=i.child=t.child,h=0;l!==null;)h=h|l.lanes|l.childLanes,l=l.sibling;l=h&~d}else l=0,i.child=null;return Xy(t,i,d,a,l)}if((a&536870912)!==0)i.memoizedState={baseLanes:0,cachePool:null},t!==null&&rc(i,d!==null?d.cachePool:null),d!==null?Wg(i,d):Gf(),Zg(i);else return l=i.lanes=536870912,Xy(t,i,d!==null?d.baseLanes|a:a,a,l)}else d!==null?(rc(i,d.cachePool),Wg(i,d),Vr(),i.memoizedState=null):(t!==null&&rc(i,null),Gf(),Vr());return Qt(t,i,h,a),i.child}function pl(t,i){return t!==null&&t.tag===22||i.stateNode!==null||(i.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),i.sibling}function Xy(t,i,a,l,h){var d=Uf();return d=d===null?null:{parent:Rt._currentValue,pool:d},i.memoizedState={baseLanes:a,cachePool:d},t!==null&&rc(i,null),Gf(),Zg(i),t!==null&&Ma(t,i,l,!0),i.childLanes=h,null}function Ec(t,i){return i=Tc({mode:i.mode,children:i.children},t.mode),i.ref=t.ref,t.child=i,i.return=t,i}function Jy(t,i,a){return Fs(i,t.child,null,a),t=Ec(i,i.pendingProps),t.flags|=2,bn(i),i.memoizedState=null,t}function iS(t,i,a){var l=i.pendingProps,h=(i.flags&128)!==0;if(i.flags&=-129,t===null){if(ze){if(l.mode==="hidden")return t=Ec(i,l),i.lanes=536870912,pl(null,t);if(Kf(i),(t=at)?(t=uv(t,Pn),t=t!==null&&t.data==="&"?t:null,t!==null&&(i.memoizedState={dehydrated:t,treeContext:xr!==null?{id:Ri,overflow:Ci}:null,retryLane:536870912,hydrationErrors:null},a=Vg(t),a.return=i,i.child=a,Ft=i,at=null)):t=null,t===null)throw Cr(i);return i.lanes=536870912,null}return Ec(i,l)}var d=t.memoizedState;if(d!==null){var v=d.dehydrated;if(Kf(i),h)if(i.flags&256)i.flags&=-257,i=Jy(t,i,a);else if(i.memoizedState!==null)i.child=t.child,i.flags|=128,i=null;else throw Error(s(558));else if(It||Ma(t,i,a,!1),h=(a&t.childLanes)!==0,It||h){if(l=it,l!==null&&(v=ko(l,a),v!==0&&v!==d.retryLane))throw d.retryLane=v,ks(t,v),fn(l,t,v),md;Dc(),i=Jy(t,i,a)}else t=d.treeContext,at=Un(v.nextSibling),Ft=i,ze=!0,Rr=null,Pn=!1,t!==null&&Pg(i,t),i=Ec(i,l),i.flags|=4096;return i}return t=Fi(t.child,{mode:l.mode,children:l.children}),t.ref=i.ref,i.child=t,t.return=i,t}function bc(t,i){var a=i.ref;if(a===null)t!==null&&t.ref!==null&&(i.flags|=4194816);else{if(typeof a!="function"&&typeof a!="object")throw Error(s(284));(t===null||t.ref!==a)&&(i.flags|=4194816)}}function pd(t,i,a,l,h){return zs(i),a=$f(t,i,a,l,void 0,h),l=Xf(),t!==null&&!It?(Jf(t,i,h),Xi(t,i,h)):(ze&&l&&Nf(i),i.flags|=1,Qt(t,i,a,h),i.child)}function Wy(t,i,a,l,h,d){return zs(i),i.updateQueue=null,a=ty(i,l,a,h),ey(t),l=Xf(),t!==null&&!It?(Jf(t,i,d),Xi(t,i,d)):(ze&&l&&Nf(i),i.flags|=1,Qt(t,i,a,d),i.child)}function Zy(t,i,a,l,h){if(zs(i),i.stateNode===null){var d=Ia,v=a.contextType;typeof v=="object"&&v!==null&&(d=Gt(v)),d=new a(l,d),i.memoizedState=d.state!==null&&d.state!==void 0?d.state:null,d.updater=fd,i.stateNode=d,d._reactInternals=i,d=i.stateNode,d.props=l,d.state=i.memoizedState,d.refs={},Bf(i),v=a.contextType,d.context=typeof v=="object"&&v!==null?Gt(v):Ia,d.state=i.memoizedState,v=a.getDerivedStateFromProps,typeof v=="function"&&(hd(i,a,v,l),d.state=i.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof d.getSnapshotBeforeUpdate=="function"||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(v=d.state,typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount(),v!==d.state&&fd.enqueueReplaceState(d,d.state,null),cl(i,l,d,h),ul(),d.state=i.memoizedState),typeof d.componentDidMount=="function"&&(i.flags|=4194308),l=!0}else if(t===null){d=i.stateNode;var S=i.memoizedProps,N=Qs(a,S);d.props=N;var q=d.context,$=a.contextType;v=Ia,typeof $=="object"&&$!==null&&(v=Gt($));var ne=a.getDerivedStateFromProps;$=typeof ne=="function"||typeof d.getSnapshotBeforeUpdate=="function",S=i.pendingProps!==S,$||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(S||q!==v)&&Uy(i,d,l,v),Nr=!1;var H=i.memoizedState;d.state=H,cl(i,l,d,h),ul(),q=i.memoizedState,S||H!==q||Nr?(typeof ne=="function"&&(hd(i,a,ne,l),q=i.memoizedState),(N=Nr||Ly(i,a,N,l,H,q,v))?($||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount()),typeof d.componentDidMount=="function"&&(i.flags|=4194308)):(typeof d.componentDidMount=="function"&&(i.flags|=4194308),i.memoizedProps=l,i.memoizedState=q),d.props=l,d.state=q,d.context=v,l=N):(typeof d.componentDidMount=="function"&&(i.flags|=4194308),l=!1)}else{d=i.stateNode,qf(t,i),v=i.memoizedProps,$=Qs(a,v),d.props=$,ne=i.pendingProps,H=d.context,q=a.contextType,N=Ia,typeof q=="object"&&q!==null&&(N=Gt(q)),S=a.getDerivedStateFromProps,(q=typeof S=="function"||typeof d.getSnapshotBeforeUpdate=="function")||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(v!==ne||H!==N)&&Uy(i,d,l,N),Nr=!1,H=i.memoizedState,d.state=H,cl(i,l,d,h),ul();var Q=i.memoizedState;v!==ne||H!==Q||Nr||t!==null&&t.dependencies!==null&&nc(t.dependencies)?(typeof S=="function"&&(hd(i,a,S,l),Q=i.memoizedState),($=Nr||Ly(i,a,$,l,H,Q,N)||t!==null&&t.dependencies!==null&&nc(t.dependencies))?(q||typeof d.UNSAFE_componentWillUpdate!="function"&&typeof d.componentWillUpdate!="function"||(typeof d.componentWillUpdate=="function"&&d.componentWillUpdate(l,Q,N),typeof d.UNSAFE_componentWillUpdate=="function"&&d.UNSAFE_componentWillUpdate(l,Q,N)),typeof d.componentDidUpdate=="function"&&(i.flags|=4),typeof d.getSnapshotBeforeUpdate=="function"&&(i.flags|=1024)):(typeof d.componentDidUpdate!="function"||v===t.memoizedProps&&H===t.memoizedState||(i.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||v===t.memoizedProps&&H===t.memoizedState||(i.flags|=1024),i.memoizedProps=l,i.memoizedState=Q),d.props=l,d.state=Q,d.context=N,l=$):(typeof d.componentDidUpdate!="function"||v===t.memoizedProps&&H===t.memoizedState||(i.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||v===t.memoizedProps&&H===t.memoizedState||(i.flags|=1024),l=!1)}return d=l,bc(t,i),l=(i.flags&128)!==0,d||l?(d=i.stateNode,a=l&&typeof a.getDerivedStateFromError!="function"?null:d.render(),i.flags|=1,t!==null&&l?(i.child=Fs(i,t.child,null,h),i.child=Fs(i,null,a,h)):Qt(t,i,a,h),i.memoizedState=d.state,t=i.child):t=Xi(t,i,h),t}function e_(t,i,a,l){return Ls(),i.flags|=256,Qt(t,i,a,l),i.child}var gd={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function yd(t){return{baseLanes:t,cachePool:Hg()}}function _d(t,i,a){return t=t!==null?t.childLanes&~a:0,i&&(t|=Sn),t}function t_(t,i,a){var l=i.pendingProps,h=!1,d=(i.flags&128)!==0,v;if((v=d)||(v=t!==null&&t.memoizedState===null?!1:(vt.current&2)!==0),v&&(h=!0,i.flags&=-129),v=(i.flags&32)!==0,i.flags&=-33,t===null){if(ze){if(h?Mr(i):Vr(),(t=at)?(t=uv(t,Pn),t=t!==null&&t.data!=="&"?t:null,t!==null&&(i.memoizedState={dehydrated:t,treeContext:xr!==null?{id:Ri,overflow:Ci}:null,retryLane:536870912,hydrationErrors:null},a=Vg(t),a.return=i,i.child=a,Ft=i,at=null)):t=null,t===null)throw Cr(i);return em(t)?i.lanes=32:i.lanes=536870912,null}var S=l.children;return l=l.fallback,h?(Vr(),h=i.mode,S=Tc({mode:"hidden",children:S},h),l=Ps(l,h,a,null),S.return=i,l.return=i,S.sibling=l,i.child=S,l=i.child,l.memoizedState=yd(a),l.childLanes=_d(t,v,a),i.memoizedState=gd,pl(null,l)):(Mr(i),vd(i,S))}var N=t.memoizedState;if(N!==null&&(S=N.dehydrated,S!==null)){if(d)i.flags&256?(Mr(i),i.flags&=-257,i=Ed(t,i,a)):i.memoizedState!==null?(Vr(),i.child=t.child,i.flags|=128,i=null):(Vr(),S=l.fallback,h=i.mode,l=Tc({mode:"visible",children:l.children},h),S=Ps(S,h,a,null),S.flags|=2,l.return=i,S.return=i,l.sibling=S,i.child=l,Fs(i,t.child,null,a),l=i.child,l.memoizedState=yd(a),l.childLanes=_d(t,v,a),i.memoizedState=gd,i=pl(null,l));else if(Mr(i),em(S)){if(v=S.nextSibling&&S.nextSibling.dataset,v)var q=v.dgst;v=q,l=Error(s(419)),l.stack="",l.digest=v,il({value:l,source:null,stack:null}),i=Ed(t,i,a)}else if(It||Ma(t,i,a,!1),v=(a&t.childLanes)!==0,It||v){if(v=it,v!==null&&(l=ko(v,a),l!==0&&l!==N.retryLane))throw N.retryLane=l,ks(t,l),fn(v,t,l),md;Zd(S)||Dc(),i=Ed(t,i,a)}else Zd(S)?(i.flags|=192,i.child=t.child,i=null):(t=N.treeContext,at=Un(S.nextSibling),Ft=i,ze=!0,Rr=null,Pn=!1,t!==null&&Pg(i,t),i=vd(i,l.children),i.flags|=4096);return i}return h?(Vr(),S=l.fallback,h=i.mode,N=t.child,q=N.sibling,l=Fi(N,{mode:"hidden",children:l.children}),l.subtreeFlags=N.subtreeFlags&65011712,q!==null?S=Fi(q,S):(S=Ps(S,h,a,null),S.flags|=2),S.return=i,l.return=i,l.sibling=S,i.child=l,pl(null,l),l=i.child,S=t.child.memoizedState,S===null?S=yd(a):(h=S.cachePool,h!==null?(N=Rt._currentValue,h=h.parent!==N?{parent:N,pool:N}:h):h=Hg(),S={baseLanes:S.baseLanes|a,cachePool:h}),l.memoizedState=S,l.childLanes=_d(t,v,a),i.memoizedState=gd,pl(t.child,l)):(Mr(i),a=t.child,t=a.sibling,a=Fi(a,{mode:"visible",children:l.children}),a.return=i,a.sibling=null,t!==null&&(v=i.deletions,v===null?(i.deletions=[t],i.flags|=16):v.push(t)),i.child=a,i.memoizedState=null,a)}function vd(t,i){return i=Tc({mode:"visible",children:i},t.mode),i.return=t,t.child=i}function Tc(t,i){return t=vn(22,t,null,i),t.lanes=0,t}function Ed(t,i,a){return Fs(i,t.child,null,a),t=vd(i,i.pendingProps.children),t.flags|=2,i.memoizedState=null,t}function n_(t,i,a){t.lanes|=i;var l=t.alternate;l!==null&&(l.lanes|=i),jf(t.return,i,a)}function bd(t,i,a,l,h,d){var v=t.memoizedState;v===null?t.memoizedState={isBackwards:i,rendering:null,renderingStartTime:0,last:l,tail:a,tailMode:h,treeForkCount:d}:(v.isBackwards=i,v.rendering=null,v.renderingStartTime=0,v.last=l,v.tail=a,v.tailMode=h,v.treeForkCount=d)}function i_(t,i,a){var l=i.pendingProps,h=l.revealOrder,d=l.tail;l=l.children;var v=vt.current,S=(v&2)!==0;if(S?(v=v&1|2,i.flags|=128):v&=1,le(vt,v),Qt(t,i,l,a),l=ze?nl:0,!S&&t!==null&&(t.flags&128)!==0)e:for(t=i.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&n_(t,a,i);else if(t.tag===19)n_(t,a,i);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===i)break e;for(;t.sibling===null;){if(t.return===null||t.return===i)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}switch(h){case"forwards":for(a=i.child,h=null;a!==null;)t=a.alternate,t!==null&&cc(t)===null&&(h=a),a=a.sibling;a=h,a===null?(h=i.child,i.child=null):(h=a.sibling,a.sibling=null),bd(i,!1,h,a,d,l);break;case"backwards":case"unstable_legacy-backwards":for(a=null,h=i.child,i.child=null;h!==null;){if(t=h.alternate,t!==null&&cc(t)===null){i.child=h;break}t=h.sibling,h.sibling=a,a=h,h=t}bd(i,!0,a,null,d,l);break;case"together":bd(i,!1,null,null,void 0,l);break;default:i.memoizedState=null}return i.child}function Xi(t,i,a){if(t!==null&&(i.dependencies=t.dependencies),Pr|=i.lanes,(a&i.childLanes)===0)if(t!==null){if(Ma(t,i,a,!1),(a&i.childLanes)===0)return null}else return null;if(t!==null&&i.child!==t.child)throw Error(s(153));if(i.child!==null){for(t=i.child,a=Fi(t,t.pendingProps),i.child=a,a.return=i;t.sibling!==null;)t=t.sibling,a=a.sibling=Fi(t,t.pendingProps),a.return=i;a.sibling=null}return i.child}function Td(t,i){return(t.lanes&i)!==0?!0:(t=t.dependencies,!!(t!==null&&nc(t)))}function rS(t,i,a){switch(i.tag){case 3:qe(i,i.stateNode.containerInfo),Ir(i,Rt,t.memoizedState.cache),Ls();break;case 27:case 5:st(i);break;case 4:qe(i,i.stateNode.containerInfo);break;case 10:Ir(i,i.type,i.memoizedProps.value);break;case 31:if(i.memoizedState!==null)return i.flags|=128,Kf(i),null;break;case 13:var l=i.memoizedState;if(l!==null)return l.dehydrated!==null?(Mr(i),i.flags|=128,null):(a&i.child.childLanes)!==0?t_(t,i,a):(Mr(i),t=Xi(t,i,a),t!==null?t.sibling:null);Mr(i);break;case 19:var h=(t.flags&128)!==0;if(l=(a&i.childLanes)!==0,l||(Ma(t,i,a,!1),l=(a&i.childLanes)!==0),h){if(l)return i_(t,i,a);i.flags|=128}if(h=i.memoizedState,h!==null&&(h.rendering=null,h.tail=null,h.lastEffect=null),le(vt,vt.current),l)break;return null;case 22:return i.lanes=0,$y(t,i,a,i.pendingProps);case 24:Ir(i,Rt,t.memoizedState.cache)}return Xi(t,i,a)}function r_(t,i,a){if(t!==null)if(t.memoizedProps!==i.pendingProps)It=!0;else{if(!Td(t,a)&&(i.flags&128)===0)return It=!1,rS(t,i,a);It=(t.flags&131072)!==0}else It=!1,ze&&(i.flags&1048576)!==0&&kg(i,nl,i.index);switch(i.lanes=0,i.tag){case 16:e:{var l=i.pendingProps;if(t=qs(i.elementType),i.type=t,typeof t=="function")Rf(t)?(l=Qs(t,l),i.tag=1,i=Zy(null,i,t,l,a)):(i.tag=0,i=pd(null,i,t,l,a));else{if(t!=null){var h=t.$$typeof;if(h===ye){i.tag=11,i=Qy(null,i,t,l,a);break e}else if(h===R){i.tag=14,i=Ky(null,i,t,l,a);break e}}throw i=$e(t)||t,Error(s(306,i,""))}}return i;case 0:return pd(t,i,i.type,i.pendingProps,a);case 1:return l=i.type,h=Qs(l,i.pendingProps),Zy(t,i,l,h,a);case 3:e:{if(qe(i,i.stateNode.containerInfo),t===null)throw Error(s(387));l=i.pendingProps;var d=i.memoizedState;h=d.element,qf(t,i),cl(i,l,null,a);var v=i.memoizedState;if(l=v.cache,Ir(i,Rt,l),l!==d.cache&&kf(i,[Rt],a,!0),ul(),l=v.element,d.isDehydrated)if(d={element:l,isDehydrated:!1,cache:v.cache},i.updateQueue.baseState=d,i.memoizedState=d,i.flags&256){i=e_(t,i,l,a);break e}else if(l!==h){h=Vn(Error(s(424)),i),il(h),i=e_(t,i,l,a);break e}else{switch(t=i.stateNode.containerInfo,t.nodeType){case 9:t=t.body;break;default:t=t.nodeName==="HTML"?t.ownerDocument.body:t}for(at=Un(t.firstChild),Ft=i,ze=!0,Rr=null,Pn=!0,a=$g(i,null,l,a),i.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling}else{if(Ls(),l===h){i=Xi(t,i,a);break e}Qt(t,i,l,a)}i=i.child}return i;case 26:return bc(t,i),t===null?(a=pv(i.type,null,i.pendingProps,null))?i.memoizedState=a:ze||(a=i.type,t=i.pendingProps,l=Lc(we.current).createElement(a),l[At]=i,l[Lt]=t,Kt(l,a,t),wt(l),i.stateNode=l):i.memoizedState=pv(i.type,t.memoizedProps,i.pendingProps,t.memoizedState),null;case 27:return st(i),t===null&&ze&&(l=i.stateNode=fv(i.type,i.pendingProps,we.current),Ft=i,Pn=!0,h=at,qr(i.type)?(tm=h,at=Un(l.firstChild)):at=h),Qt(t,i,i.pendingProps.children,a),bc(t,i),t===null&&(i.flags|=4194304),i.child;case 5:return t===null&&ze&&((h=l=at)&&(l=VS(l,i.type,i.pendingProps,Pn),l!==null?(i.stateNode=l,Ft=i,at=Un(l.firstChild),Pn=!1,h=!0):h=!1),h||Cr(i)),st(i),h=i.type,d=i.pendingProps,v=t!==null?t.memoizedProps:null,l=d.children,Xd(h,d)?l=null:v!==null&&Xd(h,v)&&(i.flags|=32),i.memoizedState!==null&&(h=$f(t,i,$1,null,null,a),Nl._currentValue=h),bc(t,i),Qt(t,i,l,a),i.child;case 6:return t===null&&ze&&((t=a=at)&&(a=jS(a,i.pendingProps,Pn),a!==null?(i.stateNode=a,Ft=i,at=null,t=!0):t=!1),t||Cr(i)),null;case 13:return t_(t,i,a);case 4:return qe(i,i.stateNode.containerInfo),l=i.pendingProps,t===null?i.child=Fs(i,null,l,a):Qt(t,i,l,a),i.child;case 11:return Qy(t,i,i.type,i.pendingProps,a);case 7:return Qt(t,i,i.pendingProps,a),i.child;case 8:return Qt(t,i,i.pendingProps.children,a),i.child;case 12:return Qt(t,i,i.pendingProps.children,a),i.child;case 10:return l=i.pendingProps,Ir(i,i.type,l.value),Qt(t,i,l.children,a),i.child;case 9:return h=i.type._context,l=i.pendingProps.children,zs(i),h=Gt(h),l=l(h),i.flags|=1,Qt(t,i,l,a),i.child;case 14:return Ky(t,i,i.type,i.pendingProps,a);case 15:return Yy(t,i,i.type,i.pendingProps,a);case 19:return i_(t,i,a);case 31:return iS(t,i,a);case 22:return $y(t,i,a,i.pendingProps);case 24:return zs(i),l=Gt(Rt),t===null?(h=Uf(),h===null&&(h=it,d=Pf(),h.pooledCache=d,d.refCount++,d!==null&&(h.pooledCacheLanes|=a),h=d),i.memoizedState={parent:l,cache:h},Bf(i),Ir(i,Rt,h)):((t.lanes&a)!==0&&(qf(t,i),cl(i,null,null,a),ul()),h=t.memoizedState,d=i.memoizedState,h.parent!==l?(h={parent:l,cache:l},i.memoizedState=h,i.lanes===0&&(i.memoizedState=i.updateQueue.baseState=h),Ir(i,Rt,l)):(l=d.cache,Ir(i,Rt,l),l!==h.cache&&kf(i,[Rt],a,!0))),Qt(t,i,i.pendingProps.children,a),i.child;case 29:throw i.pendingProps}throw Error(s(156,i.tag))}function Ji(t){t.flags|=4}function Sd(t,i,a,l,h){if((i=(t.mode&32)!==0)&&(i=!1),i){if(t.flags|=16777216,(h&335544128)===h)if(t.stateNode.complete)t.flags|=8192;else if(D_())t.flags|=8192;else throw Hs=ac,zf}else t.flags&=-16777217}function s_(t,i){if(i.type!=="stylesheet"||(i.state.loading&4)!==0)t.flags&=-16777217;else if(t.flags|=16777216,!Ev(i))if(D_())t.flags|=8192;else throw Hs=ac,zf}function Sc(t,i){i!==null&&(t.flags|=4),t.flags&16384&&(i=t.tag!==22?Iu():536870912,t.lanes|=i,Ga|=i)}function gl(t,i){if(!ze)switch(t.tailMode){case"hidden":i=t.tail;for(var a=null;i!==null;)i.alternate!==null&&(a=i),i=i.sibling;a===null?t.tail=null:a.sibling=null;break;case"collapsed":a=t.tail;for(var l=null;a!==null;)a.alternate!==null&&(l=a),a=a.sibling;l===null?i||t.tail===null?t.tail=null:t.tail.sibling=null:l.sibling=null}}function ot(t){var i=t.alternate!==null&&t.alternate.child===t.child,a=0,l=0;if(i)for(var h=t.child;h!==null;)a|=h.lanes|h.childLanes,l|=h.subtreeFlags&65011712,l|=h.flags&65011712,h.return=t,h=h.sibling;else for(h=t.child;h!==null;)a|=h.lanes|h.childLanes,l|=h.subtreeFlags,l|=h.flags,h.return=t,h=h.sibling;return t.subtreeFlags|=l,t.childLanes=a,i}function sS(t,i,a){var l=i.pendingProps;switch(Df(i),i.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ot(i),null;case 1:return ot(i),null;case 3:return a=i.stateNode,l=null,t!==null&&(l=t.memoizedState.cache),i.memoizedState.cache!==l&&(i.flags|=2048),Ki(Rt),De(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(t===null||t.child===null)&&(Oa(i)?Ji(i):t===null||t.memoizedState.isDehydrated&&(i.flags&256)===0||(i.flags|=1024,Mf())),ot(i),null;case 26:var h=i.type,d=i.memoizedState;return t===null?(Ji(i),d!==null?(ot(i),s_(i,d)):(ot(i),Sd(i,h,null,l,a))):d?d!==t.memoizedState?(Ji(i),ot(i),s_(i,d)):(ot(i),i.flags&=-16777217):(t=t.memoizedProps,t!==l&&Ji(i),ot(i),Sd(i,h,t,l,a)),null;case 27:if(Rn(i),a=we.current,h=i.type,t!==null&&i.stateNode!=null)t.memoizedProps!==l&&Ji(i);else{if(!l){if(i.stateNode===null)throw Error(s(166));return ot(i),null}t=ce.current,Oa(i)?Lg(i):(t=fv(h,l,a),i.stateNode=t,Ji(i))}return ot(i),null;case 5:if(Rn(i),h=i.type,t!==null&&i.stateNode!=null)t.memoizedProps!==l&&Ji(i);else{if(!l){if(i.stateNode===null)throw Error(s(166));return ot(i),null}if(d=ce.current,Oa(i))Lg(i);else{var v=Lc(we.current);switch(d){case 1:d=v.createElementNS("http://www.w3.org/2000/svg",h);break;case 2:d=v.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;default:switch(h){case"svg":d=v.createElementNS("http://www.w3.org/2000/svg",h);break;case"math":d=v.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;case"script":d=v.createElement("div"),d.innerHTML="<script><\/script>",d=d.removeChild(d.firstChild);break;case"select":d=typeof l.is=="string"?v.createElement("select",{is:l.is}):v.createElement("select"),l.multiple?d.multiple=!0:l.size&&(d.size=l.size);break;default:d=typeof l.is=="string"?v.createElement(h,{is:l.is}):v.createElement(h)}}d[At]=i,d[Lt]=l;e:for(v=i.child;v!==null;){if(v.tag===5||v.tag===6)d.appendChild(v.stateNode);else if(v.tag!==4&&v.tag!==27&&v.child!==null){v.child.return=v,v=v.child;continue}if(v===i)break e;for(;v.sibling===null;){if(v.return===null||v.return===i)break e;v=v.return}v.sibling.return=v.return,v=v.sibling}i.stateNode=d;e:switch(Kt(d,h,l),h){case"button":case"input":case"select":case"textarea":l=!!l.autoFocus;break e;case"img":l=!0;break e;default:l=!1}l&&Ji(i)}}return ot(i),Sd(i,i.type,t===null?null:t.memoizedProps,i.pendingProps,a),null;case 6:if(t&&i.stateNode!=null)t.memoizedProps!==l&&Ji(i);else{if(typeof l!="string"&&i.stateNode===null)throw Error(s(166));if(t=we.current,Oa(i)){if(t=i.stateNode,a=i.memoizedProps,l=null,h=Ft,h!==null)switch(h.tag){case 27:case 5:l=h.memoizedProps}t[At]=i,t=!!(t.nodeValue===a||l!==null&&l.suppressHydrationWarning===!0||tv(t.nodeValue,a)),t||Cr(i,!0)}else t=Lc(t).createTextNode(l),t[At]=i,i.stateNode=t}return ot(i),null;case 31:if(a=i.memoizedState,t===null||t.memoizedState!==null){if(l=Oa(i),a!==null){if(t===null){if(!l)throw Error(s(318));if(t=i.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(s(557));t[At]=i}else Ls(),(i.flags&128)===0&&(i.memoizedState=null),i.flags|=4;ot(i),t=!1}else a=Mf(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=a),t=!0;if(!t)return i.flags&256?(bn(i),i):(bn(i),null);if((i.flags&128)!==0)throw Error(s(558))}return ot(i),null;case 13:if(l=i.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(h=Oa(i),l!==null&&l.dehydrated!==null){if(t===null){if(!h)throw Error(s(318));if(h=i.memoizedState,h=h!==null?h.dehydrated:null,!h)throw Error(s(317));h[At]=i}else Ls(),(i.flags&128)===0&&(i.memoizedState=null),i.flags|=4;ot(i),h=!1}else h=Mf(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=h),h=!0;if(!h)return i.flags&256?(bn(i),i):(bn(i),null)}return bn(i),(i.flags&128)!==0?(i.lanes=a,i):(a=l!==null,t=t!==null&&t.memoizedState!==null,a&&(l=i.child,h=null,l.alternate!==null&&l.alternate.memoizedState!==null&&l.alternate.memoizedState.cachePool!==null&&(h=l.alternate.memoizedState.cachePool.pool),d=null,l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(d=l.memoizedState.cachePool.pool),d!==h&&(l.flags|=2048)),a!==t&&a&&(i.child.flags|=8192),Sc(i,i.updateQueue),ot(i),null);case 4:return De(),t===null&&Gd(i.stateNode.containerInfo),ot(i),null;case 10:return Ki(i.type),ot(i),null;case 19:if(W(vt),l=i.memoizedState,l===null)return ot(i),null;if(h=(i.flags&128)!==0,d=l.rendering,d===null)if(h)gl(l,!1);else{if(pt!==0||t!==null&&(t.flags&128)!==0)for(t=i.child;t!==null;){if(d=cc(t),d!==null){for(i.flags|=128,gl(l,!1),t=d.updateQueue,i.updateQueue=t,Sc(i,t),i.subtreeFlags=0,t=a,a=i.child;a!==null;)Mg(a,t),a=a.sibling;return le(vt,vt.current&1|2),ze&&Gi(i,l.treeForkCount),i.child}t=t.sibling}l.tail!==null&&nn()>Cc&&(i.flags|=128,h=!0,gl(l,!1),i.lanes=4194304)}else{if(!h)if(t=cc(d),t!==null){if(i.flags|=128,h=!0,t=t.updateQueue,i.updateQueue=t,Sc(i,t),gl(l,!0),l.tail===null&&l.tailMode==="hidden"&&!d.alternate&&!ze)return ot(i),null}else 2*nn()-l.renderingStartTime>Cc&&a!==536870912&&(i.flags|=128,h=!0,gl(l,!1),i.lanes=4194304);l.isBackwards?(d.sibling=i.child,i.child=d):(t=l.last,t!==null?t.sibling=d:i.child=d,l.last=d)}return l.tail!==null?(t=l.tail,l.rendering=t,l.tail=t.sibling,l.renderingStartTime=nn(),t.sibling=null,a=vt.current,le(vt,h?a&1|2:a&1),ze&&Gi(i,l.treeForkCount),t):(ot(i),null);case 22:case 23:return bn(i),Qf(),l=i.memoizedState!==null,t!==null?t.memoizedState!==null!==l&&(i.flags|=8192):l&&(i.flags|=8192),l?(a&536870912)!==0&&(i.flags&128)===0&&(ot(i),i.subtreeFlags&6&&(i.flags|=8192)):ot(i),a=i.updateQueue,a!==null&&Sc(i,a.retryQueue),a=null,t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(a=t.memoizedState.cachePool.pool),l=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(l=i.memoizedState.cachePool.pool),l!==a&&(i.flags|=2048),t!==null&&W(Bs),null;case 24:return a=null,t!==null&&(a=t.memoizedState.cache),i.memoizedState.cache!==a&&(i.flags|=2048),Ki(Rt),ot(i),null;case 25:return null;case 30:return null}throw Error(s(156,i.tag))}function aS(t,i){switch(Df(i),i.tag){case 1:return t=i.flags,t&65536?(i.flags=t&-65537|128,i):null;case 3:return Ki(Rt),De(),t=i.flags,(t&65536)!==0&&(t&128)===0?(i.flags=t&-65537|128,i):null;case 26:case 27:case 5:return Rn(i),null;case 31:if(i.memoizedState!==null){if(bn(i),i.alternate===null)throw Error(s(340));Ls()}return t=i.flags,t&65536?(i.flags=t&-65537|128,i):null;case 13:if(bn(i),t=i.memoizedState,t!==null&&t.dehydrated!==null){if(i.alternate===null)throw Error(s(340));Ls()}return t=i.flags,t&65536?(i.flags=t&-65537|128,i):null;case 19:return W(vt),null;case 4:return De(),null;case 10:return Ki(i.type),null;case 22:case 23:return bn(i),Qf(),t!==null&&W(Bs),t=i.flags,t&65536?(i.flags=t&-65537|128,i):null;case 24:return Ki(Rt),null;case 25:return null;default:return null}}function a_(t,i){switch(Df(i),i.tag){case 3:Ki(Rt),De();break;case 26:case 27:case 5:Rn(i);break;case 4:De();break;case 31:i.memoizedState!==null&&bn(i);break;case 13:bn(i);break;case 19:W(vt);break;case 10:Ki(i.type);break;case 22:case 23:bn(i),Qf(),t!==null&&W(Bs);break;case 24:Ki(Rt)}}function yl(t,i){try{var a=i.updateQueue,l=a!==null?a.lastEffect:null;if(l!==null){var h=l.next;a=h;do{if((a.tag&t)===t){l=void 0;var d=a.create,v=a.inst;l=d(),v.destroy=l}a=a.next}while(a!==h)}}catch(S){We(i,i.return,S)}}function jr(t,i,a){try{var l=i.updateQueue,h=l!==null?l.lastEffect:null;if(h!==null){var d=h.next;l=d;do{if((l.tag&t)===t){var v=l.inst,S=v.destroy;if(S!==void 0){v.destroy=void 0,h=i;var N=a,q=S;try{q()}catch($){We(h,N,$)}}}l=l.next}while(l!==d)}}catch($){We(i,i.return,$)}}function o_(t){var i=t.updateQueue;if(i!==null){var a=t.stateNode;try{Jg(i,a)}catch(l){We(t,t.return,l)}}}function l_(t,i,a){a.props=Qs(t.type,t.memoizedProps),a.state=t.memoizedState;try{a.componentWillUnmount()}catch(l){We(t,i,l)}}function _l(t,i){try{var a=t.ref;if(a!==null){switch(t.tag){case 26:case 27:case 5:var l=t.stateNode;break;case 30:l=t.stateNode;break;default:l=t.stateNode}typeof a=="function"?t.refCleanup=a(l):a.current=l}}catch(h){We(t,i,h)}}function Ii(t,i){var a=t.ref,l=t.refCleanup;if(a!==null)if(typeof l=="function")try{l()}catch(h){We(t,i,h)}finally{t.refCleanup=null,t=t.alternate,t!=null&&(t.refCleanup=null)}else if(typeof a=="function")try{a(null)}catch(h){We(t,i,h)}else a.current=null}function u_(t){var i=t.type,a=t.memoizedProps,l=t.stateNode;try{e:switch(i){case"button":case"input":case"select":case"textarea":a.autoFocus&&l.focus();break e;case"img":a.src?l.src=a.src:a.srcSet&&(l.srcset=a.srcSet)}}catch(h){We(t,t.return,h)}}function Ad(t,i,a){try{var l=t.stateNode;CS(l,t.type,a,i),l[Lt]=i}catch(h){We(t,t.return,h)}}function c_(t){return t.tag===5||t.tag===3||t.tag===26||t.tag===27&&qr(t.type)||t.tag===4}function wd(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||c_(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.tag===27&&qr(t.type)||t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function xd(t,i,a){var l=t.tag;if(l===5||l===6)t=t.stateNode,i?(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a).insertBefore(t,i):(i=a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,i.appendChild(t),a=a._reactRootContainer,a!=null||i.onclick!==null||(i.onclick=Jn));else if(l!==4&&(l===27&&qr(t.type)&&(a=t.stateNode,i=null),t=t.child,t!==null))for(xd(t,i,a),t=t.sibling;t!==null;)xd(t,i,a),t=t.sibling}function Ac(t,i,a){var l=t.tag;if(l===5||l===6)t=t.stateNode,i?a.insertBefore(t,i):a.appendChild(t);else if(l!==4&&(l===27&&qr(t.type)&&(a=t.stateNode),t=t.child,t!==null))for(Ac(t,i,a),t=t.sibling;t!==null;)Ac(t,i,a),t=t.sibling}function h_(t){var i=t.stateNode,a=t.memoizedProps;try{for(var l=t.type,h=i.attributes;h.length;)i.removeAttributeNode(h[0]);Kt(i,l,a),i[At]=t,i[Lt]=a}catch(d){We(t,t.return,d)}}var Wi=!1,Nt=!1,Rd=!1,f_=typeof WeakSet=="function"?WeakSet:Set,zt=null;function oS(t,i){if(t=t.containerInfo,Yd=Gc,t=Ag(t),Ef(t)){if("selectionStart"in t)var a={start:t.selectionStart,end:t.selectionEnd};else e:{a=(a=t.ownerDocument)&&a.defaultView||window;var l=a.getSelection&&a.getSelection();if(l&&l.rangeCount!==0){a=l.anchorNode;var h=l.anchorOffset,d=l.focusNode;l=l.focusOffset;try{a.nodeType,d.nodeType}catch{a=null;break e}var v=0,S=-1,N=-1,q=0,$=0,ne=t,H=null;t:for(;;){for(var Q;ne!==a||h!==0&&ne.nodeType!==3||(S=v+h),ne!==d||l!==0&&ne.nodeType!==3||(N=v+l),ne.nodeType===3&&(v+=ne.nodeValue.length),(Q=ne.firstChild)!==null;)H=ne,ne=Q;for(;;){if(ne===t)break t;if(H===a&&++q===h&&(S=v),H===d&&++$===l&&(N=v),(Q=ne.nextSibling)!==null)break;ne=H,H=ne.parentNode}ne=Q}a=S===-1||N===-1?null:{start:S,end:N}}else a=null}a=a||{start:0,end:0}}else a=null;for($d={focusedElem:t,selectionRange:a},Gc=!1,zt=i;zt!==null;)if(i=zt,t=i.child,(i.subtreeFlags&1028)!==0&&t!==null)t.return=i,zt=t;else for(;zt!==null;){switch(i=zt,d=i.alternate,t=i.flags,i.tag){case 0:if((t&4)!==0&&(t=i.updateQueue,t=t!==null?t.events:null,t!==null))for(a=0;a<t.length;a++)h=t[a],h.ref.impl=h.nextImpl;break;case 11:case 15:break;case 1:if((t&1024)!==0&&d!==null){t=void 0,a=i,h=d.memoizedProps,d=d.memoizedState,l=a.stateNode;try{var fe=Qs(a.type,h);t=l.getSnapshotBeforeUpdate(fe,d),l.__reactInternalSnapshotBeforeUpdate=t}catch(ve){We(a,a.return,ve)}}break;case 3:if((t&1024)!==0){if(t=i.stateNode.containerInfo,a=t.nodeType,a===9)Wd(t);else if(a===1)switch(t.nodeName){case"HEAD":case"HTML":case"BODY":Wd(t);break;default:t.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((t&1024)!==0)throw Error(s(163))}if(t=i.sibling,t!==null){t.return=i.return,zt=t;break}zt=i.return}}function d_(t,i,a){var l=a.flags;switch(a.tag){case 0:case 11:case 15:er(t,a),l&4&&yl(5,a);break;case 1:if(er(t,a),l&4)if(t=a.stateNode,i===null)try{t.componentDidMount()}catch(v){We(a,a.return,v)}else{var h=Qs(a.type,i.memoizedProps);i=i.memoizedState;try{t.componentDidUpdate(h,i,t.__reactInternalSnapshotBeforeUpdate)}catch(v){We(a,a.return,v)}}l&64&&o_(a),l&512&&_l(a,a.return);break;case 3:if(er(t,a),l&64&&(t=a.updateQueue,t!==null)){if(i=null,a.child!==null)switch(a.child.tag){case 27:case 5:i=a.child.stateNode;break;case 1:i=a.child.stateNode}try{Jg(t,i)}catch(v){We(a,a.return,v)}}break;case 27:i===null&&l&4&&h_(a);case 26:case 5:er(t,a),i===null&&l&4&&u_(a),l&512&&_l(a,a.return);break;case 12:er(t,a);break;case 31:er(t,a),l&4&&g_(t,a);break;case 13:er(t,a),l&4&&y_(t,a),l&64&&(t=a.memoizedState,t!==null&&(t=t.dehydrated,t!==null&&(a=gS.bind(null,a),kS(t,a))));break;case 22:if(l=a.memoizedState!==null||Wi,!l){i=i!==null&&i.memoizedState!==null||Nt,h=Wi;var d=Nt;Wi=l,(Nt=i)&&!d?tr(t,a,(a.subtreeFlags&8772)!==0):er(t,a),Wi=h,Nt=d}break;case 30:break;default:er(t,a)}}function m_(t){var i=t.alternate;i!==null&&(t.alternate=null,m_(i)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(i=t.stateNode,i!==null&&pa(i)),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}var ht=null,ln=!1;function Zi(t,i,a){for(a=a.child;a!==null;)p_(t,i,a),a=a.sibling}function p_(t,i,a){if(qt&&typeof qt.onCommitFiberUnmount=="function")try{qt.onCommitFiberUnmount(Kn,a)}catch{}switch(a.tag){case 26:Nt||Ii(a,i),Zi(t,i,a),a.memoizedState?a.memoizedState.count--:a.stateNode&&(a=a.stateNode,a.parentNode.removeChild(a));break;case 27:Nt||Ii(a,i);var l=ht,h=ln;qr(a.type)&&(ht=a.stateNode,ln=!1),Zi(t,i,a),Rl(a.stateNode),ht=l,ln=h;break;case 5:Nt||Ii(a,i);case 6:if(l=ht,h=ln,ht=null,Zi(t,i,a),ht=l,ln=h,ht!==null)if(ln)try{(ht.nodeType===9?ht.body:ht.nodeName==="HTML"?ht.ownerDocument.body:ht).removeChild(a.stateNode)}catch(d){We(a,i,d)}else try{ht.removeChild(a.stateNode)}catch(d){We(a,i,d)}break;case 18:ht!==null&&(ln?(t=ht,ov(t.nodeType===9?t.body:t.nodeName==="HTML"?t.ownerDocument.body:t,a.stateNode),Za(t)):ov(ht,a.stateNode));break;case 4:l=ht,h=ln,ht=a.stateNode.containerInfo,ln=!0,Zi(t,i,a),ht=l,ln=h;break;case 0:case 11:case 14:case 15:jr(2,a,i),Nt||jr(4,a,i),Zi(t,i,a);break;case 1:Nt||(Ii(a,i),l=a.stateNode,typeof l.componentWillUnmount=="function"&&l_(a,i,l)),Zi(t,i,a);break;case 21:Zi(t,i,a);break;case 22:Nt=(l=Nt)||a.memoizedState!==null,Zi(t,i,a),Nt=l;break;default:Zi(t,i,a)}}function g_(t,i){if(i.memoizedState===null&&(t=i.alternate,t!==null&&(t=t.memoizedState,t!==null))){t=t.dehydrated;try{Za(t)}catch(a){We(i,i.return,a)}}}function y_(t,i){if(i.memoizedState===null&&(t=i.alternate,t!==null&&(t=t.memoizedState,t!==null&&(t=t.dehydrated,t!==null))))try{Za(t)}catch(a){We(i,i.return,a)}}function lS(t){switch(t.tag){case 31:case 13:case 19:var i=t.stateNode;return i===null&&(i=t.stateNode=new f_),i;case 22:return t=t.stateNode,i=t._retryCache,i===null&&(i=t._retryCache=new f_),i;default:throw Error(s(435,t.tag))}}function wc(t,i){var a=lS(t);i.forEach(function(l){if(!a.has(l)){a.add(l);var h=yS.bind(null,t,l);l.then(h,h)}})}function un(t,i){var a=i.deletions;if(a!==null)for(var l=0;l<a.length;l++){var h=a[l],d=t,v=i,S=v;e:for(;S!==null;){switch(S.tag){case 27:if(qr(S.type)){ht=S.stateNode,ln=!1;break e}break;case 5:ht=S.stateNode,ln=!1;break e;case 3:case 4:ht=S.stateNode.containerInfo,ln=!0;break e}S=S.return}if(ht===null)throw Error(s(160));p_(d,v,h),ht=null,ln=!1,d=h.alternate,d!==null&&(d.return=null),h.return=null}if(i.subtreeFlags&13886)for(i=i.child;i!==null;)__(i,t),i=i.sibling}var ii=null;function __(t,i){var a=t.alternate,l=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:un(i,t),cn(t),l&4&&(jr(3,t,t.return),yl(3,t),jr(5,t,t.return));break;case 1:un(i,t),cn(t),l&512&&(Nt||a===null||Ii(a,a.return)),l&64&&Wi&&(t=t.updateQueue,t!==null&&(l=t.callbacks,l!==null&&(a=t.shared.hiddenCallbacks,t.shared.hiddenCallbacks=a===null?l:a.concat(l))));break;case 26:var h=ii;if(un(i,t),cn(t),l&512&&(Nt||a===null||Ii(a,a.return)),l&4){var d=a!==null?a.memoizedState:null;if(l=t.memoizedState,a===null)if(l===null)if(t.stateNode===null){e:{l=t.type,a=t.memoizedProps,h=h.ownerDocument||h;t:switch(l){case"title":d=h.getElementsByTagName("title")[0],(!d||d[pi]||d[At]||d.namespaceURI==="http://www.w3.org/2000/svg"||d.hasAttribute("itemprop"))&&(d=h.createElement(l),h.head.insertBefore(d,h.querySelector("head > title"))),Kt(d,l,a),d[At]=t,wt(d),l=d;break e;case"link":var v=_v("link","href",h).get(l+(a.href||""));if(v){for(var S=0;S<v.length;S++)if(d=v[S],d.getAttribute("href")===(a.href==null||a.href===""?null:a.href)&&d.getAttribute("rel")===(a.rel==null?null:a.rel)&&d.getAttribute("title")===(a.title==null?null:a.title)&&d.getAttribute("crossorigin")===(a.crossOrigin==null?null:a.crossOrigin)){v.splice(S,1);break t}}d=h.createElement(l),Kt(d,l,a),h.head.appendChild(d);break;case"meta":if(v=_v("meta","content",h).get(l+(a.content||""))){for(S=0;S<v.length;S++)if(d=v[S],d.getAttribute("content")===(a.content==null?null:""+a.content)&&d.getAttribute("name")===(a.name==null?null:a.name)&&d.getAttribute("property")===(a.property==null?null:a.property)&&d.getAttribute("http-equiv")===(a.httpEquiv==null?null:a.httpEquiv)&&d.getAttribute("charset")===(a.charSet==null?null:a.charSet)){v.splice(S,1);break t}}d=h.createElement(l),Kt(d,l,a),h.head.appendChild(d);break;default:throw Error(s(468,l))}d[At]=t,wt(d),l=d}t.stateNode=l}else vv(h,t.type,t.stateNode);else t.stateNode=yv(h,l,t.memoizedProps);else d!==l?(d===null?a.stateNode!==null&&(a=a.stateNode,a.parentNode.removeChild(a)):d.count--,l===null?vv(h,t.type,t.stateNode):yv(h,l,t.memoizedProps)):l===null&&t.stateNode!==null&&Ad(t,t.memoizedProps,a.memoizedProps)}break;case 27:un(i,t),cn(t),l&512&&(Nt||a===null||Ii(a,a.return)),a!==null&&l&4&&Ad(t,t.memoizedProps,a.memoizedProps);break;case 5:if(un(i,t),cn(t),l&512&&(Nt||a===null||Ii(a,a.return)),t.flags&32){h=t.stateNode;try{on(h,"")}catch(fe){We(t,t.return,fe)}}l&4&&t.stateNode!=null&&(h=t.memoizedProps,Ad(t,h,a!==null?a.memoizedProps:h)),l&1024&&(Rd=!0);break;case 6:if(un(i,t),cn(t),l&4){if(t.stateNode===null)throw Error(s(162));l=t.memoizedProps,a=t.stateNode;try{a.nodeValue=l}catch(fe){We(t,t.return,fe)}}break;case 3:if(Bc=null,h=ii,ii=Uc(i.containerInfo),un(i,t),ii=h,cn(t),l&4&&a!==null&&a.memoizedState.isDehydrated)try{Za(i.containerInfo)}catch(fe){We(t,t.return,fe)}Rd&&(Rd=!1,v_(t));break;case 4:l=ii,ii=Uc(t.stateNode.containerInfo),un(i,t),cn(t),ii=l;break;case 12:un(i,t),cn(t);break;case 31:un(i,t),cn(t),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,wc(t,l)));break;case 13:un(i,t),cn(t),t.child.flags&8192&&t.memoizedState!==null!=(a!==null&&a.memoizedState!==null)&&(Rc=nn()),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,wc(t,l)));break;case 22:h=t.memoizedState!==null;var N=a!==null&&a.memoizedState!==null,q=Wi,$=Nt;if(Wi=q||h,Nt=$||N,un(i,t),Nt=$,Wi=q,cn(t),l&8192)e:for(i=t.stateNode,i._visibility=h?i._visibility&-2:i._visibility|1,h&&(a===null||N||Wi||Nt||Ks(t)),a=null,i=t;;){if(i.tag===5||i.tag===26){if(a===null){N=a=i;try{if(d=N.stateNode,h)v=d.style,typeof v.setProperty=="function"?v.setProperty("display","none","important"):v.display="none";else{S=N.stateNode;var ne=N.memoizedProps.style,H=ne!=null&&ne.hasOwnProperty("display")?ne.display:null;S.style.display=H==null||typeof H=="boolean"?"":(""+H).trim()}}catch(fe){We(N,N.return,fe)}}}else if(i.tag===6){if(a===null){N=i;try{N.stateNode.nodeValue=h?"":N.memoizedProps}catch(fe){We(N,N.return,fe)}}}else if(i.tag===18){if(a===null){N=i;try{var Q=N.stateNode;h?lv(Q,!0):lv(N.stateNode,!1)}catch(fe){We(N,N.return,fe)}}}else if((i.tag!==22&&i.tag!==23||i.memoizedState===null||i===t)&&i.child!==null){i.child.return=i,i=i.child;continue}if(i===t)break e;for(;i.sibling===null;){if(i.return===null||i.return===t)break e;a===i&&(a=null),i=i.return}a===i&&(a=null),i.sibling.return=i.return,i=i.sibling}l&4&&(l=t.updateQueue,l!==null&&(a=l.retryQueue,a!==null&&(l.retryQueue=null,wc(t,a))));break;case 19:un(i,t),cn(t),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,wc(t,l)));break;case 30:break;case 21:break;default:un(i,t),cn(t)}}function cn(t){var i=t.flags;if(i&2){try{for(var a,l=t.return;l!==null;){if(c_(l)){a=l;break}l=l.return}if(a==null)throw Error(s(160));switch(a.tag){case 27:var h=a.stateNode,d=wd(t);Ac(t,d,h);break;case 5:var v=a.stateNode;a.flags&32&&(on(v,""),a.flags&=-33);var S=wd(t);Ac(t,S,v);break;case 3:case 4:var N=a.stateNode.containerInfo,q=wd(t);xd(t,q,N);break;default:throw Error(s(161))}}catch($){We(t,t.return,$)}t.flags&=-3}i&4096&&(t.flags&=-4097)}function v_(t){if(t.subtreeFlags&1024)for(t=t.child;t!==null;){var i=t;v_(i),i.tag===5&&i.flags&1024&&i.stateNode.reset(),t=t.sibling}}function er(t,i){if(i.subtreeFlags&8772)for(i=i.child;i!==null;)d_(t,i.alternate,i),i=i.sibling}function Ks(t){for(t=t.child;t!==null;){var i=t;switch(i.tag){case 0:case 11:case 14:case 15:jr(4,i,i.return),Ks(i);break;case 1:Ii(i,i.return);var a=i.stateNode;typeof a.componentWillUnmount=="function"&&l_(i,i.return,a),Ks(i);break;case 27:Rl(i.stateNode);case 26:case 5:Ii(i,i.return),Ks(i);break;case 22:i.memoizedState===null&&Ks(i);break;case 30:Ks(i);break;default:Ks(i)}t=t.sibling}}function tr(t,i,a){for(a=a&&(i.subtreeFlags&8772)!==0,i=i.child;i!==null;){var l=i.alternate,h=t,d=i,v=d.flags;switch(d.tag){case 0:case 11:case 15:tr(h,d,a),yl(4,d);break;case 1:if(tr(h,d,a),l=d,h=l.stateNode,typeof h.componentDidMount=="function")try{h.componentDidMount()}catch(q){We(l,l.return,q)}if(l=d,h=l.updateQueue,h!==null){var S=l.stateNode;try{var N=h.shared.hiddenCallbacks;if(N!==null)for(h.shared.hiddenCallbacks=null,h=0;h<N.length;h++)Xg(N[h],S)}catch(q){We(l,l.return,q)}}a&&v&64&&o_(d),_l(d,d.return);break;case 27:h_(d);case 26:case 5:tr(h,d,a),a&&l===null&&v&4&&u_(d),_l(d,d.return);break;case 12:tr(h,d,a);break;case 31:tr(h,d,a),a&&v&4&&g_(h,d);break;case 13:tr(h,d,a),a&&v&4&&y_(h,d);break;case 22:d.memoizedState===null&&tr(h,d,a),_l(d,d.return);break;case 30:break;default:tr(h,d,a)}i=i.sibling}}function Cd(t,i){var a=null;t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(a=t.memoizedState.cachePool.pool),t=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(t=i.memoizedState.cachePool.pool),t!==a&&(t!=null&&t.refCount++,a!=null&&rl(a))}function Id(t,i){t=null,i.alternate!==null&&(t=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==t&&(i.refCount++,t!=null&&rl(t))}function ri(t,i,a,l){if(i.subtreeFlags&10256)for(i=i.child;i!==null;)E_(t,i,a,l),i=i.sibling}function E_(t,i,a,l){var h=i.flags;switch(i.tag){case 0:case 11:case 15:ri(t,i,a,l),h&2048&&yl(9,i);break;case 1:ri(t,i,a,l);break;case 3:ri(t,i,a,l),h&2048&&(t=null,i.alternate!==null&&(t=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==t&&(i.refCount++,t!=null&&rl(t)));break;case 12:if(h&2048){ri(t,i,a,l),t=i.stateNode;try{var d=i.memoizedProps,v=d.id,S=d.onPostCommit;typeof S=="function"&&S(v,i.alternate===null?"mount":"update",t.passiveEffectDuration,-0)}catch(N){We(i,i.return,N)}}else ri(t,i,a,l);break;case 31:ri(t,i,a,l);break;case 13:ri(t,i,a,l);break;case 23:break;case 22:d=i.stateNode,v=i.alternate,i.memoizedState!==null?d._visibility&2?ri(t,i,a,l):vl(t,i):d._visibility&2?ri(t,i,a,l):(d._visibility|=2,qa(t,i,a,l,(i.subtreeFlags&10256)!==0||!1)),h&2048&&Cd(v,i);break;case 24:ri(t,i,a,l),h&2048&&Id(i.alternate,i);break;default:ri(t,i,a,l)}}function qa(t,i,a,l,h){for(h=h&&((i.subtreeFlags&10256)!==0||!1),i=i.child;i!==null;){var d=t,v=i,S=a,N=l,q=v.flags;switch(v.tag){case 0:case 11:case 15:qa(d,v,S,N,h),yl(8,v);break;case 23:break;case 22:var $=v.stateNode;v.memoizedState!==null?$._visibility&2?qa(d,v,S,N,h):vl(d,v):($._visibility|=2,qa(d,v,S,N,h)),h&&q&2048&&Cd(v.alternate,v);break;case 24:qa(d,v,S,N,h),h&&q&2048&&Id(v.alternate,v);break;default:qa(d,v,S,N,h)}i=i.sibling}}function vl(t,i){if(i.subtreeFlags&10256)for(i=i.child;i!==null;){var a=t,l=i,h=l.flags;switch(l.tag){case 22:vl(a,l),h&2048&&Cd(l.alternate,l);break;case 24:vl(a,l),h&2048&&Id(l.alternate,l);break;default:vl(a,l)}i=i.sibling}}var El=8192;function Ha(t,i,a){if(t.subtreeFlags&El)for(t=t.child;t!==null;)b_(t,i,a),t=t.sibling}function b_(t,i,a){switch(t.tag){case 26:Ha(t,i,a),t.flags&El&&t.memoizedState!==null&&YS(a,ii,t.memoizedState,t.memoizedProps);break;case 5:Ha(t,i,a);break;case 3:case 4:var l=ii;ii=Uc(t.stateNode.containerInfo),Ha(t,i,a),ii=l;break;case 22:t.memoizedState===null&&(l=t.alternate,l!==null&&l.memoizedState!==null?(l=El,El=16777216,Ha(t,i,a),El=l):Ha(t,i,a));break;default:Ha(t,i,a)}}function T_(t){var i=t.alternate;if(i!==null&&(t=i.child,t!==null)){i.child=null;do i=t.sibling,t.sibling=null,t=i;while(t!==null)}}function bl(t){var i=t.deletions;if((t.flags&16)!==0){if(i!==null)for(var a=0;a<i.length;a++){var l=i[a];zt=l,A_(l,t)}T_(t)}if(t.subtreeFlags&10256)for(t=t.child;t!==null;)S_(t),t=t.sibling}function S_(t){switch(t.tag){case 0:case 11:case 15:bl(t),t.flags&2048&&jr(9,t,t.return);break;case 3:bl(t);break;case 12:bl(t);break;case 22:var i=t.stateNode;t.memoizedState!==null&&i._visibility&2&&(t.return===null||t.return.tag!==13)?(i._visibility&=-3,xc(t)):bl(t);break;default:bl(t)}}function xc(t){var i=t.deletions;if((t.flags&16)!==0){if(i!==null)for(var a=0;a<i.length;a++){var l=i[a];zt=l,A_(l,t)}T_(t)}for(t=t.child;t!==null;){switch(i=t,i.tag){case 0:case 11:case 15:jr(8,i,i.return),xc(i);break;case 22:a=i.stateNode,a._visibility&2&&(a._visibility&=-3,xc(i));break;default:xc(i)}t=t.sibling}}function A_(t,i){for(;zt!==null;){var a=zt;switch(a.tag){case 0:case 11:case 15:jr(8,a,i);break;case 23:case 22:if(a.memoizedState!==null&&a.memoizedState.cachePool!==null){var l=a.memoizedState.cachePool.pool;l!=null&&l.refCount++}break;case 24:rl(a.memoizedState.cache)}if(l=a.child,l!==null)l.return=a,zt=l;else e:for(a=t;zt!==null;){l=zt;var h=l.sibling,d=l.return;if(m_(l),l===a){zt=null;break e}if(h!==null){h.return=d,zt=h;break e}zt=d}}}var uS={getCacheForType:function(t){var i=Gt(Rt),a=i.data.get(t);return a===void 0&&(a=t(),i.data.set(t,a)),a},cacheSignal:function(){return Gt(Rt).controller.signal}},cS=typeof WeakMap=="function"?WeakMap:Map,Qe=0,it=null,Oe=null,je=0,Je=0,Tn=null,kr=!1,Fa=!1,Nd=!1,nr=0,pt=0,Pr=0,Ys=0,Dd=0,Sn=0,Ga=0,Tl=null,hn=null,Od=!1,Rc=0,w_=0,Cc=1/0,Ic=null,Lr=null,jt=0,Ur=null,Qa=null,ir=0,Md=0,Vd=null,x_=null,Sl=0,jd=null;function An(){return(Qe&2)!==0&&je!==0?je&-je:Y.T!==null?Bd():Nu()}function R_(){if(Sn===0)if((je&536870912)===0||ze){var t=bs;bs<<=1,(bs&3932160)===0&&(bs=262144),Sn=t}else Sn=536870912;return t=En.current,t!==null&&(t.flags|=32),Sn}function fn(t,i,a){(t===it&&(Je===2||Je===9)||t.cancelPendingCommit!==null)&&(Ka(t,0),zr(t,je,Sn,!1)),Ts(t,a),((Qe&2)===0||t!==it)&&(t===it&&((Qe&2)===0&&(Ys|=a),pt===4&&zr(t,je,Sn,!1)),Ni(t))}function C_(t,i,a){if((Qe&6)!==0)throw Error(s(327));var l=!a&&(i&127)===0&&(i&t.expiredLanes)===0||Yn(t,i),h=l?dS(t,i):Pd(t,i,!0),d=l;do{if(h===0){Fa&&!l&&zr(t,i,0,!1);break}else{if(a=t.current.alternate,d&&!hS(a)){h=Pd(t,i,!1),d=!1;continue}if(h===2){if(d=i,t.errorRecoveryDisabledLanes&d)var v=0;else v=t.pendingLanes&-536870913,v=v!==0?v:v&536870912?536870912:0;if(v!==0){i=v;e:{var S=t;h=Tl;var N=S.current.memoizedState.isDehydrated;if(N&&(Ka(S,v).flags|=256),v=Pd(S,v,!1),v!==2){if(Nd&&!N){S.errorRecoveryDisabledLanes|=d,Ys|=d,h=4;break e}d=hn,hn=h,d!==null&&(hn===null?hn=d:hn.push.apply(hn,d))}h=v}if(d=!1,h!==2)continue}}if(h===1){Ka(t,0),zr(t,i,0,!0);break}e:{switch(l=t,d=h,d){case 0:case 1:throw Error(s(345));case 4:if((i&4194048)!==i)break;case 6:zr(l,i,Sn,!kr);break e;case 2:hn=null;break;case 3:case 5:break;default:throw Error(s(329))}if((i&62914560)===i&&(h=Rc+300-nn(),10<h)){if(zr(l,i,Sn,!kr),fi(l,0,!0)!==0)break e;ir=i,l.timeoutHandle=sv(I_.bind(null,l,a,hn,Ic,Od,i,Sn,Ys,Ga,kr,d,"Throttled",-0,0),h);break e}I_(l,a,hn,Ic,Od,i,Sn,Ys,Ga,kr,d,null,-0,0)}}break}while(!0);Ni(t)}function I_(t,i,a,l,h,d,v,S,N,q,$,ne,H,Q){if(t.timeoutHandle=-1,ne=i.subtreeFlags,ne&8192||(ne&16785408)===16785408){ne={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:Jn},b_(i,d,ne);var fe=(d&62914560)===d?Rc-nn():(d&4194048)===d?w_-nn():0;if(fe=$S(ne,fe),fe!==null){ir=d,t.cancelPendingCommit=fe(P_.bind(null,t,i,d,a,l,h,v,S,N,$,ne,null,H,Q)),zr(t,d,v,!q);return}}P_(t,i,d,a,l,h,v,S,N)}function hS(t){for(var i=t;;){var a=i.tag;if((a===0||a===11||a===15)&&i.flags&16384&&(a=i.updateQueue,a!==null&&(a=a.stores,a!==null)))for(var l=0;l<a.length;l++){var h=a[l],d=h.getSnapshot;h=h.value;try{if(!_n(d(),h))return!1}catch{return!1}}if(a=i.child,i.subtreeFlags&16384&&a!==null)a.return=i,i=a;else{if(i===t)break;for(;i.sibling===null;){if(i.return===null||i.return===t)return!0;i=i.return}i.sibling.return=i.return,i=i.sibling}}return!0}function zr(t,i,a,l){i&=~Dd,i&=~Ys,t.suspendedLanes|=i,t.pingedLanes&=~i,l&&(t.warmLanes|=i),l=t.expirationTimes;for(var h=i;0<h;){var d=31-yt(h),v=1<<d;l[d]=-1,h&=~v}a!==0&&Ss(t,a,i)}function Nc(){return(Qe&6)===0?(Al(0),!1):!0}function kd(){if(Oe!==null){if(Je===0)var t=Oe.return;else t=Oe,Qi=Us=null,Wf(t),Pa=null,al=0,t=Oe;for(;t!==null;)a_(t.alternate,t),t=t.return;Oe=null}}function Ka(t,i){var a=t.timeoutHandle;a!==-1&&(t.timeoutHandle=-1,DS(a)),a=t.cancelPendingCommit,a!==null&&(t.cancelPendingCommit=null,a()),ir=0,kd(),it=t,Oe=a=Fi(t.current,null),je=i,Je=0,Tn=null,kr=!1,Fa=Yn(t,i),Nd=!1,Ga=Sn=Dd=Ys=Pr=pt=0,hn=Tl=null,Od=!1,(i&8)!==0&&(i|=i&32);var l=t.entangledLanes;if(l!==0)for(t=t.entanglements,l&=i;0<l;){var h=31-yt(l),d=1<<h;i|=t[h],l&=~d}return nr=i,Ju(),a}function N_(t,i){Ie=null,Y.H=ml,i===ka||i===sc?(i=Qg(),Je=3):i===zf?(i=Qg(),Je=4):Je=i===md?8:i!==null&&typeof i=="object"&&typeof i.then=="function"?6:1,Tn=i,Oe===null&&(pt=1,vc(t,Vn(i,t.current)))}function D_(){var t=En.current;return t===null?!0:(je&4194048)===je?Ln===null:(je&62914560)===je||(je&536870912)!==0?t===Ln:!1}function O_(){var t=Y.H;return Y.H=ml,t===null?ml:t}function M_(){var t=Y.A;return Y.A=uS,t}function Dc(){pt=4,kr||(je&4194048)!==je&&En.current!==null||(Fa=!0),(Pr&134217727)===0&&(Ys&134217727)===0||it===null||zr(it,je,Sn,!1)}function Pd(t,i,a){var l=Qe;Qe|=2;var h=O_(),d=M_();(it!==t||je!==i)&&(Ic=null,Ka(t,i)),i=!1;var v=pt;e:do try{if(Je!==0&&Oe!==null){var S=Oe,N=Tn;switch(Je){case 8:kd(),v=6;break e;case 3:case 2:case 9:case 6:En.current===null&&(i=!0);var q=Je;if(Je=0,Tn=null,Ya(t,S,N,q),a&&Fa){v=0;break e}break;default:q=Je,Je=0,Tn=null,Ya(t,S,N,q)}}fS(),v=pt;break}catch($){N_(t,$)}while(!0);return i&&t.shellSuspendCounter++,Qi=Us=null,Qe=l,Y.H=h,Y.A=d,Oe===null&&(it=null,je=0,Ju()),v}function fS(){for(;Oe!==null;)V_(Oe)}function dS(t,i){var a=Qe;Qe|=2;var l=O_(),h=M_();it!==t||je!==i?(Ic=null,Cc=nn()+500,Ka(t,i)):Fa=Yn(t,i);e:do try{if(Je!==0&&Oe!==null){i=Oe;var d=Tn;t:switch(Je){case 1:Je=0,Tn=null,Ya(t,i,d,1);break;case 2:case 9:if(Fg(d)){Je=0,Tn=null,j_(i);break}i=function(){Je!==2&&Je!==9||it!==t||(Je=7),Ni(t)},d.then(i,i);break e;case 3:Je=7;break e;case 4:Je=5;break e;case 7:Fg(d)?(Je=0,Tn=null,j_(i)):(Je=0,Tn=null,Ya(t,i,d,7));break;case 5:var v=null;switch(Oe.tag){case 26:v=Oe.memoizedState;case 5:case 27:var S=Oe;if(v?Ev(v):S.stateNode.complete){Je=0,Tn=null;var N=S.sibling;if(N!==null)Oe=N;else{var q=S.return;q!==null?(Oe=q,Oc(q)):Oe=null}break t}}Je=0,Tn=null,Ya(t,i,d,5);break;case 6:Je=0,Tn=null,Ya(t,i,d,6);break;case 8:kd(),pt=6;break e;default:throw Error(s(462))}}mS();break}catch($){N_(t,$)}while(!0);return Qi=Us=null,Y.H=l,Y.A=h,Qe=a,Oe!==null?0:(it=null,je=0,Ju(),pt)}function mS(){for(;Oe!==null&&!df();)V_(Oe)}function V_(t){var i=r_(t.alternate,t,nr);t.memoizedProps=t.pendingProps,i===null?Oc(t):Oe=i}function j_(t){var i=t,a=i.alternate;switch(i.tag){case 15:case 0:i=Wy(a,i,i.pendingProps,i.type,void 0,je);break;case 11:i=Wy(a,i,i.pendingProps,i.type.render,i.ref,je);break;case 5:Wf(i);default:a_(a,i),i=Oe=Mg(i,nr),i=r_(a,i,nr)}t.memoizedProps=t.pendingProps,i===null?Oc(t):Oe=i}function Ya(t,i,a,l){Qi=Us=null,Wf(i),Pa=null,al=0;var h=i.return;try{if(nS(t,h,i,a,je)){pt=1,vc(t,Vn(a,t.current)),Oe=null;return}}catch(d){if(h!==null)throw Oe=h,d;pt=1,vc(t,Vn(a,t.current)),Oe=null;return}i.flags&32768?(ze||l===1?t=!0:Fa||(je&536870912)!==0?t=!1:(kr=t=!0,(l===2||l===9||l===3||l===6)&&(l=En.current,l!==null&&l.tag===13&&(l.flags|=16384))),k_(i,t)):Oc(i)}function Oc(t){var i=t;do{if((i.flags&32768)!==0){k_(i,kr);return}t=i.return;var a=sS(i.alternate,i,nr);if(a!==null){Oe=a;return}if(i=i.sibling,i!==null){Oe=i;return}Oe=i=t}while(i!==null);pt===0&&(pt=5)}function k_(t,i){do{var a=aS(t.alternate,t);if(a!==null){a.flags&=32767,Oe=a;return}if(a=t.return,a!==null&&(a.flags|=32768,a.subtreeFlags=0,a.deletions=null),!i&&(t=t.sibling,t!==null)){Oe=t;return}Oe=t=a}while(t!==null);pt=6,Oe=null}function P_(t,i,a,l,h,d,v,S,N){t.cancelPendingCommit=null;do Mc();while(jt!==0);if((Qe&6)!==0)throw Error(s(327));if(i!==null){if(i===t.current)throw Error(s(177));if(d=i.lanes|i.childLanes,d|=wf,gf(t,a,d,v,S,N),t===it&&(Oe=it=null,je=0),Qa=i,Ur=t,ir=a,Md=d,Vd=h,x_=l,(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?(t.callbackNode=null,t.callbackPriority=0,_S(gr,function(){return q_(),null})):(t.callbackNode=null,t.callbackPriority=0),l=(i.flags&13878)!==0,(i.subtreeFlags&13878)!==0||l){l=Y.T,Y.T=null,h=J.p,J.p=2,v=Qe,Qe|=4;try{oS(t,i,a)}finally{Qe=v,J.p=h,Y.T=l}}jt=1,L_(),U_(),z_()}}function L_(){if(jt===1){jt=0;var t=Ur,i=Qa,a=(i.flags&13878)!==0;if((i.subtreeFlags&13878)!==0||a){a=Y.T,Y.T=null;var l=J.p;J.p=2;var h=Qe;Qe|=4;try{__(i,t);var d=$d,v=Ag(t.containerInfo),S=d.focusedElem,N=d.selectionRange;if(v!==S&&S&&S.ownerDocument&&Sg(S.ownerDocument.documentElement,S)){if(N!==null&&Ef(S)){var q=N.start,$=N.end;if($===void 0&&($=q),"selectionStart"in S)S.selectionStart=q,S.selectionEnd=Math.min($,S.value.length);else{var ne=S.ownerDocument||document,H=ne&&ne.defaultView||window;if(H.getSelection){var Q=H.getSelection(),fe=S.textContent.length,ve=Math.min(N.start,fe),nt=N.end===void 0?ve:Math.min(N.end,fe);!Q.extend&&ve>nt&&(v=nt,nt=ve,ve=v);var U=Tg(S,ve),V=Tg(S,nt);if(U&&V&&(Q.rangeCount!==1||Q.anchorNode!==U.node||Q.anchorOffset!==U.offset||Q.focusNode!==V.node||Q.focusOffset!==V.offset)){var B=ne.createRange();B.setStart(U.node,U.offset),Q.removeAllRanges(),ve>nt?(Q.addRange(B),Q.extend(V.node,V.offset)):(B.setEnd(V.node,V.offset),Q.addRange(B))}}}}for(ne=[],Q=S;Q=Q.parentNode;)Q.nodeType===1&&ne.push({element:Q,left:Q.scrollLeft,top:Q.scrollTop});for(typeof S.focus=="function"&&S.focus(),S=0;S<ne.length;S++){var ee=ne[S];ee.element.scrollLeft=ee.left,ee.element.scrollTop=ee.top}}Gc=!!Yd,$d=Yd=null}finally{Qe=h,J.p=l,Y.T=a}}t.current=i,jt=2}}function U_(){if(jt===2){jt=0;var t=Ur,i=Qa,a=(i.flags&8772)!==0;if((i.subtreeFlags&8772)!==0||a){a=Y.T,Y.T=null;var l=J.p;J.p=2;var h=Qe;Qe|=4;try{d_(t,i.alternate,i)}finally{Qe=h,J.p=l,Y.T=a}}jt=3}}function z_(){if(jt===4||jt===3){jt=0,Su();var t=Ur,i=Qa,a=ir,l=x_;(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?jt=5:(jt=0,Qa=Ur=null,B_(t,t.pendingLanes));var h=t.pendingLanes;if(h===0&&(Lr=null),zi(a),i=i.stateNode,qt&&typeof qt.onCommitFiberRoot=="function")try{qt.onCommitFiberRoot(Kn,i,void 0,(i.current.flags&128)===128)}catch{}if(l!==null){i=Y.T,h=J.p,J.p=2,Y.T=null;try{for(var d=t.onRecoverableError,v=0;v<l.length;v++){var S=l[v];d(S.value,{componentStack:S.stack})}}finally{Y.T=i,J.p=h}}(ir&3)!==0&&Mc(),Ni(t),h=t.pendingLanes,(a&261930)!==0&&(h&42)!==0?t===jd?Sl++:(Sl=0,jd=t):Sl=0,Al(0)}}function B_(t,i){(t.pooledCacheLanes&=i)===0&&(i=t.pooledCache,i!=null&&(t.pooledCache=null,rl(i)))}function Mc(){return L_(),U_(),z_(),q_()}function q_(){if(jt!==5)return!1;var t=Ur,i=Md;Md=0;var a=zi(ir),l=Y.T,h=J.p;try{J.p=32>a?32:a,Y.T=null,a=Vd,Vd=null;var d=Ur,v=ir;if(jt=0,Qa=Ur=null,ir=0,(Qe&6)!==0)throw Error(s(331));var S=Qe;if(Qe|=4,S_(d.current),E_(d,d.current,v,a),Qe=S,Al(0,!1),qt&&typeof qt.onPostCommitFiberRoot=="function")try{qt.onPostCommitFiberRoot(Kn,d)}catch{}return!0}finally{J.p=h,Y.T=l,B_(t,i)}}function H_(t,i,a){i=Vn(a,i),i=dd(t.stateNode,i,2),t=Or(t,i,2),t!==null&&(Ts(t,2),Ni(t))}function We(t,i,a){if(t.tag===3)H_(t,t,a);else for(;i!==null;){if(i.tag===3){H_(i,t,a);break}else if(i.tag===1){var l=i.stateNode;if(typeof i.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&(Lr===null||!Lr.has(l))){t=Vn(a,t),a=Fy(2),l=Or(i,a,2),l!==null&&(Gy(a,l,i,t),Ts(l,2),Ni(l));break}}i=i.return}}function Ld(t,i,a){var l=t.pingCache;if(l===null){l=t.pingCache=new cS;var h=new Set;l.set(i,h)}else h=l.get(i),h===void 0&&(h=new Set,l.set(i,h));h.has(a)||(Nd=!0,h.add(a),t=pS.bind(null,t,i,a),i.then(t,t))}function pS(t,i,a){var l=t.pingCache;l!==null&&l.delete(i),t.pingedLanes|=t.suspendedLanes&a,t.warmLanes&=~a,it===t&&(je&a)===a&&(pt===4||pt===3&&(je&62914560)===je&&300>nn()-Rc?(Qe&2)===0&&Ka(t,0):Dd|=a,Ga===je&&(Ga=0)),Ni(t)}function F_(t,i){i===0&&(i=Iu()),t=ks(t,i),t!==null&&(Ts(t,i),Ni(t))}function gS(t){var i=t.memoizedState,a=0;i!==null&&(a=i.retryLane),F_(t,a)}function yS(t,i){var a=0;switch(t.tag){case 31:case 13:var l=t.stateNode,h=t.memoizedState;h!==null&&(a=h.retryLane);break;case 19:l=t.stateNode;break;case 22:l=t.stateNode._retryCache;break;default:throw Error(s(314))}l!==null&&l.delete(i),F_(t,a)}function _S(t,i){return Vt(t,i)}var Vc=null,$a=null,Ud=!1,jc=!1,zd=!1,Br=0;function Ni(t){t!==$a&&t.next===null&&($a===null?Vc=$a=t:$a=$a.next=t),jc=!0,Ud||(Ud=!0,ES())}function Al(t,i){if(!zd&&jc){zd=!0;do for(var a=!1,l=Vc;l!==null;){if(t!==0){var h=l.pendingLanes;if(h===0)var d=0;else{var v=l.suspendedLanes,S=l.pingedLanes;d=(1<<31-yt(42|t)+1)-1,d&=h&~(v&~S),d=d&201326741?d&201326741|1:d?d|2:0}d!==0&&(a=!0,Y_(l,d))}else d=je,d=fi(l,l===it?d:0,l.cancelPendingCommit!==null||l.timeoutHandle!==-1),(d&3)===0||Yn(l,d)||(a=!0,Y_(l,d));l=l.next}while(a);zd=!1}}function vS(){G_()}function G_(){jc=Ud=!1;var t=0;Br!==0&&NS()&&(t=Br);for(var i=nn(),a=null,l=Vc;l!==null;){var h=l.next,d=Q_(l,i);d===0?(l.next=null,a===null?Vc=h:a.next=h,h===null&&($a=a)):(a=l,(t!==0||(d&3)!==0)&&(jc=!0)),l=h}jt!==0&&jt!==5||Al(t),Br!==0&&(Br=0)}function Q_(t,i){for(var a=t.suspendedLanes,l=t.pingedLanes,h=t.expirationTimes,d=t.pendingLanes&-62914561;0<d;){var v=31-yt(d),S=1<<v,N=h[v];N===-1?((S&a)===0||(S&l)!==0)&&(h[v]=pf(S,i)):N<=i&&(t.expiredLanes|=S),d&=~S}if(i=it,a=je,a=fi(t,t===i?a:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),l=t.callbackNode,a===0||t===i&&(Je===2||Je===9)||t.cancelPendingCommit!==null)return l!==null&&l!==null&&pr(l),t.callbackNode=null,t.callbackPriority=0;if((a&3)===0||Yn(t,a)){if(i=a&-a,i===t.callbackPriority)return i;switch(l!==null&&pr(l),zi(a)){case 2:case 8:a=Vo;break;case 32:a=gr;break;case 268435456:a=Au;break;default:a=gr}return l=K_.bind(null,t),a=Vt(a,l),t.callbackPriority=i,t.callbackNode=a,i}return l!==null&&l!==null&&pr(l),t.callbackPriority=2,t.callbackNode=null,2}function K_(t,i){if(jt!==0&&jt!==5)return t.callbackNode=null,t.callbackPriority=0,null;var a=t.callbackNode;if(Mc()&&t.callbackNode!==a)return null;var l=je;return l=fi(t,t===it?l:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),l===0?null:(C_(t,l,i),Q_(t,nn()),t.callbackNode!=null&&t.callbackNode===a?K_.bind(null,t):null)}function Y_(t,i){if(Mc())return null;C_(t,i,!0)}function ES(){OS(function(){(Qe&6)!==0?Vt(Mo,vS):G_()})}function Bd(){if(Br===0){var t=Va;t===0&&(t=ci,ci<<=1,(ci&261888)===0&&(ci=256)),Br=t}return Br}function $_(t){return t==null||typeof t=="symbol"||typeof t=="boolean"?null:typeof t=="function"?t:va(""+t)}function X_(t,i){var a=i.ownerDocument.createElement("input");return a.name=i.name,a.value=i.value,t.id&&a.setAttribute("form",t.id),i.parentNode.insertBefore(a,i),t=new FormData(t),a.parentNode.removeChild(a),t}function bS(t,i,a,l,h){if(i==="submit"&&a&&a.stateNode===h){var d=$_((h[Lt]||null).action),v=l.submitter;v&&(i=(i=v[Lt]||null)?$_(i.formAction):v.getAttribute("formAction"),i!==null&&(d=i,v=null));var S=new Si("action","action",null,l,h);t.push({event:S,listeners:[{instance:null,listener:function(){if(l.defaultPrevented){if(Br!==0){var N=v?X_(h,v):new FormData(h);od(a,{pending:!0,data:N,method:h.method,action:d},null,N)}}else typeof d=="function"&&(S.preventDefault(),N=v?X_(h,v):new FormData(h),od(a,{pending:!0,data:N,method:h.method,action:d},d,N))},currentTarget:h}]})}}for(var qd=0;qd<Af.length;qd++){var Hd=Af[qd],TS=Hd.toLowerCase(),SS=Hd[0].toUpperCase()+Hd.slice(1);ni(TS,"on"+SS)}ni(Rg,"onAnimationEnd"),ni(Cg,"onAnimationIteration"),ni(Ig,"onAnimationStart"),ni("dblclick","onDoubleClick"),ni("focusin","onFocus"),ni("focusout","onBlur"),ni(U1,"onTransitionRun"),ni(z1,"onTransitionStart"),ni(B1,"onTransitionCancel"),ni(Ng,"onTransitionEnd"),vi("onMouseEnter",["mouseout","mouseover"]),vi("onMouseLeave",["mouseout","mouseover"]),vi("onPointerEnter",["pointerout","pointerover"]),vi("onPointerLeave",["pointerout","pointerover"]),_i("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),_i("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),_i("onBeforeInput",["compositionend","keypress","textInput","paste"]),_i("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),_i("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),_i("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var wl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),AS=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(wl));function J_(t,i){i=(i&4)!==0;for(var a=0;a<t.length;a++){var l=t[a],h=l.event;l=l.listeners;e:{var d=void 0;if(i)for(var v=l.length-1;0<=v;v--){var S=l[v],N=S.instance,q=S.currentTarget;if(S=S.listener,N!==d&&h.isPropagationStopped())break e;d=S,h.currentTarget=q;try{d(h)}catch($){Xu($)}h.currentTarget=null,d=N}else for(v=0;v<l.length;v++){if(S=l[v],N=S.instance,q=S.currentTarget,S=S.listener,N!==d&&h.isPropagationStopped())break e;d=S,h.currentTarget=q;try{d(h)}catch($){Xu($)}h.currentTarget=null,d=N}}}}function Me(t,i){var a=i[ma];a===void 0&&(a=i[ma]=new Set);var l=t+"__bubble";a.has(l)||(W_(i,t,2,!1),a.add(l))}function Fd(t,i,a){var l=0;i&&(l|=4),W_(a,t,l,i)}var kc="_reactListening"+Math.random().toString(36).slice(2);function Gd(t){if(!t[kc]){t[kc]=!0,Po.forEach(function(a){a!=="selectionchange"&&(AS.has(a)||Fd(a,!1,t),Fd(a,!0,t))});var i=t.nodeType===9?t:t.ownerDocument;i===null||i[kc]||(i[kc]=!0,Fd("selectionchange",!1,i))}}function W_(t,i,a,l){switch(Rv(i)){case 2:var h=WS;break;case 8:h=ZS;break;default:h=am}a=h.bind(null,i,a,t),h=void 0,!Cs||i!=="touchstart"&&i!=="touchmove"&&i!=="wheel"||(h=!0),l?h!==void 0?t.addEventListener(i,a,{capture:!0,passive:h}):t.addEventListener(i,a,!0):h!==void 0?t.addEventListener(i,a,{passive:h}):t.addEventListener(i,a,!1)}function Qd(t,i,a,l,h){var d=l;if((i&1)===0&&(i&2)===0&&l!==null)e:for(;;){if(l===null)return;var v=l.tag;if(v===3||v===4){var S=l.stateNode.containerInfo;if(S===h)break;if(v===4)for(v=l.return;v!==null;){var N=v.tag;if((N===3||N===4)&&v.stateNode.containerInfo===h)return;v=v.return}for(;S!==null;){if(v=gi(S),v===null)return;if(N=v.tag,N===5||N===6||N===26||N===27){l=d=v;continue e}S=S.parentNode}}l=l.return}Tr(function(){var q=d,$=Nn(a),ne=[];e:{var H=Dg.get(t);if(H!==void 0){var Q=Si,fe=t;switch(t){case"keypress":if(Ns(a)===0)break e;case"keydown":case"keyup":Q=Ku;break;case"focusin":fe="focus",Q=Os;break;case"focusout":fe="blur",Q=Os;break;case"beforeblur":case"afterblur":Q=Os;break;case"click":if(a.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Q=Xo;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Q=Lu;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Q=y;break;case Rg:case Cg:case Ig:Q=zu;break;case Ng:Q=A;break;case"scroll":case"scrollend":Q=$o;break;case"wheel":Q=G;break;case"copy":case"cut":case"paste":Q=Bu;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Q=Hi;break;case"toggle":case"beforetoggle":Q=Ce}var ve=(i&4)!==0,nt=!ve&&(t==="scroll"||t==="scrollend"),U=ve?H!==null?H+"Capture":null:H;ve=[];for(var V=q,B;V!==null;){var ee=V;if(B=ee.stateNode,ee=ee.tag,ee!==5&&ee!==26&&ee!==27||B===null||U===null||(ee=Wn(V,U),ee!=null&&ve.push(xl(V,ee,B))),nt)break;V=V.return}0<ve.length&&(H=new Q(H,fe,null,a,$),ne.push({event:H,listeners:ve}))}}if((i&7)===0){e:{if(H=t==="mouseover"||t==="pointerover",Q=t==="mouseout"||t==="pointerout",H&&a!==Qo&&(fe=a.relatedTarget||a.fromElement)&&(gi(fe)||fe[mi]))break e;if((Q||H)&&(H=$.window===$?$:(H=$.ownerDocument)?H.defaultView||H.parentWindow:window,Q?(fe=a.relatedTarget||a.toElement,Q=q,fe=fe?gi(fe):null,fe!==null&&(nt=u(fe),ve=fe.tag,fe!==nt||ve!==5&&ve!==27&&ve!==6)&&(fe=null)):(Q=null,fe=q),Q!==fe)){if(ve=Xo,ee="onMouseLeave",U="onMouseEnter",V="mouse",(t==="pointerout"||t==="pointerover")&&(ve=Hi,ee="onPointerLeave",U="onPointerEnter",V="pointer"),nt=Q==null?H:gn(Q),B=fe==null?H:gn(fe),H=new ve(ee,V+"leave",Q,a,$),H.target=nt,H.relatedTarget=B,ee=null,gi($)===q&&(ve=new ve(U,V+"enter",fe,a,$),ve.target=B,ve.relatedTarget=nt,ee=ve),nt=ee,Q&&fe)t:{for(ve=wS,U=Q,V=fe,B=0,ee=U;ee;ee=ve(ee))B++;ee=0;for(var pe=V;pe;pe=ve(pe))ee++;for(;0<B-ee;)U=ve(U),B--;for(;0<ee-B;)V=ve(V),ee--;for(;B--;){if(U===V||V!==null&&U===V.alternate){ve=U;break t}U=ve(U),V=ve(V)}ve=null}else ve=null;Q!==null&&Z_(ne,H,Q,ve,!1),fe!==null&&nt!==null&&Z_(ne,nt,fe,ve,!0)}}e:{if(H=q?gn(q):window,Q=H.nodeName&&H.nodeName.toLowerCase(),Q==="select"||Q==="input"&&H.type==="file")var He=gg;else if(mg(H))if(yg)He=k1;else{He=V1;var me=M1}else Q=H.nodeName,!Q||Q.toLowerCase()!=="input"||H.type!=="checkbox"&&H.type!=="radio"?q&&_a(q.elementType)&&(He=gg):He=j1;if(He&&(He=He(t,q))){pg(ne,He,a,$);break e}me&&me(t,H,q),t==="focusout"&&q&&H.type==="number"&&q.memoizedProps.value!=null&&Ho(H,"number",H.value)}switch(me=q?gn(q):window,t){case"focusin":(mg(me)||me.contentEditable==="true")&&(xa=me,bf=q,tl=null);break;case"focusout":tl=bf=xa=null;break;case"mousedown":Tf=!0;break;case"contextmenu":case"mouseup":case"dragend":Tf=!1,wg(ne,a,$);break;case"selectionchange":if(L1)break;case"keydown":case"keyup":wg(ne,a,$)}var Ne;if(Ge)e:{switch(t){case"compositionstart":var ke="onCompositionStart";break e;case"compositionend":ke="onCompositionEnd";break e;case"compositionupdate":ke="onCompositionUpdate";break e}ke=void 0}else wa?Ms(t,a)&&(ke="onCompositionEnd"):t==="keydown"&&a.keyCode===229&&(ke="onCompositionStart");ke&&(xi&&a.locale!=="ko"&&(wa||ke!=="onCompositionStart"?ke==="onCompositionEnd"&&wa&&(Ne=Yo()):(Ti=$,Ko="value"in Ti?Ti.value:Ti.textContent,wa=!0)),me=Pc(q,ke),0<me.length&&(ke=new wi(ke,t,null,a,$),ne.push({event:ke,listeners:me}),Ne?ke.data=Ne:(Ne=Aa(a),Ne!==null&&(ke.data=Ne)))),(Ne=On?I1(t,a):N1(t,a))&&(ke=Pc(q,"onBeforeInput"),0<ke.length&&(me=new wi("onBeforeInput","beforeinput",null,a,$),ne.push({event:me,listeners:ke}),me.data=Ne)),bS(ne,t,q,a,$)}J_(ne,i)})}function xl(t,i,a){return{instance:t,listener:i,currentTarget:a}}function Pc(t,i){for(var a=i+"Capture",l=[];t!==null;){var h=t,d=h.stateNode;if(h=h.tag,h!==5&&h!==26&&h!==27||d===null||(h=Wn(t,a),h!=null&&l.unshift(xl(t,h,d)),h=Wn(t,i),h!=null&&l.push(xl(t,h,d))),t.tag===3)return l;t=t.return}return[]}function wS(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5&&t.tag!==27);return t||null}function Z_(t,i,a,l,h){for(var d=i._reactName,v=[];a!==null&&a!==l;){var S=a,N=S.alternate,q=S.stateNode;if(S=S.tag,N!==null&&N===l)break;S!==5&&S!==26&&S!==27||q===null||(N=q,h?(q=Wn(a,d),q!=null&&v.unshift(xl(a,q,N))):h||(q=Wn(a,d),q!=null&&v.push(xl(a,q,N)))),a=a.return}v.length!==0&&t.push({event:i,listeners:v})}var xS=/\r\n?/g,RS=/\u0000|\uFFFD/g;function ev(t){return(typeof t=="string"?t:""+t).replace(xS,`
`).replace(RS,"")}function tv(t,i){return i=ev(i),ev(t)===i}function tt(t,i,a,l,h,d){switch(a){case"children":typeof l=="string"?i==="body"||i==="textarea"&&l===""||on(t,l):(typeof l=="number"||typeof l=="bigint")&&i!=="body"&&on(t,""+l);break;case"className":yn(t,"class",l);break;case"tabIndex":yn(t,"tabindex",l);break;case"dir":case"role":case"viewBox":case"width":case"height":yn(t,a,l);break;case"style":Go(t,l,d);break;case"data":if(i!=="object"){yn(t,"data",l);break}case"src":case"href":if(l===""&&(i!=="a"||a!=="href")){t.removeAttribute(a);break}if(l==null||typeof l=="function"||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(a);break}l=va(""+l),t.setAttribute(a,l);break;case"action":case"formAction":if(typeof l=="function"){t.setAttribute(a,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof d=="function"&&(a==="formAction"?(i!=="input"&&tt(t,i,"name",h.name,h,null),tt(t,i,"formEncType",h.formEncType,h,null),tt(t,i,"formMethod",h.formMethod,h,null),tt(t,i,"formTarget",h.formTarget,h,null)):(tt(t,i,"encType",h.encType,h,null),tt(t,i,"method",h.method,h,null),tt(t,i,"target",h.target,h,null)));if(l==null||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(a);break}l=va(""+l),t.setAttribute(a,l);break;case"onClick":l!=null&&(t.onclick=Jn);break;case"onScroll":l!=null&&Me("scroll",t);break;case"onScrollEnd":l!=null&&Me("scrollend",t);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(s(61));if(a=l.__html,a!=null){if(h.children!=null)throw Error(s(60));t.innerHTML=a}}break;case"multiple":t.multiple=l&&typeof l!="function"&&typeof l!="symbol";break;case"muted":t.muted=l&&typeof l!="function"&&typeof l!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(l==null||typeof l=="function"||typeof l=="boolean"||typeof l=="symbol"){t.removeAttribute("xlink:href");break}a=va(""+l),t.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(a,""+l):t.removeAttribute(a);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":l&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(a,""):t.removeAttribute(a);break;case"capture":case"download":l===!0?t.setAttribute(a,""):l!==!1&&l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(a,l):t.removeAttribute(a);break;case"cols":case"rows":case"size":case"span":l!=null&&typeof l!="function"&&typeof l!="symbol"&&!isNaN(l)&&1<=l?t.setAttribute(a,l):t.removeAttribute(a);break;case"rowSpan":case"start":l==null||typeof l=="function"||typeof l=="symbol"||isNaN(l)?t.removeAttribute(a):t.setAttribute(a,l);break;case"popover":Me("beforetoggle",t),Me("toggle",t),ga(t,"popover",l);break;case"xlinkActuate":xt(t,"http://www.w3.org/1999/xlink","xlink:actuate",l);break;case"xlinkArcrole":xt(t,"http://www.w3.org/1999/xlink","xlink:arcrole",l);break;case"xlinkRole":xt(t,"http://www.w3.org/1999/xlink","xlink:role",l);break;case"xlinkShow":xt(t,"http://www.w3.org/1999/xlink","xlink:show",l);break;case"xlinkTitle":xt(t,"http://www.w3.org/1999/xlink","xlink:title",l);break;case"xlinkType":xt(t,"http://www.w3.org/1999/xlink","xlink:type",l);break;case"xmlBase":xt(t,"http://www.w3.org/XML/1998/namespace","xml:base",l);break;case"xmlLang":xt(t,"http://www.w3.org/XML/1998/namespace","xml:lang",l);break;case"xmlSpace":xt(t,"http://www.w3.org/XML/1998/namespace","xml:space",l);break;case"is":ga(t,"is",l);break;case"innerText":case"textContent":break;default:(!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(a=Pu.get(a)||a,ga(t,a,l))}}function Kd(t,i,a,l,h,d){switch(a){case"style":Go(t,l,d);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(s(61));if(a=l.__html,a!=null){if(h.children!=null)throw Error(s(60));t.innerHTML=a}}break;case"children":typeof l=="string"?on(t,l):(typeof l=="number"||typeof l=="bigint")&&on(t,""+l);break;case"onScroll":l!=null&&Me("scroll",t);break;case"onScrollEnd":l!=null&&Me("scrollend",t);break;case"onClick":l!=null&&(t.onclick=Jn);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Lo.hasOwnProperty(a))e:{if(a[0]==="o"&&a[1]==="n"&&(h=a.endsWith("Capture"),i=a.slice(2,h?a.length-7:void 0),d=t[Lt]||null,d=d!=null?d[a]:null,typeof d=="function"&&t.removeEventListener(i,d,h),typeof l=="function")){typeof d!="function"&&d!==null&&(a in t?t[a]=null:t.hasAttribute(a)&&t.removeAttribute(a)),t.addEventListener(i,l,h);break e}a in t?t[a]=l:l===!0?t.setAttribute(a,""):ga(t,a,l)}}}function Kt(t,i,a){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Me("error",t),Me("load",t);var l=!1,h=!1,d;for(d in a)if(a.hasOwnProperty(d)){var v=a[d];if(v!=null)switch(d){case"src":l=!0;break;case"srcSet":h=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(s(137,i));default:tt(t,i,d,v,a,null)}}h&&tt(t,i,"srcSet",a.srcSet,a,null),l&&tt(t,i,"src",a.src,a,null);return;case"input":Me("invalid",t);var S=d=v=h=null,N=null,q=null;for(l in a)if(a.hasOwnProperty(l)){var $=a[l];if($!=null)switch(l){case"name":h=$;break;case"type":v=$;break;case"checked":N=$;break;case"defaultChecked":q=$;break;case"value":d=$;break;case"defaultValue":S=$;break;case"children":case"dangerouslySetInnerHTML":if($!=null)throw Error(s(137,i));break;default:tt(t,i,l,$,a,null)}}Vu(t,d,S,N,q,v,h,!1);return;case"select":Me("invalid",t),l=v=d=null;for(h in a)if(a.hasOwnProperty(h)&&(S=a[h],S!=null))switch(h){case"value":d=S;break;case"defaultValue":v=S;break;case"multiple":l=S;default:tt(t,i,h,S,a,null)}i=d,a=v,t.multiple=!!l,i!=null?_r(t,!!l,i,!1):a!=null&&_r(t,!!l,a,!0);return;case"textarea":Me("invalid",t),d=h=l=null;for(v in a)if(a.hasOwnProperty(v)&&(S=a[v],S!=null))switch(v){case"value":l=S;break;case"defaultValue":h=S;break;case"children":d=S;break;case"dangerouslySetInnerHTML":if(S!=null)throw Error(s(91));break;default:tt(t,i,v,S,a,null)}vr(t,l,h,d);return;case"option":for(N in a)if(a.hasOwnProperty(N)&&(l=a[N],l!=null))switch(N){case"selected":t.selected=l&&typeof l!="function"&&typeof l!="symbol";break;default:tt(t,i,N,l,a,null)}return;case"dialog":Me("beforetoggle",t),Me("toggle",t),Me("cancel",t),Me("close",t);break;case"iframe":case"object":Me("load",t);break;case"video":case"audio":for(l=0;l<wl.length;l++)Me(wl[l],t);break;case"image":Me("error",t),Me("load",t);break;case"details":Me("toggle",t);break;case"embed":case"source":case"link":Me("error",t),Me("load",t);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(q in a)if(a.hasOwnProperty(q)&&(l=a[q],l!=null))switch(q){case"children":case"dangerouslySetInnerHTML":throw Error(s(137,i));default:tt(t,i,q,l,a,null)}return;default:if(_a(i)){for($ in a)a.hasOwnProperty($)&&(l=a[$],l!==void 0&&Kd(t,i,$,l,a,void 0));return}}for(S in a)a.hasOwnProperty(S)&&(l=a[S],l!=null&&tt(t,i,S,l,a,null))}function CS(t,i,a,l){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var h=null,d=null,v=null,S=null,N=null,q=null,$=null;for(Q in a){var ne=a[Q];if(a.hasOwnProperty(Q)&&ne!=null)switch(Q){case"checked":break;case"value":break;case"defaultValue":N=ne;default:l.hasOwnProperty(Q)||tt(t,i,Q,null,l,ne)}}for(var H in l){var Q=l[H];if(ne=a[H],l.hasOwnProperty(H)&&(Q!=null||ne!=null))switch(H){case"type":d=Q;break;case"name":h=Q;break;case"checked":q=Q;break;case"defaultChecked":$=Q;break;case"value":v=Q;break;case"defaultValue":S=Q;break;case"children":case"dangerouslySetInnerHTML":if(Q!=null)throw Error(s(137,i));break;default:Q!==ne&&tt(t,i,H,Q,l,ne)}}ya(t,v,S,N,q,$,d,h);return;case"select":Q=v=S=H=null;for(d in a)if(N=a[d],a.hasOwnProperty(d)&&N!=null)switch(d){case"value":break;case"multiple":Q=N;default:l.hasOwnProperty(d)||tt(t,i,d,null,l,N)}for(h in l)if(d=l[h],N=a[h],l.hasOwnProperty(h)&&(d!=null||N!=null))switch(h){case"value":H=d;break;case"defaultValue":S=d;break;case"multiple":v=d;default:d!==N&&tt(t,i,h,d,l,N)}i=S,a=v,l=Q,H!=null?_r(t,!!a,H,!1):!!l!=!!a&&(i!=null?_r(t,!!a,i,!0):_r(t,!!a,a?[]:"",!1));return;case"textarea":Q=H=null;for(S in a)if(h=a[S],a.hasOwnProperty(S)&&h!=null&&!l.hasOwnProperty(S))switch(S){case"value":break;case"children":break;default:tt(t,i,S,null,l,h)}for(v in l)if(h=l[v],d=a[v],l.hasOwnProperty(v)&&(h!=null||d!=null))switch(v){case"value":H=h;break;case"defaultValue":Q=h;break;case"children":break;case"dangerouslySetInnerHTML":if(h!=null)throw Error(s(91));break;default:h!==d&&tt(t,i,v,h,l,d)}ju(t,H,Q);return;case"option":for(var fe in a)if(H=a[fe],a.hasOwnProperty(fe)&&H!=null&&!l.hasOwnProperty(fe))switch(fe){case"selected":t.selected=!1;break;default:tt(t,i,fe,null,l,H)}for(N in l)if(H=l[N],Q=a[N],l.hasOwnProperty(N)&&H!==Q&&(H!=null||Q!=null))switch(N){case"selected":t.selected=H&&typeof H!="function"&&typeof H!="symbol";break;default:tt(t,i,N,H,l,Q)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var ve in a)H=a[ve],a.hasOwnProperty(ve)&&H!=null&&!l.hasOwnProperty(ve)&&tt(t,i,ve,null,l,H);for(q in l)if(H=l[q],Q=a[q],l.hasOwnProperty(q)&&H!==Q&&(H!=null||Q!=null))switch(q){case"children":case"dangerouslySetInnerHTML":if(H!=null)throw Error(s(137,i));break;default:tt(t,i,q,H,l,Q)}return;default:if(_a(i)){for(var nt in a)H=a[nt],a.hasOwnProperty(nt)&&H!==void 0&&!l.hasOwnProperty(nt)&&Kd(t,i,nt,void 0,l,H);for($ in l)H=l[$],Q=a[$],!l.hasOwnProperty($)||H===Q||H===void 0&&Q===void 0||Kd(t,i,$,H,l,Q);return}}for(var U in a)H=a[U],a.hasOwnProperty(U)&&H!=null&&!l.hasOwnProperty(U)&&tt(t,i,U,null,l,H);for(ne in l)H=l[ne],Q=a[ne],!l.hasOwnProperty(ne)||H===Q||H==null&&Q==null||tt(t,i,ne,H,l,Q)}function nv(t){switch(t){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function IS(){if(typeof performance.getEntriesByType=="function"){for(var t=0,i=0,a=performance.getEntriesByType("resource"),l=0;l<a.length;l++){var h=a[l],d=h.transferSize,v=h.initiatorType,S=h.duration;if(d&&S&&nv(v)){for(v=0,S=h.responseEnd,l+=1;l<a.length;l++){var N=a[l],q=N.startTime;if(q>S)break;var $=N.transferSize,ne=N.initiatorType;$&&nv(ne)&&(N=N.responseEnd,v+=$*(N<S?1:(S-q)/(N-q)))}if(--l,i+=8*(d+v)/(h.duration/1e3),t++,10<t)break}}if(0<t)return i/t/1e6}return navigator.connection&&(t=navigator.connection.downlink,typeof t=="number")?t:5}var Yd=null,$d=null;function Lc(t){return t.nodeType===9?t:t.ownerDocument}function iv(t){switch(t){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function rv(t,i){if(t===0)switch(i){case"svg":return 1;case"math":return 2;default:return 0}return t===1&&i==="foreignObject"?0:t}function Xd(t,i){return t==="textarea"||t==="noscript"||typeof i.children=="string"||typeof i.children=="number"||typeof i.children=="bigint"||typeof i.dangerouslySetInnerHTML=="object"&&i.dangerouslySetInnerHTML!==null&&i.dangerouslySetInnerHTML.__html!=null}var Jd=null;function NS(){var t=window.event;return t&&t.type==="popstate"?t===Jd?!1:(Jd=t,!0):(Jd=null,!1)}var sv=typeof setTimeout=="function"?setTimeout:void 0,DS=typeof clearTimeout=="function"?clearTimeout:void 0,av=typeof Promise=="function"?Promise:void 0,OS=typeof queueMicrotask=="function"?queueMicrotask:typeof av<"u"?function(t){return av.resolve(null).then(t).catch(MS)}:sv;function MS(t){setTimeout(function(){throw t})}function qr(t){return t==="head"}function ov(t,i){var a=i,l=0;do{var h=a.nextSibling;if(t.removeChild(a),h&&h.nodeType===8)if(a=h.data,a==="/$"||a==="/&"){if(l===0){t.removeChild(h),Za(i);return}l--}else if(a==="$"||a==="$?"||a==="$~"||a==="$!"||a==="&")l++;else if(a==="html")Rl(t.ownerDocument.documentElement);else if(a==="head"){a=t.ownerDocument.head,Rl(a);for(var d=a.firstChild;d;){var v=d.nextSibling,S=d.nodeName;d[pi]||S==="SCRIPT"||S==="STYLE"||S==="LINK"&&d.rel.toLowerCase()==="stylesheet"||a.removeChild(d),d=v}}else a==="body"&&Rl(t.ownerDocument.body);a=h}while(a);Za(i)}function lv(t,i){var a=t;t=0;do{var l=a.nextSibling;if(a.nodeType===1?i?(a._stashedDisplay=a.style.display,a.style.display="none"):(a.style.display=a._stashedDisplay||"",a.getAttribute("style")===""&&a.removeAttribute("style")):a.nodeType===3&&(i?(a._stashedText=a.nodeValue,a.nodeValue=""):a.nodeValue=a._stashedText||""),l&&l.nodeType===8)if(a=l.data,a==="/$"){if(t===0)break;t--}else a!=="$"&&a!=="$?"&&a!=="$~"&&a!=="$!"||t++;a=l}while(a)}function Wd(t){var i=t.firstChild;for(i&&i.nodeType===10&&(i=i.nextSibling);i;){var a=i;switch(i=i.nextSibling,a.nodeName){case"HTML":case"HEAD":case"BODY":Wd(a),pa(a);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(a.rel.toLowerCase()==="stylesheet")continue}t.removeChild(a)}}function VS(t,i,a,l){for(;t.nodeType===1;){var h=a;if(t.nodeName.toLowerCase()!==i.toLowerCase()){if(!l&&(t.nodeName!=="INPUT"||t.type!=="hidden"))break}else if(l){if(!t[pi])switch(i){case"meta":if(!t.hasAttribute("itemprop"))break;return t;case"link":if(d=t.getAttribute("rel"),d==="stylesheet"&&t.hasAttribute("data-precedence"))break;if(d!==h.rel||t.getAttribute("href")!==(h.href==null||h.href===""?null:h.href)||t.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin)||t.getAttribute("title")!==(h.title==null?null:h.title))break;return t;case"style":if(t.hasAttribute("data-precedence"))break;return t;case"script":if(d=t.getAttribute("src"),(d!==(h.src==null?null:h.src)||t.getAttribute("type")!==(h.type==null?null:h.type)||t.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin))&&d&&t.hasAttribute("async")&&!t.hasAttribute("itemprop"))break;return t;default:return t}}else if(i==="input"&&t.type==="hidden"){var d=h.name==null?null:""+h.name;if(h.type==="hidden"&&t.getAttribute("name")===d)return t}else return t;if(t=Un(t.nextSibling),t===null)break}return null}function jS(t,i,a){if(i==="")return null;for(;t.nodeType!==3;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!a||(t=Un(t.nextSibling),t===null))return null;return t}function uv(t,i){for(;t.nodeType!==8;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!i||(t=Un(t.nextSibling),t===null))return null;return t}function Zd(t){return t.data==="$?"||t.data==="$~"}function em(t){return t.data==="$!"||t.data==="$?"&&t.ownerDocument.readyState!=="loading"}function kS(t,i){var a=t.ownerDocument;if(t.data==="$~")t._reactRetry=i;else if(t.data!=="$?"||a.readyState!=="loading")i();else{var l=function(){i(),a.removeEventListener("DOMContentLoaded",l)};a.addEventListener("DOMContentLoaded",l),t._reactRetry=l}}function Un(t){for(;t!=null;t=t.nextSibling){var i=t.nodeType;if(i===1||i===3)break;if(i===8){if(i=t.data,i==="$"||i==="$!"||i==="$?"||i==="$~"||i==="&"||i==="F!"||i==="F")break;if(i==="/$"||i==="/&")return null}}return t}var tm=null;function cv(t){t=t.nextSibling;for(var i=0;t;){if(t.nodeType===8){var a=t.data;if(a==="/$"||a==="/&"){if(i===0)return Un(t.nextSibling);i--}else a!=="$"&&a!=="$!"&&a!=="$?"&&a!=="$~"&&a!=="&"||i++}t=t.nextSibling}return null}function hv(t){t=t.previousSibling;for(var i=0;t;){if(t.nodeType===8){var a=t.data;if(a==="$"||a==="$!"||a==="$?"||a==="$~"||a==="&"){if(i===0)return t;i--}else a!=="/$"&&a!=="/&"||i++}t=t.previousSibling}return null}function fv(t,i,a){switch(i=Lc(a),t){case"html":if(t=i.documentElement,!t)throw Error(s(452));return t;case"head":if(t=i.head,!t)throw Error(s(453));return t;case"body":if(t=i.body,!t)throw Error(s(454));return t;default:throw Error(s(451))}}function Rl(t){for(var i=t.attributes;i.length;)t.removeAttributeNode(i[0]);pa(t)}var zn=new Map,dv=new Set;function Uc(t){return typeof t.getRootNode=="function"?t.getRootNode():t.nodeType===9?t:t.ownerDocument}var rr=J.d;J.d={f:PS,r:LS,D:US,C:zS,L:BS,m:qS,X:FS,S:HS,M:GS};function PS(){var t=rr.f(),i=Nc();return t||i}function LS(t){var i=In(t);i!==null&&i.tag===5&&i.type==="form"?Ny(i):rr.r(t)}var Xa=typeof document>"u"?null:document;function mv(t,i,a){var l=Xa;if(l&&typeof i=="string"&&i){var h=an(i);h='link[rel="'+t+'"][href="'+h+'"]',typeof a=="string"&&(h+='[crossorigin="'+a+'"]'),dv.has(h)||(dv.add(h),t={rel:t,crossOrigin:a,href:i},l.querySelector(h)===null&&(i=l.createElement("link"),Kt(i,"link",t),wt(i),l.head.appendChild(i)))}}function US(t){rr.D(t),mv("dns-prefetch",t,null)}function zS(t,i){rr.C(t,i),mv("preconnect",t,i)}function BS(t,i,a){rr.L(t,i,a);var l=Xa;if(l&&t&&i){var h='link[rel="preload"][as="'+an(i)+'"]';i==="image"&&a&&a.imageSrcSet?(h+='[imagesrcset="'+an(a.imageSrcSet)+'"]',typeof a.imageSizes=="string"&&(h+='[imagesizes="'+an(a.imageSizes)+'"]')):h+='[href="'+an(t)+'"]';var d=h;switch(i){case"style":d=Ja(t);break;case"script":d=Wa(t)}zn.has(d)||(t=T({rel:"preload",href:i==="image"&&a&&a.imageSrcSet?void 0:t,as:i},a),zn.set(d,t),l.querySelector(h)!==null||i==="style"&&l.querySelector(Cl(d))||i==="script"&&l.querySelector(Il(d))||(i=l.createElement("link"),Kt(i,"link",t),wt(i),l.head.appendChild(i)))}}function qS(t,i){rr.m(t,i);var a=Xa;if(a&&t){var l=i&&typeof i.as=="string"?i.as:"script",h='link[rel="modulepreload"][as="'+an(l)+'"][href="'+an(t)+'"]',d=h;switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":d=Wa(t)}if(!zn.has(d)&&(t=T({rel:"modulepreload",href:t},i),zn.set(d,t),a.querySelector(h)===null)){switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(a.querySelector(Il(d)))return}l=a.createElement("link"),Kt(l,"link",t),wt(l),a.head.appendChild(l)}}}function HS(t,i,a){rr.S(t,i,a);var l=Xa;if(l&&t){var h=yi(l).hoistableStyles,d=Ja(t);i=i||"default";var v=h.get(d);if(!v){var S={loading:0,preload:null};if(v=l.querySelector(Cl(d)))S.loading=5;else{t=T({rel:"stylesheet",href:t,"data-precedence":i},a),(a=zn.get(d))&&nm(t,a);var N=v=l.createElement("link");wt(N),Kt(N,"link",t),N._p=new Promise(function(q,$){N.onload=q,N.onerror=$}),N.addEventListener("load",function(){S.loading|=1}),N.addEventListener("error",function(){S.loading|=2}),S.loading|=4,zc(v,i,l)}v={type:"stylesheet",instance:v,count:1,state:S},h.set(d,v)}}}function FS(t,i){rr.X(t,i);var a=Xa;if(a&&t){var l=yi(a).hoistableScripts,h=Wa(t),d=l.get(h);d||(d=a.querySelector(Il(h)),d||(t=T({src:t,async:!0},i),(i=zn.get(h))&&im(t,i),d=a.createElement("script"),wt(d),Kt(d,"link",t),a.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},l.set(h,d))}}function GS(t,i){rr.M(t,i);var a=Xa;if(a&&t){var l=yi(a).hoistableScripts,h=Wa(t),d=l.get(h);d||(d=a.querySelector(Il(h)),d||(t=T({src:t,async:!0,type:"module"},i),(i=zn.get(h))&&im(t,i),d=a.createElement("script"),wt(d),Kt(d,"link",t),a.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},l.set(h,d))}}function pv(t,i,a,l){var h=(h=we.current)?Uc(h):null;if(!h)throw Error(s(446));switch(t){case"meta":case"title":return null;case"style":return typeof a.precedence=="string"&&typeof a.href=="string"?(i=Ja(a.href),a=yi(h).hoistableStyles,l=a.get(i),l||(l={type:"style",instance:null,count:0,state:null},a.set(i,l)),l):{type:"void",instance:null,count:0,state:null};case"link":if(a.rel==="stylesheet"&&typeof a.href=="string"&&typeof a.precedence=="string"){t=Ja(a.href);var d=yi(h).hoistableStyles,v=d.get(t);if(v||(h=h.ownerDocument||h,v={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},d.set(t,v),(d=h.querySelector(Cl(t)))&&!d._p&&(v.instance=d,v.state.loading=5),zn.has(t)||(a={rel:"preload",as:"style",href:a.href,crossOrigin:a.crossOrigin,integrity:a.integrity,media:a.media,hrefLang:a.hrefLang,referrerPolicy:a.referrerPolicy},zn.set(t,a),d||QS(h,t,a,v.state))),i&&l===null)throw Error(s(528,""));return v}if(i&&l!==null)throw Error(s(529,""));return null;case"script":return i=a.async,a=a.src,typeof a=="string"&&i&&typeof i!="function"&&typeof i!="symbol"?(i=Wa(a),a=yi(h).hoistableScripts,l=a.get(i),l||(l={type:"script",instance:null,count:0,state:null},a.set(i,l)),l):{type:"void",instance:null,count:0,state:null};default:throw Error(s(444,t))}}function Ja(t){return'href="'+an(t)+'"'}function Cl(t){return'link[rel="stylesheet"]['+t+"]"}function gv(t){return T({},t,{"data-precedence":t.precedence,precedence:null})}function QS(t,i,a,l){t.querySelector('link[rel="preload"][as="style"]['+i+"]")?l.loading=1:(i=t.createElement("link"),l.preload=i,i.addEventListener("load",function(){return l.loading|=1}),i.addEventListener("error",function(){return l.loading|=2}),Kt(i,"link",a),wt(i),t.head.appendChild(i))}function Wa(t){return'[src="'+an(t)+'"]'}function Il(t){return"script[async]"+t}function yv(t,i,a){if(i.count++,i.instance===null)switch(i.type){case"style":var l=t.querySelector('style[data-href~="'+an(a.href)+'"]');if(l)return i.instance=l,wt(l),l;var h=T({},a,{"data-href":a.href,"data-precedence":a.precedence,href:null,precedence:null});return l=(t.ownerDocument||t).createElement("style"),wt(l),Kt(l,"style",h),zc(l,a.precedence,t),i.instance=l;case"stylesheet":h=Ja(a.href);var d=t.querySelector(Cl(h));if(d)return i.state.loading|=4,i.instance=d,wt(d),d;l=gv(a),(h=zn.get(h))&&nm(l,h),d=(t.ownerDocument||t).createElement("link"),wt(d);var v=d;return v._p=new Promise(function(S,N){v.onload=S,v.onerror=N}),Kt(d,"link",l),i.state.loading|=4,zc(d,a.precedence,t),i.instance=d;case"script":return d=Wa(a.src),(h=t.querySelector(Il(d)))?(i.instance=h,wt(h),h):(l=a,(h=zn.get(d))&&(l=T({},a),im(l,h)),t=t.ownerDocument||t,h=t.createElement("script"),wt(h),Kt(h,"link",l),t.head.appendChild(h),i.instance=h);case"void":return null;default:throw Error(s(443,i.type))}else i.type==="stylesheet"&&(i.state.loading&4)===0&&(l=i.instance,i.state.loading|=4,zc(l,a.precedence,t));return i.instance}function zc(t,i,a){for(var l=a.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),h=l.length?l[l.length-1]:null,d=h,v=0;v<l.length;v++){var S=l[v];if(S.dataset.precedence===i)d=S;else if(d!==h)break}d?d.parentNode.insertBefore(t,d.nextSibling):(i=a.nodeType===9?a.head:a,i.insertBefore(t,i.firstChild))}function nm(t,i){t.crossOrigin==null&&(t.crossOrigin=i.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=i.referrerPolicy),t.title==null&&(t.title=i.title)}function im(t,i){t.crossOrigin==null&&(t.crossOrigin=i.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=i.referrerPolicy),t.integrity==null&&(t.integrity=i.integrity)}var Bc=null;function _v(t,i,a){if(Bc===null){var l=new Map,h=Bc=new Map;h.set(a,l)}else h=Bc,l=h.get(a),l||(l=new Map,h.set(a,l));if(l.has(t))return l;for(l.set(t,null),a=a.getElementsByTagName(t),h=0;h<a.length;h++){var d=a[h];if(!(d[pi]||d[At]||t==="link"&&d.getAttribute("rel")==="stylesheet")&&d.namespaceURI!=="http://www.w3.org/2000/svg"){var v=d.getAttribute(i)||"";v=t+v;var S=l.get(v);S?S.push(d):l.set(v,[d])}}return l}function vv(t,i,a){t=t.ownerDocument||t,t.head.insertBefore(a,i==="title"?t.querySelector("head > title"):null)}function KS(t,i,a){if(a===1||i.itemProp!=null)return!1;switch(t){case"meta":case"title":return!0;case"style":if(typeof i.precedence!="string"||typeof i.href!="string"||i.href==="")break;return!0;case"link":if(typeof i.rel!="string"||typeof i.href!="string"||i.href===""||i.onLoad||i.onError)break;switch(i.rel){case"stylesheet":return t=i.disabled,typeof i.precedence=="string"&&t==null;default:return!0}case"script":if(i.async&&typeof i.async!="function"&&typeof i.async!="symbol"&&!i.onLoad&&!i.onError&&i.src&&typeof i.src=="string")return!0}return!1}function Ev(t){return!(t.type==="stylesheet"&&(t.state.loading&3)===0)}function YS(t,i,a,l){if(a.type==="stylesheet"&&(typeof l.media!="string"||matchMedia(l.media).matches!==!1)&&(a.state.loading&4)===0){if(a.instance===null){var h=Ja(l.href),d=i.querySelector(Cl(h));if(d){i=d._p,i!==null&&typeof i=="object"&&typeof i.then=="function"&&(t.count++,t=qc.bind(t),i.then(t,t)),a.state.loading|=4,a.instance=d,wt(d);return}d=i.ownerDocument||i,l=gv(l),(h=zn.get(h))&&nm(l,h),d=d.createElement("link"),wt(d);var v=d;v._p=new Promise(function(S,N){v.onload=S,v.onerror=N}),Kt(d,"link",l),a.instance=d}t.stylesheets===null&&(t.stylesheets=new Map),t.stylesheets.set(a,i),(i=a.state.preload)&&(a.state.loading&3)===0&&(t.count++,a=qc.bind(t),i.addEventListener("load",a),i.addEventListener("error",a))}}var rm=0;function $S(t,i){return t.stylesheets&&t.count===0&&Fc(t,t.stylesheets),0<t.count||0<t.imgCount?function(a){var l=setTimeout(function(){if(t.stylesheets&&Fc(t,t.stylesheets),t.unsuspend){var d=t.unsuspend;t.unsuspend=null,d()}},6e4+i);0<t.imgBytes&&rm===0&&(rm=62500*IS());var h=setTimeout(function(){if(t.waitingForImages=!1,t.count===0&&(t.stylesheets&&Fc(t,t.stylesheets),t.unsuspend)){var d=t.unsuspend;t.unsuspend=null,d()}},(t.imgBytes>rm?50:800)+i);return t.unsuspend=a,function(){t.unsuspend=null,clearTimeout(l),clearTimeout(h)}}:null}function qc(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)Fc(this,this.stylesheets);else if(this.unsuspend){var t=this.unsuspend;this.unsuspend=null,t()}}}var Hc=null;function Fc(t,i){t.stylesheets=null,t.unsuspend!==null&&(t.count++,Hc=new Map,i.forEach(XS,t),Hc=null,qc.call(t))}function XS(t,i){if(!(i.state.loading&4)){var a=Hc.get(t);if(a)var l=a.get(null);else{a=new Map,Hc.set(t,a);for(var h=t.querySelectorAll("link[data-precedence],style[data-precedence]"),d=0;d<h.length;d++){var v=h[d];(v.nodeName==="LINK"||v.getAttribute("media")!=="not all")&&(a.set(v.dataset.precedence,v),l=v)}l&&a.set(null,l)}h=i.instance,v=h.getAttribute("data-precedence"),d=a.get(v)||l,d===l&&a.set(null,h),a.set(v,h),this.count++,l=qc.bind(this),h.addEventListener("load",l),h.addEventListener("error",l),d?d.parentNode.insertBefore(h,d.nextSibling):(t=t.nodeType===9?t.head:t,t.insertBefore(h,t.firstChild)),i.state.loading|=4}}var Nl={$$typeof:Z,Provider:null,Consumer:null,_currentValue:se,_currentValue2:se,_threadCount:0};function JS(t,i,a,l,h,d,v,S,N){this.tag=1,this.containerInfo=t,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=di(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=di(0),this.hiddenUpdates=di(null),this.identifierPrefix=l,this.onUncaughtError=h,this.onCaughtError=d,this.onRecoverableError=v,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=N,this.incompleteTransitions=new Map}function bv(t,i,a,l,h,d,v,S,N,q,$,ne){return t=new JS(t,i,a,v,N,q,$,ne,S),i=1,d===!0&&(i|=24),d=vn(3,null,null,i),t.current=d,d.stateNode=t,i=Pf(),i.refCount++,t.pooledCache=i,i.refCount++,d.memoizedState={element:l,isDehydrated:a,cache:i},Bf(d),t}function Tv(t){return t?(t=Ia,t):Ia}function Sv(t,i,a,l,h,d){h=Tv(h),l.context===null?l.context=h:l.pendingContext=h,l=Dr(i),l.payload={element:a},d=d===void 0?null:d,d!==null&&(l.callback=d),a=Or(t,l,i),a!==null&&(fn(a,t,i),ll(a,t,i))}function Av(t,i){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var a=t.retryLane;t.retryLane=a!==0&&a<i?a:i}}function sm(t,i){Av(t,i),(t=t.alternate)&&Av(t,i)}function wv(t){if(t.tag===13||t.tag===31){var i=ks(t,67108864);i!==null&&fn(i,t,67108864),sm(t,67108864)}}function xv(t){if(t.tag===13||t.tag===31){var i=An();i=As(i);var a=ks(t,i);a!==null&&fn(a,t,i),sm(t,i)}}var Gc=!0;function WS(t,i,a,l){var h=Y.T;Y.T=null;var d=J.p;try{J.p=2,am(t,i,a,l)}finally{J.p=d,Y.T=h}}function ZS(t,i,a,l){var h=Y.T;Y.T=null;var d=J.p;try{J.p=8,am(t,i,a,l)}finally{J.p=d,Y.T=h}}function am(t,i,a,l){if(Gc){var h=om(l);if(h===null)Qd(t,i,l,Qc,a),Cv(t,l);else if(tA(h,t,i,a,l))l.stopPropagation();else if(Cv(t,l),i&4&&-1<eA.indexOf(t)){for(;h!==null;){var d=In(h);if(d!==null)switch(d.tag){case 3:if(d=d.stateNode,d.current.memoizedState.isDehydrated){var v=hi(d.pendingLanes);if(v!==0){var S=d;for(S.pendingLanes|=2,S.entangledLanes|=2;v;){var N=1<<31-yt(v);S.entanglements[1]|=N,v&=~N}Ni(d),(Qe&6)===0&&(Cc=nn()+500,Al(0))}}break;case 31:case 13:S=ks(d,2),S!==null&&fn(S,d,2),Nc(),sm(d,2)}if(d=om(l),d===null&&Qd(t,i,l,Qc,a),d===h)break;h=d}h!==null&&l.stopPropagation()}else Qd(t,i,l,null,a)}}function om(t){return t=Nn(t),lm(t)}var Qc=null;function lm(t){if(Qc=null,t=gi(t),t!==null){var i=u(t);if(i===null)t=null;else{var a=i.tag;if(a===13){if(t=f(i),t!==null)return t;t=null}else if(a===31){if(t=m(i),t!==null)return t;t=null}else if(a===3){if(i.stateNode.current.memoizedState.isDehydrated)return i.tag===3?i.stateNode.containerInfo:null;t=null}else i!==t&&(t=null)}}return Qc=t,null}function Rv(t){switch(t){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Es()){case Mo:return 2;case Vo:return 8;case gr:case mf:return 32;case Au:return 268435456;default:return 32}default:return 32}}var um=!1,Hr=null,Fr=null,Gr=null,Dl=new Map,Ol=new Map,Qr=[],eA="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Cv(t,i){switch(t){case"focusin":case"focusout":Hr=null;break;case"dragenter":case"dragleave":Fr=null;break;case"mouseover":case"mouseout":Gr=null;break;case"pointerover":case"pointerout":Dl.delete(i.pointerId);break;case"gotpointercapture":case"lostpointercapture":Ol.delete(i.pointerId)}}function Ml(t,i,a,l,h,d){return t===null||t.nativeEvent!==d?(t={blockedOn:i,domEventName:a,eventSystemFlags:l,nativeEvent:d,targetContainers:[h]},i!==null&&(i=In(i),i!==null&&wv(i)),t):(t.eventSystemFlags|=l,i=t.targetContainers,h!==null&&i.indexOf(h)===-1&&i.push(h),t)}function tA(t,i,a,l,h){switch(i){case"focusin":return Hr=Ml(Hr,t,i,a,l,h),!0;case"dragenter":return Fr=Ml(Fr,t,i,a,l,h),!0;case"mouseover":return Gr=Ml(Gr,t,i,a,l,h),!0;case"pointerover":var d=h.pointerId;return Dl.set(d,Ml(Dl.get(d)||null,t,i,a,l,h)),!0;case"gotpointercapture":return d=h.pointerId,Ol.set(d,Ml(Ol.get(d)||null,t,i,a,l,h)),!0}return!1}function Iv(t){var i=gi(t.target);if(i!==null){var a=u(i);if(a!==null){if(i=a.tag,i===13){if(i=f(a),i!==null){t.blockedOn=i,$n(t.priority,function(){xv(a)});return}}else if(i===31){if(i=m(a),i!==null){t.blockedOn=i,$n(t.priority,function(){xv(a)});return}}else if(i===3&&a.stateNode.current.memoizedState.isDehydrated){t.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Kc(t){if(t.blockedOn!==null)return!1;for(var i=t.targetContainers;0<i.length;){var a=om(t.nativeEvent);if(a===null){a=t.nativeEvent;var l=new a.constructor(a.type,a);Qo=l,a.target.dispatchEvent(l),Qo=null}else return i=In(a),i!==null&&wv(i),t.blockedOn=a,!1;i.shift()}return!0}function Nv(t,i,a){Kc(t)&&a.delete(i)}function nA(){um=!1,Hr!==null&&Kc(Hr)&&(Hr=null),Fr!==null&&Kc(Fr)&&(Fr=null),Gr!==null&&Kc(Gr)&&(Gr=null),Dl.forEach(Nv),Ol.forEach(Nv)}function Yc(t,i){t.blockedOn===i&&(t.blockedOn=null,um||(um=!0,r.unstable_scheduleCallback(r.unstable_NormalPriority,nA)))}var $c=null;function Dv(t){$c!==t&&($c=t,r.unstable_scheduleCallback(r.unstable_NormalPriority,function(){$c===t&&($c=null);for(var i=0;i<t.length;i+=3){var a=t[i],l=t[i+1],h=t[i+2];if(typeof l!="function"){if(lm(l||a)===null)continue;break}var d=In(a);d!==null&&(t.splice(i,3),i-=3,od(d,{pending:!0,data:h,method:a.method,action:l},l,h))}}))}function Za(t){function i(N){return Yc(N,t)}Hr!==null&&Yc(Hr,t),Fr!==null&&Yc(Fr,t),Gr!==null&&Yc(Gr,t),Dl.forEach(i),Ol.forEach(i);for(var a=0;a<Qr.length;a++){var l=Qr[a];l.blockedOn===t&&(l.blockedOn=null)}for(;0<Qr.length&&(a=Qr[0],a.blockedOn===null);)Iv(a),a.blockedOn===null&&Qr.shift();if(a=(t.ownerDocument||t).$$reactFormReplay,a!=null)for(l=0;l<a.length;l+=3){var h=a[l],d=a[l+1],v=h[Lt]||null;if(typeof d=="function")v||Dv(a);else if(v){var S=null;if(d&&d.hasAttribute("formAction")){if(h=d,v=d[Lt]||null)S=v.formAction;else if(lm(h)!==null)continue}else S=v.action;typeof S=="function"?a[l+1]=S:(a.splice(l,3),l-=3),Dv(a)}}}function Ov(){function t(d){d.canIntercept&&d.info==="react-transition"&&d.intercept({handler:function(){return new Promise(function(v){return h=v})},focusReset:"manual",scroll:"manual"})}function i(){h!==null&&(h(),h=null),l||setTimeout(a,20)}function a(){if(!l&&!navigation.transition){var d=navigation.currentEntry;d&&d.url!=null&&navigation.navigate(d.url,{state:d.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var l=!1,h=null;return navigation.addEventListener("navigate",t),navigation.addEventListener("navigatesuccess",i),navigation.addEventListener("navigateerror",i),setTimeout(a,100),function(){l=!0,navigation.removeEventListener("navigate",t),navigation.removeEventListener("navigatesuccess",i),navigation.removeEventListener("navigateerror",i),h!==null&&(h(),h=null)}}}function cm(t){this._internalRoot=t}Xc.prototype.render=cm.prototype.render=function(t){var i=this._internalRoot;if(i===null)throw Error(s(409));var a=i.current,l=An();Sv(a,l,t,i,null,null)},Xc.prototype.unmount=cm.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var i=t.containerInfo;Sv(t.current,2,null,t,null,null),Nc(),i[mi]=null}};function Xc(t){this._internalRoot=t}Xc.prototype.unstable_scheduleHydration=function(t){if(t){var i=Nu();t={blockedOn:null,target:t,priority:i};for(var a=0;a<Qr.length&&i!==0&&i<Qr[a].priority;a++);Qr.splice(a,0,t),a===0&&Iv(t)}};var Mv=e.version;if(Mv!=="19.2.3")throw Error(s(527,Mv,"19.2.3"));J.findDOMNode=function(t){var i=t._reactInternals;if(i===void 0)throw typeof t.render=="function"?Error(s(188)):(t=Object.keys(t).join(","),Error(s(268,t)));return t=g(i),t=t!==null?b(t):null,t=t===null?null:t.stateNode,t};var iA={bundleType:0,version:"19.2.3",rendererPackageName:"react-dom",currentDispatcherRef:Y,reconcilerVersion:"19.2.3"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Jc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Jc.isDisabled&&Jc.supportsFiber)try{Kn=Jc.inject(iA),qt=Jc}catch{}}return jl.createRoot=function(t,i){if(!o(t))throw Error(s(299));var a=!1,l="",h=zy,d=By,v=qy;return i!=null&&(i.unstable_strictMode===!0&&(a=!0),i.identifierPrefix!==void 0&&(l=i.identifierPrefix),i.onUncaughtError!==void 0&&(h=i.onUncaughtError),i.onCaughtError!==void 0&&(d=i.onCaughtError),i.onRecoverableError!==void 0&&(v=i.onRecoverableError)),i=bv(t,1,!1,null,null,a,l,null,h,d,v,Ov),t[mi]=i.current,Gd(t),new cm(i)},jl.hydrateRoot=function(t,i,a){if(!o(t))throw Error(s(299));var l=!1,h="",d=zy,v=By,S=qy,N=null;return a!=null&&(a.unstable_strictMode===!0&&(l=!0),a.identifierPrefix!==void 0&&(h=a.identifierPrefix),a.onUncaughtError!==void 0&&(d=a.onUncaughtError),a.onCaughtError!==void 0&&(v=a.onCaughtError),a.onRecoverableError!==void 0&&(S=a.onRecoverableError),a.formState!==void 0&&(N=a.formState)),i=bv(t,1,!0,i,a??null,l,h,N,d,v,S,Ov),i.context=Tv(null),a=i.current,l=An(),l=As(l),h=Dr(l),h.callback=null,Or(a,h,l),a=l,i.current.lanes=a,Ts(i,a),Ni(i),t[mi]=i.current,Gd(t),new Xc(i)},jl.version="19.2.3",jl}var Hv;function mA(){if(Hv)return dm.exports;Hv=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(e){console.error(e)}}return r(),dm.exports=dA(),dm.exports}var pA=mA();var Fv="popstate";function gA(r={}){function e(o,u){let{pathname:f="/",search:m="",hash:p=""}=aa(o.location.hash.substring(1));return!f.startsWith("/")&&!f.startsWith(".")&&(f="/"+f),Dm("",{pathname:f,search:m,hash:p},u.state&&u.state.usr||null,u.state&&u.state.key||"default")}function n(o,u){let f=o.document.querySelector("base"),m="";if(f&&f.getAttribute("href")){let p=o.location.href,g=p.indexOf("#");m=g===-1?p:p.slice(0,g)}return m+"#"+(typeof u=="string"?u:Jl(u))}function s(o,u){xn(o.pathname.charAt(0)==="/",`relative pathnames are not supported in hash history.push(${JSON.stringify(u)})`)}return _A(e,n,s,r)}function ft(r,e){if(r===!1||r===null||typeof r>"u")throw new Error(e)}function xn(r,e){if(!r){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function yA(){return Math.random().toString(36).substring(2,10)}function Gv(r,e){return{usr:r.state,key:r.key,idx:e}}function Dm(r,e,n=null,s){return{pathname:typeof r=="string"?r:r.pathname,search:"",hash:"",...typeof e=="string"?aa(e):e,state:n,key:e&&e.key||s||yA()}}function Jl({pathname:r="/",search:e="",hash:n=""}){return e&&e!=="?"&&(r+=e.charAt(0)==="?"?e:"?"+e),n&&n!=="#"&&(r+=n.charAt(0)==="#"?n:"#"+n),r}function aa(r){let e={};if(r){let n=r.indexOf("#");n>=0&&(e.hash=r.substring(n),r=r.substring(0,n));let s=r.indexOf("?");s>=0&&(e.search=r.substring(s),r=r.substring(0,s)),r&&(e.pathname=r)}return e}function _A(r,e,n,s={}){let{window:o=document.defaultView,v5Compat:u=!1}=s,f=o.history,m="POP",p=null,g=b();g==null&&(g=0,f.replaceState({...f.state,idx:g},""));function b(){return(f.state||{idx:null}).idx}function T(){m="POP";let k=b(),X=k==null?null:k-g;g=k,p&&p({action:m,location:K.location,delta:X})}function w(k,X){m="PUSH";let ie=Dm(K.location,k,X);n&&n(ie,k),g=b()+1;let Z=Gv(ie,g),ye=K.createHref(ie);try{f.pushState(Z,"",ye)}catch(Se){if(Se instanceof DOMException&&Se.name==="DataCloneError")throw Se;o.location.assign(ye)}u&&p&&p({action:m,location:K.location,delta:1})}function j(k,X){m="REPLACE";let ie=Dm(K.location,k,X);n&&n(ie,k),g=b();let Z=Gv(ie,g),ye=K.createHref(ie);f.replaceState(Z,"",ye),u&&p&&p({action:m,location:K.location,delta:0})}function F(k){return vA(k)}let K={get action(){return m},get location(){return r(o,f)},listen(k){if(p)throw new Error("A history only accepts one active listener");return o.addEventListener(Fv,T),p=k,()=>{o.removeEventListener(Fv,T),p=null}},createHref(k){return e(o,k)},createURL:F,encodeLocation(k){let X=F(k);return{pathname:X.pathname,search:X.search,hash:X.hash}},push:w,replace:j,go(k){return f.go(k)}};return K}function vA(r,e=!1){let n="http://localhost";typeof window<"u"&&(n=window.location.origin!=="null"?window.location.origin:window.location.href),ft(n,"No window.location.(origin|href) available to create URL");let s=typeof r=="string"?r:Jl(r);return s=s.replace(/ $/,"%20"),!e&&s.startsWith("//")&&(s=n+s),new URL(s,n)}function DE(r,e,n="/"){return EA(r,e,n,!1)}function EA(r,e,n,s){let o=typeof e=="string"?aa(e):e,u=ur(o.pathname||"/",n);if(u==null)return null;let f=OE(r);bA(f);let m=null;for(let p=0;m==null&&p<f.length;++p){let g=OA(u);m=NA(f[p],g,s)}return m}function OE(r,e=[],n=[],s="",o=!1){let u=(f,m,p=o,g)=>{let b={relativePath:g===void 0?f.path||"":g,caseSensitive:f.caseSensitive===!0,childrenIndex:m,route:f};if(b.relativePath.startsWith("/")){if(!b.relativePath.startsWith(s)&&p)return;ft(b.relativePath.startsWith(s),`Absolute route path "${b.relativePath}" nested under path "${s}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),b.relativePath=b.relativePath.slice(s.length)}let T=or([s,b.relativePath]),w=n.concat(b);f.children&&f.children.length>0&&(ft(f.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${T}".`),OE(f.children,e,w,T,p)),!(f.path==null&&!f.index)&&e.push({path:T,score:CA(T,f.index),routesMeta:w})};return r.forEach((f,m)=>{if(f.path===""||!f.path?.includes("?"))u(f,m);else for(let p of ME(f.path))u(f,m,!0,p)}),e}function ME(r){let e=r.split("/");if(e.length===0)return[];let[n,...s]=e,o=n.endsWith("?"),u=n.replace(/\?$/,"");if(s.length===0)return o?[u,""]:[u];let f=ME(s.join("/")),m=[];return m.push(...f.map(p=>p===""?u:[u,p].join("/"))),o&&m.push(...f),m.map(p=>r.startsWith("/")&&p===""?"/":p)}function bA(r){r.sort((e,n)=>e.score!==n.score?n.score-e.score:IA(e.routesMeta.map(s=>s.childrenIndex),n.routesMeta.map(s=>s.childrenIndex)))}var TA=/^:[\w-]+$/,SA=3,AA=2,wA=1,xA=10,RA=-2,Qv=r=>r==="*";function CA(r,e){let n=r.split("/"),s=n.length;return n.some(Qv)&&(s+=RA),e&&(s+=AA),n.filter(o=>!Qv(o)).reduce((o,u)=>o+(TA.test(u)?SA:u===""?wA:xA),s)}function IA(r,e){return r.length===e.length&&r.slice(0,-1).every((s,o)=>s===e[o])?r[r.length-1]-e[e.length-1]:0}function NA(r,e,n=!1){let{routesMeta:s}=r,o={},u="/",f=[];for(let m=0;m<s.length;++m){let p=s[m],g=m===s.length-1,b=u==="/"?e:e.slice(u.length)||"/",T=_h({path:p.relativePath,caseSensitive:p.caseSensitive,end:g},b),w=p.route;if(!T&&g&&n&&!s[s.length-1].route.index&&(T=_h({path:p.relativePath,caseSensitive:p.caseSensitive,end:!1},b)),!T)return null;Object.assign(o,T.params),f.push({params:o,pathname:or([u,T.pathname]),pathnameBase:PA(or([u,T.pathnameBase])),route:w}),T.pathnameBase!=="/"&&(u=or([u,T.pathnameBase]))}return f}function _h(r,e){typeof r=="string"&&(r={path:r,caseSensitive:!1,end:!0});let[n,s]=DA(r.path,r.caseSensitive,r.end),o=e.match(n);if(!o)return null;let u=o[0],f=u.replace(/(.)\/+$/,"$1"),m=o.slice(1);return{params:s.reduce((g,{paramName:b,isOptional:T},w)=>{if(b==="*"){let F=m[w]||"";f=u.slice(0,u.length-F.length).replace(/(.)\/+$/,"$1")}const j=m[w];return T&&!j?g[b]=void 0:g[b]=(j||"").replace(/%2F/g,"/"),g},{}),pathname:u,pathnameBase:f,pattern:r}}function DA(r,e=!1,n=!0){xn(r==="*"||!r.endsWith("*")||r.endsWith("/*"),`Route path "${r}" will be treated as if it were "${r.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${r.replace(/\*$/,"/*")}".`);let s=[],o="^"+r.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(f,m,p)=>(s.push({paramName:m,isOptional:p!=null}),p?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return r.endsWith("*")?(s.push({paramName:"*"}),o+=r==="*"||r==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?o+="\\/*$":r!==""&&r!=="/"&&(o+="(?:(?=\\/|$))"),[new RegExp(o,e?void 0:"i"),s]}function OA(r){try{return r.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return xn(!1,`The URL path "${r}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),r}}function ur(r,e){if(e==="/")return r;if(!r.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,s=r.charAt(n);return s&&s!=="/"?null:r.slice(n)||"/"}var MA=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,VA=r=>MA.test(r);function jA(r,e="/"){let{pathname:n,search:s="",hash:o=""}=typeof r=="string"?aa(r):r,u;if(n)if(VA(n))u=n;else{if(n.includes("//")){let f=n;n=n.replace(/\/\/+/g,"/"),xn(!1,`Pathnames cannot have embedded double slashes - normalizing ${f} -> ${n}`)}n.startsWith("/")?u=Kv(n.substring(1),"/"):u=Kv(n,e)}else u=e;return{pathname:u,search:LA(s),hash:UA(o)}}function Kv(r,e){let n=e.replace(/\/+$/,"").split("/");return r.split("/").forEach(o=>{o===".."?n.length>1&&n.pop():o!=="."&&n.push(o)}),n.length>1?n.join("/"):"/"}function ym(r,e,n,s){return`Cannot include a '${r}' character in a manually specified \`to.${e}\` field [${JSON.stringify(s)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function kA(r){return r.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function hp(r){let e=kA(r);return e.map((n,s)=>s===e.length-1?n.pathname:n.pathnameBase)}function fp(r,e,n,s=!1){let o;typeof r=="string"?o=aa(r):(o={...r},ft(!o.pathname||!o.pathname.includes("?"),ym("?","pathname","search",o)),ft(!o.pathname||!o.pathname.includes("#"),ym("#","pathname","hash",o)),ft(!o.search||!o.search.includes("#"),ym("#","search","hash",o)));let u=r===""||o.pathname==="",f=u?"/":o.pathname,m;if(f==null)m=n;else{let T=e.length-1;if(!s&&f.startsWith("..")){let w=f.split("/");for(;w[0]==="..";)w.shift(),T-=1;o.pathname=w.join("/")}m=T>=0?e[T]:"/"}let p=jA(o,m),g=f&&f!=="/"&&f.endsWith("/"),b=(u||f===".")&&n.endsWith("/");return!p.pathname.endsWith("/")&&(g||b)&&(p.pathname+="/"),p}var or=r=>r.join("/").replace(/\/\/+/g,"/"),PA=r=>r.replace(/\/+$/,"").replace(/^\/*/,"/"),LA=r=>!r||r==="?"?"":r.startsWith("?")?r:"?"+r,UA=r=>!r||r==="#"?"":r.startsWith("#")?r:"#"+r;function zA(r){return r!=null&&typeof r.status=="number"&&typeof r.statusText=="string"&&typeof r.internal=="boolean"&&"data"in r}function BA(r){return r.map(e=>e.route.path).filter(Boolean).join("/").replace(/\/\/*/g,"/")||"/"}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var VE=["POST","PUT","PATCH","DELETE"];new Set(VE);var qA=["GET",...VE];new Set(qA);var Eo=L.createContext(null);Eo.displayName="DataRouter";var zh=L.createContext(null);zh.displayName="DataRouterState";L.createContext(!1);var jE=L.createContext({isTransitioning:!1});jE.displayName="ViewTransition";var HA=L.createContext(new Map);HA.displayName="Fetchers";var FA=L.createContext(null);FA.displayName="Await";var Gn=L.createContext(null);Gn.displayName="Navigation";var lu=L.createContext(null);lu.displayName="Location";var Qn=L.createContext({outlet:null,matches:[],isDataRoute:!1});Qn.displayName="Route";var dp=L.createContext(null);dp.displayName="RouteError";function GA(r,{relative:e}={}){ft(bo(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:s}=L.useContext(Gn),{hash:o,pathname:u,search:f}=cu(r,{relative:e}),m=u;return n!=="/"&&(m=u==="/"?n:or([n,u])),s.createHref({pathname:m,search:f,hash:o})}function bo(){return L.useContext(lu)!=null}function ds(){return ft(bo(),"useLocation() may be used only in the context of a <Router> component."),L.useContext(lu).location}var kE="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function PE(r){L.useContext(Gn).static||L.useLayoutEffect(r)}function uu(){let{isDataRoute:r}=L.useContext(Qn);return r?aw():QA()}function QA(){ft(bo(),"useNavigate() may be used only in the context of a <Router> component.");let r=L.useContext(Eo),{basename:e,navigator:n}=L.useContext(Gn),{matches:s}=L.useContext(Qn),{pathname:o}=ds(),u=JSON.stringify(hp(s)),f=L.useRef(!1);return PE(()=>{f.current=!0}),L.useCallback((p,g={})=>{if(xn(f.current,kE),!f.current)return;if(typeof p=="number"){n.go(p);return}let b=fp(p,JSON.parse(u),o,g.relative==="path");r==null&&e!=="/"&&(b.pathname=b.pathname==="/"?e:or([e,b.pathname])),(g.replace?n.replace:n.push)(b,g.state,g)},[e,n,u,o,r])}var KA=L.createContext(null);function YA(r){let e=L.useContext(Qn).outlet;return L.useMemo(()=>e&&L.createElement(KA.Provider,{value:r},e),[e,r])}function mp(){let{matches:r}=L.useContext(Qn),e=r[r.length-1];return e?e.params:{}}function cu(r,{relative:e}={}){let{matches:n}=L.useContext(Qn),{pathname:s}=ds(),o=JSON.stringify(hp(n));return L.useMemo(()=>fp(r,JSON.parse(o),s,e==="path"),[r,o,s,e])}function $A(r,e){return LE(r,e)}function LE(r,e,n,s,o){ft(bo(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:u}=L.useContext(Gn),{matches:f}=L.useContext(Qn),m=f[f.length-1],p=m?m.params:{},g=m?m.pathname:"/",b=m?m.pathnameBase:"/",T=m&&m.route;{let ie=T&&T.path||"";UE(g,!T||ie.endsWith("*")||ie.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${g}" (under <Route path="${ie}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${ie}"> to <Route path="${ie==="/"?"*":`${ie}/*`}">.`)}let w=ds(),j;if(e){let ie=typeof e=="string"?aa(e):e;ft(b==="/"||ie.pathname?.startsWith(b),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${b}" but pathname "${ie.pathname}" was given in the \`location\` prop.`),j=ie}else j=w;let F=j.pathname||"/",K=F;if(b!=="/"){let ie=b.replace(/^\//,"").split("/");K="/"+F.replace(/^\//,"").split("/").slice(ie.length).join("/")}let k=DE(r,{pathname:K});xn(T||k!=null,`No routes matched location "${j.pathname}${j.search}${j.hash}" `),xn(k==null||k[k.length-1].route.element!==void 0||k[k.length-1].route.Component!==void 0||k[k.length-1].route.lazy!==void 0,`Matched leaf route at location "${j.pathname}${j.search}${j.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let X=ew(k&&k.map(ie=>Object.assign({},ie,{params:Object.assign({},p,ie.params),pathname:or([b,u.encodeLocation?u.encodeLocation(ie.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:ie.pathname]),pathnameBase:ie.pathnameBase==="/"?b:or([b,u.encodeLocation?u.encodeLocation(ie.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:ie.pathnameBase])})),f,n,s,o);return e&&X?L.createElement(lu.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...j},navigationType:"POP"}},X):X}function XA(){let r=sw(),e=zA(r)?`${r.status} ${r.statusText}`:r instanceof Error?r.message:JSON.stringify(r),n=r instanceof Error?r.stack:null,s="rgba(200,200,200, 0.5)",o={padding:"0.5rem",backgroundColor:s},u={padding:"2px 4px",backgroundColor:s},f=null;return console.error("Error handled by React Router default ErrorBoundary:",r),f=L.createElement(L.Fragment,null,L.createElement("p",null," Hey developer "),L.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",L.createElement("code",{style:u},"ErrorBoundary")," or"," ",L.createElement("code",{style:u},"errorElement")," prop on your route.")),L.createElement(L.Fragment,null,L.createElement("h2",null,"Unexpected Application Error!"),L.createElement("h3",{style:{fontStyle:"italic"}},e),n?L.createElement("pre",{style:o},n):null,f)}var JA=L.createElement(XA,null),WA=class extends L.Component{constructor(r){super(r),this.state={location:r.location,revalidation:r.revalidation,error:r.error}}static getDerivedStateFromError(r){return{error:r}}static getDerivedStateFromProps(r,e){return e.location!==r.location||e.revalidation!=="idle"&&r.revalidation==="idle"?{error:r.error,location:r.location,revalidation:r.revalidation}:{error:r.error!==void 0?r.error:e.error,location:e.location,revalidation:r.revalidation||e.revalidation}}componentDidCatch(r,e){this.props.onError?this.props.onError(r,e):console.error("React Router caught the following error during render",r)}render(){return this.state.error!==void 0?L.createElement(Qn.Provider,{value:this.props.routeContext},L.createElement(dp.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function ZA({routeContext:r,match:e,children:n}){let s=L.useContext(Eo);return s&&s.static&&s.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=e.route.id),L.createElement(Qn.Provider,{value:r},n)}function ew(r,e=[],n=null,s=null,o=null){if(r==null){if(!n)return null;if(n.errors)r=n.matches;else if(e.length===0&&!n.initialized&&n.matches.length>0)r=n.matches;else return null}let u=r,f=n?.errors;if(f!=null){let b=u.findIndex(T=>T.route.id&&f?.[T.route.id]!==void 0);ft(b>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(f).join(",")}`),u=u.slice(0,Math.min(u.length,b+1))}let m=!1,p=-1;if(n)for(let b=0;b<u.length;b++){let T=u[b];if((T.route.HydrateFallback||T.route.hydrateFallbackElement)&&(p=b),T.route.id){let{loaderData:w,errors:j}=n,F=T.route.loader&&!w.hasOwnProperty(T.route.id)&&(!j||j[T.route.id]===void 0);if(T.route.lazy||F){m=!0,p>=0?u=u.slice(0,p+1):u=[u[0]];break}}}let g=n&&s?(b,T)=>{s(b,{location:n.location,params:n.matches?.[0]?.params??{},unstable_pattern:BA(n.matches),errorInfo:T})}:void 0;return u.reduceRight((b,T,w)=>{let j,F=!1,K=null,k=null;n&&(j=f&&T.route.id?f[T.route.id]:void 0,K=T.route.errorElement||JA,m&&(p<0&&w===0?(UE("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),F=!0,k=null):p===w&&(F=!0,k=T.route.hydrateFallbackElement||null)));let X=e.concat(u.slice(0,w+1)),ie=()=>{let Z;return j?Z=K:F?Z=k:T.route.Component?Z=L.createElement(T.route.Component,null):T.route.element?Z=T.route.element:Z=b,L.createElement(ZA,{match:T,routeContext:{outlet:b,matches:X,isDataRoute:n!=null},children:Z})};return n&&(T.route.ErrorBoundary||T.route.errorElement||w===0)?L.createElement(WA,{location:n.location,revalidation:n.revalidation,component:K,error:j,children:ie(),routeContext:{outlet:null,matches:X,isDataRoute:!0},onError:g}):ie()},null)}function pp(r){return`${r} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function tw(r){let e=L.useContext(Eo);return ft(e,pp(r)),e}function nw(r){let e=L.useContext(zh);return ft(e,pp(r)),e}function iw(r){let e=L.useContext(Qn);return ft(e,pp(r)),e}function gp(r){let e=iw(r),n=e.matches[e.matches.length-1];return ft(n.route.id,`${r} can only be used on routes that contain a unique "id"`),n.route.id}function rw(){return gp("useRouteId")}function sw(){let r=L.useContext(dp),e=nw("useRouteError"),n=gp("useRouteError");return r!==void 0?r:e.errors?.[n]}function aw(){let{router:r}=tw("useNavigate"),e=gp("useNavigate"),n=L.useRef(!1);return PE(()=>{n.current=!0}),L.useCallback(async(o,u={})=>{xn(n.current,kE),n.current&&(typeof o=="number"?await r.navigate(o):await r.navigate(o,{fromRouteId:e,...u}))},[r,e])}var Yv={};function UE(r,e,n){!e&&!Yv[r]&&(Yv[r]=!0,xn(!1,n))}L.memo(ow);function ow({routes:r,future:e,state:n,unstable_onError:s}){return LE(r,void 0,n,s,e)}function lw({to:r,replace:e,state:n,relative:s}){ft(bo(),"<Navigate> may be used only in the context of a <Router> component.");let{static:o}=L.useContext(Gn);xn(!o,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:u}=L.useContext(Qn),{pathname:f}=ds(),m=uu(),p=fp(r,hp(u),f,s==="path"),g=JSON.stringify(p);return L.useEffect(()=>{m(JSON.parse(g),{replace:e,state:n,relative:s})},[m,g,s,e,n]),null}function zE(r){return YA(r.context)}function dn(r){ft(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function uw({basename:r="/",children:e=null,location:n,navigationType:s="POP",navigator:o,static:u=!1,unstable_useTransitions:f}){ft(!bo(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let m=r.replace(/^\/*/,"/"),p=L.useMemo(()=>({basename:m,navigator:o,static:u,unstable_useTransitions:f,future:{}}),[m,o,u,f]);typeof n=="string"&&(n=aa(n));let{pathname:g="/",search:b="",hash:T="",state:w=null,key:j="default"}=n,F=L.useMemo(()=>{let K=ur(g,m);return K==null?null:{location:{pathname:K,search:b,hash:T,state:w,key:j},navigationType:s}},[m,g,b,T,w,j,s]);return xn(F!=null,`<Router basename="${m}"> is not able to match the URL "${g}${b}${T}" because it does not start with the basename, so the <Router> won't render anything.`),F==null?null:L.createElement(Gn.Provider,{value:p},L.createElement(lu.Provider,{children:e,value:F}))}function cw({children:r,location:e}){return $A(Om(r),e)}function Om(r,e=[]){let n=[];return L.Children.forEach(r,(s,o)=>{if(!L.isValidElement(s))return;let u=[...e,o];if(s.type===L.Fragment){n.push.apply(n,Om(s.props.children,u));return}ft(s.type===dn,`[${typeof s.type=="string"?s.type:s.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),ft(!s.props.index||!s.props.children,"An index route cannot have child routes.");let f={id:s.props.id||u.join("-"),caseSensitive:s.props.caseSensitive,element:s.props.element,Component:s.props.Component,index:s.props.index,path:s.props.path,middleware:s.props.middleware,loader:s.props.loader,action:s.props.action,hydrateFallbackElement:s.props.hydrateFallbackElement,HydrateFallback:s.props.HydrateFallback,errorElement:s.props.errorElement,ErrorBoundary:s.props.ErrorBoundary,hasErrorBoundary:s.props.hasErrorBoundary===!0||s.props.ErrorBoundary!=null||s.props.errorElement!=null,shouldRevalidate:s.props.shouldRevalidate,handle:s.props.handle,lazy:s.props.lazy};s.props.children&&(f.children=Om(s.props.children,u)),n.push(f)}),n}var ah="get",oh="application/x-www-form-urlencoded";function Bh(r){return typeof HTMLElement<"u"&&r instanceof HTMLElement}function hw(r){return Bh(r)&&r.tagName.toLowerCase()==="button"}function fw(r){return Bh(r)&&r.tagName.toLowerCase()==="form"}function dw(r){return Bh(r)&&r.tagName.toLowerCase()==="input"}function mw(r){return!!(r.metaKey||r.altKey||r.ctrlKey||r.shiftKey)}function pw(r,e){return r.button===0&&(!e||e==="_self")&&!mw(r)}var Wc=null;function gw(){if(Wc===null)try{new FormData(document.createElement("form"),0),Wc=!1}catch{Wc=!0}return Wc}var yw=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function _m(r){return r!=null&&!yw.has(r)?(xn(!1,`"${r}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${oh}"`),null):r}function _w(r,e){let n,s,o,u,f;if(fw(r)){let m=r.getAttribute("action");s=m?ur(m,e):null,n=r.getAttribute("method")||ah,o=_m(r.getAttribute("enctype"))||oh,u=new FormData(r)}else if(hw(r)||dw(r)&&(r.type==="submit"||r.type==="image")){let m=r.form;if(m==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let p=r.getAttribute("formaction")||m.getAttribute("action");if(s=p?ur(p,e):null,n=r.getAttribute("formmethod")||m.getAttribute("method")||ah,o=_m(r.getAttribute("formenctype"))||_m(m.getAttribute("enctype"))||oh,u=new FormData(m,r),!gw()){let{name:g,type:b,value:T}=r;if(b==="image"){let w=g?`${g}.`:"";u.append(`${w}x`,"0"),u.append(`${w}y`,"0")}else g&&u.append(g,T)}}else{if(Bh(r))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=ah,s=null,o=oh,f=r}return u&&o==="text/plain"&&(f=u,u=void 0),{action:s,method:n.toLowerCase(),encType:o,formData:u,body:f}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function yp(r,e){if(r===!1||r===null||typeof r>"u")throw new Error(e)}function vw(r,e,n){let s=typeof r=="string"?new URL(r,typeof window>"u"?"server://singlefetch/":window.location.origin):r;return s.pathname==="/"?s.pathname=`_root.${n}`:e&&ur(s.pathname,e)==="/"?s.pathname=`${e.replace(/\/$/,"")}/_root.${n}`:s.pathname=`${s.pathname.replace(/\/$/,"")}.${n}`,s}async function Ew(r,e){if(r.id in e)return e[r.id];try{let n=await import(r.module);return e[r.id]=n,n}catch(n){return console.error(`Error loading route module \`${r.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function bw(r){return r==null?!1:r.href==null?r.rel==="preload"&&typeof r.imageSrcSet=="string"&&typeof r.imageSizes=="string":typeof r.rel=="string"&&typeof r.href=="string"}async function Tw(r,e,n){let s=await Promise.all(r.map(async o=>{let u=e.routes[o.route.id];if(u){let f=await Ew(u,n);return f.links?f.links():[]}return[]}));return xw(s.flat(1).filter(bw).filter(o=>o.rel==="stylesheet"||o.rel==="preload").map(o=>o.rel==="stylesheet"?{...o,rel:"prefetch",as:"style"}:{...o,rel:"prefetch"}))}function $v(r,e,n,s,o,u){let f=(p,g)=>n[g]?p.route.id!==n[g].route.id:!0,m=(p,g)=>n[g].pathname!==p.pathname||n[g].route.path?.endsWith("*")&&n[g].params["*"]!==p.params["*"];return u==="assets"?e.filter((p,g)=>f(p,g)||m(p,g)):u==="data"?e.filter((p,g)=>{let b=s.routes[p.route.id];if(!b||!b.hasLoader)return!1;if(f(p,g)||m(p,g))return!0;if(p.route.shouldRevalidate){let T=p.route.shouldRevalidate({currentUrl:new URL(o.pathname+o.search+o.hash,window.origin),currentParams:n[0]?.params||{},nextUrl:new URL(r,window.origin),nextParams:p.params,defaultShouldRevalidate:!0});if(typeof T=="boolean")return T}return!0}):[]}function Sw(r,e,{includeHydrateFallback:n}={}){return Aw(r.map(s=>{let o=e.routes[s.route.id];if(!o)return[];let u=[o.module];return o.clientActionModule&&(u=u.concat(o.clientActionModule)),o.clientLoaderModule&&(u=u.concat(o.clientLoaderModule)),n&&o.hydrateFallbackModule&&(u=u.concat(o.hydrateFallbackModule)),o.imports&&(u=u.concat(o.imports)),u}).flat(1))}function Aw(r){return[...new Set(r)]}function ww(r){let e={},n=Object.keys(r).sort();for(let s of n)e[s]=r[s];return e}function xw(r,e){let n=new Set;return new Set(e),r.reduce((s,o)=>{let u=JSON.stringify(ww(o));return n.has(u)||(n.add(u),s.push({key:u,link:o})),s},[])}function BE(){let r=L.useContext(Eo);return yp(r,"You must render this element inside a <DataRouterContext.Provider> element"),r}function Rw(){let r=L.useContext(zh);return yp(r,"You must render this element inside a <DataRouterStateContext.Provider> element"),r}var _p=L.createContext(void 0);_p.displayName="FrameworkContext";function qE(){let r=L.useContext(_p);return yp(r,"You must render this element inside a <HydratedRouter> element"),r}function Cw(r,e){let n=L.useContext(_p),[s,o]=L.useState(!1),[u,f]=L.useState(!1),{onFocus:m,onBlur:p,onMouseEnter:g,onMouseLeave:b,onTouchStart:T}=e,w=L.useRef(null);L.useEffect(()=>{if(r==="render"&&f(!0),r==="viewport"){let K=X=>{X.forEach(ie=>{f(ie.isIntersecting)})},k=new IntersectionObserver(K,{threshold:.5});return w.current&&k.observe(w.current),()=>{k.disconnect()}}},[r]),L.useEffect(()=>{if(s){let K=setTimeout(()=>{f(!0)},100);return()=>{clearTimeout(K)}}},[s]);let j=()=>{o(!0)},F=()=>{o(!1),f(!1)};return n?r!=="intent"?[u,w,{}]:[u,w,{onFocus:kl(m,j),onBlur:kl(p,F),onMouseEnter:kl(g,j),onMouseLeave:kl(b,F),onTouchStart:kl(T,j)}]:[!1,w,{}]}function kl(r,e){return n=>{r&&r(n),n.defaultPrevented||e(n)}}function Iw({page:r,...e}){let{router:n}=BE(),s=L.useMemo(()=>DE(n.routes,r,n.basename),[n.routes,r,n.basename]);return s?L.createElement(Dw,{page:r,matches:s,...e}):null}function Nw(r){let{manifest:e,routeModules:n}=qE(),[s,o]=L.useState([]);return L.useEffect(()=>{let u=!1;return Tw(r,e,n).then(f=>{u||o(f)}),()=>{u=!0}},[r,e,n]),s}function Dw({page:r,matches:e,...n}){let s=ds(),{manifest:o,routeModules:u}=qE(),{basename:f}=BE(),{loaderData:m,matches:p}=Rw(),g=L.useMemo(()=>$v(r,e,p,o,s,"data"),[r,e,p,o,s]),b=L.useMemo(()=>$v(r,e,p,o,s,"assets"),[r,e,p,o,s]),T=L.useMemo(()=>{if(r===s.pathname+s.search+s.hash)return[];let F=new Set,K=!1;if(e.forEach(X=>{let ie=o.routes[X.route.id];!ie||!ie.hasLoader||(!g.some(Z=>Z.route.id===X.route.id)&&X.route.id in m&&u[X.route.id]?.shouldRevalidate||ie.hasClientLoader?K=!0:F.add(X.route.id))}),F.size===0)return[];let k=vw(r,f,"data");return K&&F.size>0&&k.searchParams.set("_routes",e.filter(X=>F.has(X.route.id)).map(X=>X.route.id).join(",")),[k.pathname+k.search]},[f,m,s,o,g,e,r,u]),w=L.useMemo(()=>Sw(b,o),[b,o]),j=Nw(b);return L.createElement(L.Fragment,null,T.map(F=>L.createElement("link",{key:F,rel:"prefetch",as:"fetch",href:F,...n})),w.map(F=>L.createElement("link",{key:F,rel:"modulepreload",href:F,...n})),j.map(({key:F,link:K})=>L.createElement("link",{key:F,nonce:n.nonce,...K})))}function Ow(...r){return e=>{r.forEach(n=>{typeof n=="function"?n(e):n!=null&&(n.current=e)})}}var HE=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{HE&&(window.__reactRouterVersion="7.10.1")}catch{}function Mw({basename:r,children:e,unstable_useTransitions:n,window:s}){let o=L.useRef();o.current==null&&(o.current=gA({window:s,v5Compat:!0}));let u=o.current,[f,m]=L.useState({action:u.action,location:u.location}),p=L.useCallback(g=>{n===!1?m(g):L.startTransition(()=>m(g))},[n]);return L.useLayoutEffect(()=>u.listen(p),[u,p]),L.createElement(uw,{basename:r,children:e,location:f.location,navigationType:f.action,navigator:u,unstable_useTransitions:n===!0})}var FE=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,qh=L.forwardRef(function({onClick:e,discover:n="render",prefetch:s="none",relative:o,reloadDocument:u,replace:f,state:m,target:p,to:g,preventScrollReset:b,viewTransition:T,...w},j){let{basename:F,unstable_useTransitions:K}=L.useContext(Gn),k=typeof g=="string"&&FE.test(g),X,ie=!1;if(typeof g=="string"&&k&&(X=g,HE))try{let M=new URL(window.location.href),D=g.startsWith("//")?new URL(M.protocol+g):new URL(g),P=ur(D.pathname,F);D.origin===M.origin&&P!=null?g=P+D.search+D.hash:ie=!0}catch{xn(!1,`<Link to="${g}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let Z=GA(g,{relative:o}),[ye,Se,ae]=Cw(s,w),R=kw(g,{replace:f,state:m,target:p,preventScrollReset:b,relative:o,viewTransition:T,unstable_useTransitions:K});function x(M){e&&e(M),M.defaultPrevented||R(M)}let C=L.createElement("a",{...w,...ae,href:X||Z,onClick:ie||u?e:x,ref:Ow(j,Se),target:p,"data-discover":!k&&n==="render"?"true":void 0});return ye&&!k?L.createElement(L.Fragment,null,C,L.createElement(Iw,{page:Z})):C});qh.displayName="Link";var vh=L.forwardRef(function({"aria-current":e="page",caseSensitive:n=!1,className:s="",end:o=!1,style:u,to:f,viewTransition:m,children:p,...g},b){let T=cu(f,{relative:g.relative}),w=ds(),j=L.useContext(zh),{navigator:F,basename:K}=L.useContext(Gn),k=j!=null&&Bw(T)&&m===!0,X=F.encodeLocation?F.encodeLocation(T).pathname:T.pathname,ie=w.pathname,Z=j&&j.navigation&&j.navigation.location?j.navigation.location.pathname:null;n||(ie=ie.toLowerCase(),Z=Z?Z.toLowerCase():null,X=X.toLowerCase()),Z&&K&&(Z=ur(Z,K)||Z);const ye=X!=="/"&&X.endsWith("/")?X.length-1:X.length;let Se=ie===X||!o&&ie.startsWith(X)&&ie.charAt(ye)==="/",ae=Z!=null&&(Z===X||!o&&Z.startsWith(X)&&Z.charAt(X.length)==="/"),R={isActive:Se,isPending:ae,isTransitioning:k},x=Se?e:void 0,C;typeof s=="function"?C=s(R):C=[s,Se?"active":null,ae?"pending":null,k?"transitioning":null].filter(Boolean).join(" ");let M=typeof u=="function"?u(R):u;return L.createElement(qh,{...g,"aria-current":x,className:C,ref:b,style:M,to:f,viewTransition:m},typeof p=="function"?p(R):p)});vh.displayName="NavLink";var Vw=L.forwardRef(({discover:r="render",fetcherKey:e,navigate:n,reloadDocument:s,replace:o,state:u,method:f=ah,action:m,onSubmit:p,relative:g,preventScrollReset:b,viewTransition:T,...w},j)=>{let{unstable_useTransitions:F}=L.useContext(Gn),K=Uw(),k=zw(m,{relative:g}),X=f.toLowerCase()==="get"?"get":"post",ie=typeof m=="string"&&FE.test(m),Z=ye=>{if(p&&p(ye),ye.defaultPrevented)return;ye.preventDefault();let Se=ye.nativeEvent.submitter,ae=Se?.getAttribute("formmethod")||f,R=()=>K(Se||ye.currentTarget,{fetcherKey:e,method:ae,navigate:n,replace:o,state:u,relative:g,preventScrollReset:b,viewTransition:T});F&&n!==!1?L.startTransition(()=>R()):R()};return L.createElement("form",{ref:j,method:X,action:k,onSubmit:s?p:Z,...w,"data-discover":!ie&&r==="render"?"true":void 0})});Vw.displayName="Form";function jw(r){return`${r} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function GE(r){let e=L.useContext(Eo);return ft(e,jw(r)),e}function kw(r,{target:e,replace:n,state:s,preventScrollReset:o,relative:u,viewTransition:f,unstable_useTransitions:m}={}){let p=uu(),g=ds(),b=cu(r,{relative:u});return L.useCallback(T=>{if(pw(T,e)){T.preventDefault();let w=n!==void 0?n:Jl(g)===Jl(b),j=()=>p(r,{replace:w,state:s,preventScrollReset:o,relative:u,viewTransition:f});m?L.startTransition(()=>j()):j()}},[g,p,b,n,s,e,r,o,u,f,m])}var Pw=0,Lw=()=>`__${String(++Pw)}__`;function Uw(){let{router:r}=GE("useSubmit"),{basename:e}=L.useContext(Gn),n=rw(),s=r.fetch,o=r.navigate;return L.useCallback(async(u,f={})=>{let{action:m,method:p,encType:g,formData:b,body:T}=_w(u,e);if(f.navigate===!1){let w=f.fetcherKey||Lw();await s(w,n,f.action||m,{preventScrollReset:f.preventScrollReset,formData:b,body:T,formMethod:f.method||p,formEncType:f.encType||g,flushSync:f.flushSync})}else await o(f.action||m,{preventScrollReset:f.preventScrollReset,formData:b,body:T,formMethod:f.method||p,formEncType:f.encType||g,replace:f.replace,state:f.state,fromRouteId:n,flushSync:f.flushSync,viewTransition:f.viewTransition})},[s,o,e,n])}function zw(r,{relative:e}={}){let{basename:n}=L.useContext(Gn),s=L.useContext(Qn);ft(s,"useFormAction must be used inside a RouteContext");let[o]=s.matches.slice(-1),u={...cu(r||".",{relative:e})},f=ds();if(r==null){u.search=f.search;let m=new URLSearchParams(u.search),p=m.getAll("index");if(p.some(b=>b==="")){m.delete("index"),p.filter(T=>T).forEach(T=>m.append("index",T));let b=m.toString();u.search=b?`?${b}`:""}}return(!r||r===".")&&o.route.index&&(u.search=u.search?u.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(u.pathname=u.pathname==="/"?n:or([n,u.pathname])),Jl(u)}function Bw(r,{relative:e}={}){let n=L.useContext(jE);ft(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:s}=GE("useViewTransitionState"),o=cu(r,{relative:e});if(!n.isTransitioning)return!1;let u=ur(n.currentLocation.pathname,s)||n.currentLocation.pathname,f=ur(n.nextLocation.pathname,s)||n.nextLocation.pathname;return _h(o.pathname,f)!=null||_h(o.pathname,u)!=null}const qw=()=>{};var Xv={};const QE=function(r){const e=[];let n=0;for(let s=0;s<r.length;s++){let o=r.charCodeAt(s);o<128?e[n++]=o:o<2048?(e[n++]=o>>6|192,e[n++]=o&63|128):(o&64512)===55296&&s+1<r.length&&(r.charCodeAt(s+1)&64512)===56320?(o=65536+((o&1023)<<10)+(r.charCodeAt(++s)&1023),e[n++]=o>>18|240,e[n++]=o>>12&63|128,e[n++]=o>>6&63|128,e[n++]=o&63|128):(e[n++]=o>>12|224,e[n++]=o>>6&63|128,e[n++]=o&63|128)}return e},Hw=function(r){const e=[];let n=0,s=0;for(;n<r.length;){const o=r[n++];if(o<128)e[s++]=String.fromCharCode(o);else if(o>191&&o<224){const u=r[n++];e[s++]=String.fromCharCode((o&31)<<6|u&63)}else if(o>239&&o<365){const u=r[n++],f=r[n++],m=r[n++],p=((o&7)<<18|(u&63)<<12|(f&63)<<6|m&63)-65536;e[s++]=String.fromCharCode(55296+(p>>10)),e[s++]=String.fromCharCode(56320+(p&1023))}else{const u=r[n++],f=r[n++];e[s++]=String.fromCharCode((o&15)<<12|(u&63)<<6|f&63)}}return e.join("")},KE={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(r,e){if(!Array.isArray(r))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,s=[];for(let o=0;o<r.length;o+=3){const u=r[o],f=o+1<r.length,m=f?r[o+1]:0,p=o+2<r.length,g=p?r[o+2]:0,b=u>>2,T=(u&3)<<4|m>>4;let w=(m&15)<<2|g>>6,j=g&63;p||(j=64,f||(w=64)),s.push(n[b],n[T],n[w],n[j])}return s.join("")},encodeString(r,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(r):this.encodeByteArray(QE(r),e)},decodeString(r,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(r):Hw(this.decodeStringToByteArray(r,e))},decodeStringToByteArray(r,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,s=[];for(let o=0;o<r.length;){const u=n[r.charAt(o++)],m=o<r.length?n[r.charAt(o)]:0;++o;const g=o<r.length?n[r.charAt(o)]:64;++o;const T=o<r.length?n[r.charAt(o)]:64;if(++o,u==null||m==null||g==null||T==null)throw new Fw;const w=u<<2|m>>4;if(s.push(w),g!==64){const j=m<<4&240|g>>2;if(s.push(j),T!==64){const F=g<<6&192|T;s.push(F)}}}return s},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let r=0;r<this.ENCODED_VALS.length;r++)this.byteToCharMap_[r]=this.ENCODED_VALS.charAt(r),this.charToByteMap_[this.byteToCharMap_[r]]=r,this.byteToCharMapWebSafe_[r]=this.ENCODED_VALS_WEBSAFE.charAt(r),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[r]]=r,r>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(r)]=r,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(r)]=r)}}};class Fw extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const Gw=function(r){const e=QE(r);return KE.encodeByteArray(e,!0)},Eh=function(r){return Gw(r).replace(/\./g,"")},YE=function(r){try{return KE.decodeString(r,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function Qw(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}const Kw=()=>Qw().__FIREBASE_DEFAULTS__,Yw=()=>{if(typeof process>"u"||typeof Xv>"u")return;const r=Xv.__FIREBASE_DEFAULTS__;if(r)return JSON.parse(r)},$w=()=>{if(typeof document>"u")return;let r;try{r=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=r&&YE(r[1]);return e&&JSON.parse(e)},Hh=()=>{try{return qw()||Kw()||Yw()||$w()}catch(r){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${r}`);return}},$E=r=>Hh()?.emulatorHosts?.[r],Xw=r=>{const e=$E(r);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const s=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),s]:[e.substring(0,n),s]},XE=()=>Hh()?.config,JE=r=>Hh()?.[`_${r}`];class Jw{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,s)=>{n?this.reject(n):this.resolve(s),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,s))}}}function To(r){try{return(r.startsWith("http://")||r.startsWith("https://")?new URL(r).hostname:r).endsWith(".cloudworkstations.dev")}catch{return!1}}async function WE(r){return(await fetch(r,{credentials:"include"})).ok}function Ww(r,e){if(r.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},s=e||"demo-project",o=r.iat||0,u=r.sub||r.user_id;if(!u)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const f={iss:`https://securetoken.google.com/${s}`,aud:s,iat:o,exp:o+3600,auth_time:o,sub:u,user_id:u,firebase:{sign_in_provider:"custom",identities:{}},...r};return[Eh(JSON.stringify(n)),Eh(JSON.stringify(f)),""].join(".")}const Gl={};function Zw(){const r={prod:[],emulator:[]};for(const e of Object.keys(Gl))Gl[e]?r.emulator.push(e):r.prod.push(e);return r}function ex(r){let e=document.getElementById(r),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",r),n=!0),{created:n,element:e}}let Jv=!1;function ZE(r,e){if(typeof window>"u"||typeof document>"u"||!To(window.location.host)||Gl[r]===e||Gl[r]||Jv)return;Gl[r]=e;function n(w){return`__firebase__banner__${w}`}const s="__firebase__banner",u=Zw().prod.length>0;function f(){const w=document.getElementById(s);w&&w.remove()}function m(w){w.style.display="flex",w.style.background="#7faaf0",w.style.position="fixed",w.style.bottom="5px",w.style.left="5px",w.style.padding=".5em",w.style.borderRadius="5px",w.style.alignItems="center"}function p(w,j){w.setAttribute("width","24"),w.setAttribute("id",j),w.setAttribute("height","24"),w.setAttribute("viewBox","0 0 24 24"),w.setAttribute("fill","none"),w.style.marginLeft="-6px"}function g(){const w=document.createElement("span");return w.style.cursor="pointer",w.style.marginLeft="16px",w.style.fontSize="24px",w.innerHTML=" &times;",w.onclick=()=>{Jv=!0,f()},w}function b(w,j){w.setAttribute("id",j),w.innerText="Learn more",w.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",w.setAttribute("target","__blank"),w.style.paddingLeft="5px",w.style.textDecoration="underline"}function T(){const w=ex(s),j=n("text"),F=document.getElementById(j)||document.createElement("span"),K=n("learnmore"),k=document.getElementById(K)||document.createElement("a"),X=n("preprendIcon"),ie=document.getElementById(X)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(w.created){const Z=w.element;m(Z),b(k,K);const ye=g();p(ie,X),Z.append(ie,F,k,ye),document.body.appendChild(Z)}u?(F.innerText="Preview backend disconnected.",ie.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(ie.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,F.innerText="Preview backend running in this workspace."),F.setAttribute("id",j)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",T):T()}function tn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function tx(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(tn())}function nx(){const r=Hh()?.forceEnvironment;if(r==="node")return!0;if(r==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function ix(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function rx(){const r=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof r=="object"&&r.id!==void 0}function sx(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function ax(){const r=tn();return r.indexOf("MSIE ")>=0||r.indexOf("Trident/")>=0}function ox(){return!nx()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function lx(){try{return typeof indexedDB=="object"}catch{return!1}}function ux(){return new Promise((r,e)=>{try{let n=!0;const s="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(s);o.onsuccess=()=>{o.result.close(),n||self.indexedDB.deleteDatabase(s),r(!0)},o.onupgradeneeded=()=>{n=!1},o.onerror=()=>{e(o.error?.message||"")}}catch(n){e(n)}})}const cx="FirebaseError";class mr extends Error{constructor(e,n,s){super(n),this.code=e,this.customData=s,this.name=cx,Object.setPrototypeOf(this,mr.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,hu.prototype.create)}}class hu{constructor(e,n,s){this.service=e,this.serviceName=n,this.errors=s}create(e,...n){const s=n[0]||{},o=`${this.service}/${e}`,u=this.errors[e],f=u?hx(u,s):"Error",m=`${this.serviceName}: ${f} (${o}).`;return new mr(o,m,s)}}function hx(r,e){return r.replace(fx,(n,s)=>{const o=e[s];return o!=null?String(o):`<${s}?>`})}const fx=/\{\$([^}]+)}/g;function dx(r){for(const e in r)if(Object.prototype.hasOwnProperty.call(r,e))return!1;return!0}function Ws(r,e){if(r===e)return!0;const n=Object.keys(r),s=Object.keys(e);for(const o of n){if(!s.includes(o))return!1;const u=r[o],f=e[o];if(Wv(u)&&Wv(f)){if(!Ws(u,f))return!1}else if(u!==f)return!1}for(const o of s)if(!n.includes(o))return!1;return!0}function Wv(r){return r!==null&&typeof r=="object"}function fu(r){const e=[];for(const[n,s]of Object.entries(r))Array.isArray(s)?s.forEach(o=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(o))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(s));return e.length?"&"+e.join("&"):""}function Ul(r){const e={};return r.replace(/^\?/,"").split("&").forEach(s=>{if(s){const[o,u]=s.split("=");e[decodeURIComponent(o)]=decodeURIComponent(u)}}),e}function zl(r){const e=r.indexOf("?");if(!e)return"";const n=r.indexOf("#",e);return r.substring(e,n>0?n:void 0)}function mx(r,e){const n=new px(r,e);return n.subscribe.bind(n)}class px{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(s=>{this.error(s)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,s){let o;if(e===void 0&&n===void 0&&s===void 0)throw new Error("Missing Observer.");gx(e,["next","error","complete"])?o=e:o={next:e,error:n,complete:s},o.next===void 0&&(o.next=vm),o.error===void 0&&(o.error=vm),o.complete===void 0&&(o.complete=vm);const u=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?o.error(this.finalError):o.complete()}catch{}}),this.observers.push(o),u}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(s){typeof console<"u"&&console.error&&console.error(s)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function gx(r,e){if(typeof r!="object"||r===null)return!1;for(const n of e)if(n in r&&typeof r[n]=="function")return!0;return!1}function vm(){}function Pt(r){return r&&r._delegate?r._delegate:r}class Zs{constructor(e,n,s){this.name=e,this.instanceFactory=n,this.type=s,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}const $s="[DEFAULT]";class yx{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const s=new Jw;if(this.instancesDeferred.set(n,s),this.isInitialized(n)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:n});o&&s.resolve(o)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){const n=this.normalizeInstanceIdentifier(e?.identifier),s=e?.optional??!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(o){if(s)return null;throw o}else{if(s)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(vx(e))try{this.getOrInitializeService({instanceIdentifier:$s})}catch{}for(const[n,s]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(n);try{const u=this.getOrInitializeService({instanceIdentifier:o});s.resolve(u)}catch{}}}}clearInstance(e=$s){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=$s){return this.instances.has(e)}getOptions(e=$s){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,s=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(s))throw Error(`${this.name}(${s}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:s,options:n});for(const[u,f]of this.instancesDeferred.entries()){const m=this.normalizeInstanceIdentifier(u);s===m&&f.resolve(o)}return o}onInit(e,n){const s=this.normalizeInstanceIdentifier(n),o=this.onInitCallbacks.get(s)??new Set;o.add(e),this.onInitCallbacks.set(s,o);const u=this.instances.get(s);return u&&e(u,s),()=>{o.delete(e)}}invokeOnInitCallbacks(e,n){const s=this.onInitCallbacks.get(n);if(s)for(const o of s)try{o(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let s=this.instances.get(e);if(!s&&this.component&&(s=this.component.instanceFactory(this.container,{instanceIdentifier:_x(e),options:n}),this.instances.set(e,s),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(s,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,s)}catch{}return s||null}normalizeInstanceIdentifier(e=$s){return this.component?this.component.multipleInstances?e:$s:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function _x(r){return r===$s?void 0:r}function vx(r){return r.instantiationMode==="EAGER"}class Ex{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new yx(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}var Pe;(function(r){r[r.DEBUG=0]="DEBUG",r[r.VERBOSE=1]="VERBOSE",r[r.INFO=2]="INFO",r[r.WARN=3]="WARN",r[r.ERROR=4]="ERROR",r[r.SILENT=5]="SILENT"})(Pe||(Pe={}));const bx={debug:Pe.DEBUG,verbose:Pe.VERBOSE,info:Pe.INFO,warn:Pe.WARN,error:Pe.ERROR,silent:Pe.SILENT},Tx=Pe.INFO,Sx={[Pe.DEBUG]:"log",[Pe.VERBOSE]:"log",[Pe.INFO]:"info",[Pe.WARN]:"warn",[Pe.ERROR]:"error"},Ax=(r,e,...n)=>{if(e<r.logLevel)return;const s=new Date().toISOString(),o=Sx[e];if(o)console[o](`[${s}]  ${r.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class vp{constructor(e){this.name=e,this._logLevel=Tx,this._logHandler=Ax,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Pe))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?bx[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Pe.DEBUG,...e),this._logHandler(this,Pe.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Pe.VERBOSE,...e),this._logHandler(this,Pe.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Pe.INFO,...e),this._logHandler(this,Pe.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Pe.WARN,...e),this._logHandler(this,Pe.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Pe.ERROR,...e),this._logHandler(this,Pe.ERROR,...e)}}const wx=(r,e)=>e.some(n=>r instanceof n);let Zv,e0;function xx(){return Zv||(Zv=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function Rx(){return e0||(e0=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const eb=new WeakMap,Mm=new WeakMap,tb=new WeakMap,Em=new WeakMap,Ep=new WeakMap;function Cx(r){const e=new Promise((n,s)=>{const o=()=>{r.removeEventListener("success",u),r.removeEventListener("error",f)},u=()=>{n(es(r.result)),o()},f=()=>{s(r.error),o()};r.addEventListener("success",u),r.addEventListener("error",f)});return e.then(n=>{n instanceof IDBCursor&&eb.set(n,r)}).catch(()=>{}),Ep.set(e,r),e}function Ix(r){if(Mm.has(r))return;const e=new Promise((n,s)=>{const o=()=>{r.removeEventListener("complete",u),r.removeEventListener("error",f),r.removeEventListener("abort",f)},u=()=>{n(),o()},f=()=>{s(r.error||new DOMException("AbortError","AbortError")),o()};r.addEventListener("complete",u),r.addEventListener("error",f),r.addEventListener("abort",f)});Mm.set(r,e)}let Vm={get(r,e,n){if(r instanceof IDBTransaction){if(e==="done")return Mm.get(r);if(e==="objectStoreNames")return r.objectStoreNames||tb.get(r);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return es(r[e])},set(r,e,n){return r[e]=n,!0},has(r,e){return r instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in r}};function Nx(r){Vm=r(Vm)}function Dx(r){return r===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const s=r.call(bm(this),e,...n);return tb.set(s,e.sort?e.sort():[e]),es(s)}:Rx().includes(r)?function(...e){return r.apply(bm(this),e),es(eb.get(this))}:function(...e){return es(r.apply(bm(this),e))}}function Ox(r){return typeof r=="function"?Dx(r):(r instanceof IDBTransaction&&Ix(r),wx(r,xx())?new Proxy(r,Vm):r)}function es(r){if(r instanceof IDBRequest)return Cx(r);if(Em.has(r))return Em.get(r);const e=Ox(r);return e!==r&&(Em.set(r,e),Ep.set(e,r)),e}const bm=r=>Ep.get(r);function Mx(r,e,{blocked:n,upgrade:s,blocking:o,terminated:u}={}){const f=indexedDB.open(r,e),m=es(f);return s&&f.addEventListener("upgradeneeded",p=>{s(es(f.result),p.oldVersion,p.newVersion,es(f.transaction),p)}),n&&f.addEventListener("blocked",p=>n(p.oldVersion,p.newVersion,p)),m.then(p=>{u&&p.addEventListener("close",()=>u()),o&&p.addEventListener("versionchange",g=>o(g.oldVersion,g.newVersion,g))}).catch(()=>{}),m}const Vx=["get","getKey","getAll","getAllKeys","count"],jx=["put","add","delete","clear"],Tm=new Map;function t0(r,e){if(!(r instanceof IDBDatabase&&!(e in r)&&typeof e=="string"))return;if(Tm.get(e))return Tm.get(e);const n=e.replace(/FromIndex$/,""),s=e!==n,o=jx.includes(n);if(!(n in(s?IDBIndex:IDBObjectStore).prototype)||!(o||Vx.includes(n)))return;const u=async function(f,...m){const p=this.transaction(f,o?"readwrite":"readonly");let g=p.store;return s&&(g=g.index(m.shift())),(await Promise.all([g[n](...m),o&&p.done]))[0]};return Tm.set(e,u),u}Nx(r=>({...r,get:(e,n,s)=>t0(e,n)||r.get(e,n,s),has:(e,n)=>!!t0(e,n)||r.has(e,n)}));class kx{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(Px(n)){const s=n.getImmediate();return`${s.library}/${s.version}`}else return null}).filter(n=>n).join(" ")}}function Px(r){return r.getComponent()?.type==="VERSION"}const jm="@firebase/app",n0="0.14.6";const cr=new vp("@firebase/app"),Lx="@firebase/app-compat",Ux="@firebase/analytics-compat",zx="@firebase/analytics",Bx="@firebase/app-check-compat",qx="@firebase/app-check",Hx="@firebase/auth",Fx="@firebase/auth-compat",Gx="@firebase/database",Qx="@firebase/data-connect",Kx="@firebase/database-compat",Yx="@firebase/functions",$x="@firebase/functions-compat",Xx="@firebase/installations",Jx="@firebase/installations-compat",Wx="@firebase/messaging",Zx="@firebase/messaging-compat",e2="@firebase/performance",t2="@firebase/performance-compat",n2="@firebase/remote-config",i2="@firebase/remote-config-compat",r2="@firebase/storage",s2="@firebase/storage-compat",a2="@firebase/firestore",o2="@firebase/ai",l2="@firebase/firestore-compat",u2="firebase",c2="12.6.0";const km="[DEFAULT]",h2={[jm]:"fire-core",[Lx]:"fire-core-compat",[zx]:"fire-analytics",[Ux]:"fire-analytics-compat",[qx]:"fire-app-check",[Bx]:"fire-app-check-compat",[Hx]:"fire-auth",[Fx]:"fire-auth-compat",[Gx]:"fire-rtdb",[Qx]:"fire-data-connect",[Kx]:"fire-rtdb-compat",[Yx]:"fire-fn",[$x]:"fire-fn-compat",[Xx]:"fire-iid",[Jx]:"fire-iid-compat",[Wx]:"fire-fcm",[Zx]:"fire-fcm-compat",[e2]:"fire-perf",[t2]:"fire-perf-compat",[n2]:"fire-rc",[i2]:"fire-rc-compat",[r2]:"fire-gcs",[s2]:"fire-gcs-compat",[a2]:"fire-fst",[l2]:"fire-fst-compat",[o2]:"fire-vertex","fire-js":"fire-js",[u2]:"fire-js-all"};const bh=new Map,f2=new Map,Pm=new Map;function i0(r,e){try{r.container.addComponent(e)}catch(n){cr.debug(`Component ${e.name} failed to register with FirebaseApp ${r.name}`,n)}}function ho(r){const e=r.name;if(Pm.has(e))return cr.debug(`There were multiple attempts to register component ${e}.`),!1;Pm.set(e,r);for(const n of bh.values())i0(n,r);for(const n of f2.values())i0(n,r);return!0}function bp(r,e){const n=r.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),r.container.getProvider(e)}function Bn(r){return r==null?!1:r.settings!==void 0}const d2={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},ts=new hu("app","Firebase",d2);class m2{constructor(e,n,s){this._isDeleted=!1,this._options={...e},this._config={...n},this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=s,this.container.addComponent(new Zs("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw ts.create("app-deleted",{appName:this._name})}}const So=c2;function nb(r,e={}){let n=r;typeof e!="object"&&(e={name:e});const s={name:km,automaticDataCollectionEnabled:!0,...e},o=s.name;if(typeof o!="string"||!o)throw ts.create("bad-app-name",{appName:String(o)});if(n||(n=XE()),!n)throw ts.create("no-options");const u=bh.get(o);if(u){if(Ws(n,u.options)&&Ws(s,u.config))return u;throw ts.create("duplicate-app",{appName:o})}const f=new Ex(o);for(const p of Pm.values())f.addComponent(p);const m=new m2(n,s,f);return bh.set(o,m),m}function ib(r=km){const e=bh.get(r);if(!e&&r===km&&XE())return nb();if(!e)throw ts.create("no-app",{appName:r});return e}function ns(r,e,n){let s=h2[r]??r;n&&(s+=`-${n}`);const o=s.match(/\s|\//),u=e.match(/\s|\//);if(o||u){const f=[`Unable to register library "${s}" with version "${e}":`];o&&f.push(`library name "${s}" contains illegal characters (whitespace or "/")`),o&&u&&f.push("and"),u&&f.push(`version name "${e}" contains illegal characters (whitespace or "/")`),cr.warn(f.join(" "));return}ho(new Zs(`${s}-version`,()=>({library:s,version:e}),"VERSION"))}const p2="firebase-heartbeat-database",g2=1,Wl="firebase-heartbeat-store";let Sm=null;function rb(){return Sm||(Sm=Mx(p2,g2,{upgrade:(r,e)=>{switch(e){case 0:try{r.createObjectStore(Wl)}catch(n){console.warn(n)}}}}).catch(r=>{throw ts.create("idb-open",{originalErrorMessage:r.message})})),Sm}async function y2(r){try{const n=(await rb()).transaction(Wl),s=await n.objectStore(Wl).get(sb(r));return await n.done,s}catch(e){if(e instanceof mr)cr.warn(e.message);else{const n=ts.create("idb-get",{originalErrorMessage:e?.message});cr.warn(n.message)}}}async function r0(r,e){try{const s=(await rb()).transaction(Wl,"readwrite");await s.objectStore(Wl).put(e,sb(r)),await s.done}catch(n){if(n instanceof mr)cr.warn(n.message);else{const s=ts.create("idb-set",{originalErrorMessage:n?.message});cr.warn(s.message)}}}function sb(r){return`${r.name}!${r.options.appId}`}const _2=1024,v2=30;class E2{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new T2(n),this._heartbeatsCachePromise=this._storage.read().then(s=>(this._heartbeatsCache=s,s))}async triggerHeartbeat(){try{const n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=s0();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(o=>o.date===s))return;if(this._heartbeatsCache.heartbeats.push({date:s,agent:n}),this._heartbeatsCache.heartbeats.length>v2){const o=S2(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(o,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(e){cr.warn(e)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const e=s0(),{heartbeatsToSend:n,unsentEntries:s}=b2(this._heartbeatsCache.heartbeats),o=Eh(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=e,s.length>0?(this._heartbeatsCache.heartbeats=s,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(e){return cr.warn(e),""}}}function s0(){return new Date().toISOString().substring(0,10)}function b2(r,e=_2){const n=[];let s=r.slice();for(const o of r){const u=n.find(f=>f.agent===o.agent);if(u){if(u.dates.push(o.date),a0(n)>e){u.dates.pop();break}}else if(n.push({agent:o.agent,dates:[o.date]}),a0(n)>e){n.pop();break}s=s.slice(1)}return{heartbeatsToSend:n,unsentEntries:s}}class T2{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return lx()?ux().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await y2(this.app);return n?.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const s=await this.read();return r0(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??s.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const s=await this.read();return r0(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??s.lastSentHeartbeatDate,heartbeats:[...s.heartbeats,...e.heartbeats]})}else return}}function a0(r){return Eh(JSON.stringify({version:2,heartbeats:r})).length}function S2(r){if(r.length===0)return-1;let e=0,n=r[0].date;for(let s=1;s<r.length;s++)r[s].date<n&&(n=r[s].date,e=s);return e}function A2(r){ho(new Zs("platform-logger",e=>new kx(e),"PRIVATE")),ho(new Zs("heartbeat",e=>new E2(e),"PRIVATE")),ns(jm,n0,r),ns(jm,n0,"esm2020"),ns("fire-js","")}A2("");var w2="firebase",x2="12.6.0";ns(w2,x2,"app");var o0=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var is,ab;(function(){var r;function e(R,x){function C(){}C.prototype=x.prototype,R.F=x.prototype,R.prototype=new C,R.prototype.constructor=R,R.D=function(M,D,P){for(var I=Array(arguments.length-2),$e=2;$e<arguments.length;$e++)I[$e-2]=arguments[$e];return x.prototype[D].apply(M,I)}}function n(){this.blockSize=-1}function s(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(s,n),s.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function o(R,x,C){C||(C=0);const M=Array(16);if(typeof x=="string")for(var D=0;D<16;++D)M[D]=x.charCodeAt(C++)|x.charCodeAt(C++)<<8|x.charCodeAt(C++)<<16|x.charCodeAt(C++)<<24;else for(D=0;D<16;++D)M[D]=x[C++]|x[C++]<<8|x[C++]<<16|x[C++]<<24;x=R.g[0],C=R.g[1],D=R.g[2];let P=R.g[3],I;I=x+(P^C&(D^P))+M[0]+3614090360&4294967295,x=C+(I<<7&4294967295|I>>>25),I=P+(D^x&(C^D))+M[1]+3905402710&4294967295,P=x+(I<<12&4294967295|I>>>20),I=D+(C^P&(x^C))+M[2]+606105819&4294967295,D=P+(I<<17&4294967295|I>>>15),I=C+(x^D&(P^x))+M[3]+3250441966&4294967295,C=D+(I<<22&4294967295|I>>>10),I=x+(P^C&(D^P))+M[4]+4118548399&4294967295,x=C+(I<<7&4294967295|I>>>25),I=P+(D^x&(C^D))+M[5]+1200080426&4294967295,P=x+(I<<12&4294967295|I>>>20),I=D+(C^P&(x^C))+M[6]+2821735955&4294967295,D=P+(I<<17&4294967295|I>>>15),I=C+(x^D&(P^x))+M[7]+4249261313&4294967295,C=D+(I<<22&4294967295|I>>>10),I=x+(P^C&(D^P))+M[8]+1770035416&4294967295,x=C+(I<<7&4294967295|I>>>25),I=P+(D^x&(C^D))+M[9]+2336552879&4294967295,P=x+(I<<12&4294967295|I>>>20),I=D+(C^P&(x^C))+M[10]+4294925233&4294967295,D=P+(I<<17&4294967295|I>>>15),I=C+(x^D&(P^x))+M[11]+2304563134&4294967295,C=D+(I<<22&4294967295|I>>>10),I=x+(P^C&(D^P))+M[12]+1804603682&4294967295,x=C+(I<<7&4294967295|I>>>25),I=P+(D^x&(C^D))+M[13]+4254626195&4294967295,P=x+(I<<12&4294967295|I>>>20),I=D+(C^P&(x^C))+M[14]+2792965006&4294967295,D=P+(I<<17&4294967295|I>>>15),I=C+(x^D&(P^x))+M[15]+1236535329&4294967295,C=D+(I<<22&4294967295|I>>>10),I=x+(D^P&(C^D))+M[1]+4129170786&4294967295,x=C+(I<<5&4294967295|I>>>27),I=P+(C^D&(x^C))+M[6]+3225465664&4294967295,P=x+(I<<9&4294967295|I>>>23),I=D+(x^C&(P^x))+M[11]+643717713&4294967295,D=P+(I<<14&4294967295|I>>>18),I=C+(P^x&(D^P))+M[0]+3921069994&4294967295,C=D+(I<<20&4294967295|I>>>12),I=x+(D^P&(C^D))+M[5]+3593408605&4294967295,x=C+(I<<5&4294967295|I>>>27),I=P+(C^D&(x^C))+M[10]+38016083&4294967295,P=x+(I<<9&4294967295|I>>>23),I=D+(x^C&(P^x))+M[15]+3634488961&4294967295,D=P+(I<<14&4294967295|I>>>18),I=C+(P^x&(D^P))+M[4]+3889429448&4294967295,C=D+(I<<20&4294967295|I>>>12),I=x+(D^P&(C^D))+M[9]+568446438&4294967295,x=C+(I<<5&4294967295|I>>>27),I=P+(C^D&(x^C))+M[14]+3275163606&4294967295,P=x+(I<<9&4294967295|I>>>23),I=D+(x^C&(P^x))+M[3]+4107603335&4294967295,D=P+(I<<14&4294967295|I>>>18),I=C+(P^x&(D^P))+M[8]+1163531501&4294967295,C=D+(I<<20&4294967295|I>>>12),I=x+(D^P&(C^D))+M[13]+2850285829&4294967295,x=C+(I<<5&4294967295|I>>>27),I=P+(C^D&(x^C))+M[2]+4243563512&4294967295,P=x+(I<<9&4294967295|I>>>23),I=D+(x^C&(P^x))+M[7]+1735328473&4294967295,D=P+(I<<14&4294967295|I>>>18),I=C+(P^x&(D^P))+M[12]+2368359562&4294967295,C=D+(I<<20&4294967295|I>>>12),I=x+(C^D^P)+M[5]+4294588738&4294967295,x=C+(I<<4&4294967295|I>>>28),I=P+(x^C^D)+M[8]+2272392833&4294967295,P=x+(I<<11&4294967295|I>>>21),I=D+(P^x^C)+M[11]+1839030562&4294967295,D=P+(I<<16&4294967295|I>>>16),I=C+(D^P^x)+M[14]+4259657740&4294967295,C=D+(I<<23&4294967295|I>>>9),I=x+(C^D^P)+M[1]+2763975236&4294967295,x=C+(I<<4&4294967295|I>>>28),I=P+(x^C^D)+M[4]+1272893353&4294967295,P=x+(I<<11&4294967295|I>>>21),I=D+(P^x^C)+M[7]+4139469664&4294967295,D=P+(I<<16&4294967295|I>>>16),I=C+(D^P^x)+M[10]+3200236656&4294967295,C=D+(I<<23&4294967295|I>>>9),I=x+(C^D^P)+M[13]+681279174&4294967295,x=C+(I<<4&4294967295|I>>>28),I=P+(x^C^D)+M[0]+3936430074&4294967295,P=x+(I<<11&4294967295|I>>>21),I=D+(P^x^C)+M[3]+3572445317&4294967295,D=P+(I<<16&4294967295|I>>>16),I=C+(D^P^x)+M[6]+76029189&4294967295,C=D+(I<<23&4294967295|I>>>9),I=x+(C^D^P)+M[9]+3654602809&4294967295,x=C+(I<<4&4294967295|I>>>28),I=P+(x^C^D)+M[12]+3873151461&4294967295,P=x+(I<<11&4294967295|I>>>21),I=D+(P^x^C)+M[15]+530742520&4294967295,D=P+(I<<16&4294967295|I>>>16),I=C+(D^P^x)+M[2]+3299628645&4294967295,C=D+(I<<23&4294967295|I>>>9),I=x+(D^(C|~P))+M[0]+4096336452&4294967295,x=C+(I<<6&4294967295|I>>>26),I=P+(C^(x|~D))+M[7]+1126891415&4294967295,P=x+(I<<10&4294967295|I>>>22),I=D+(x^(P|~C))+M[14]+2878612391&4294967295,D=P+(I<<15&4294967295|I>>>17),I=C+(P^(D|~x))+M[5]+4237533241&4294967295,C=D+(I<<21&4294967295|I>>>11),I=x+(D^(C|~P))+M[12]+1700485571&4294967295,x=C+(I<<6&4294967295|I>>>26),I=P+(C^(x|~D))+M[3]+2399980690&4294967295,P=x+(I<<10&4294967295|I>>>22),I=D+(x^(P|~C))+M[10]+4293915773&4294967295,D=P+(I<<15&4294967295|I>>>17),I=C+(P^(D|~x))+M[1]+2240044497&4294967295,C=D+(I<<21&4294967295|I>>>11),I=x+(D^(C|~P))+M[8]+1873313359&4294967295,x=C+(I<<6&4294967295|I>>>26),I=P+(C^(x|~D))+M[15]+4264355552&4294967295,P=x+(I<<10&4294967295|I>>>22),I=D+(x^(P|~C))+M[6]+2734768916&4294967295,D=P+(I<<15&4294967295|I>>>17),I=C+(P^(D|~x))+M[13]+1309151649&4294967295,C=D+(I<<21&4294967295|I>>>11),I=x+(D^(C|~P))+M[4]+4149444226&4294967295,x=C+(I<<6&4294967295|I>>>26),I=P+(C^(x|~D))+M[11]+3174756917&4294967295,P=x+(I<<10&4294967295|I>>>22),I=D+(x^(P|~C))+M[2]+718787259&4294967295,D=P+(I<<15&4294967295|I>>>17),I=C+(P^(D|~x))+M[9]+3951481745&4294967295,R.g[0]=R.g[0]+x&4294967295,R.g[1]=R.g[1]+(D+(I<<21&4294967295|I>>>11))&4294967295,R.g[2]=R.g[2]+D&4294967295,R.g[3]=R.g[3]+P&4294967295}s.prototype.v=function(R,x){x===void 0&&(x=R.length);const C=x-this.blockSize,M=this.C;let D=this.h,P=0;for(;P<x;){if(D==0)for(;P<=C;)o(this,R,P),P+=this.blockSize;if(typeof R=="string"){for(;P<x;)if(M[D++]=R.charCodeAt(P++),D==this.blockSize){o(this,M),D=0;break}}else for(;P<x;)if(M[D++]=R[P++],D==this.blockSize){o(this,M),D=0;break}}this.h=D,this.o+=x},s.prototype.A=function(){var R=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);R[0]=128;for(var x=1;x<R.length-8;++x)R[x]=0;x=this.o*8;for(var C=R.length-8;C<R.length;++C)R[C]=x&255,x/=256;for(this.v(R),R=Array(16),x=0,C=0;C<4;++C)for(let M=0;M<32;M+=8)R[x++]=this.g[C]>>>M&255;return R};function u(R,x){var C=m;return Object.prototype.hasOwnProperty.call(C,R)?C[R]:C[R]=x(R)}function f(R,x){this.h=x;const C=[];let M=!0;for(let D=R.length-1;D>=0;D--){const P=R[D]|0;M&&P==x||(C[D]=P,M=!1)}this.g=C}var m={};function p(R){return-128<=R&&R<128?u(R,function(x){return new f([x|0],x<0?-1:0)}):new f([R|0],R<0?-1:0)}function g(R){if(isNaN(R)||!isFinite(R))return T;if(R<0)return k(g(-R));const x=[];let C=1;for(let M=0;R>=C;M++)x[M]=R/C|0,C*=4294967296;return new f(x,0)}function b(R,x){if(R.length==0)throw Error("number format error: empty string");if(x=x||10,x<2||36<x)throw Error("radix out of range: "+x);if(R.charAt(0)=="-")return k(b(R.substring(1),x));if(R.indexOf("-")>=0)throw Error('number format error: interior "-" character');const C=g(Math.pow(x,8));let M=T;for(let P=0;P<R.length;P+=8){var D=Math.min(8,R.length-P);const I=parseInt(R.substring(P,P+D),x);D<8?(D=g(Math.pow(x,D)),M=M.j(D).add(g(I))):(M=M.j(C),M=M.add(g(I)))}return M}var T=p(0),w=p(1),j=p(16777216);r=f.prototype,r.m=function(){if(K(this))return-k(this).m();let R=0,x=1;for(let C=0;C<this.g.length;C++){const M=this.i(C);R+=(M>=0?M:4294967296+M)*x,x*=4294967296}return R},r.toString=function(R){if(R=R||10,R<2||36<R)throw Error("radix out of range: "+R);if(F(this))return"0";if(K(this))return"-"+k(this).toString(R);const x=g(Math.pow(R,6));var C=this;let M="";for(;;){const D=ye(C,x).g;C=X(C,D.j(x));let P=((C.g.length>0?C.g[0]:C.h)>>>0).toString(R);if(C=D,F(C))return P+M;for(;P.length<6;)P="0"+P;M=P+M}},r.i=function(R){return R<0?0:R<this.g.length?this.g[R]:this.h};function F(R){if(R.h!=0)return!1;for(let x=0;x<R.g.length;x++)if(R.g[x]!=0)return!1;return!0}function K(R){return R.h==-1}r.l=function(R){return R=X(this,R),K(R)?-1:F(R)?0:1};function k(R){const x=R.g.length,C=[];for(let M=0;M<x;M++)C[M]=~R.g[M];return new f(C,~R.h).add(w)}r.abs=function(){return K(this)?k(this):this},r.add=function(R){const x=Math.max(this.g.length,R.g.length),C=[];let M=0;for(let D=0;D<=x;D++){let P=M+(this.i(D)&65535)+(R.i(D)&65535),I=(P>>>16)+(this.i(D)>>>16)+(R.i(D)>>>16);M=I>>>16,P&=65535,I&=65535,C[D]=I<<16|P}return new f(C,C[C.length-1]&-2147483648?-1:0)};function X(R,x){return R.add(k(x))}r.j=function(R){if(F(this)||F(R))return T;if(K(this))return K(R)?k(this).j(k(R)):k(k(this).j(R));if(K(R))return k(this.j(k(R)));if(this.l(j)<0&&R.l(j)<0)return g(this.m()*R.m());const x=this.g.length+R.g.length,C=[];for(var M=0;M<2*x;M++)C[M]=0;for(M=0;M<this.g.length;M++)for(let D=0;D<R.g.length;D++){const P=this.i(M)>>>16,I=this.i(M)&65535,$e=R.i(D)>>>16,ut=R.i(D)&65535;C[2*M+2*D]+=I*ut,ie(C,2*M+2*D),C[2*M+2*D+1]+=P*ut,ie(C,2*M+2*D+1),C[2*M+2*D+1]+=I*$e,ie(C,2*M+2*D+1),C[2*M+2*D+2]+=P*$e,ie(C,2*M+2*D+2)}for(R=0;R<x;R++)C[R]=C[2*R+1]<<16|C[2*R];for(R=x;R<2*x;R++)C[R]=0;return new f(C,0)};function ie(R,x){for(;(R[x]&65535)!=R[x];)R[x+1]+=R[x]>>>16,R[x]&=65535,x++}function Z(R,x){this.g=R,this.h=x}function ye(R,x){if(F(x))throw Error("division by zero");if(F(R))return new Z(T,T);if(K(R))return x=ye(k(R),x),new Z(k(x.g),k(x.h));if(K(x))return x=ye(R,k(x)),new Z(k(x.g),x.h);if(R.g.length>30){if(K(R)||K(x))throw Error("slowDivide_ only works with positive integers.");for(var C=w,M=x;M.l(R)<=0;)C=Se(C),M=Se(M);var D=ae(C,1),P=ae(M,1);for(M=ae(M,2),C=ae(C,2);!F(M);){var I=P.add(M);I.l(R)<=0&&(D=D.add(C),P=I),M=ae(M,1),C=ae(C,1)}return x=X(R,D.j(x)),new Z(D,x)}for(D=T;R.l(x)>=0;){for(C=Math.max(1,Math.floor(R.m()/x.m())),M=Math.ceil(Math.log(C)/Math.LN2),M=M<=48?1:Math.pow(2,M-48),P=g(C),I=P.j(x);K(I)||I.l(R)>0;)C-=M,P=g(C),I=P.j(x);F(P)&&(P=w),D=D.add(P),R=X(R,I)}return new Z(D,R)}r.B=function(R){return ye(this,R).h},r.and=function(R){const x=Math.max(this.g.length,R.g.length),C=[];for(let M=0;M<x;M++)C[M]=this.i(M)&R.i(M);return new f(C,this.h&R.h)},r.or=function(R){const x=Math.max(this.g.length,R.g.length),C=[];for(let M=0;M<x;M++)C[M]=this.i(M)|R.i(M);return new f(C,this.h|R.h)},r.xor=function(R){const x=Math.max(this.g.length,R.g.length),C=[];for(let M=0;M<x;M++)C[M]=this.i(M)^R.i(M);return new f(C,this.h^R.h)};function Se(R){const x=R.g.length+1,C=[];for(let M=0;M<x;M++)C[M]=R.i(M)<<1|R.i(M-1)>>>31;return new f(C,R.h)}function ae(R,x){const C=x>>5;x%=32;const M=R.g.length-C,D=[];for(let P=0;P<M;P++)D[P]=x>0?R.i(P+C)>>>x|R.i(P+C+1)<<32-x:R.i(P+C);return new f(D,R.h)}s.prototype.digest=s.prototype.A,s.prototype.reset=s.prototype.u,s.prototype.update=s.prototype.v,ab=s,f.prototype.add=f.prototype.add,f.prototype.multiply=f.prototype.j,f.prototype.modulo=f.prototype.B,f.prototype.compare=f.prototype.l,f.prototype.toNumber=f.prototype.m,f.prototype.toString=f.prototype.toString,f.prototype.getBits=f.prototype.i,f.fromNumber=g,f.fromString=b,is=f}).apply(typeof o0<"u"?o0:typeof self<"u"?self:typeof window<"u"?window:{});var Zc=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var ob,Bl,lb,lh,Lm,ub,cb,hb;(function(){var r,e=Object.defineProperty;function n(c){c=[typeof globalThis=="object"&&globalThis,c,typeof window=="object"&&window,typeof self=="object"&&self,typeof Zc=="object"&&Zc];for(var y=0;y<c.length;++y){var E=c[y];if(E&&E.Math==Math)return E}throw Error("Cannot find global object")}var s=n(this);function o(c,y){if(y)e:{var E=s;c=c.split(".");for(var A=0;A<c.length-1;A++){var z=c[A];if(!(z in E))break e;E=E[z]}c=c[c.length-1],A=E[c],y=y(A),y!=A&&y!=null&&e(E,c,{configurable:!0,writable:!0,value:y})}}o("Symbol.dispose",function(c){return c||Symbol("Symbol.dispose")}),o("Array.prototype.values",function(c){return c||function(){return this[Symbol.iterator]()}}),o("Object.entries",function(c){return c||function(y){var E=[],A;for(A in y)Object.prototype.hasOwnProperty.call(y,A)&&E.push([A,y[A]]);return E}});var u=u||{},f=this||self;function m(c){var y=typeof c;return y=="object"&&c!=null||y=="function"}function p(c,y,E){return c.call.apply(c.bind,arguments)}function g(c,y,E){return g=p,g.apply(null,arguments)}function b(c,y){var E=Array.prototype.slice.call(arguments,1);return function(){var A=E.slice();return A.push.apply(A,arguments),c.apply(this,A)}}function T(c,y){function E(){}E.prototype=y.prototype,c.Z=y.prototype,c.prototype=new E,c.prototype.constructor=c,c.Ob=function(A,z,G){for(var oe=Array(arguments.length-2),Ce=2;Ce<arguments.length;Ce++)oe[Ce-2]=arguments[Ce];return y.prototype[z].apply(A,oe)}}var w=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?c=>c&&AsyncContext.Snapshot.wrap(c):c=>c;function j(c){const y=c.length;if(y>0){const E=Array(y);for(let A=0;A<y;A++)E[A]=c[A];return E}return[]}function F(c,y){for(let A=1;A<arguments.length;A++){const z=arguments[A];var E=typeof z;if(E=E!="object"?E:z?Array.isArray(z)?"array":E:"null",E=="array"||E=="object"&&typeof z.length=="number"){E=c.length||0;const G=z.length||0;c.length=E+G;for(let oe=0;oe<G;oe++)c[E+oe]=z[oe]}else c.push(z)}}class K{constructor(y,E){this.i=y,this.j=E,this.h=0,this.g=null}get(){let y;return this.h>0?(this.h--,y=this.g,this.g=y.next,y.next=null):y=this.i(),y}}function k(c){f.setTimeout(()=>{throw c},0)}function X(){var c=R;let y=null;return c.g&&(y=c.g,c.g=c.g.next,c.g||(c.h=null),y.next=null),y}class ie{constructor(){this.h=this.g=null}add(y,E){const A=Z.get();A.set(y,E),this.h?this.h.next=A:this.g=A,this.h=A}}var Z=new K(()=>new ye,c=>c.reset());class ye{constructor(){this.next=this.g=this.h=null}set(y,E){this.h=y,this.g=E,this.next=null}reset(){this.next=this.g=this.h=null}}let Se,ae=!1,R=new ie,x=()=>{const c=Promise.resolve(void 0);Se=()=>{c.then(C)}};function C(){for(var c;c=X();){try{c.h.call(c.g)}catch(E){k(E)}var y=Z;y.j(c),y.h<100&&(y.h++,c.next=y.g,y.g=c)}ae=!1}function M(){this.u=this.u,this.C=this.C}M.prototype.u=!1,M.prototype.dispose=function(){this.u||(this.u=!0,this.N())},M.prototype[Symbol.dispose]=function(){this.dispose()},M.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function D(c,y){this.type=c,this.g=this.target=y,this.defaultPrevented=!1}D.prototype.h=function(){this.defaultPrevented=!0};var P=(function(){if(!f.addEventListener||!Object.defineProperty)return!1;var c=!1,y=Object.defineProperty({},"passive",{get:function(){c=!0}});try{const E=()=>{};f.addEventListener("test",E,y),f.removeEventListener("test",E,y)}catch{}return c})();function I(c){return/^[\s\xa0]*$/.test(c)}function $e(c,y){D.call(this,c?c.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,c&&this.init(c,y)}T($e,D),$e.prototype.init=function(c,y){const E=this.type=c.type,A=c.changedTouches&&c.changedTouches.length?c.changedTouches[0]:null;this.target=c.target||c.srcElement,this.g=y,y=c.relatedTarget,y||(E=="mouseover"?y=c.fromElement:E=="mouseout"&&(y=c.toElement)),this.relatedTarget=y,A?(this.clientX=A.clientX!==void 0?A.clientX:A.pageX,this.clientY=A.clientY!==void 0?A.clientY:A.pageY,this.screenX=A.screenX||0,this.screenY=A.screenY||0):(this.clientX=c.clientX!==void 0?c.clientX:c.pageX,this.clientY=c.clientY!==void 0?c.clientY:c.pageY,this.screenX=c.screenX||0,this.screenY=c.screenY||0),this.button=c.button,this.key=c.key||"",this.ctrlKey=c.ctrlKey,this.altKey=c.altKey,this.shiftKey=c.shiftKey,this.metaKey=c.metaKey,this.pointerId=c.pointerId||0,this.pointerType=c.pointerType,this.state=c.state,this.i=c,c.defaultPrevented&&$e.Z.h.call(this)},$e.prototype.h=function(){$e.Z.h.call(this);const c=this.i;c.preventDefault?c.preventDefault():c.returnValue=!1};var ut="closure_listenable_"+(Math.random()*1e6|0),Y=0;function J(c,y,E,A,z){this.listener=c,this.proxy=null,this.src=y,this.type=E,this.capture=!!A,this.ha=z,this.key=++Y,this.da=this.fa=!1}function se(c){c.da=!0,c.listener=null,c.proxy=null,c.src=null,c.ha=null}function de(c,y,E){for(const A in c)y.call(E,c[A],A,c)}function _e(c,y){for(const E in c)y.call(void 0,c[E],E,c)}function O(c){const y={};for(const E in c)y[E]=c[E];return y}const W="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function le(c,y){let E,A;for(let z=1;z<arguments.length;z++){A=arguments[z];for(E in A)c[E]=A[E];for(let G=0;G<W.length;G++)E=W[G],Object.prototype.hasOwnProperty.call(A,E)&&(c[E]=A[E])}}function ce(c){this.src=c,this.g={},this.h=0}ce.prototype.add=function(c,y,E,A,z){const G=c.toString();c=this.g[G],c||(c=this.g[G]=[],this.h++);const oe=we(c,y,A,z);return oe>-1?(y=c[oe],E||(y.fa=!1)):(y=new J(y,this.src,G,!!A,z),y.fa=E,c.push(y)),y};function Te(c,y){const E=y.type;if(E in c.g){var A=c.g[E],z=Array.prototype.indexOf.call(A,y,void 0),G;(G=z>=0)&&Array.prototype.splice.call(A,z,1),G&&(se(y),c.g[E].length==0&&(delete c.g[E],c.h--))}}function we(c,y,E,A){for(let z=0;z<c.length;++z){const G=c[z];if(!G.da&&G.listener==y&&G.capture==!!E&&G.ha==A)return z}return-1}var Ve="closure_lm_"+(Math.random()*1e6|0),qe={};function De(c,y,E,A,z){if(Array.isArray(y)){for(let G=0;G<y.length;G++)De(c,y[G],E,A,z);return null}return E=Oo(E),c&&c[ut]?c.J(y,E,m(A)?!!A.capture:!1,z):st(c,y,E,!1,A,z)}function st(c,y,E,A,z,G){if(!y)throw Error("Invalid event type");const oe=m(z)?!!z.capture:!!z;let Ce=vs(c);if(Ce||(c[Ve]=Ce=new ce(c)),E=Ce.add(y,E,A,oe,G),E.proxy)return E;if(A=Rn(),E.proxy=A,A.src=c,A.listener=E,c.addEventListener)P||(z=oe),z===void 0&&(z=!1),c.addEventListener(y.toString(),A,z);else if(c.attachEvent)c.attachEvent(ui(y.toString()),A);else if(c.addListener&&c.removeListener)c.addListener(A);else throw Error("addEventListener and attachEvent are unavailable.");return E}function Rn(){function c(E){return y.call(c.src,c.listener,E)}const y=No;return c}function ha(c,y,E,A,z){if(Array.isArray(y))for(var G=0;G<y.length;G++)ha(c,y[G],E,A,z);else A=m(A)?!!A.capture:!!A,E=Oo(E),c&&c[ut]?(c=c.i,G=String(y).toString(),G in c.g&&(y=c.g[G],E=we(y,E,A,z),E>-1&&(se(y[E]),Array.prototype.splice.call(y,E,1),y.length==0&&(delete c.g[G],c.h--)))):c&&(c=vs(c))&&(y=c.g[y.toString()],c=-1,y&&(c=we(y,E,A,z)),(E=c>-1?y[c]:null)&&fa(E))}function fa(c){if(typeof c!="number"&&c&&!c.da){var y=c.src;if(y&&y[ut])Te(y.i,c);else{var E=c.type,A=c.proxy;y.removeEventListener?y.removeEventListener(E,A,c.capture):y.detachEvent?y.detachEvent(ui(E),A):y.addListener&&y.removeListener&&y.removeListener(A),(E=vs(y))?(Te(E,c),E.h==0&&(E.src=null,y[Ve]=null)):se(c)}}}function ui(c){return c in qe?qe[c]:qe[c]="on"+c}function No(c,y){if(c.da)c=!0;else{y=new $e(y,this);const E=c.listener,A=c.ha||c.src;c.fa&&fa(c),c=E.call(A,y)}return c}function vs(c){return c=c[Ve],c instanceof ce?c:null}var Do="__closure_events_fn_"+(Math.random()*1e9>>>0);function Oo(c){return typeof c=="function"?c:(c[Do]||(c[Do]=function(y){return c.handleEvent(y)}),c[Do])}function Tt(){M.call(this),this.i=new ce(this),this.M=this,this.G=null}T(Tt,M),Tt.prototype[ut]=!0,Tt.prototype.removeEventListener=function(c,y,E,A){ha(this,c,y,E,A)};function Vt(c,y){var E,A=c.G;if(A)for(E=[];A;A=A.G)E.push(A);if(c=c.M,A=y.type||y,typeof y=="string")y=new D(y,c);else if(y instanceof D)y.target=y.target||c;else{var z=y;y=new D(A,c),le(y,z)}z=!0;let G,oe;if(E)for(oe=E.length-1;oe>=0;oe--)G=y.g=E[oe],z=pr(G,A,!0,y)&&z;if(G=y.g=c,z=pr(G,A,!0,y)&&z,z=pr(G,A,!1,y)&&z,E)for(oe=0;oe<E.length;oe++)G=y.g=E[oe],z=pr(G,A,!1,y)&&z}Tt.prototype.N=function(){if(Tt.Z.N.call(this),this.i){var c=this.i;for(const y in c.g){const E=c.g[y];for(let A=0;A<E.length;A++)se(E[A]);delete c.g[y],c.h--}}this.G=null},Tt.prototype.J=function(c,y,E,A){return this.i.add(String(c),y,!1,E,A)},Tt.prototype.K=function(c,y,E,A){return this.i.add(String(c),y,!0,E,A)};function pr(c,y,E,A){if(y=c.i.g[String(y)],!y)return!0;y=y.concat();let z=!0;for(let G=0;G<y.length;++G){const oe=y[G];if(oe&&!oe.da&&oe.capture==E){const Ce=oe.listener,_t=oe.ha||oe.src;oe.fa&&Te(c.i,oe),z=Ce.call(_t,A)!==!1&&z}}return z&&!A.defaultPrevented}function df(c,y){if(typeof c!="function")if(c&&typeof c.handleEvent=="function")c=g(c.handleEvent,c);else throw Error("Invalid listener argument");return Number(y)>2147483647?-1:f.setTimeout(c,y||0)}function Su(c){c.g=df(()=>{c.g=null,c.i&&(c.i=!1,Su(c))},c.l);const y=c.h;c.h=null,c.m.apply(null,y)}class nn extends M{constructor(y,E){super(),this.m=y,this.l=E,this.h=null,this.i=!1,this.g=null}j(y){this.h=arguments,this.g?this.i=!0:Su(this)}N(){super.N(),this.g&&(f.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Es(c){M.call(this),this.h=c,this.g={}}T(Es,M);var Mo=[];function Vo(c){de(c.g,function(y,E){this.g.hasOwnProperty(E)&&fa(y)},c),c.g={}}Es.prototype.N=function(){Es.Z.N.call(this),Vo(this)},Es.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var gr=f.JSON.stringify,mf=f.JSON.parse,Au=class{stringify(c){return f.JSON.stringify(c,void 0)}parse(c){return f.JSON.parse(c,void 0)}};function wu(){}function xu(){}var Kn={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function qt(){D.call(this,"d")}T(qt,D);function Cn(){D.call(this,"c")}T(Cn,D);var yt={},Ru=null;function da(){return Ru=Ru||new Tt}yt.Ia="serverreachability";function Cu(c){D.call(this,yt.Ia,c)}T(Cu,D);function ci(c){const y=da();Vt(y,new Cu(y))}yt.STAT_EVENT="statevent";function bs(c,y){D.call(this,yt.STAT_EVENT,c),this.stat=y}T(bs,D);function St(c){const y=da();Vt(y,new bs(y,c))}yt.Ja="timingevent";function hi(c,y){D.call(this,yt.Ja,c),this.size=y}T(hi,D);function fi(c,y){if(typeof c!="function")throw Error("Fn must not be null and must be a function");return f.setTimeout(function(){c()},y)}function Yn(){this.g=!0}Yn.prototype.ua=function(){this.g=!1};function pf(c,y,E,A,z,G){c.info(function(){if(c.g)if(G){var oe="",Ce=G.split("&");for(let Ge=0;Ge<Ce.length;Ge++){var _t=Ce[Ge].split("=");if(_t.length>1){const ct=_t[0];_t=_t[1];const On=ct.split("_");oe=On.length>=2&&On[1]=="type"?oe+(ct+"="+_t+"&"):oe+(ct+"=redacted&")}}}else oe=null;else oe=G;return"XMLHTTP REQ ("+A+") [attempt "+z+"]: "+y+`
`+E+`
`+oe})}function Iu(c,y,E,A,z,G,oe){c.info(function(){return"XMLHTTP RESP ("+A+") [ attempt "+z+"]: "+y+`
`+E+`
`+G+" "+oe})}function di(c,y,E,A){c.info(function(){return"XMLHTTP TEXT ("+y+"): "+gf(c,E)+(A?" "+A:"")})}function Ts(c,y){c.info(function(){return"TIMEOUT: "+y})}Yn.prototype.info=function(){};function gf(c,y){if(!c.g)return y;if(!y)return null;try{const G=JSON.parse(y);if(G){for(c=0;c<G.length;c++)if(Array.isArray(G[c])){var E=G[c];if(!(E.length<2)){var A=E[1];if(Array.isArray(A)&&!(A.length<1)){var z=A[0];if(z!="noop"&&z!="stop"&&z!="close")for(let oe=1;oe<A.length;oe++)A[oe]=""}}}}return gr(G)}catch{return y}}var Ss={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},jo={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},ko;function As(){}T(As,wu),As.prototype.g=function(){return new XMLHttpRequest},ko=new As;function zi(c){return encodeURIComponent(String(c))}function Nu(c){var y=1;c=c.split(":");const E=[];for(;y>0&&c.length;)E.push(c.shift()),y--;return c.length&&E.push(c.join(":")),E}function $n(c,y,E,A){this.j=c,this.i=y,this.l=E,this.S=A||1,this.V=new Es(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new Xn}function Xn(){this.i=null,this.g="",this.h=!1}var At={},Lt={};function mi(c,y,E){c.M=1,c.A=ws(xt(y)),c.u=E,c.R=!0,ma(c,null)}function ma(c,y){c.F=Date.now(),pi(c),c.B=xt(c.A);var E=c.B,A=c.S;Array.isArray(A)||(A=[String(A)]),_a(E.i,"t",A),c.C=0,E=c.j.L,c.h=new Xn,c.g=Gu(c.j,E?y:null,!c.u),c.P>0&&(c.O=new nn(g(c.Y,c,c.g),c.P)),y=c.V,E=c.g,A=c.ba;var z="readystatechange";Array.isArray(z)||(z&&(Mo[0]=z.toString()),z=Mo);for(let G=0;G<z.length;G++){const oe=De(E,z[G],A||y.handleEvent,!1,y.h||y);if(!oe)break;y.g[oe.key]=oe}y=c.J?O(c.J):{},c.u?(c.v||(c.v="POST"),y["Content-Type"]="application/x-www-form-urlencoded",c.g.ea(c.B,c.v,c.u,y)):(c.v="GET",c.g.ea(c.B,c.v,null,y)),ci(),pf(c.i,c.v,c.B,c.l,c.S,c.u)}$n.prototype.ba=function(c){c=c.target;const y=this.O;y&&Zn(c)==3?y.j():this.Y(c)},$n.prototype.Y=function(c){try{if(c==this.g)e:{const Ce=Zn(this.g),_t=this.g.ya(),Ge=this.g.ca();if(!(Ce<3)&&(Ce!=3||this.g&&(this.h.h||this.g.la()||Ht(this.g)))){this.K||Ce!=4||_t==7||(_t==8||Ge<=0?ci(3):ci(2)),gi(this);var y=this.g.ca();this.X=y;var E=yf(this);if(this.o=y==200,Iu(this.i,this.v,this.B,this.l,this.S,Ce,y),this.o){if(this.U&&!this.L){t:{if(this.g){var A,z=this.g;if((A=z.g?z.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!I(A)){var G=A;break t}}G=null}if(c=G)di(this.i,this.l,c,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,yi(this,c);else{this.o=!1,this.m=3,St(12),gn(this),In(this);break e}}if(this.R){c=!0;let ct;for(;!this.K&&this.C<E.length;)if(ct=Ou(this,E),ct==Lt){Ce==4&&(this.m=4,St(14),c=!1),di(this.i,this.l,null,"[Incomplete Response]");break}else if(ct==At){this.m=4,St(15),di(this.i,this.l,E,"[Invalid Chunk]"),c=!1;break}else di(this.i,this.l,ct,null),yi(this,ct);if(Du(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Ce!=4||E.length!=0||this.h.h||(this.m=1,St(16),c=!1),this.o=this.o&&c,!c)di(this.i,this.l,E,"[Invalid Chunked Response]"),gn(this),In(this);else if(E.length>0&&!this.W){this.W=!0;var oe=this.j;oe.g==this&&oe.aa&&!oe.P&&(oe.j.info("Great, no buffering proxy detected. Bytes received: "+E.length),Jo(oe),oe.P=!0,St(11))}}else di(this.i,this.l,E,null),yi(this,E);Ce==4&&gn(this),this.o&&!this.K&&(Ce==4?Bu(this.j,this):(this.o=!1,pi(this)))}else qi(this.g),y==400&&E.indexOf("Unknown SID")>0?(this.m=3,St(12)):(this.m=0,St(13)),gn(this),In(this)}}}catch{}finally{}};function yf(c){if(!Du(c))return c.g.la();const y=Ht(c.g);if(y==="")return"";let E="";const A=y.length,z=Zn(c.g)==4;if(!c.h.i){if(typeof TextDecoder>"u")return gn(c),In(c),"";c.h.i=new f.TextDecoder}for(let G=0;G<A;G++)c.h.h=!0,E+=c.h.i.decode(y[G],{stream:!(z&&G==A-1)});return y.length=0,c.h.g+=E,c.C=0,c.h.g}function Du(c){return c.g?c.v=="GET"&&c.M!=2&&c.j.Aa:!1}function Ou(c,y){var E=c.C,A=y.indexOf(`
`,E);return A==-1?Lt:(E=Number(y.substring(E,A)),isNaN(E)?At:(A+=1,A+E>y.length?Lt:(y=y.slice(A,A+E),c.C=A+E,y)))}$n.prototype.cancel=function(){this.K=!0,gn(this)};function pi(c){c.T=Date.now()+c.H,pa(c,c.H)}function pa(c,y){if(c.D!=null)throw Error("WatchDog timer not null");c.D=fi(g(c.aa,c),y)}function gi(c){c.D&&(f.clearTimeout(c.D),c.D=null)}$n.prototype.aa=function(){this.D=null;const c=Date.now();c-this.T>=0?(Ts(this.i,this.B),this.M!=2&&(ci(),St(17)),gn(this),this.m=2,In(this)):pa(this,this.T-c)};function In(c){c.j.I==0||c.K||Bu(c.j,c)}function gn(c){gi(c);var y=c.O;y&&typeof y.dispose=="function"&&y.dispose(),c.O=null,Vo(c.V),c.g&&(y=c.g,c.g=null,y.abort(),y.dispose())}function yi(c,y){try{var E=c.j;if(E.I!=0&&(E.g==c||vi(E.h,c))){if(!c.L&&vi(E.h,c)&&E.I==3){try{var A=E.Ba.g.parse(y)}catch{A=null}if(Array.isArray(A)&&A.length==3){var z=A;if(z[0]==0){e:if(!E.v){if(E.g)if(E.g.F+3e3<c.F)Sa(E),Ar(E);else break e;Os(E),St(18)}}else E.xa=z[1],0<E.xa-E.K&&z[2]<37500&&E.F&&E.A==0&&!E.C&&(E.C=fi(g(E.Va,E),6e3));_i(E.h)<=1&&E.ta&&(E.ta=void 0)}else wi(E,11)}else if((c.L||E.g==c)&&Sa(E),!I(y))for(z=E.Ba.g.parse(y),y=0;y<z.length;y++){let Ge=z[y];const ct=Ge[0];if(!(ct<=E.K))if(E.K=ct,Ge=Ge[1],E.I==2)if(Ge[0]=="c"){E.M=Ge[1],E.ba=Ge[2];const On=Ge[3];On!=null&&(E.ka=On,E.j.info("VER="+E.ka));const xi=Ge[4];xi!=null&&(E.za=xi,E.j.info("SVER="+E.za));const ei=Ge[5];ei!=null&&typeof ei=="number"&&ei>0&&(A=1.5*ei,E.O=A,E.j.info("backChannelRequestTimeoutMs_="+A)),A=E;const ti=c.g;if(ti){const Ms=ti.g?ti.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Ms){var G=A.h;G.g||Ms.indexOf("spdy")==-1&&Ms.indexOf("quic")==-1&&Ms.indexOf("h2")==-1||(G.j=G.l,G.g=new Set,G.h&&(Uo(G,G.h),G.h=null))}if(A.G){const Aa=ti.g?ti.g.getResponseHeader("X-HTTP-Session-Id"):null;Aa&&(A.wa=Aa,Xe(A.J,A.G,Aa))}}E.I=3,E.l&&E.l.ra(),E.aa&&(E.T=Date.now()-c.F,E.j.info("Handshake RTT: "+E.T+"ms")),A=E;var oe=c;if(A.na=Fu(A,A.L?A.ba:null,A.W),oe.L){zo(A.h,oe);var Ce=oe,_t=A.O;_t&&(Ce.H=_t),Ce.D&&(gi(Ce),pi(Ce)),A.g=oe}else Uu(A);E.i.length>0&&Ai(E)}else Ge[0]!="stop"&&Ge[0]!="close"||wi(E,7);else E.I==3&&(Ge[0]=="stop"||Ge[0]=="close"?Ge[0]=="stop"?wi(E,7):$o(E):Ge[0]!="noop"&&E.l&&E.l.qa(Ge),E.A=0)}}ci(4)}catch{}}var wt=class{constructor(c,y){this.g=c,this.map=y}};function Po(c){this.l=c||10,f.PerformanceNavigationTiming?(c=f.performance.getEntriesByType("navigation"),c=c.length>0&&(c[0].nextHopProtocol=="hq"||c[0].nextHopProtocol=="h2")):c=!!(f.chrome&&f.chrome.loadTimes&&f.chrome.loadTimes()&&f.chrome.loadTimes().wasFetchedViaSpdy),this.j=c?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function Lo(c){return c.h?!0:c.g?c.g.size>=c.j:!1}function _i(c){return c.h?1:c.g?c.g.size:0}function vi(c,y){return c.h?c.h==y:c.g?c.g.has(y):!1}function Uo(c,y){c.g?c.g.add(y):c.h=y}function zo(c,y){c.h&&c.h==y?c.h=null:c.g&&c.g.has(y)&&c.g.delete(y)}Po.prototype.cancel=function(){if(this.i=Bo(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const c of this.g.values())c.cancel();this.g.clear()}};function Bo(c){if(c.h!=null)return c.i.concat(c.h.G);if(c.g!=null&&c.g.size!==0){let y=c.i;for(const E of c.g.values())y=y.concat(E.G);return y}return j(c.i)}var Mu=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function ga(c,y){if(c){c=c.split("&");for(let E=0;E<c.length;E++){const A=c[E].indexOf("=");let z,G=null;A>=0?(z=c[E].substring(0,A),G=c[E].substring(A+1)):z=c[E],y(z,G?decodeURIComponent(G.replace(/\+/g," ")):"")}}}function yn(c){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let y;c instanceof yn?(this.l=c.l,Ut(this,c.j),this.o=c.o,this.g=c.g,yr(this,c.u),this.h=c.h,qo(this,Pu(c.i)),this.m=c.m):c&&(y=String(c).match(Mu))?(this.l=!1,Ut(this,y[1]||"",!0),this.o=Ei(y[2]||""),this.g=Ei(y[3]||"",!0),yr(this,y[4]),this.h=Ei(y[5]||"",!0),qo(this,y[6]||"",!0),this.m=Ei(y[7]||"")):(this.l=!1,this.i=new vr(null,this.l))}yn.prototype.toString=function(){const c=[];var y=this.j;y&&c.push(xs(y,ya,!0),":");var E=this.g;return(E||y=="file")&&(c.push("//"),(y=this.o)&&c.push(xs(y,ya,!0),"@"),c.push(zi(E).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),E=this.u,E!=null&&c.push(":",String(E))),(E=this.h)&&(this.g&&E.charAt(0)!="/"&&c.push("/"),c.push(xs(E,E.charAt(0)=="/"?Ho:Vu,!0))),(E=this.i.toString())&&c.push("?",E),(E=this.m)&&c.push("#",xs(E,ju)),c.join("")},yn.prototype.resolve=function(c){const y=xt(this);let E=!!c.j;E?Ut(y,c.j):E=!!c.o,E?y.o=c.o:E=!!c.g,E?y.g=c.g:E=c.u!=null;var A=c.h;if(E)yr(y,c.u);else if(E=!!c.h){if(A.charAt(0)!="/")if(this.g&&!this.h)A="/"+A;else{var z=y.h.lastIndexOf("/");z!=-1&&(A=y.h.slice(0,z+1)+A)}if(z=A,z==".."||z==".")A="";else if(z.indexOf("./")!=-1||z.indexOf("/.")!=-1){A=z.lastIndexOf("/",0)==0,z=z.split("/");const G=[];for(let oe=0;oe<z.length;){const Ce=z[oe++];Ce=="."?A&&oe==z.length&&G.push(""):Ce==".."?((G.length>1||G.length==1&&G[0]!="")&&G.pop(),A&&oe==z.length&&G.push("")):(G.push(Ce),A=!0)}A=G.join("/")}else A=z}return E?y.h=A:E=c.i.toString()!=="",E?qo(y,Pu(c.i)):E=!!c.m,E&&(y.m=c.m),y};function xt(c){return new yn(c)}function Ut(c,y,E){c.j=E?Ei(y,!0):y,c.j&&(c.j=c.j.replace(/:$/,""))}function yr(c,y){if(y){if(y=Number(y),isNaN(y)||y<0)throw Error("Bad port number "+y);c.u=y}else c.u=null}function qo(c,y,E){y instanceof vr?(c.i=y,va(c.i,c.l)):(E||(y=xs(y,_r)),c.i=new vr(y,c.l))}function Xe(c,y,E){c.i.set(y,E)}function ws(c){return Xe(c,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),c}function Ei(c,y){return c?y?decodeURI(c.replace(/%25/g,"%2525")):decodeURIComponent(c):""}function xs(c,y,E){return typeof c=="string"?(c=encodeURI(c).replace(y,an),E&&(c=c.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),c):null}function an(c){return c=c.charCodeAt(0),"%"+(c>>4&15).toString(16)+(c&15).toString(16)}var ya=/[#\/\?@]/g,Vu=/[#\?:]/g,Ho=/[#\?]/g,_r=/[#\?@]/g,ju=/#/g;function vr(c,y){this.h=this.g=null,this.i=c||null,this.j=!!y}function on(c){c.g||(c.g=new Map,c.h=0,c.i&&ga(c.i,function(y,E){c.add(decodeURIComponent(y.replace(/\+/g," ")),E)}))}r=vr.prototype,r.add=function(c,y){on(this),this.i=null,c=Er(this,c);let E=this.g.get(c);return E||this.g.set(c,E=[]),E.push(y),this.h+=1,this};function ku(c,y){on(c),y=Er(c,y),c.g.has(y)&&(c.i=null,c.h-=c.g.get(y).length,c.g.delete(y))}function Fo(c,y){return on(c),y=Er(c,y),c.g.has(y)}r.forEach=function(c,y){on(this),this.g.forEach(function(E,A){E.forEach(function(z){c.call(y,z,A,this)},this)},this)};function Go(c,y){on(c);let E=[];if(typeof y=="string")Fo(c,y)&&(E=E.concat(c.g.get(Er(c,y))));else for(c=Array.from(c.g.values()),y=0;y<c.length;y++)E=E.concat(c[y]);return E}r.set=function(c,y){return on(this),this.i=null,c=Er(this,c),Fo(this,c)&&(this.h-=this.g.get(c).length),this.g.set(c,[y]),this.h+=1,this},r.get=function(c,y){return c?(c=Go(this,c),c.length>0?String(c[0]):y):y};function _a(c,y,E){ku(c,y),E.length>0&&(c.i=null,c.g.set(Er(c,y),j(E)),c.h+=E.length)}r.toString=function(){if(this.i)return this.i;if(!this.g)return"";const c=[],y=Array.from(this.g.keys());for(let A=0;A<y.length;A++){var E=y[A];const z=zi(E);E=Go(this,E);for(let G=0;G<E.length;G++){let oe=z;E[G]!==""&&(oe+="="+zi(E[G])),c.push(oe)}}return this.i=c.join("&")};function Pu(c){const y=new vr;return y.i=c.i,c.g&&(y.g=new Map(c.g),y.h=c.h),y}function Er(c,y){return y=String(y),c.j&&(y=y.toLowerCase()),y}function va(c,y){y&&!c.j&&(on(c),c.i=null,c.g.forEach(function(E,A){const z=A.toLowerCase();A!=z&&(ku(this,A),_a(this,z,E))},c)),c.j=y}function Jn(c,y){const E=new Yn;if(f.Image){const A=new Image;A.onload=b(Nn,E,"TestLoadImage: loaded",!0,y,A),A.onerror=b(Nn,E,"TestLoadImage: error",!1,y,A),A.onabort=b(Nn,E,"TestLoadImage: abort",!1,y,A),A.ontimeout=b(Nn,E,"TestLoadImage: timeout",!1,y,A),f.setTimeout(function(){A.ontimeout&&A.ontimeout()},1e4),A.src=c}else y(!1)}function Qo(c,y){const E=new Yn,A=new AbortController,z=setTimeout(()=>{A.abort(),Nn(E,"TestPingServer: timeout",!1,y)},1e4);fetch(c,{signal:A.signal}).then(G=>{clearTimeout(z),G.ok?Nn(E,"TestPingServer: ok",!0,y):Nn(E,"TestPingServer: server error",!1,y)}).catch(()=>{clearTimeout(z),Nn(E,"TestPingServer: error",!1,y)})}function Nn(c,y,E,A,z){try{z&&(z.onload=null,z.onerror=null,z.onabort=null,z.ontimeout=null),A(E)}catch{}}function br(){this.g=new Au}function bi(c){this.i=c.Sb||null,this.h=c.ab||!1}T(bi,wu),bi.prototype.g=function(){return new Rs(this.i,this.h)};function Rs(c,y){Tt.call(this),this.H=c,this.o=y,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}T(Rs,Tt),r=Rs.prototype,r.open=function(c,y){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=c,this.D=y,this.readyState=1,Wn(this)},r.send=function(c){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const y={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};c&&(y.body=c),(this.H||f).fetch(new Request(this.D,y)).then(this.Pa.bind(this),this.ga.bind(this))},r.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,Tr(this)),this.readyState=0},r.Pa=function(c){if(this.g&&(this.l=c,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=c.headers,this.readyState=2,Wn(this)),this.g&&(this.readyState=3,Wn(this),this.g)))if(this.responseType==="arraybuffer")c.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof f.ReadableStream<"u"&&"body"in c){if(this.j=c.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;Ea(this)}else c.text().then(this.Oa.bind(this),this.ga.bind(this))};function Ea(c){c.j.read().then(c.Ma.bind(c)).catch(c.ga.bind(c))}r.Ma=function(c){if(this.g){if(this.o&&c.value)this.response.push(c.value);else if(!this.o){var y=c.value?c.value:new Uint8Array(0);(y=this.B.decode(y,{stream:!c.done}))&&(this.response=this.responseText+=y)}c.done?Tr(this):Wn(this),this.readyState==3&&Ea(this)}},r.Oa=function(c){this.g&&(this.response=this.responseText=c,Tr(this))},r.Na=function(c){this.g&&(this.response=c,Tr(this))},r.ga=function(){this.g&&Tr(this)};function Tr(c){c.readyState=4,c.l=null,c.j=null,c.B=null,Wn(c)}r.setRequestHeader=function(c,y){this.A.append(c,y)},r.getResponseHeader=function(c){return this.h&&this.h.get(c.toLowerCase())||""},r.getAllResponseHeaders=function(){if(!this.h)return"";const c=[],y=this.h.entries();for(var E=y.next();!E.done;)E=E.value,c.push(E[0]+": "+E[1]),E=y.next();return c.join(`\r
`)};function Wn(c){c.onreadystatechange&&c.onreadystatechange.call(c)}Object.defineProperty(Rs.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(c){this.m=c?"include":"same-origin"}});function Dn(c){let y="";return de(c,function(E,A){y+=A,y+=":",y+=E,y+=`\r
`}),y}function Cs(c,y,E){e:{for(A in E){var A=!1;break e}A=!0}A||(E=Dn(E),typeof c=="string"?E!=null&&zi(E):Xe(c,y,E))}function Ze(c){Tt.call(this),this.headers=new Map,this.L=c||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}T(Ze,Tt);var Ti=/^https?$/i,Ko=["POST","PUT"];r=Ze.prototype,r.Fa=function(c){this.H=c},r.ea=function(c,y,E,A){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+c);y=y?y.toUpperCase():"GET",this.D=c,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():ko.g(),this.g.onreadystatechange=w(g(this.Ca,this));try{this.B=!0,this.g.open(y,String(c),!0),this.B=!1}catch(G){Is(this,G);return}if(c=E||"",E=new Map(this.headers),A)if(Object.getPrototypeOf(A)===Object.prototype)for(var z in A)E.set(z,A[z]);else if(typeof A.keys=="function"&&typeof A.get=="function")for(const G of A.keys())E.set(G,A.get(G));else throw Error("Unknown input type for opt_headers: "+String(A));A=Array.from(E.keys()).find(G=>G.toLowerCase()=="content-type"),z=f.FormData&&c instanceof f.FormData,!(Array.prototype.indexOf.call(Ko,y,void 0)>=0)||A||z||E.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[G,oe]of E)this.g.setRequestHeader(G,oe);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(c),this.v=!1}catch(G){Is(this,G)}};function Is(c,y){c.h=!1,c.g&&(c.j=!0,c.g.abort(),c.j=!1),c.l=y,c.o=5,Yo(c),Bi(c)}function Yo(c){c.A||(c.A=!0,Vt(c,"complete"),Vt(c,"error"))}r.abort=function(c){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=c||7,Vt(this,"complete"),Vt(this,"abort"),Bi(this))},r.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Bi(this,!0)),Ze.Z.N.call(this)},r.Ca=function(){this.u||(this.B||this.v||this.j?Ns(this):this.Xa())},r.Xa=function(){Ns(this)};function Ns(c){if(c.h&&typeof u<"u"){if(c.v&&Zn(c)==4)setTimeout(c.Ca.bind(c),0);else if(Vt(c,"readystatechange"),Zn(c)==4){c.h=!1;try{const G=c.ca();e:switch(G){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var y=!0;break e;default:y=!1}var E;if(!(E=y)){var A;if(A=G===0){let oe=String(c.D).match(Mu)[1]||null;!oe&&f.self&&f.self.location&&(oe=f.self.location.protocol.slice(0,-1)),A=!Ti.test(oe?oe.toLowerCase():"")}E=A}if(E)Vt(c,"complete"),Vt(c,"success");else{c.o=6;try{var z=Zn(c)>2?c.g.statusText:""}catch{z=""}c.l=z+" ["+c.ca()+"]",Yo(c)}}finally{Bi(c)}}}}function Bi(c,y){if(c.g){c.m&&(clearTimeout(c.m),c.m=null);const E=c.g;c.g=null,y||Vt(c,"ready");try{E.onreadystatechange=null}catch{}}}r.isActive=function(){return!!this.g};function Zn(c){return c.g?c.g.readyState:0}r.ca=function(){try{return Zn(this)>2?this.g.status:-1}catch{return-1}},r.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},r.La=function(c){if(this.g){var y=this.g.responseText;return c&&y.indexOf(c)==0&&(y=y.substring(c.length)),mf(y)}};function Ht(c){try{if(!c.g)return null;if("response"in c.g)return c.g.response;switch(c.F){case"":case"text":return c.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in c.g)return c.g.mozResponseArrayBuffer}return null}catch{return null}}function qi(c){const y={};c=(c.g&&Zn(c)>=2&&c.g.getAllResponseHeaders()||"").split(`\r
`);for(let A=0;A<c.length;A++){if(I(c[A]))continue;var E=Nu(c[A]);const z=E[0];if(E=E[1],typeof E!="string")continue;E=E.trim();const G=y[z]||[];y[z]=G,G.push(E)}_e(y,function(A){return A.join(", ")})}r.ya=function(){return this.o},r.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function Si(c,y,E){return E&&E.internalChannelParams&&E.internalChannelParams[c]||y}function Sr(c){this.za=0,this.i=[],this.j=new Yn,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=Si("failFast",!1,c),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=Si("baseRetryDelayMs",5e3,c),this.Za=Si("retryDelaySeedMs",1e4,c),this.Ta=Si("forwardChannelMaxRetries",2,c),this.va=Si("forwardChannelRequestTimeoutMs",2e4,c),this.ma=c&&c.xmlHttpFactory||void 0,this.Ua=c&&c.Rb||void 0,this.Aa=c&&c.useFetchStreams||!1,this.O=void 0,this.L=c&&c.supportsCrossDomainXhr||!1,this.M="",this.h=new Po(c&&c.concurrentRequestLimit),this.Ba=new br,this.S=c&&c.fastHandshake||!1,this.R=c&&c.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=c&&c.Pb||!1,c&&c.ua&&this.j.ua(),c&&c.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&c&&c.detectBufferingProxy||!1,this.ia=void 0,c&&c.longPollingTimeout&&c.longPollingTimeout>0&&(this.ia=c.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}r=Sr.prototype,r.ka=8,r.I=1,r.connect=function(c,y,E,A){St(0),this.W=c,this.H=y||{},E&&A!==void 0&&(this.H.OSID=E,this.H.OAID=A),this.F=this.X,this.J=Fu(this,null,this.W),Ai(this)};function $o(c){if(ba(c),c.I==3){var y=c.V++,E=xt(c.J);if(Xe(E,"SID",c.M),Xe(E,"RID",y),Xe(E,"TYPE","terminate"),Ds(c,E),y=new $n(c,c.j,y),y.M=2,y.A=ws(xt(E)),E=!1,f.navigator&&f.navigator.sendBeacon)try{E=f.navigator.sendBeacon(y.A.toString(),"")}catch{}!E&&f.Image&&(new Image().src=y.A,E=!0),E||(y.g=Gu(y.j,null),y.g.ea(y.A)),y.F=Date.now(),pi(y)}Hu(c)}function Ar(c){c.g&&(Jo(c),c.g.cancel(),c.g=null)}function ba(c){Ar(c),c.v&&(f.clearTimeout(c.v),c.v=null),Sa(c),c.h.cancel(),c.m&&(typeof c.m=="number"&&f.clearTimeout(c.m),c.m=null)}function Ai(c){if(!Lo(c.h)&&!c.m){c.m=!0;var y=c.Ea;Se||x(),ae||(Se(),ae=!0),R.add(y,c),c.D=0}}function Ta(c,y){return _i(c.h)>=c.h.j-(c.m?1:0)?!1:c.m?(c.i=y.G.concat(c.i),!0):c.I==1||c.I==2||c.D>=(c.Sa?0:c.Ta)?!1:(c.m=fi(g(c.Ea,c,y),qu(c,c.D)),c.D++,!0)}r.Ea=function(c){if(this.m)if(this.m=null,this.I==1){if(!c){this.V=Math.floor(Math.random()*1e5),c=this.V++;const z=new $n(this,this.j,c);let G=this.o;if(this.U&&(G?(G=O(G),le(G,this.U)):G=this.U),this.u!==null||this.R||(z.J=G,G=null),this.S)e:{for(var y=0,E=0;E<this.i.length;E++){t:{var A=this.i[E];if("__data__"in A.map&&(A=A.map.__data__,typeof A=="string")){A=A.length;break t}A=void 0}if(A===void 0)break;if(y+=A,y>4096){y=E;break e}if(y===4096||E===this.i.length-1){y=E+1;break e}}y=1e3}else y=1e3;y=Lu(this,z,y),E=xt(this.J),Xe(E,"RID",c),Xe(E,"CVER",22),this.G&&Xe(E,"X-HTTP-Session-Id",this.G),Ds(this,E),G&&(this.R?y="headers="+zi(Dn(G))+"&"+y:this.u&&Cs(E,this.u,G)),Uo(this.h,z),this.Ra&&Xe(E,"TYPE","init"),this.S?(Xe(E,"$req",y),Xe(E,"SID","null"),z.U=!0,mi(z,E,null)):mi(z,E,y),this.I=2}}else this.I==3&&(c?Xo(this,c):this.i.length==0||Lo(this.h)||Xo(this))};function Xo(c,y){var E;y?E=y.l:E=c.V++;const A=xt(c.J);Xe(A,"SID",c.M),Xe(A,"RID",E),Xe(A,"AID",c.K),Ds(c,A),c.u&&c.o&&Cs(A,c.u,c.o),E=new $n(c,c.j,E,c.D+1),c.u===null&&(E.J=c.o),y&&(c.i=y.G.concat(c.i)),y=Lu(c,E,1e3),E.H=Math.round(c.va*.5)+Math.round(c.va*.5*Math.random()),Uo(c.h,E),mi(E,A,y)}function Ds(c,y){c.H&&de(c.H,function(E,A){Xe(y,A,E)}),c.l&&de({},function(E,A){Xe(y,A,E)})}function Lu(c,y,E){E=Math.min(c.i.length,E);const A=c.l?g(c.l.Ka,c.l,c):null;e:{var z=c.i;let Ce=-1;for(;;){const _t=["count="+E];Ce==-1?E>0?(Ce=z[0].g,_t.push("ofs="+Ce)):Ce=0:_t.push("ofs="+Ce);let Ge=!0;for(let ct=0;ct<E;ct++){var G=z[ct].g;const On=z[ct].map;if(G-=Ce,G<0)Ce=Math.max(0,z[ct].g-100),Ge=!1;else try{G="req"+G+"_"||"";try{var oe=On instanceof Map?On:Object.entries(On);for(const[xi,ei]of oe){let ti=ei;m(ei)&&(ti=gr(ei)),_t.push(G+xi+"="+encodeURIComponent(ti))}}catch(xi){throw _t.push(G+"type="+encodeURIComponent("_badmap")),xi}}catch{A&&A(On)}}if(Ge){oe=_t.join("&");break e}}oe=void 0}return c=c.i.splice(0,E),y.G=c,oe}function Uu(c){if(!c.g&&!c.v){c.Y=1;var y=c.Da;Se||x(),ae||(Se(),ae=!0),R.add(y,c),c.A=0}}function Os(c){return c.g||c.v||c.A>=3?!1:(c.Y++,c.v=fi(g(c.Da,c),qu(c,c.A)),c.A++,!0)}r.Da=function(){if(this.v=null,zu(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var c=4*this.T;this.j.info("BP detection timer enabled: "+c),this.B=fi(g(this.Wa,this),c)}},r.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,St(10),Ar(this),zu(this))};function Jo(c){c.B!=null&&(f.clearTimeout(c.B),c.B=null)}function zu(c){c.g=new $n(c,c.j,"rpc",c.Y),c.u===null&&(c.g.J=c.o),c.g.P=0;var y=xt(c.na);Xe(y,"RID","rpc"),Xe(y,"SID",c.M),Xe(y,"AID",c.K),Xe(y,"CI",c.F?"0":"1"),!c.F&&c.ia&&Xe(y,"TO",c.ia),Xe(y,"TYPE","xmlhttp"),Ds(c,y),c.u&&c.o&&Cs(y,c.u,c.o),c.O&&(c.g.H=c.O);var E=c.g;c=c.ba,E.M=1,E.A=ws(xt(y)),E.u=null,E.R=!0,ma(E,c)}r.Va=function(){this.C!=null&&(this.C=null,Ar(this),Os(this),St(19))};function Sa(c){c.C!=null&&(f.clearTimeout(c.C),c.C=null)}function Bu(c,y){var E=null;if(c.g==y){Sa(c),Jo(c),c.g=null;var A=2}else if(vi(c.h,y))E=y.G,zo(c.h,y),A=1;else return;if(c.I!=0){if(y.o)if(A==1){E=y.u?y.u.length:0,y=Date.now()-y.F;var z=c.D;A=da(),Vt(A,new hi(A,E)),Ai(c)}else Uu(c);else if(z=y.m,z==3||z==0&&y.X>0||!(A==1&&Ta(c,y)||A==2&&Os(c)))switch(E&&E.length>0&&(y=c.h,y.i=y.i.concat(E)),z){case 1:wi(c,5);break;case 4:wi(c,10);break;case 3:wi(c,6);break;default:wi(c,2)}}}function qu(c,y){let E=c.Qa+Math.floor(Math.random()*c.Za);return c.isActive()||(E*=2),E*y}function wi(c,y){if(c.j.info("Error code "+y),y==2){var E=g(c.bb,c),A=c.Ua;const z=!A;A=new yn(A||"//www.google.com/images/cleardot.gif"),f.location&&f.location.protocol=="http"||Ut(A,"https"),ws(A),z?Jn(A.toString(),E):Qo(A.toString(),E)}else St(2);c.I=0,c.l&&c.l.pa(y),Hu(c),ba(c)}r.bb=function(c){c?(this.j.info("Successfully pinged google.com"),St(2)):(this.j.info("Failed to ping google.com"),St(1))};function Hu(c){if(c.I=0,c.ja=[],c.l){const y=Bo(c.h);(y.length!=0||c.i.length!=0)&&(F(c.ja,y),F(c.ja,c.i),c.h.i.length=0,j(c.i),c.i.length=0),c.l.oa()}}function Fu(c,y,E){var A=E instanceof yn?xt(E):new yn(E);if(A.g!="")y&&(A.g=y+"."+A.g),yr(A,A.u);else{var z=f.location;A=z.protocol,y=y?y+"."+z.hostname:z.hostname,z=+z.port;const G=new yn(null);A&&Ut(G,A),y&&(G.g=y),z&&yr(G,z),E&&(G.h=E),A=G}return E=c.G,y=c.wa,E&&y&&Xe(A,E,y),Xe(A,"VER",c.ka),Ds(c,A),A}function Gu(c,y,E){if(y&&!c.L)throw Error("Can't create secondary domain capable XhrIo object.");return y=c.Aa&&!c.ma?new Ze(new bi({ab:E})):new Ze(c.ma),y.Fa(c.L),y}r.isActive=function(){return!!this.l&&this.l.isActive(this)};function Qu(){}r=Qu.prototype,r.ra=function(){},r.qa=function(){},r.pa=function(){},r.oa=function(){},r.isActive=function(){return!0},r.Ka=function(){};function wr(){}wr.prototype.g=function(c,y){return new rn(c,y)};function rn(c,y){Tt.call(this),this.g=new Sr(y),this.l=c,this.h=y&&y.messageUrlParams||null,c=y&&y.messageHeaders||null,y&&y.clientProtocolHeaderRequired&&(c?c["X-Client-Protocol"]="webchannel":c={"X-Client-Protocol":"webchannel"}),this.g.o=c,c=y&&y.initMessageHeaders||null,y&&y.messageContentType&&(c?c["X-WebChannel-Content-Type"]=y.messageContentType:c={"X-WebChannel-Content-Type":y.messageContentType}),y&&y.sa&&(c?c["X-WebChannel-Client-Profile"]=y.sa:c={"X-WebChannel-Client-Profile":y.sa}),this.g.U=c,(c=y&&y.Qb)&&!I(c)&&(this.g.u=c),this.A=y&&y.supportsCrossDomainXhr||!1,this.v=y&&y.sendRawJson||!1,(y=y&&y.httpSessionIdParam)&&!I(y)&&(this.g.G=y,c=this.h,c!==null&&y in c&&(c=this.h,y in c&&delete c[y])),this.j=new Hi(this)}T(rn,Tt),rn.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},rn.prototype.close=function(){$o(this.g)},rn.prototype.o=function(c){var y=this.g;if(typeof c=="string"){var E={};E.__data__=c,c=E}else this.v&&(E={},E.__data__=gr(c),c=E);y.i.push(new wt(y.Ya++,c)),y.I==3&&Ai(y)},rn.prototype.N=function(){this.g.l=null,delete this.j,$o(this.g),delete this.g,rn.Z.N.call(this)};function Ku(c){qt.call(this),c.__headers__&&(this.headers=c.__headers__,this.statusCode=c.__status__,delete c.__headers__,delete c.__status__);var y=c.__sm__;if(y){e:{for(const E in y){c=E;break e}c=void 0}(this.i=c)&&(c=this.i,y=y!==null&&c in y?y[c]:void 0),this.data=y}else this.data=c}T(Ku,qt);function Yu(){Cn.call(this),this.status=1}T(Yu,Cn);function Hi(c){this.g=c}T(Hi,Qu),Hi.prototype.ra=function(){Vt(this.g,"a")},Hi.prototype.qa=function(c){Vt(this.g,new Ku(c))},Hi.prototype.pa=function(c){Vt(this.g,new Yu)},Hi.prototype.oa=function(){Vt(this.g,"b")},wr.prototype.createWebChannel=wr.prototype.g,rn.prototype.send=rn.prototype.o,rn.prototype.open=rn.prototype.m,rn.prototype.close=rn.prototype.close,hb=function(){return new wr},cb=function(){return da()},ub=yt,Lm={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},Ss.NO_ERROR=0,Ss.TIMEOUT=8,Ss.HTTP_ERROR=6,lh=Ss,jo.COMPLETE="complete",lb=jo,xu.EventType=Kn,Kn.OPEN="a",Kn.CLOSE="b",Kn.ERROR="c",Kn.MESSAGE="d",Tt.prototype.listen=Tt.prototype.J,Bl=xu,Ze.prototype.listenOnce=Ze.prototype.K,Ze.prototype.getLastError=Ze.prototype.Ha,Ze.prototype.getLastErrorCode=Ze.prototype.ya,Ze.prototype.getStatus=Ze.prototype.ca,Ze.prototype.getResponseJson=Ze.prototype.La,Ze.prototype.getResponseText=Ze.prototype.la,Ze.prototype.send=Ze.prototype.ea,Ze.prototype.setWithCredentials=Ze.prototype.Fa,ob=Ze}).apply(typeof Zc<"u"?Zc:typeof self<"u"?self:typeof window<"u"?window:{});const l0="@firebase/firestore",u0="4.9.2";let Zt=class{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}};Zt.UNAUTHENTICATED=new Zt(null),Zt.GOOGLE_CREDENTIALS=new Zt("google-credentials-uid"),Zt.FIRST_PARTY=new Zt("first-party-uid"),Zt.MOCK_USER=new Zt("mock-user");let Ao="12.3.0";const ea=new vp("@firebase/firestore");function eo(){return ea.logLevel}function he(r,...e){if(ea.logLevel<=Pe.DEBUG){const n=e.map(Tp);ea.debug(`Firestore (${Ao}): ${r}`,...n)}}function hr(r,...e){if(ea.logLevel<=Pe.ERROR){const n=e.map(Tp);ea.error(`Firestore (${Ao}): ${r}`,...n)}}function fo(r,...e){if(ea.logLevel<=Pe.WARN){const n=e.map(Tp);ea.warn(`Firestore (${Ao}): ${r}`,...n)}}function Tp(r){if(typeof r=="string")return r;try{return(function(n){return JSON.stringify(n)})(r)}catch{return r}}function be(r,e,n){let s="Unexpected state";typeof e=="string"?s=e:n=e,fb(r,s,n)}function fb(r,e,n){let s=`FIRESTORE (${Ao}) INTERNAL ASSERTION FAILED: ${e} (ID: ${r.toString(16)})`;if(n!==void 0)try{s+=" CONTEXT: "+JSON.stringify(n)}catch{s+=" CONTEXT: "+n}throw hr(s),new Error(s)}function Ke(r,e,n,s){let o="Unexpected state";typeof n=="string"?o=n:s=n,r||fb(e,o,s)}function Re(r,e){return r}const te={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class ue extends mr{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class rs{constructor(){this.promise=new Promise(((e,n)=>{this.resolve=e,this.reject=n}))}}class db{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class R2{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable((()=>n(Zt.UNAUTHENTICATED)))}shutdown(){}}class C2{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable((()=>n(this.token.user)))}shutdown(){this.changeListener=null}}class I2{constructor(e){this.t=e,this.currentUser=Zt.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){Ke(this.o===void 0,42304);let s=this.i;const o=p=>this.i!==s?(s=this.i,n(p)):Promise.resolve();let u=new rs;this.o=()=>{this.i++,this.currentUser=this.u(),u.resolve(),u=new rs,e.enqueueRetryable((()=>o(this.currentUser)))};const f=()=>{const p=u;e.enqueueRetryable((async()=>{await p.promise,await o(this.currentUser)}))},m=p=>{he("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=p,this.o&&(this.auth.addAuthTokenListener(this.o),f())};this.t.onInit((p=>m(p))),setTimeout((()=>{if(!this.auth){const p=this.t.getImmediate({optional:!0});p?m(p):(he("FirebaseAuthCredentialsProvider","Auth not yet detected"),u.resolve(),u=new rs)}}),0),f()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((s=>this.i!==e?(he("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):s?(Ke(typeof s.accessToken=="string",31837,{l:s}),new db(s.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Ke(e===null||typeof e=="string",2055,{h:e}),new Zt(e)}}class N2{constructor(e,n,s){this.P=e,this.T=n,this.I=s,this.type="FirstParty",this.user=Zt.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class D2{constructor(e,n,s){this.P=e,this.T=n,this.I=s}getToken(){return Promise.resolve(new N2(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable((()=>n(Zt.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class c0{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class O2{constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,Bn(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){Ke(this.o===void 0,3512);const s=u=>{u.error!=null&&he("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${u.error.message}`);const f=u.token!==this.m;return this.m=u.token,he("FirebaseAppCheckTokenProvider",`Received ${f?"new":"existing"} token.`),f?n(u.token):Promise.resolve()};this.o=u=>{e.enqueueRetryable((()=>s(u)))};const o=u=>{he("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=u,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((u=>o(u))),setTimeout((()=>{if(!this.appCheck){const u=this.V.getImmediate({optional:!0});u?o(u):he("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new c0(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((n=>n?(Ke(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new c0(n.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}function M2(r){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(r);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let s=0;s<r;s++)n[s]=Math.floor(256*Math.random());return n}class Sp{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let s="";for(;s.length<20;){const o=M2(40);for(let u=0;u<o.length;++u)s.length<20&&o[u]<n&&(s+=e.charAt(o[u]%62))}return s}}function Le(r,e){return r<e?-1:r>e?1:0}function Um(r,e){const n=Math.min(r.length,e.length);for(let s=0;s<n;s++){const o=r.charAt(s),u=e.charAt(s);if(o!==u)return Am(o)===Am(u)?Le(o,u):Am(o)?1:-1}return Le(r.length,e.length)}const V2=55296,j2=57343;function Am(r){const e=r.charCodeAt(0);return e>=V2&&e<=j2}function mo(r,e,n){return r.length===e.length&&r.every(((s,o)=>n(s,e[o])))}const h0="__name__";class Di{constructor(e,n,s){n===void 0?n=0:n>e.length&&be(637,{offset:n,range:e.length}),s===void 0?s=e.length-n:s>e.length-n&&be(1746,{length:s,range:e.length-n}),this.segments=e,this.offset=n,this.len=s}get length(){return this.len}isEqual(e){return Di.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof Di?e.forEach((s=>{n.push(s)})):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,s=this.limit();n<s;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const s=Math.min(e.length,n.length);for(let o=0;o<s;o++){const u=Di.compareSegments(e.get(o),n.get(o));if(u!==0)return u}return Le(e.length,n.length)}static compareSegments(e,n){const s=Di.isNumericId(e),o=Di.isNumericId(n);return s&&!o?-1:!s&&o?1:s&&o?Di.extractNumericId(e).compare(Di.extractNumericId(n)):Um(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return is.fromString(e.substring(4,e.length-2))}}class rt extends Di{construct(e,n,s){return new rt(e,n,s)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const s of e){if(s.indexOf("//")>=0)throw new ue(te.INVALID_ARGUMENT,`Invalid segment (${s}). Paths must not contain // in them.`);n.push(...s.split("/").filter((o=>o.length>0)))}return new rt(n)}static emptyPath(){return new rt([])}}const k2=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class $t extends Di{construct(e,n,s){return new $t(e,n,s)}static isValidIdentifier(e){return k2.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),$t.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===h0}static keyField(){return new $t([h0])}static fromServerFormat(e){const n=[];let s="",o=0;const u=()=>{if(s.length===0)throw new ue(te.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(s),s=""};let f=!1;for(;o<e.length;){const m=e[o];if(m==="\\"){if(o+1===e.length)throw new ue(te.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const p=e[o+1];if(p!=="\\"&&p!=="."&&p!=="`")throw new ue(te.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);s+=p,o+=2}else m==="`"?(f=!f,o++):m!=="."||f?(s+=m,o++):(u(),o++)}if(u(),f)throw new ue(te.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new $t(n)}static emptyPath(){return new $t([])}}class ge{constructor(e){this.path=e}static fromPath(e){return new ge(rt.fromString(e))}static fromName(e){return new ge(rt.fromString(e).popFirst(5))}static empty(){return new ge(rt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&rt.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return rt.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new ge(new rt(e.slice()))}}function mb(r,e,n){if(!n)throw new ue(te.INVALID_ARGUMENT,`Function ${r}() cannot be called with an empty ${e}.`)}function P2(r,e,n,s){if(e===!0&&s===!0)throw new ue(te.INVALID_ARGUMENT,`${r} and ${n} cannot be used together.`)}function f0(r){if(!ge.isDocumentKey(r))throw new ue(te.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${r} has ${r.length}.`)}function d0(r){if(ge.isDocumentKey(r))throw new ue(te.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${r} has ${r.length}.`)}function pb(r){return typeof r=="object"&&r!==null&&(Object.getPrototypeOf(r)===Object.prototype||Object.getPrototypeOf(r)===null)}function Fh(r){if(r===void 0)return"undefined";if(r===null)return"null";if(typeof r=="string")return r.length>20&&(r=`${r.substring(0,20)}...`),JSON.stringify(r);if(typeof r=="number"||typeof r=="boolean")return""+r;if(typeof r=="object"){if(r instanceof Array)return"an array";{const e=(function(s){return s.constructor?s.constructor.name:null})(r);return e?`a custom ${e} object`:"an object"}}return typeof r=="function"?"a function":be(12329,{type:typeof r})}function Hn(r,e){if("_delegate"in r&&(r=r._delegate),!(r instanceof e)){if(e.name===r.constructor.name)throw new ue(te.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=Fh(r);throw new ue(te.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return r}function Mt(r,e){const n={typeString:r};return e&&(n.value=e),n}function du(r,e){if(!pb(r))throw new ue(te.INVALID_ARGUMENT,"JSON must be an object");let n;for(const s in e)if(e[s]){const o=e[s].typeString,u="value"in e[s]?{value:e[s].value}:void 0;if(!(s in r)){n=`JSON missing required field: '${s}'`;break}const f=r[s];if(o&&typeof f!==o){n=`JSON field '${s}' must be a ${o}.`;break}if(u!==void 0&&f!==u.value){n=`Expected '${s}' field to equal '${u.value}'`;break}}if(n)throw new ue(te.INVALID_ARGUMENT,n);return!0}const m0=-62135596800,p0=1e6;class lt{static now(){return lt.fromMillis(Date.now())}static fromDate(e){return lt.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),s=Math.floor((e-1e3*n)*p0);return new lt(n,s)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new ue(te.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new ue(te.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<m0)throw new ue(te.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new ue(te.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/p0}_compareTo(e){return this.seconds===e.seconds?Le(this.nanoseconds,e.nanoseconds):Le(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:lt._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(du(e,lt._jsonSchema))return new lt(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-m0;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}lt._jsonSchemaVersion="firestore/timestamp/1.0",lt._jsonSchema={type:Mt("string",lt._jsonSchemaVersion),seconds:Mt("number"),nanoseconds:Mt("number")};class Ae{static fromTimestamp(e){return new Ae(e)}static min(){return new Ae(new lt(0,0))}static max(){return new Ae(new lt(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}const Zl=-1;function L2(r,e){const n=r.toTimestamp().seconds,s=r.toTimestamp().nanoseconds+1,o=Ae.fromTimestamp(s===1e9?new lt(n+1,0):new lt(n,s));return new as(o,ge.empty(),e)}function U2(r){return new as(r.readTime,r.key,Zl)}class as{constructor(e,n,s){this.readTime=e,this.documentKey=n,this.largestBatchId=s}static min(){return new as(Ae.min(),ge.empty(),Zl)}static max(){return new as(Ae.max(),ge.empty(),Zl)}}function z2(r,e){let n=r.readTime.compareTo(e.readTime);return n!==0?n:(n=ge.comparator(r.documentKey,e.documentKey),n!==0?n:Le(r.largestBatchId,e.largestBatchId))}const B2="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class q2{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}async function wo(r){if(r.code!==te.FAILED_PRECONDITION||r.message!==B2)throw r;he("LocalStore","Unexpectedly lost primary lease")}class re{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)}),(n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)}))}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&be(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new re(((s,o)=>{this.nextCallback=u=>{this.wrapSuccess(e,u).next(s,o)},this.catchCallback=u=>{this.wrapFailure(n,u).next(s,o)}}))}toPromise(){return new Promise(((e,n)=>{this.next(e,n)}))}wrapUserFunction(e){try{const n=e();return n instanceof re?n:re.resolve(n)}catch(n){return re.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction((()=>e(n))):re.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction((()=>e(n))):re.reject(n)}static resolve(e){return new re(((n,s)=>{n(e)}))}static reject(e){return new re(((n,s)=>{s(e)}))}static waitFor(e){return new re(((n,s)=>{let o=0,u=0,f=!1;e.forEach((m=>{++o,m.next((()=>{++u,f&&u===o&&n()}),(p=>s(p)))})),f=!0,u===o&&n()}))}static or(e){let n=re.resolve(!1);for(const s of e)n=n.next((o=>o?re.resolve(o):s()));return n}static forEach(e,n){const s=[];return e.forEach(((o,u)=>{s.push(n.call(this,o,u))})),this.waitFor(s)}static mapArray(e,n){return new re(((s,o)=>{const u=e.length,f=new Array(u);let m=0;for(let p=0;p<u;p++){const g=p;n(e[g]).next((b=>{f[g]=b,++m,m===u&&s(f)}),(b=>o(b)))}}))}static doWhile(e,n){return new re(((s,o)=>{const u=()=>{e()===!0?n().next((()=>{u()}),o):s()};u()}))}}function H2(r){const e=r.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function xo(r){return r.name==="IndexedDbTransactionError"}class Gh{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=s=>this.ae(s),this.ue=s=>n.writeSequenceNumber(s))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}Gh.ce=-1;const Ap=-1;function Qh(r){return r==null}function Th(r){return r===0&&1/r==-1/0}function F2(r){return typeof r=="number"&&Number.isInteger(r)&&!Th(r)&&r<=Number.MAX_SAFE_INTEGER&&r>=Number.MIN_SAFE_INTEGER}const gb="";function G2(r){let e="";for(let n=0;n<r.length;n++)e.length>0&&(e=g0(e)),e=Q2(r.get(n),e);return g0(e)}function Q2(r,e){let n=e;const s=r.length;for(let o=0;o<s;o++){const u=r.charAt(o);switch(u){case"\0":n+="";break;case gb:n+="";break;default:n+=u}}return n}function g0(r){return r+gb+""}function y0(r){let e=0;for(const n in r)Object.prototype.hasOwnProperty.call(r,n)&&e++;return e}function ms(r,e){for(const n in r)Object.prototype.hasOwnProperty.call(r,n)&&e(n,r[n])}function yb(r){for(const e in r)if(Object.prototype.hasOwnProperty.call(r,e))return!1;return!0}class dt{constructor(e,n){this.comparator=e,this.root=n||Yt.EMPTY}insert(e,n){return new dt(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,Yt.BLACK,null,null))}remove(e){return new dt(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Yt.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const s=this.comparator(e,n.key);if(s===0)return n.value;s<0?n=n.left:s>0&&(n=n.right)}return null}indexOf(e){let n=0,s=this.root;for(;!s.isEmpty();){const o=this.comparator(e,s.key);if(o===0)return n+s.left.size;o<0?s=s.left:(n+=s.left.size+1,s=s.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((n,s)=>(e(n,s),!1)))}toString(){const e=[];return this.inorderTraversal(((n,s)=>(e.push(`${n}:${s}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new eh(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new eh(this.root,e,this.comparator,!1)}getReverseIterator(){return new eh(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new eh(this.root,e,this.comparator,!0)}}class eh{constructor(e,n,s,o){this.isReverse=o,this.nodeStack=[];let u=1;for(;!e.isEmpty();)if(u=n?s(e.key,n):1,n&&o&&(u*=-1),u<0)e=this.isReverse?e.left:e.right;else{if(u===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Yt{constructor(e,n,s,o,u){this.key=e,this.value=n,this.color=s??Yt.RED,this.left=o??Yt.EMPTY,this.right=u??Yt.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,s,o,u){return new Yt(e??this.key,n??this.value,s??this.color,o??this.left,u??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,s){let o=this;const u=s(e,o.key);return o=u<0?o.copy(null,null,null,o.left.insert(e,n,s),null):u===0?o.copy(null,n,null,null,null):o.copy(null,null,null,null,o.right.insert(e,n,s)),o.fixUp()}removeMin(){if(this.left.isEmpty())return Yt.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let s,o=this;if(n(e,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(e,n),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),n(e,o.key)===0){if(o.right.isEmpty())return Yt.EMPTY;s=o.right.min(),o=o.copy(s.key,s.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(e,n))}return o.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Yt.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Yt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw be(43730,{key:this.key,value:this.value});if(this.right.isRed())throw be(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw be(27949);return e+(this.isRed()?0:1)}}Yt.EMPTY=null,Yt.RED=!0,Yt.BLACK=!1;Yt.EMPTY=new class{constructor(){this.size=0}get key(){throw be(57766)}get value(){throw be(16141)}get color(){throw be(16727)}get left(){throw be(29726)}get right(){throw be(36894)}copy(e,n,s,o,u){return this}insert(e,n,s){return new Yt(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class kt{constructor(e){this.comparator=e,this.data=new dt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((n,s)=>(e(n),!1)))}forEachInRange(e,n){const s=this.data.getIteratorFrom(e[0]);for(;s.hasNext();){const o=s.getNext();if(this.comparator(o.key,e[1])>=0)return;n(o.key)}}forEachWhile(e,n){let s;for(s=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();s.hasNext();)if(!e(s.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new _0(this.data.getIterator())}getIteratorFrom(e){return new _0(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach((s=>{n=n.add(s)})),n}isEqual(e){if(!(e instanceof kt)||this.size!==e.size)return!1;const n=this.data.getIterator(),s=e.data.getIterator();for(;n.hasNext();){const o=n.getNext().key,u=s.getNext().key;if(this.comparator(o,u)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((n=>{e.push(n)})),e}toString(){const e=[];return this.forEach((n=>e.push(n))),"SortedSet("+e.toString()+")"}copy(e){const n=new kt(this.comparator);return n.data=e,n}}class _0{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class wn{constructor(e){this.fields=e,e.sort($t.comparator)}static empty(){return new wn([])}unionWith(e){let n=new kt($t.comparator);for(const s of this.fields)n=n.add(s);for(const s of e)n=n.add(s);return new wn(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return mo(this.fields,e.fields,((n,s)=>n.isEqual(s)))}}class _b extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class Xt{constructor(e){this.binaryString=e}static fromBase64String(e){const n=(function(o){try{return atob(o)}catch(u){throw typeof DOMException<"u"&&u instanceof DOMException?new _b("Invalid base64 string: "+u):u}})(e);return new Xt(n)}static fromUint8Array(e){const n=(function(o){let u="";for(let f=0;f<o.length;++f)u+=String.fromCharCode(o[f]);return u})(e);return new Xt(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(n){return btoa(n)})(this.binaryString)}toUint8Array(){return(function(n){const s=new Uint8Array(n.length);for(let o=0;o<n.length;o++)s[o]=n.charCodeAt(o);return s})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Le(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Xt.EMPTY_BYTE_STRING=new Xt("");const K2=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function os(r){if(Ke(!!r,39018),typeof r=="string"){let e=0;const n=K2.exec(r);if(Ke(!!n,46558,{timestamp:r}),n[1]){let o=n[1];o=(o+"000000000").substr(0,9),e=Number(o)}const s=new Date(r);return{seconds:Math.floor(s.getTime()/1e3),nanos:e}}return{seconds:bt(r.seconds),nanos:bt(r.nanos)}}function bt(r){return typeof r=="number"?r:typeof r=="string"?Number(r):0}function ls(r){return typeof r=="string"?Xt.fromBase64String(r):Xt.fromUint8Array(r)}const vb="server_timestamp",Eb="__type__",bb="__previous_value__",Tb="__local_write_time__";function wp(r){return(r?.mapValue?.fields||{})[Eb]?.stringValue===vb}function Kh(r){const e=r.mapValue.fields[bb];return wp(e)?Kh(e):e}function eu(r){const e=os(r.mapValue.fields[Tb].timestampValue);return new lt(e.seconds,e.nanos)}class Y2{constructor(e,n,s,o,u,f,m,p,g,b){this.databaseId=e,this.appId=n,this.persistenceKey=s,this.host=o,this.ssl=u,this.forceLongPolling=f,this.autoDetectLongPolling=m,this.longPollingOptions=p,this.useFetchStreams=g,this.isUsingEmulator=b}}const Sh="(default)";class tu{constructor(e,n){this.projectId=e,this.database=n||Sh}static empty(){return new tu("","")}get isDefaultDatabase(){return this.database===Sh}isEqual(e){return e instanceof tu&&e.projectId===this.projectId&&e.database===this.database}}const Sb="__type__",$2="__max__",th={mapValue:{}},Ab="__vector__",Ah="value";function us(r){return"nullValue"in r?0:"booleanValue"in r?1:"integerValue"in r||"doubleValue"in r?2:"timestampValue"in r?3:"stringValue"in r?5:"bytesValue"in r?6:"referenceValue"in r?7:"geoPointValue"in r?8:"arrayValue"in r?9:"mapValue"in r?wp(r)?4:J2(r)?9007199254740991:X2(r)?10:11:be(28295,{value:r})}function Li(r,e){if(r===e)return!0;const n=us(r);if(n!==us(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return r.booleanValue===e.booleanValue;case 4:return eu(r).isEqual(eu(e));case 3:return(function(o,u){if(typeof o.timestampValue=="string"&&typeof u.timestampValue=="string"&&o.timestampValue.length===u.timestampValue.length)return o.timestampValue===u.timestampValue;const f=os(o.timestampValue),m=os(u.timestampValue);return f.seconds===m.seconds&&f.nanos===m.nanos})(r,e);case 5:return r.stringValue===e.stringValue;case 6:return(function(o,u){return ls(o.bytesValue).isEqual(ls(u.bytesValue))})(r,e);case 7:return r.referenceValue===e.referenceValue;case 8:return(function(o,u){return bt(o.geoPointValue.latitude)===bt(u.geoPointValue.latitude)&&bt(o.geoPointValue.longitude)===bt(u.geoPointValue.longitude)})(r,e);case 2:return(function(o,u){if("integerValue"in o&&"integerValue"in u)return bt(o.integerValue)===bt(u.integerValue);if("doubleValue"in o&&"doubleValue"in u){const f=bt(o.doubleValue),m=bt(u.doubleValue);return f===m?Th(f)===Th(m):isNaN(f)&&isNaN(m)}return!1})(r,e);case 9:return mo(r.arrayValue.values||[],e.arrayValue.values||[],Li);case 10:case 11:return(function(o,u){const f=o.mapValue.fields||{},m=u.mapValue.fields||{};if(y0(f)!==y0(m))return!1;for(const p in f)if(f.hasOwnProperty(p)&&(m[p]===void 0||!Li(f[p],m[p])))return!1;return!0})(r,e);default:return be(52216,{left:r})}}function nu(r,e){return(r.values||[]).find((n=>Li(n,e)))!==void 0}function po(r,e){if(r===e)return 0;const n=us(r),s=us(e);if(n!==s)return Le(n,s);switch(n){case 0:case 9007199254740991:return 0;case 1:return Le(r.booleanValue,e.booleanValue);case 2:return(function(u,f){const m=bt(u.integerValue||u.doubleValue),p=bt(f.integerValue||f.doubleValue);return m<p?-1:m>p?1:m===p?0:isNaN(m)?isNaN(p)?0:-1:1})(r,e);case 3:return v0(r.timestampValue,e.timestampValue);case 4:return v0(eu(r),eu(e));case 5:return Um(r.stringValue,e.stringValue);case 6:return(function(u,f){const m=ls(u),p=ls(f);return m.compareTo(p)})(r.bytesValue,e.bytesValue);case 7:return(function(u,f){const m=u.split("/"),p=f.split("/");for(let g=0;g<m.length&&g<p.length;g++){const b=Le(m[g],p[g]);if(b!==0)return b}return Le(m.length,p.length)})(r.referenceValue,e.referenceValue);case 8:return(function(u,f){const m=Le(bt(u.latitude),bt(f.latitude));return m!==0?m:Le(bt(u.longitude),bt(f.longitude))})(r.geoPointValue,e.geoPointValue);case 9:return E0(r.arrayValue,e.arrayValue);case 10:return(function(u,f){const m=u.fields||{},p=f.fields||{},g=m[Ah]?.arrayValue,b=p[Ah]?.arrayValue,T=Le(g?.values?.length||0,b?.values?.length||0);return T!==0?T:E0(g,b)})(r.mapValue,e.mapValue);case 11:return(function(u,f){if(u===th.mapValue&&f===th.mapValue)return 0;if(u===th.mapValue)return 1;if(f===th.mapValue)return-1;const m=u.fields||{},p=Object.keys(m),g=f.fields||{},b=Object.keys(g);p.sort(),b.sort();for(let T=0;T<p.length&&T<b.length;++T){const w=Um(p[T],b[T]);if(w!==0)return w;const j=po(m[p[T]],g[b[T]]);if(j!==0)return j}return Le(p.length,b.length)})(r.mapValue,e.mapValue);default:throw be(23264,{he:n})}}function v0(r,e){if(typeof r=="string"&&typeof e=="string"&&r.length===e.length)return Le(r,e);const n=os(r),s=os(e),o=Le(n.seconds,s.seconds);return o!==0?o:Le(n.nanos,s.nanos)}function E0(r,e){const n=r.values||[],s=e.values||[];for(let o=0;o<n.length&&o<s.length;++o){const u=po(n[o],s[o]);if(u)return u}return Le(n.length,s.length)}function go(r){return zm(r)}function zm(r){return"nullValue"in r?"null":"booleanValue"in r?""+r.booleanValue:"integerValue"in r?""+r.integerValue:"doubleValue"in r?""+r.doubleValue:"timestampValue"in r?(function(n){const s=os(n);return`time(${s.seconds},${s.nanos})`})(r.timestampValue):"stringValue"in r?r.stringValue:"bytesValue"in r?(function(n){return ls(n).toBase64()})(r.bytesValue):"referenceValue"in r?(function(n){return ge.fromName(n).toString()})(r.referenceValue):"geoPointValue"in r?(function(n){return`geo(${n.latitude},${n.longitude})`})(r.geoPointValue):"arrayValue"in r?(function(n){let s="[",o=!0;for(const u of n.values||[])o?o=!1:s+=",",s+=zm(u);return s+"]"})(r.arrayValue):"mapValue"in r?(function(n){const s=Object.keys(n.fields||{}).sort();let o="{",u=!0;for(const f of s)u?u=!1:o+=",",o+=`${f}:${zm(n.fields[f])}`;return o+"}"})(r.mapValue):be(61005,{value:r})}function uh(r){switch(us(r)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=Kh(r);return e?16+uh(e):16;case 5:return 2*r.stringValue.length;case 6:return ls(r.bytesValue).approximateByteSize();case 7:return r.referenceValue.length;case 9:return(function(s){return(s.values||[]).reduce(((o,u)=>o+uh(u)),0)})(r.arrayValue);case 10:case 11:return(function(s){let o=0;return ms(s.fields,((u,f)=>{o+=u.length+uh(f)})),o})(r.mapValue);default:throw be(13486,{value:r})}}function b0(r,e){return{referenceValue:`projects/${r.projectId}/databases/${r.database}/documents/${e.path.canonicalString()}`}}function Bm(r){return!!r&&"integerValue"in r}function xp(r){return!!r&&"arrayValue"in r}function T0(r){return!!r&&"nullValue"in r}function S0(r){return!!r&&"doubleValue"in r&&isNaN(Number(r.doubleValue))}function ch(r){return!!r&&"mapValue"in r}function X2(r){return(r?.mapValue?.fields||{})[Sb]?.stringValue===Ab}function Ql(r){if(r.geoPointValue)return{geoPointValue:{...r.geoPointValue}};if(r.timestampValue&&typeof r.timestampValue=="object")return{timestampValue:{...r.timestampValue}};if(r.mapValue){const e={mapValue:{fields:{}}};return ms(r.mapValue.fields,((n,s)=>e.mapValue.fields[n]=Ql(s))),e}if(r.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(r.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=Ql(r.arrayValue.values[n]);return e}return{...r}}function J2(r){return(((r.mapValue||{}).fields||{}).__type__||{}).stringValue===$2}class pn{constructor(e){this.value=e}static empty(){return new pn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let s=0;s<e.length-1;++s)if(n=(n.mapValue.fields||{})[e.get(s)],!ch(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=Ql(n)}setAll(e){let n=$t.emptyPath(),s={},o=[];e.forEach(((f,m)=>{if(!n.isImmediateParentOf(m)){const p=this.getFieldsMap(n);this.applyChanges(p,s,o),s={},o=[],n=m.popLast()}f?s[m.lastSegment()]=Ql(f):o.push(m.lastSegment())}));const u=this.getFieldsMap(n);this.applyChanges(u,s,o)}delete(e){const n=this.field(e.popLast());ch(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return Li(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let s=0;s<e.length;++s){let o=n.mapValue.fields[e.get(s)];ch(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},n.mapValue.fields[e.get(s)]=o),n=o}return n.mapValue.fields}applyChanges(e,n,s){ms(n,((o,u)=>e[o]=u));for(const o of s)delete e[o]}clone(){return new pn(Ql(this.value))}}function wb(r){const e=[];return ms(r.fields,((n,s)=>{const o=new $t([n]);if(ch(s)){const u=wb(s.mapValue).fields;if(u.length===0)e.push(o);else for(const f of u)e.push(o.child(f))}else e.push(o)})),new wn(e)}class en{constructor(e,n,s,o,u,f,m){this.key=e,this.documentType=n,this.version=s,this.readTime=o,this.createTime=u,this.data=f,this.documentState=m}static newInvalidDocument(e){return new en(e,0,Ae.min(),Ae.min(),Ae.min(),pn.empty(),0)}static newFoundDocument(e,n,s,o){return new en(e,1,n,Ae.min(),s,o,0)}static newNoDocument(e,n){return new en(e,2,n,Ae.min(),Ae.min(),pn.empty(),0)}static newUnknownDocument(e,n){return new en(e,3,n,Ae.min(),Ae.min(),pn.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(Ae.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=pn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=pn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Ae.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof en&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new en(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class wh{constructor(e,n){this.position=e,this.inclusive=n}}function A0(r,e,n){let s=0;for(let o=0;o<r.position.length;o++){const u=e[o],f=r.position[o];if(u.field.isKeyField()?s=ge.comparator(ge.fromName(f.referenceValue),n.key):s=po(f,n.data.field(u.field)),u.dir==="desc"&&(s*=-1),s!==0)break}return s}function w0(r,e){if(r===null)return e===null;if(e===null||r.inclusive!==e.inclusive||r.position.length!==e.position.length)return!1;for(let n=0;n<r.position.length;n++)if(!Li(r.position[n],e.position[n]))return!1;return!0}class iu{constructor(e,n="asc"){this.field=e,this.dir=n}}function W2(r,e){return r.dir===e.dir&&r.field.isEqual(e.field)}class xb{}class Ot extends xb{constructor(e,n,s){super(),this.field=e,this.op=n,this.value=s}static create(e,n,s){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,s):new eR(e,n,s):n==="array-contains"?new iR(e,s):n==="in"?new rR(e,s):n==="not-in"?new sR(e,s):n==="array-contains-any"?new aR(e,s):new Ot(e,n,s)}static createKeyFieldInFilter(e,n,s){return n==="in"?new tR(e,s):new nR(e,s)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(po(n,this.value)):n!==null&&us(this.value)===us(n)&&this.matchesComparison(po(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return be(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class oi extends xb{constructor(e,n){super(),this.filters=e,this.op=n,this.Pe=null}static create(e,n){return new oi(e,n)}matches(e){return Rb(this)?this.filters.find((n=>!n.matches(e)))===void 0:this.filters.find((n=>n.matches(e)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((e,n)=>e.concat(n.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function Rb(r){return r.op==="and"}function Cb(r){return Z2(r)&&Rb(r)}function Z2(r){for(const e of r.filters)if(e instanceof oi)return!1;return!0}function qm(r){if(r instanceof Ot)return r.field.canonicalString()+r.op.toString()+go(r.value);if(Cb(r))return r.filters.map((e=>qm(e))).join(",");{const e=r.filters.map((n=>qm(n))).join(",");return`${r.op}(${e})`}}function Ib(r,e){return r instanceof Ot?(function(s,o){return o instanceof Ot&&s.op===o.op&&s.field.isEqual(o.field)&&Li(s.value,o.value)})(r,e):r instanceof oi?(function(s,o){return o instanceof oi&&s.op===o.op&&s.filters.length===o.filters.length?s.filters.reduce(((u,f,m)=>u&&Ib(f,o.filters[m])),!0):!1})(r,e):void be(19439)}function Nb(r){return r instanceof Ot?(function(n){return`${n.field.canonicalString()} ${n.op} ${go(n.value)}`})(r):r instanceof oi?(function(n){return n.op.toString()+" {"+n.getFilters().map(Nb).join(" ,")+"}"})(r):"Filter"}class eR extends Ot{constructor(e,n,s){super(e,n,s),this.key=ge.fromName(s.referenceValue)}matches(e){const n=ge.comparator(e.key,this.key);return this.matchesComparison(n)}}class tR extends Ot{constructor(e,n){super(e,"in",n),this.keys=Db("in",n)}matches(e){return this.keys.some((n=>n.isEqual(e.key)))}}class nR extends Ot{constructor(e,n){super(e,"not-in",n),this.keys=Db("not-in",n)}matches(e){return!this.keys.some((n=>n.isEqual(e.key)))}}function Db(r,e){return(e.arrayValue?.values||[]).map((n=>ge.fromName(n.referenceValue)))}class iR extends Ot{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return xp(n)&&nu(n.arrayValue,this.value)}}class rR extends Ot{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&nu(this.value.arrayValue,n)}}class sR extends Ot{constructor(e,n){super(e,"not-in",n)}matches(e){if(nu(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&n.nullValue===void 0&&!nu(this.value.arrayValue,n)}}class aR extends Ot{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!xp(n)||!n.arrayValue.values)&&n.arrayValue.values.some((s=>nu(this.value.arrayValue,s)))}}class oR{constructor(e,n=null,s=[],o=[],u=null,f=null,m=null){this.path=e,this.collectionGroup=n,this.orderBy=s,this.filters=o,this.limit=u,this.startAt=f,this.endAt=m,this.Te=null}}function x0(r,e=null,n=[],s=[],o=null,u=null,f=null){return new oR(r,e,n,s,o,u,f)}function Rp(r){const e=Re(r);if(e.Te===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map((s=>qm(s))).join(","),n+="|ob:",n+=e.orderBy.map((s=>(function(u){return u.field.canonicalString()+u.dir})(s))).join(","),Qh(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map((s=>go(s))).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map((s=>go(s))).join(",")),e.Te=n}return e.Te}function Cp(r,e){if(r.limit!==e.limit||r.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<r.orderBy.length;n++)if(!W2(r.orderBy[n],e.orderBy[n]))return!1;if(r.filters.length!==e.filters.length)return!1;for(let n=0;n<r.filters.length;n++)if(!Ib(r.filters[n],e.filters[n]))return!1;return r.collectionGroup===e.collectionGroup&&!!r.path.isEqual(e.path)&&!!w0(r.startAt,e.startAt)&&w0(r.endAt,e.endAt)}function Hm(r){return ge.isDocumentKey(r.path)&&r.collectionGroup===null&&r.filters.length===0}class Ro{constructor(e,n=null,s=[],o=[],u=null,f="F",m=null,p=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=s,this.filters=o,this.limit=u,this.limitType=f,this.startAt=m,this.endAt=p,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function lR(r,e,n,s,o,u,f,m){return new Ro(r,e,n,s,o,u,f,m)}function Yh(r){return new Ro(r)}function R0(r){return r.filters.length===0&&r.limit===null&&r.startAt==null&&r.endAt==null&&(r.explicitOrderBy.length===0||r.explicitOrderBy.length===1&&r.explicitOrderBy[0].field.isKeyField())}function Ob(r){return r.collectionGroup!==null}function Kl(r){const e=Re(r);if(e.Ie===null){e.Ie=[];const n=new Set;for(const u of e.explicitOrderBy)e.Ie.push(u),n.add(u.field.canonicalString());const s=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(f){let m=new kt($t.comparator);return f.filters.forEach((p=>{p.getFlattenedFilters().forEach((g=>{g.isInequality()&&(m=m.add(g.field))}))})),m})(e).forEach((u=>{n.has(u.canonicalString())||u.isKeyField()||e.Ie.push(new iu(u,s))})),n.has($t.keyField().canonicalString())||e.Ie.push(new iu($t.keyField(),s))}return e.Ie}function Oi(r){const e=Re(r);return e.Ee||(e.Ee=uR(e,Kl(r))),e.Ee}function uR(r,e){if(r.limitType==="F")return x0(r.path,r.collectionGroup,e,r.filters,r.limit,r.startAt,r.endAt);{e=e.map((o=>{const u=o.dir==="desc"?"asc":"desc";return new iu(o.field,u)}));const n=r.endAt?new wh(r.endAt.position,r.endAt.inclusive):null,s=r.startAt?new wh(r.startAt.position,r.startAt.inclusive):null;return x0(r.path,r.collectionGroup,e,r.filters,r.limit,n,s)}}function Fm(r,e){const n=r.filters.concat([e]);return new Ro(r.path,r.collectionGroup,r.explicitOrderBy.slice(),n,r.limit,r.limitType,r.startAt,r.endAt)}function Gm(r,e,n){return new Ro(r.path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),e,n,r.startAt,r.endAt)}function $h(r,e){return Cp(Oi(r),Oi(e))&&r.limitType===e.limitType}function Mb(r){return`${Rp(Oi(r))}|lt:${r.limitType}`}function to(r){return`Query(target=${(function(n){let s=n.path.canonicalString();return n.collectionGroup!==null&&(s+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(s+=`, filters: [${n.filters.map((o=>Nb(o))).join(", ")}]`),Qh(n.limit)||(s+=", limit: "+n.limit),n.orderBy.length>0&&(s+=`, orderBy: [${n.orderBy.map((o=>(function(f){return`${f.field.canonicalString()} (${f.dir})`})(o))).join(", ")}]`),n.startAt&&(s+=", startAt: ",s+=n.startAt.inclusive?"b:":"a:",s+=n.startAt.position.map((o=>go(o))).join(",")),n.endAt&&(s+=", endAt: ",s+=n.endAt.inclusive?"a:":"b:",s+=n.endAt.position.map((o=>go(o))).join(",")),`Target(${s})`})(Oi(r))}; limitType=${r.limitType})`}function Xh(r,e){return e.isFoundDocument()&&(function(s,o){const u=o.key.path;return s.collectionGroup!==null?o.key.hasCollectionId(s.collectionGroup)&&s.path.isPrefixOf(u):ge.isDocumentKey(s.path)?s.path.isEqual(u):s.path.isImmediateParentOf(u)})(r,e)&&(function(s,o){for(const u of Kl(s))if(!u.field.isKeyField()&&o.data.field(u.field)===null)return!1;return!0})(r,e)&&(function(s,o){for(const u of s.filters)if(!u.matches(o))return!1;return!0})(r,e)&&(function(s,o){return!(s.startAt&&!(function(f,m,p){const g=A0(f,m,p);return f.inclusive?g<=0:g<0})(s.startAt,Kl(s),o)||s.endAt&&!(function(f,m,p){const g=A0(f,m,p);return f.inclusive?g>=0:g>0})(s.endAt,Kl(s),o))})(r,e)}function cR(r){return r.collectionGroup||(r.path.length%2==1?r.path.lastSegment():r.path.get(r.path.length-2))}function Vb(r){return(e,n)=>{let s=!1;for(const o of Kl(r)){const u=hR(o,e,n);if(u!==0)return u;s=s||o.field.isKeyField()}return 0}}function hR(r,e,n){const s=r.field.isKeyField()?ge.comparator(e.key,n.key):(function(u,f,m){const p=f.data.field(u),g=m.data.field(u);return p!==null&&g!==null?po(p,g):be(42886)})(r.field,e,n);switch(r.dir){case"asc":return s;case"desc":return-1*s;default:return be(19790,{direction:r.dir})}}class oa{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),s=this.inner[n];if(s!==void 0){for(const[o,u]of s)if(this.equalsFn(o,e))return u}}has(e){return this.get(e)!==void 0}set(e,n){const s=this.mapKeyFn(e),o=this.inner[s];if(o===void 0)return this.inner[s]=[[e,n]],void this.innerSize++;for(let u=0;u<o.length;u++)if(this.equalsFn(o[u][0],e))return void(o[u]=[e,n]);o.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),s=this.inner[n];if(s===void 0)return!1;for(let o=0;o<s.length;o++)if(this.equalsFn(s[o][0],e))return s.length===1?delete this.inner[n]:s.splice(o,1),this.innerSize--,!0;return!1}forEach(e){ms(this.inner,((n,s)=>{for(const[o,u]of s)e(o,u)}))}isEmpty(){return yb(this.inner)}size(){return this.innerSize}}const fR=new dt(ge.comparator);function fr(){return fR}const jb=new dt(ge.comparator);function ql(...r){let e=jb;for(const n of r)e=e.insert(n.key,n);return e}function kb(r){let e=jb;return r.forEach(((n,s)=>e=e.insert(n,s.overlayedDocument))),e}function Xs(){return Yl()}function Pb(){return Yl()}function Yl(){return new oa((r=>r.toString()),((r,e)=>r.isEqual(e)))}const dR=new dt(ge.comparator),mR=new kt(ge.comparator);function Ue(...r){let e=mR;for(const n of r)e=e.add(n);return e}const pR=new kt(Le);function gR(){return pR}function Ip(r,e){if(r.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Th(e)?"-0":e}}function Lb(r){return{integerValue:""+r}}function yR(r,e){return F2(e)?Lb(e):Ip(r,e)}class Jh{constructor(){this._=void 0}}function _R(r,e,n){return r instanceof xh?(function(o,u){const f={fields:{[Eb]:{stringValue:vb},[Tb]:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return u&&wp(u)&&(u=Kh(u)),u&&(f.fields[bb]=u),{mapValue:f}})(n,e):r instanceof ru?zb(r,e):r instanceof su?Bb(r,e):(function(o,u){const f=Ub(o,u),m=C0(f)+C0(o.Ae);return Bm(f)&&Bm(o.Ae)?Lb(m):Ip(o.serializer,m)})(r,e)}function vR(r,e,n){return r instanceof ru?zb(r,e):r instanceof su?Bb(r,e):n}function Ub(r,e){return r instanceof Rh?(function(s){return Bm(s)||(function(u){return!!u&&"doubleValue"in u})(s)})(e)?e:{integerValue:0}:null}class xh extends Jh{}class ru extends Jh{constructor(e){super(),this.elements=e}}function zb(r,e){const n=qb(e);for(const s of r.elements)n.some((o=>Li(o,s)))||n.push(s);return{arrayValue:{values:n}}}class su extends Jh{constructor(e){super(),this.elements=e}}function Bb(r,e){let n=qb(e);for(const s of r.elements)n=n.filter((o=>!Li(o,s)));return{arrayValue:{values:n}}}class Rh extends Jh{constructor(e,n){super(),this.serializer=e,this.Ae=n}}function C0(r){return bt(r.integerValue||r.doubleValue)}function qb(r){return xp(r)&&r.arrayValue.values?r.arrayValue.values.slice():[]}function ER(r,e){return r.field.isEqual(e.field)&&(function(s,o){return s instanceof ru&&o instanceof ru||s instanceof su&&o instanceof su?mo(s.elements,o.elements,Li):s instanceof Rh&&o instanceof Rh?Li(s.Ae,o.Ae):s instanceof xh&&o instanceof xh})(r.transform,e.transform)}class bR{constructor(e,n){this.version=e,this.transformResults=n}}class Fn{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new Fn}static exists(e){return new Fn(void 0,e)}static updateTime(e){return new Fn(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function hh(r,e){return r.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(r.updateTime):r.exists===void 0||r.exists===e.isFoundDocument()}class Wh{}function Hb(r,e){if(!r.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return r.isNoDocument()?new Np(r.key,Fn.none()):new mu(r.key,r.data,Fn.none());{const n=r.data,s=pn.empty();let o=new kt($t.comparator);for(let u of e.fields)if(!o.has(u)){let f=n.field(u);f===null&&u.length>1&&(u=u.popLast(),f=n.field(u)),f===null?s.delete(u):s.set(u,f),o=o.add(u)}return new ps(r.key,s,new wn(o.toArray()),Fn.none())}}function TR(r,e,n){r instanceof mu?(function(o,u,f){const m=o.value.clone(),p=N0(o.fieldTransforms,u,f.transformResults);m.setAll(p),u.convertToFoundDocument(f.version,m).setHasCommittedMutations()})(r,e,n):r instanceof ps?(function(o,u,f){if(!hh(o.precondition,u))return void u.convertToUnknownDocument(f.version);const m=N0(o.fieldTransforms,u,f.transformResults),p=u.data;p.setAll(Fb(o)),p.setAll(m),u.convertToFoundDocument(f.version,p).setHasCommittedMutations()})(r,e,n):(function(o,u,f){u.convertToNoDocument(f.version).setHasCommittedMutations()})(0,e,n)}function $l(r,e,n,s){return r instanceof mu?(function(u,f,m,p){if(!hh(u.precondition,f))return m;const g=u.value.clone(),b=D0(u.fieldTransforms,p,f);return g.setAll(b),f.convertToFoundDocument(f.version,g).setHasLocalMutations(),null})(r,e,n,s):r instanceof ps?(function(u,f,m,p){if(!hh(u.precondition,f))return m;const g=D0(u.fieldTransforms,p,f),b=f.data;return b.setAll(Fb(u)),b.setAll(g),f.convertToFoundDocument(f.version,b).setHasLocalMutations(),m===null?null:m.unionWith(u.fieldMask.fields).unionWith(u.fieldTransforms.map((T=>T.field)))})(r,e,n,s):(function(u,f,m){return hh(u.precondition,f)?(f.convertToNoDocument(f.version).setHasLocalMutations(),null):m})(r,e,n)}function SR(r,e){let n=null;for(const s of r.fieldTransforms){const o=e.data.field(s.field),u=Ub(s.transform,o||null);u!=null&&(n===null&&(n=pn.empty()),n.set(s.field,u))}return n||null}function I0(r,e){return r.type===e.type&&!!r.key.isEqual(e.key)&&!!r.precondition.isEqual(e.precondition)&&!!(function(s,o){return s===void 0&&o===void 0||!(!s||!o)&&mo(s,o,((u,f)=>ER(u,f)))})(r.fieldTransforms,e.fieldTransforms)&&(r.type===0?r.value.isEqual(e.value):r.type!==1||r.data.isEqual(e.data)&&r.fieldMask.isEqual(e.fieldMask))}class mu extends Wh{constructor(e,n,s,o=[]){super(),this.key=e,this.value=n,this.precondition=s,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class ps extends Wh{constructor(e,n,s,o,u=[]){super(),this.key=e,this.data=n,this.fieldMask=s,this.precondition=o,this.fieldTransforms=u,this.type=1}getFieldMask(){return this.fieldMask}}function Fb(r){const e=new Map;return r.fieldMask.fields.forEach((n=>{if(!n.isEmpty()){const s=r.data.field(n);e.set(n,s)}})),e}function N0(r,e,n){const s=new Map;Ke(r.length===n.length,32656,{Re:n.length,Ve:r.length});for(let o=0;o<n.length;o++){const u=r[o],f=u.transform,m=e.data.field(u.field);s.set(u.field,vR(f,m,n[o]))}return s}function D0(r,e,n){const s=new Map;for(const o of r){const u=o.transform,f=n.data.field(o.field);s.set(o.field,_R(u,f,e))}return s}class Np extends Wh{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class AR extends Wh{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class wR{constructor(e,n,s,o){this.batchId=e,this.localWriteTime=n,this.baseMutations=s,this.mutations=o}applyToRemoteDocument(e,n){const s=n.mutationResults;for(let o=0;o<this.mutations.length;o++){const u=this.mutations[o];u.key.isEqual(e.key)&&TR(u,e,s[o])}}applyToLocalView(e,n){for(const s of this.baseMutations)s.key.isEqual(e.key)&&(n=$l(s,e,n,this.localWriteTime));for(const s of this.mutations)s.key.isEqual(e.key)&&(n=$l(s,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const s=Pb();return this.mutations.forEach((o=>{const u=e.get(o.key),f=u.overlayedDocument;let m=this.applyToLocalView(f,u.mutatedFields);m=n.has(o.key)?null:m;const p=Hb(f,m);p!==null&&s.set(o.key,p),f.isValidDocument()||f.convertToNoDocument(Ae.min())})),s}keys(){return this.mutations.reduce(((e,n)=>e.add(n.key)),Ue())}isEqual(e){return this.batchId===e.batchId&&mo(this.mutations,e.mutations,((n,s)=>I0(n,s)))&&mo(this.baseMutations,e.baseMutations,((n,s)=>I0(n,s)))}}class Dp{constructor(e,n,s,o){this.batch=e,this.commitVersion=n,this.mutationResults=s,this.docVersions=o}static from(e,n,s){Ke(e.mutations.length===s.length,58842,{me:e.mutations.length,fe:s.length});let o=(function(){return dR})();const u=e.mutations;for(let f=0;f<u.length;f++)o=o.insert(u[f].key,s[f].version);return new Dp(e,n,s,o)}}class xR{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}class RR{constructor(e,n){this.count=e,this.unchangedNames=n}}var Dt,Be;function CR(r){switch(r){case te.OK:return be(64938);case te.CANCELLED:case te.UNKNOWN:case te.DEADLINE_EXCEEDED:case te.RESOURCE_EXHAUSTED:case te.INTERNAL:case te.UNAVAILABLE:case te.UNAUTHENTICATED:return!1;case te.INVALID_ARGUMENT:case te.NOT_FOUND:case te.ALREADY_EXISTS:case te.PERMISSION_DENIED:case te.FAILED_PRECONDITION:case te.ABORTED:case te.OUT_OF_RANGE:case te.UNIMPLEMENTED:case te.DATA_LOSS:return!0;default:return be(15467,{code:r})}}function Gb(r){if(r===void 0)return hr("GRPC error has no .code"),te.UNKNOWN;switch(r){case Dt.OK:return te.OK;case Dt.CANCELLED:return te.CANCELLED;case Dt.UNKNOWN:return te.UNKNOWN;case Dt.DEADLINE_EXCEEDED:return te.DEADLINE_EXCEEDED;case Dt.RESOURCE_EXHAUSTED:return te.RESOURCE_EXHAUSTED;case Dt.INTERNAL:return te.INTERNAL;case Dt.UNAVAILABLE:return te.UNAVAILABLE;case Dt.UNAUTHENTICATED:return te.UNAUTHENTICATED;case Dt.INVALID_ARGUMENT:return te.INVALID_ARGUMENT;case Dt.NOT_FOUND:return te.NOT_FOUND;case Dt.ALREADY_EXISTS:return te.ALREADY_EXISTS;case Dt.PERMISSION_DENIED:return te.PERMISSION_DENIED;case Dt.FAILED_PRECONDITION:return te.FAILED_PRECONDITION;case Dt.ABORTED:return te.ABORTED;case Dt.OUT_OF_RANGE:return te.OUT_OF_RANGE;case Dt.UNIMPLEMENTED:return te.UNIMPLEMENTED;case Dt.DATA_LOSS:return te.DATA_LOSS;default:return be(39323,{code:r})}}(Be=Dt||(Dt={}))[Be.OK=0]="OK",Be[Be.CANCELLED=1]="CANCELLED",Be[Be.UNKNOWN=2]="UNKNOWN",Be[Be.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Be[Be.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Be[Be.NOT_FOUND=5]="NOT_FOUND",Be[Be.ALREADY_EXISTS=6]="ALREADY_EXISTS",Be[Be.PERMISSION_DENIED=7]="PERMISSION_DENIED",Be[Be.UNAUTHENTICATED=16]="UNAUTHENTICATED",Be[Be.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Be[Be.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Be[Be.ABORTED=10]="ABORTED",Be[Be.OUT_OF_RANGE=11]="OUT_OF_RANGE",Be[Be.UNIMPLEMENTED=12]="UNIMPLEMENTED",Be[Be.INTERNAL=13]="INTERNAL",Be[Be.UNAVAILABLE=14]="UNAVAILABLE",Be[Be.DATA_LOSS=15]="DATA_LOSS";function IR(){return new TextEncoder}const NR=new is([4294967295,4294967295],0);function O0(r){const e=IR().encode(r),n=new ab;return n.update(e),new Uint8Array(n.digest())}function M0(r){const e=new DataView(r.buffer),n=e.getUint32(0,!0),s=e.getUint32(4,!0),o=e.getUint32(8,!0),u=e.getUint32(12,!0);return[new is([n,s],0),new is([o,u],0)]}class Op{constructor(e,n,s){if(this.bitmap=e,this.padding=n,this.hashCount=s,n<0||n>=8)throw new Hl(`Invalid padding: ${n}`);if(s<0)throw new Hl(`Invalid hash count: ${s}`);if(e.length>0&&this.hashCount===0)throw new Hl(`Invalid hash count: ${s}`);if(e.length===0&&n!==0)throw new Hl(`Invalid padding when bitmap length is 0: ${n}`);this.ge=8*e.length-n,this.pe=is.fromNumber(this.ge)}ye(e,n,s){let o=e.add(n.multiply(is.fromNumber(s)));return o.compare(NR)===1&&(o=new is([o.getBits(0),o.getBits(1)],0)),o.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const n=O0(e),[s,o]=M0(n);for(let u=0;u<this.hashCount;u++){const f=this.ye(s,o,u);if(!this.we(f))return!1}return!0}static create(e,n,s){const o=e%8==0?0:8-e%8,u=new Uint8Array(Math.ceil(e/8)),f=new Op(u,o,n);return s.forEach((m=>f.insert(m))),f}insert(e){if(this.ge===0)return;const n=O0(e),[s,o]=M0(n);for(let u=0;u<this.hashCount;u++){const f=this.ye(s,o,u);this.Se(f)}}Se(e){const n=Math.floor(e/8),s=e%8;this.bitmap[n]|=1<<s}}class Hl extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class Zh{constructor(e,n,s,o,u){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=s,this.documentUpdates=o,this.resolvedLimboDocuments=u}static createSynthesizedRemoteEventForCurrentChange(e,n,s){const o=new Map;return o.set(e,pu.createSynthesizedTargetChangeForCurrentChange(e,n,s)),new Zh(Ae.min(),o,new dt(Le),fr(),Ue())}}class pu{constructor(e,n,s,o,u){this.resumeToken=e,this.current=n,this.addedDocuments=s,this.modifiedDocuments=o,this.removedDocuments=u}static createSynthesizedTargetChangeForCurrentChange(e,n,s){return new pu(s,n,Ue(),Ue(),Ue())}}class fh{constructor(e,n,s,o){this.be=e,this.removedTargetIds=n,this.key=s,this.De=o}}class Qb{constructor(e,n){this.targetId=e,this.Ce=n}}class Kb{constructor(e,n,s=Xt.EMPTY_BYTE_STRING,o=null){this.state=e,this.targetIds=n,this.resumeToken=s,this.cause=o}}class V0{constructor(){this.ve=0,this.Fe=j0(),this.Me=Xt.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=Ue(),n=Ue(),s=Ue();return this.Fe.forEach(((o,u)=>{switch(u){case 0:e=e.add(o);break;case 2:n=n.add(o);break;case 1:s=s.add(o);break;default:be(38017,{changeType:u})}})),new pu(this.Me,this.xe,e,n,s)}qe(){this.Oe=!1,this.Fe=j0()}Qe(e,n){this.Oe=!0,this.Fe=this.Fe.insert(e,n)}$e(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}Ue(){this.ve+=1}Ke(){this.ve-=1,Ke(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class DR{constructor(e){this.Ge=e,this.ze=new Map,this.je=fr(),this.Je=nh(),this.He=nh(),this.Ye=new dt(Le)}Ze(e){for(const n of e.be)e.De&&e.De.isFoundDocument()?this.Xe(n,e.De):this.et(n,e.key,e.De);for(const n of e.removedTargetIds)this.et(n,e.key,e.De)}tt(e){this.forEachTarget(e,(n=>{const s=this.nt(n);switch(e.state){case 0:this.rt(n)&&s.Le(e.resumeToken);break;case 1:s.Ke(),s.Ne||s.qe(),s.Le(e.resumeToken);break;case 2:s.Ke(),s.Ne||this.removeTarget(n);break;case 3:this.rt(n)&&(s.We(),s.Le(e.resumeToken));break;case 4:this.rt(n)&&(this.it(n),s.Le(e.resumeToken));break;default:be(56790,{state:e.state})}}))}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.ze.forEach(((s,o)=>{this.rt(o)&&n(o)}))}st(e){const n=e.targetId,s=e.Ce.count,o=this.ot(n);if(o){const u=o.target;if(Hm(u))if(s===0){const f=new ge(u.path);this.et(n,f,en.newNoDocument(f,Ae.min()))}else Ke(s===1,20013,{expectedCount:s});else{const f=this._t(n);if(f!==s){const m=this.ut(e),p=m?this.ct(m,e,f):1;if(p!==0){this.it(n);const g=p===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(n,g)}}}}}ut(e){const n=e.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:s="",padding:o=0},hashCount:u=0}=n;let f,m;try{f=ls(s).toUint8Array()}catch(p){if(p instanceof _b)return fo("Decoding the base64 bloom filter in existence filter failed ("+p.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw p}try{m=new Op(f,o,u)}catch(p){return fo(p instanceof Hl?"BloomFilter error: ":"Applying bloom filter failed: ",p),null}return m.ge===0?null:m}ct(e,n,s){return n.Ce.count===s-this.Pt(e,n.targetId)?0:2}Pt(e,n){const s=this.Ge.getRemoteKeysForTarget(n);let o=0;return s.forEach((u=>{const f=this.Ge.ht(),m=`projects/${f.projectId}/databases/${f.database}/documents/${u.path.canonicalString()}`;e.mightContain(m)||(this.et(n,u,null),o++)})),o}Tt(e){const n=new Map;this.ze.forEach(((u,f)=>{const m=this.ot(f);if(m){if(u.current&&Hm(m.target)){const p=new ge(m.target.path);this.It(p).has(f)||this.Et(f,p)||this.et(f,p,en.newNoDocument(p,e))}u.Be&&(n.set(f,u.ke()),u.qe())}}));let s=Ue();this.He.forEach(((u,f)=>{let m=!0;f.forEachWhile((p=>{const g=this.ot(p);return!g||g.purpose==="TargetPurposeLimboResolution"||(m=!1,!1)})),m&&(s=s.add(u))})),this.je.forEach(((u,f)=>f.setReadTime(e)));const o=new Zh(e,n,this.Ye,this.je,s);return this.je=fr(),this.Je=nh(),this.He=nh(),this.Ye=new dt(Le),o}Xe(e,n){if(!this.rt(e))return;const s=this.Et(e,n.key)?2:0;this.nt(e).Qe(n.key,s),this.je=this.je.insert(n.key,n),this.Je=this.Je.insert(n.key,this.It(n.key).add(e)),this.He=this.He.insert(n.key,this.dt(n.key).add(e))}et(e,n,s){if(!this.rt(e))return;const o=this.nt(e);this.Et(e,n)?o.Qe(n,1):o.$e(n),this.He=this.He.insert(n,this.dt(n).delete(e)),this.He=this.He.insert(n,this.dt(n).add(e)),s&&(this.je=this.je.insert(n,s))}removeTarget(e){this.ze.delete(e)}_t(e){const n=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Ue(e){this.nt(e).Ue()}nt(e){let n=this.ze.get(e);return n||(n=new V0,this.ze.set(e,n)),n}dt(e){let n=this.He.get(e);return n||(n=new kt(Le),this.He=this.He.insert(e,n)),n}It(e){let n=this.Je.get(e);return n||(n=new kt(Le),this.Je=this.Je.insert(e,n)),n}rt(e){const n=this.ot(e)!==null;return n||he("WatchChangeAggregator","Detected inactive target",e),n}ot(e){const n=this.ze.get(e);return n&&n.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new V0),this.Ge.getRemoteKeysForTarget(e).forEach((n=>{this.et(e,n,null)}))}Et(e,n){return this.Ge.getRemoteKeysForTarget(e).has(n)}}function nh(){return new dt(ge.comparator)}function j0(){return new dt(ge.comparator)}const OR={asc:"ASCENDING",desc:"DESCENDING"},MR={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},VR={and:"AND",or:"OR"};class jR{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function Qm(r,e){return r.useProto3Json||Qh(e)?e:{value:e}}function Ch(r,e){return r.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function Yb(r,e){return r.useProto3Json?e.toBase64():e.toUint8Array()}function kR(r,e){return Ch(r,e.toTimestamp())}function Mi(r){return Ke(!!r,49232),Ae.fromTimestamp((function(n){const s=os(n);return new lt(s.seconds,s.nanos)})(r))}function Mp(r,e){return Km(r,e).canonicalString()}function Km(r,e){const n=(function(o){return new rt(["projects",o.projectId,"databases",o.database])})(r).child("documents");return e===void 0?n:n.child(e)}function $b(r){const e=rt.fromString(r);return Ke(eT(e),10190,{key:e.toString()}),e}function Ym(r,e){return Mp(r.databaseId,e.path)}function wm(r,e){const n=$b(e);if(n.get(1)!==r.databaseId.projectId)throw new ue(te.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+r.databaseId.projectId);if(n.get(3)!==r.databaseId.database)throw new ue(te.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+r.databaseId.database);return new ge(Jb(n))}function Xb(r,e){return Mp(r.databaseId,e)}function PR(r){const e=$b(r);return e.length===4?rt.emptyPath():Jb(e)}function $m(r){return new rt(["projects",r.databaseId.projectId,"databases",r.databaseId.database]).canonicalString()}function Jb(r){return Ke(r.length>4&&r.get(4)==="documents",29091,{key:r.toString()}),r.popFirst(5)}function k0(r,e,n){return{name:Ym(r,e),fields:n.value.mapValue.fields}}function LR(r,e){let n;if("targetChange"in e){e.targetChange;const s=(function(g){return g==="NO_CHANGE"?0:g==="ADD"?1:g==="REMOVE"?2:g==="CURRENT"?3:g==="RESET"?4:be(39313,{state:g})})(e.targetChange.targetChangeType||"NO_CHANGE"),o=e.targetChange.targetIds||[],u=(function(g,b){return g.useProto3Json?(Ke(b===void 0||typeof b=="string",58123),Xt.fromBase64String(b||"")):(Ke(b===void 0||b instanceof Buffer||b instanceof Uint8Array,16193),Xt.fromUint8Array(b||new Uint8Array))})(r,e.targetChange.resumeToken),f=e.targetChange.cause,m=f&&(function(g){const b=g.code===void 0?te.UNKNOWN:Gb(g.code);return new ue(b,g.message||"")})(f);n=new Kb(s,o,u,m||null)}else if("documentChange"in e){e.documentChange;const s=e.documentChange;s.document,s.document.name,s.document.updateTime;const o=wm(r,s.document.name),u=Mi(s.document.updateTime),f=s.document.createTime?Mi(s.document.createTime):Ae.min(),m=new pn({mapValue:{fields:s.document.fields}}),p=en.newFoundDocument(o,u,f,m),g=s.targetIds||[],b=s.removedTargetIds||[];n=new fh(g,b,p.key,p)}else if("documentDelete"in e){e.documentDelete;const s=e.documentDelete;s.document;const o=wm(r,s.document),u=s.readTime?Mi(s.readTime):Ae.min(),f=en.newNoDocument(o,u),m=s.removedTargetIds||[];n=new fh([],m,f.key,f)}else if("documentRemove"in e){e.documentRemove;const s=e.documentRemove;s.document;const o=wm(r,s.document),u=s.removedTargetIds||[];n=new fh([],u,o,null)}else{if(!("filter"in e))return be(11601,{Rt:e});{e.filter;const s=e.filter;s.targetId;const{count:o=0,unchangedNames:u}=s,f=new RR(o,u),m=s.targetId;n=new Qb(m,f)}}return n}function UR(r,e){let n;if(e instanceof mu)n={update:k0(r,e.key,e.value)};else if(e instanceof Np)n={delete:Ym(r,e.key)};else if(e instanceof ps)n={update:k0(r,e.key,e.data),updateMask:YR(e.fieldMask)};else{if(!(e instanceof AR))return be(16599,{Vt:e.type});n={verify:Ym(r,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map((s=>(function(u,f){const m=f.transform;if(m instanceof xh)return{fieldPath:f.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(m instanceof ru)return{fieldPath:f.field.canonicalString(),appendMissingElements:{values:m.elements}};if(m instanceof su)return{fieldPath:f.field.canonicalString(),removeAllFromArray:{values:m.elements}};if(m instanceof Rh)return{fieldPath:f.field.canonicalString(),increment:m.Ae};throw be(20930,{transform:f.transform})})(0,s)))),e.precondition.isNone||(n.currentDocument=(function(o,u){return u.updateTime!==void 0?{updateTime:kR(o,u.updateTime)}:u.exists!==void 0?{exists:u.exists}:be(27497)})(r,e.precondition)),n}function zR(r,e){return r&&r.length>0?(Ke(e!==void 0,14353),r.map((n=>(function(o,u){let f=o.updateTime?Mi(o.updateTime):Mi(u);return f.isEqual(Ae.min())&&(f=Mi(u)),new bR(f,o.transformResults||[])})(n,e)))):[]}function BR(r,e){return{documents:[Xb(r,e.path)]}}function qR(r,e){const n={structuredQuery:{}},s=e.path;let o;e.collectionGroup!==null?(o=s,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(o=s.popLast(),n.structuredQuery.from=[{collectionId:s.lastSegment()}]),n.parent=Xb(r,o);const u=(function(g){if(g.length!==0)return Zb(oi.create(g,"and"))})(e.filters);u&&(n.structuredQuery.where=u);const f=(function(g){if(g.length!==0)return g.map((b=>(function(w){return{field:no(w.field),direction:GR(w.dir)}})(b)))})(e.orderBy);f&&(n.structuredQuery.orderBy=f);const m=Qm(r,e.limit);return m!==null&&(n.structuredQuery.limit=m),e.startAt&&(n.structuredQuery.startAt=(function(g){return{before:g.inclusive,values:g.position}})(e.startAt)),e.endAt&&(n.structuredQuery.endAt=(function(g){return{before:!g.inclusive,values:g.position}})(e.endAt)),{ft:n,parent:o}}function HR(r){let e=PR(r.parent);const n=r.structuredQuery,s=n.from?n.from.length:0;let o=null;if(s>0){Ke(s===1,65062);const b=n.from[0];b.allDescendants?o=b.collectionId:e=e.child(b.collectionId)}let u=[];n.where&&(u=(function(T){const w=Wb(T);return w instanceof oi&&Cb(w)?w.getFilters():[w]})(n.where));let f=[];n.orderBy&&(f=(function(T){return T.map((w=>(function(F){return new iu(io(F.field),(function(k){switch(k){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(F.direction))})(w)))})(n.orderBy));let m=null;n.limit&&(m=(function(T){let w;return w=typeof T=="object"?T.value:T,Qh(w)?null:w})(n.limit));let p=null;n.startAt&&(p=(function(T){const w=!!T.before,j=T.values||[];return new wh(j,w)})(n.startAt));let g=null;return n.endAt&&(g=(function(T){const w=!T.before,j=T.values||[];return new wh(j,w)})(n.endAt)),lR(e,o,f,u,m,"F",p,g)}function FR(r,e){const n=(function(o){switch(o){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return be(28987,{purpose:o})}})(e.purpose);return n==null?null:{"goog-listen-tags":n}}function Wb(r){return r.unaryFilter!==void 0?(function(n){switch(n.unaryFilter.op){case"IS_NAN":const s=io(n.unaryFilter.field);return Ot.create(s,"==",{doubleValue:NaN});case"IS_NULL":const o=io(n.unaryFilter.field);return Ot.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const u=io(n.unaryFilter.field);return Ot.create(u,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const f=io(n.unaryFilter.field);return Ot.create(f,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return be(61313);default:return be(60726)}})(r):r.fieldFilter!==void 0?(function(n){return Ot.create(io(n.fieldFilter.field),(function(o){switch(o){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return be(58110);default:return be(50506)}})(n.fieldFilter.op),n.fieldFilter.value)})(r):r.compositeFilter!==void 0?(function(n){return oi.create(n.compositeFilter.filters.map((s=>Wb(s))),(function(o){switch(o){case"AND":return"and";case"OR":return"or";default:return be(1026)}})(n.compositeFilter.op))})(r):be(30097,{filter:r})}function GR(r){return OR[r]}function QR(r){return MR[r]}function KR(r){return VR[r]}function no(r){return{fieldPath:r.canonicalString()}}function io(r){return $t.fromServerFormat(r.fieldPath)}function Zb(r){return r instanceof Ot?(function(n){if(n.op==="=="){if(S0(n.value))return{unaryFilter:{field:no(n.field),op:"IS_NAN"}};if(T0(n.value))return{unaryFilter:{field:no(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(S0(n.value))return{unaryFilter:{field:no(n.field),op:"IS_NOT_NAN"}};if(T0(n.value))return{unaryFilter:{field:no(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:no(n.field),op:QR(n.op),value:n.value}}})(r):r instanceof oi?(function(n){const s=n.getFilters().map((o=>Zb(o)));return s.length===1?s[0]:{compositeFilter:{op:KR(n.op),filters:s}}})(r):be(54877,{filter:r})}function YR(r){const e=[];return r.fields.forEach((n=>e.push(n.canonicalString()))),{fieldPaths:e}}function eT(r){return r.length>=4&&r.get(0)==="projects"&&r.get(2)==="databases"}class Zr{constructor(e,n,s,o,u=Ae.min(),f=Ae.min(),m=Xt.EMPTY_BYTE_STRING,p=null){this.target=e,this.targetId=n,this.purpose=s,this.sequenceNumber=o,this.snapshotVersion=u,this.lastLimboFreeSnapshotVersion=f,this.resumeToken=m,this.expectedCount=p}withSequenceNumber(e){return new Zr(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new Zr(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Zr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Zr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class $R{constructor(e){this.yt=e}}function XR(r){const e=HR({parent:r.parent,structuredQuery:r.structuredQuery});return r.limitType==="LAST"?Gm(e,e.limit,"L"):e}class JR{constructor(){this.Cn=new WR}addToCollectionParentIndex(e,n){return this.Cn.add(n),re.resolve()}getCollectionParents(e,n){return re.resolve(this.Cn.getEntries(n))}addFieldIndex(e,n){return re.resolve()}deleteFieldIndex(e,n){return re.resolve()}deleteAllFieldIndexes(e){return re.resolve()}createTargetIndexes(e,n){return re.resolve()}getDocumentsMatchingTarget(e,n){return re.resolve(null)}getIndexType(e,n){return re.resolve(0)}getFieldIndexes(e,n){return re.resolve([])}getNextCollectionGroupToUpdate(e){return re.resolve(null)}getMinOffset(e,n){return re.resolve(as.min())}getMinOffsetFromCollectionGroup(e,n){return re.resolve(as.min())}updateCollectionGroup(e,n,s){return re.resolve()}updateIndexEntries(e,n){return re.resolve()}}class WR{constructor(){this.index={}}add(e){const n=e.lastSegment(),s=e.popLast(),o=this.index[n]||new kt(rt.comparator),u=!o.has(s);return this.index[n]=o.add(s),u}has(e){const n=e.lastSegment(),s=e.popLast(),o=this.index[n];return o&&o.has(s)}getEntries(e){return(this.index[e]||new kt(rt.comparator)).toArray()}}const P0={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},tT=41943040;class mn{static withCacheSize(e){return new mn(e,mn.DEFAULT_COLLECTION_PERCENTILE,mn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,s){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=s}}mn.DEFAULT_COLLECTION_PERCENTILE=10,mn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,mn.DEFAULT=new mn(tT,mn.DEFAULT_COLLECTION_PERCENTILE,mn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),mn.DISABLED=new mn(-1,0,0);class yo{constructor(e){this.ar=e}next(){return this.ar+=2,this.ar}static ur(){return new yo(0)}static cr(){return new yo(-1)}}const L0="LruGarbageCollector",ZR=1048576;function U0([r,e],[n,s]){const o=Le(r,n);return o===0?Le(e,s):o}class eC{constructor(e){this.Ir=e,this.buffer=new kt(U0),this.Er=0}dr(){return++this.Er}Ar(e){const n=[e,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(n);else{const s=this.buffer.last();U0(n,s)<0&&(this.buffer=this.buffer.delete(s).add(n))}}get maxValue(){return this.buffer.last()[0]}}class tC{constructor(e,n,s){this.garbageCollector=e,this.asyncQueue=n,this.localStore=s,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(e){he(L0,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){xo(n)?he(L0,"Ignoring IndexedDB error during garbage collection: ",n):await wo(n)}await this.Vr(3e5)}))}}class nC{constructor(e,n){this.mr=e,this.params=n}calculateTargetCount(e,n){return this.mr.gr(e).next((s=>Math.floor(n/100*s)))}nthSequenceNumber(e,n){if(n===0)return re.resolve(Gh.ce);const s=new eC(n);return this.mr.forEachTarget(e,(o=>s.Ar(o.sequenceNumber))).next((()=>this.mr.pr(e,(o=>s.Ar(o))))).next((()=>s.maxValue))}removeTargets(e,n,s){return this.mr.removeTargets(e,n,s)}removeOrphanedDocuments(e,n){return this.mr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(he("LruGarbageCollector","Garbage collection skipped; disabled"),re.resolve(P0)):this.getCacheSize(e).next((s=>s<this.params.cacheSizeCollectionThreshold?(he("LruGarbageCollector",`Garbage collection skipped; Cache size ${s} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),P0):this.yr(e,n)))}getCacheSize(e){return this.mr.getCacheSize(e)}yr(e,n){let s,o,u,f,m,p,g;const b=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((T=>(T>this.params.maximumSequenceNumbersToCollect?(he("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${T}`),o=this.params.maximumSequenceNumbersToCollect):o=T,f=Date.now(),this.nthSequenceNumber(e,o)))).next((T=>(s=T,m=Date.now(),this.removeTargets(e,s,n)))).next((T=>(u=T,p=Date.now(),this.removeOrphanedDocuments(e,s)))).next((T=>(g=Date.now(),eo()<=Pe.DEBUG&&he("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${f-b}ms
	Determined least recently used ${o} in `+(m-f)+`ms
	Removed ${u} targets in `+(p-m)+`ms
	Removed ${T} documents in `+(g-p)+`ms
Total Duration: ${g-b}ms`),re.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:u,documentsRemoved:T}))))}}function iC(r,e){return new nC(r,e)}class rC{constructor(){this.changes=new oa((e=>e.toString()),((e,n)=>e.isEqual(n))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,en.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const s=this.changes.get(n);return s!==void 0?re.resolve(s):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class sC{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}class aC{constructor(e,n,s,o){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=s,this.indexManager=o}getDocument(e,n){let s=null;return this.documentOverlayCache.getOverlay(e,n).next((o=>(s=o,this.remoteDocumentCache.getEntry(e,n)))).next((o=>(s!==null&&$l(s.mutation,o,wn.empty(),lt.now()),o)))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next((s=>this.getLocalViewOfDocuments(e,s,Ue()).next((()=>s))))}getLocalViewOfDocuments(e,n,s=Ue()){const o=Xs();return this.populateOverlays(e,o,n).next((()=>this.computeViews(e,n,o,s).next((u=>{let f=ql();return u.forEach(((m,p)=>{f=f.insert(m,p.overlayedDocument)})),f}))))}getOverlayedDocuments(e,n){const s=Xs();return this.populateOverlays(e,s,n).next((()=>this.computeViews(e,n,s,Ue())))}populateOverlays(e,n,s){const o=[];return s.forEach((u=>{n.has(u)||o.push(u)})),this.documentOverlayCache.getOverlays(e,o).next((u=>{u.forEach(((f,m)=>{n.set(f,m)}))}))}computeViews(e,n,s,o){let u=fr();const f=Yl(),m=(function(){return Yl()})();return n.forEach(((p,g)=>{const b=s.get(g.key);o.has(g.key)&&(b===void 0||b.mutation instanceof ps)?u=u.insert(g.key,g):b!==void 0?(f.set(g.key,b.mutation.getFieldMask()),$l(b.mutation,g,b.mutation.getFieldMask(),lt.now())):f.set(g.key,wn.empty())})),this.recalculateAndSaveOverlays(e,u).next((p=>(p.forEach(((g,b)=>f.set(g,b))),n.forEach(((g,b)=>m.set(g,new sC(b,f.get(g)??null)))),m)))}recalculateAndSaveOverlays(e,n){const s=Yl();let o=new dt(((f,m)=>f-m)),u=Ue();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next((f=>{for(const m of f)m.keys().forEach((p=>{const g=n.get(p);if(g===null)return;let b=s.get(p)||wn.empty();b=m.applyToLocalView(g,b),s.set(p,b);const T=(o.get(m.batchId)||Ue()).add(p);o=o.insert(m.batchId,T)}))})).next((()=>{const f=[],m=o.getReverseIterator();for(;m.hasNext();){const p=m.getNext(),g=p.key,b=p.value,T=Pb();b.forEach((w=>{if(!u.has(w)){const j=Hb(n.get(w),s.get(w));j!==null&&T.set(w,j),u=u.add(w)}})),f.push(this.documentOverlayCache.saveOverlays(e,g,T))}return re.waitFor(f)})).next((()=>s))}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next((s=>this.recalculateAndSaveOverlays(e,s)))}getDocumentsMatchingQuery(e,n,s,o){return(function(f){return ge.isDocumentKey(f.path)&&f.collectionGroup===null&&f.filters.length===0})(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):Ob(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,s,o):this.getDocumentsMatchingCollectionQuery(e,n,s,o)}getNextDocuments(e,n,s,o){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,s,o).next((u=>{const f=o-u.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,s.largestBatchId,o-u.size):re.resolve(Xs());let m=Zl,p=u;return f.next((g=>re.forEach(g,((b,T)=>(m<T.largestBatchId&&(m=T.largestBatchId),u.get(b)?re.resolve():this.remoteDocumentCache.getEntry(e,b).next((w=>{p=p.insert(b,w)}))))).next((()=>this.populateOverlays(e,g,u))).next((()=>this.computeViews(e,p,g,Ue()))).next((b=>({batchId:m,changes:kb(b)})))))}))}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new ge(n)).next((s=>{let o=ql();return s.isFoundDocument()&&(o=o.insert(s.key,s)),o}))}getDocumentsMatchingCollectionGroupQuery(e,n,s,o){const u=n.collectionGroup;let f=ql();return this.indexManager.getCollectionParents(e,u).next((m=>re.forEach(m,(p=>{const g=(function(T,w){return new Ro(w,null,T.explicitOrderBy.slice(),T.filters.slice(),T.limit,T.limitType,T.startAt,T.endAt)})(n,p.child(u));return this.getDocumentsMatchingCollectionQuery(e,g,s,o).next((b=>{b.forEach(((T,w)=>{f=f.insert(T,w)}))}))})).next((()=>f))))}getDocumentsMatchingCollectionQuery(e,n,s,o){let u;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,s.largestBatchId).next((f=>(u=f,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,s,u,o)))).next((f=>{u.forEach(((p,g)=>{const b=g.getKey();f.get(b)===null&&(f=f.insert(b,en.newInvalidDocument(b)))}));let m=ql();return f.forEach(((p,g)=>{const b=u.get(p);b!==void 0&&$l(b.mutation,g,wn.empty(),lt.now()),Xh(n,g)&&(m=m.insert(p,g))})),m}))}}class oC{constructor(e){this.serializer=e,this.Lr=new Map,this.kr=new Map}getBundleMetadata(e,n){return re.resolve(this.Lr.get(n))}saveBundleMetadata(e,n){return this.Lr.set(n.id,(function(o){return{id:o.id,version:o.version,createTime:Mi(o.createTime)}})(n)),re.resolve()}getNamedQuery(e,n){return re.resolve(this.kr.get(n))}saveNamedQuery(e,n){return this.kr.set(n.name,(function(o){return{name:o.name,query:XR(o.bundledQuery),readTime:Mi(o.readTime)}})(n)),re.resolve()}}class lC{constructor(){this.overlays=new dt(ge.comparator),this.qr=new Map}getOverlay(e,n){return re.resolve(this.overlays.get(n))}getOverlays(e,n){const s=Xs();return re.forEach(n,(o=>this.getOverlay(e,o).next((u=>{u!==null&&s.set(o,u)})))).next((()=>s))}saveOverlays(e,n,s){return s.forEach(((o,u)=>{this.St(e,n,u)})),re.resolve()}removeOverlaysForBatchId(e,n,s){const o=this.qr.get(s);return o!==void 0&&(o.forEach((u=>this.overlays=this.overlays.remove(u))),this.qr.delete(s)),re.resolve()}getOverlaysForCollection(e,n,s){const o=Xs(),u=n.length+1,f=new ge(n.child("")),m=this.overlays.getIteratorFrom(f);for(;m.hasNext();){const p=m.getNext().value,g=p.getKey();if(!n.isPrefixOf(g.path))break;g.path.length===u&&p.largestBatchId>s&&o.set(p.getKey(),p)}return re.resolve(o)}getOverlaysForCollectionGroup(e,n,s,o){let u=new dt(((g,b)=>g-b));const f=this.overlays.getIterator();for(;f.hasNext();){const g=f.getNext().value;if(g.getKey().getCollectionGroup()===n&&g.largestBatchId>s){let b=u.get(g.largestBatchId);b===null&&(b=Xs(),u=u.insert(g.largestBatchId,b)),b.set(g.getKey(),g)}}const m=Xs(),p=u.getIterator();for(;p.hasNext()&&(p.getNext().value.forEach(((g,b)=>m.set(g,b))),!(m.size()>=o)););return re.resolve(m)}St(e,n,s){const o=this.overlays.get(s.key);if(o!==null){const f=this.qr.get(o.largestBatchId).delete(s.key);this.qr.set(o.largestBatchId,f)}this.overlays=this.overlays.insert(s.key,new xR(n,s));let u=this.qr.get(n);u===void 0&&(u=Ue(),this.qr.set(n,u)),this.qr.set(n,u.add(s.key))}}class uC{constructor(){this.sessionToken=Xt.EMPTY_BYTE_STRING}getSessionToken(e){return re.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,re.resolve()}}class Vp{constructor(){this.Qr=new kt(Bt.$r),this.Ur=new kt(Bt.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(e,n){const s=new Bt(e,n);this.Qr=this.Qr.add(s),this.Ur=this.Ur.add(s)}Wr(e,n){e.forEach((s=>this.addReference(s,n)))}removeReference(e,n){this.Gr(new Bt(e,n))}zr(e,n){e.forEach((s=>this.removeReference(s,n)))}jr(e){const n=new ge(new rt([])),s=new Bt(n,e),o=new Bt(n,e+1),u=[];return this.Ur.forEachInRange([s,o],(f=>{this.Gr(f),u.push(f.key)})),u}Jr(){this.Qr.forEach((e=>this.Gr(e)))}Gr(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}Hr(e){const n=new ge(new rt([])),s=new Bt(n,e),o=new Bt(n,e+1);let u=Ue();return this.Ur.forEachInRange([s,o],(f=>{u=u.add(f.key)})),u}containsKey(e){const n=new Bt(e,0),s=this.Qr.firstAfterOrEqual(n);return s!==null&&e.isEqual(s.key)}}class Bt{constructor(e,n){this.key=e,this.Yr=n}static $r(e,n){return ge.comparator(e.key,n.key)||Le(e.Yr,n.Yr)}static Kr(e,n){return Le(e.Yr,n.Yr)||ge.comparator(e.key,n.key)}}class cC{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.tr=1,this.Zr=new kt(Bt.$r)}checkEmpty(e){return re.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,s,o){const u=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const f=new wR(u,n,s,o);this.mutationQueue.push(f);for(const m of o)this.Zr=this.Zr.add(new Bt(m.key,u)),this.indexManager.addToCollectionParentIndex(e,m.key.path.popLast());return re.resolve(f)}lookupMutationBatch(e,n){return re.resolve(this.Xr(n))}getNextMutationBatchAfterBatchId(e,n){const s=n+1,o=this.ei(s),u=o<0?0:o;return re.resolve(this.mutationQueue.length>u?this.mutationQueue[u]:null)}getHighestUnacknowledgedBatchId(){return re.resolve(this.mutationQueue.length===0?Ap:this.tr-1)}getAllMutationBatches(e){return re.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const s=new Bt(n,0),o=new Bt(n,Number.POSITIVE_INFINITY),u=[];return this.Zr.forEachInRange([s,o],(f=>{const m=this.Xr(f.Yr);u.push(m)})),re.resolve(u)}getAllMutationBatchesAffectingDocumentKeys(e,n){let s=new kt(Le);return n.forEach((o=>{const u=new Bt(o,0),f=new Bt(o,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([u,f],(m=>{s=s.add(m.Yr)}))})),re.resolve(this.ti(s))}getAllMutationBatchesAffectingQuery(e,n){const s=n.path,o=s.length+1;let u=s;ge.isDocumentKey(u)||(u=u.child(""));const f=new Bt(new ge(u),0);let m=new kt(Le);return this.Zr.forEachWhile((p=>{const g=p.key.path;return!!s.isPrefixOf(g)&&(g.length===o&&(m=m.add(p.Yr)),!0)}),f),re.resolve(this.ti(m))}ti(e){const n=[];return e.forEach((s=>{const o=this.Xr(s);o!==null&&n.push(o)})),n}removeMutationBatch(e,n){Ke(this.ni(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let s=this.Zr;return re.forEach(n.mutations,(o=>{const u=new Bt(o.key,n.batchId);return s=s.delete(u),this.referenceDelegate.markPotentiallyOrphaned(e,o.key)})).next((()=>{this.Zr=s}))}ir(e){}containsKey(e,n){const s=new Bt(n,0),o=this.Zr.firstAfterOrEqual(s);return re.resolve(n.isEqual(o&&o.key))}performConsistencyCheck(e){return this.mutationQueue.length,re.resolve()}ni(e,n){return this.ei(e)}ei(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Xr(e){const n=this.ei(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}class hC{constructor(e){this.ri=e,this.docs=(function(){return new dt(ge.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const s=n.key,o=this.docs.get(s),u=o?o.size:0,f=this.ri(n);return this.docs=this.docs.insert(s,{document:n.mutableCopy(),size:f}),this.size+=f-u,this.indexManager.addToCollectionParentIndex(e,s.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const s=this.docs.get(n);return re.resolve(s?s.document.mutableCopy():en.newInvalidDocument(n))}getEntries(e,n){let s=fr();return n.forEach((o=>{const u=this.docs.get(o);s=s.insert(o,u?u.document.mutableCopy():en.newInvalidDocument(o))})),re.resolve(s)}getDocumentsMatchingQuery(e,n,s,o){let u=fr();const f=n.path,m=new ge(f.child("__id-9223372036854775808__")),p=this.docs.getIteratorFrom(m);for(;p.hasNext();){const{key:g,value:{document:b}}=p.getNext();if(!f.isPrefixOf(g.path))break;g.path.length>f.length+1||z2(U2(b),s)<=0||(o.has(b.key)||Xh(n,b))&&(u=u.insert(b.key,b.mutableCopy()))}return re.resolve(u)}getAllFromCollectionGroup(e,n,s,o){be(9500)}ii(e,n){return re.forEach(this.docs,(s=>n(s)))}newChangeBuffer(e){return new fC(this)}getSize(e){return re.resolve(this.size)}}class fC extends rC{constructor(e){super(),this.Nr=e}applyChanges(e){const n=[];return this.changes.forEach(((s,o)=>{o.isValidDocument()?n.push(this.Nr.addEntry(e,o)):this.Nr.removeEntry(s)})),re.waitFor(n)}getFromCache(e,n){return this.Nr.getEntry(e,n)}getAllFromCache(e,n){return this.Nr.getEntries(e,n)}}class dC{constructor(e){this.persistence=e,this.si=new oa((n=>Rp(n)),Cp),this.lastRemoteSnapshotVersion=Ae.min(),this.highestTargetId=0,this.oi=0,this._i=new Vp,this.targetCount=0,this.ai=yo.ur()}forEachTarget(e,n){return this.si.forEach(((s,o)=>n(o))),re.resolve()}getLastRemoteSnapshotVersion(e){return re.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return re.resolve(this.oi)}allocateTargetId(e){return this.highestTargetId=this.ai.next(),re.resolve(this.highestTargetId)}setTargetsMetadata(e,n,s){return s&&(this.lastRemoteSnapshotVersion=s),n>this.oi&&(this.oi=n),re.resolve()}Pr(e){this.si.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.ai=new yo(n),this.highestTargetId=n),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}addTargetData(e,n){return this.Pr(n),this.targetCount+=1,re.resolve()}updateTargetData(e,n){return this.Pr(n),re.resolve()}removeTargetData(e,n){return this.si.delete(n.target),this._i.jr(n.targetId),this.targetCount-=1,re.resolve()}removeTargets(e,n,s){let o=0;const u=[];return this.si.forEach(((f,m)=>{m.sequenceNumber<=n&&s.get(m.targetId)===null&&(this.si.delete(f),u.push(this.removeMatchingKeysForTargetId(e,m.targetId)),o++)})),re.waitFor(u).next((()=>o))}getTargetCount(e){return re.resolve(this.targetCount)}getTargetData(e,n){const s=this.si.get(n)||null;return re.resolve(s)}addMatchingKeys(e,n,s){return this._i.Wr(n,s),re.resolve()}removeMatchingKeys(e,n,s){this._i.zr(n,s);const o=this.persistence.referenceDelegate,u=[];return o&&n.forEach((f=>{u.push(o.markPotentiallyOrphaned(e,f))})),re.waitFor(u)}removeMatchingKeysForTargetId(e,n){return this._i.jr(n),re.resolve()}getMatchingKeysForTargetId(e,n){const s=this._i.Hr(n);return re.resolve(s)}containsKey(e,n){return re.resolve(this._i.containsKey(n))}}class nT{constructor(e,n){this.ui={},this.overlays={},this.ci=new Gh(0),this.li=!1,this.li=!0,this.hi=new uC,this.referenceDelegate=e(this),this.Pi=new dC(this),this.indexManager=new JR,this.remoteDocumentCache=(function(o){return new hC(o)})((s=>this.referenceDelegate.Ti(s))),this.serializer=new $R(n),this.Ii=new oC(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new lC,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let s=this.ui[e.toKey()];return s||(s=new cC(n,this.referenceDelegate),this.ui[e.toKey()]=s),s}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(e,n,s){he("MemoryPersistence","Starting transaction:",e);const o=new mC(this.ci.next());return this.referenceDelegate.Ei(),s(o).next((u=>this.referenceDelegate.di(o).next((()=>u)))).toPromise().then((u=>(o.raiseOnCommittedEvent(),u)))}Ai(e,n){return re.or(Object.values(this.ui).map((s=>()=>s.containsKey(e,n))))}}class mC extends q2{constructor(e){super(),this.currentSequenceNumber=e}}class jp{constructor(e){this.persistence=e,this.Ri=new Vp,this.Vi=null}static mi(e){return new jp(e)}get fi(){if(this.Vi)return this.Vi;throw be(60996)}addReference(e,n,s){return this.Ri.addReference(s,n),this.fi.delete(s.toString()),re.resolve()}removeReference(e,n,s){return this.Ri.removeReference(s,n),this.fi.add(s.toString()),re.resolve()}markPotentiallyOrphaned(e,n){return this.fi.add(n.toString()),re.resolve()}removeTarget(e,n){this.Ri.jr(n.targetId).forEach((o=>this.fi.add(o.toString())));const s=this.persistence.getTargetCache();return s.getMatchingKeysForTargetId(e,n.targetId).next((o=>{o.forEach((u=>this.fi.add(u.toString())))})).next((()=>s.removeTargetData(e,n)))}Ei(){this.Vi=new Set}di(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return re.forEach(this.fi,(s=>{const o=ge.fromPath(s);return this.gi(e,o).next((u=>{u||n.removeEntry(o,Ae.min())}))})).next((()=>(this.Vi=null,n.apply(e))))}updateLimboDocument(e,n){return this.gi(e,n).next((s=>{s?this.fi.delete(n.toString()):this.fi.add(n.toString())}))}Ti(e){return 0}gi(e,n){return re.or([()=>re.resolve(this.Ri.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ai(e,n)])}}class Ih{constructor(e,n){this.persistence=e,this.pi=new oa((s=>G2(s.path)),((s,o)=>s.isEqual(o))),this.garbageCollector=iC(this,n)}static mi(e,n){return new Ih(e,n)}Ei(){}di(e){return re.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}gr(e){const n=this.wr(e);return this.persistence.getTargetCache().getTargetCount(e).next((s=>n.next((o=>s+o))))}wr(e){let n=0;return this.pr(e,(s=>{n++})).next((()=>n))}pr(e,n){return re.forEach(this.pi,((s,o)=>this.br(e,s,o).next((u=>u?re.resolve():n(o)))))}removeTargets(e,n,s){return this.persistence.getTargetCache().removeTargets(e,n,s)}removeOrphanedDocuments(e,n){let s=0;const o=this.persistence.getRemoteDocumentCache(),u=o.newChangeBuffer();return o.ii(e,(f=>this.br(e,f,n).next((m=>{m||(s++,u.removeEntry(f,Ae.min()))})))).next((()=>u.apply(e))).next((()=>s))}markPotentiallyOrphaned(e,n){return this.pi.set(n,e.currentSequenceNumber),re.resolve()}removeTarget(e,n){const s=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,s)}addReference(e,n,s){return this.pi.set(s,e.currentSequenceNumber),re.resolve()}removeReference(e,n,s){return this.pi.set(s,e.currentSequenceNumber),re.resolve()}updateLimboDocument(e,n){return this.pi.set(n,e.currentSequenceNumber),re.resolve()}Ti(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=uh(e.data.value)),n}br(e,n,s){return re.or([()=>this.persistence.Ai(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const o=this.pi.get(n);return re.resolve(o!==void 0&&o>s)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}class kp{constructor(e,n,s,o){this.targetId=e,this.fromCache=n,this.Es=s,this.ds=o}static As(e,n){let s=Ue(),o=Ue();for(const u of n.docChanges)switch(u.type){case 0:s=s.add(u.doc.key);break;case 1:o=o.add(u.doc.key)}return new kp(e,n.fromCache,s,o)}}class pC{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}class gC{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=(function(){return ox()?8:H2(tn())>0?6:4})()}initialize(e,n){this.ps=e,this.indexManager=n,this.Rs=!0}getDocumentsMatchingQuery(e,n,s,o){const u={result:null};return this.ys(e,n).next((f=>{u.result=f})).next((()=>{if(!u.result)return this.ws(e,n,o,s).next((f=>{u.result=f}))})).next((()=>{if(u.result)return;const f=new pC;return this.Ss(e,n,f).next((m=>{if(u.result=m,this.Vs)return this.bs(e,n,f,m.size)}))})).next((()=>u.result))}bs(e,n,s,o){return s.documentReadCount<this.fs?(eo()<=Pe.DEBUG&&he("QueryEngine","SDK will not create cache indexes for query:",to(n),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),re.resolve()):(eo()<=Pe.DEBUG&&he("QueryEngine","Query:",to(n),"scans",s.documentReadCount,"local documents and returns",o,"documents as results."),s.documentReadCount>this.gs*o?(eo()<=Pe.DEBUG&&he("QueryEngine","The SDK decides to create cache indexes for query:",to(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Oi(n))):re.resolve())}ys(e,n){if(R0(n))return re.resolve(null);let s=Oi(n);return this.indexManager.getIndexType(e,s).next((o=>o===0?null:(n.limit!==null&&o===1&&(n=Gm(n,null,"F"),s=Oi(n)),this.indexManager.getDocumentsMatchingTarget(e,s).next((u=>{const f=Ue(...u);return this.ps.getDocuments(e,f).next((m=>this.indexManager.getMinOffset(e,s).next((p=>{const g=this.Ds(n,m);return this.Cs(n,g,f,p.readTime)?this.ys(e,Gm(n,null,"F")):this.vs(e,g,n,p)}))))})))))}ws(e,n,s,o){return R0(n)||o.isEqual(Ae.min())?re.resolve(null):this.ps.getDocuments(e,s).next((u=>{const f=this.Ds(n,u);return this.Cs(n,f,s,o)?re.resolve(null):(eo()<=Pe.DEBUG&&he("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),to(n)),this.vs(e,f,n,L2(o,Zl)).next((m=>m)))}))}Ds(e,n){let s=new kt(Vb(e));return n.forEach(((o,u)=>{Xh(e,u)&&(s=s.add(u))})),s}Cs(e,n,s,o){if(e.limit===null)return!1;if(s.size!==n.size)return!0;const u=e.limitType==="F"?n.last():n.first();return!!u&&(u.hasPendingWrites||u.version.compareTo(o)>0)}Ss(e,n,s){return eo()<=Pe.DEBUG&&he("QueryEngine","Using full collection scan to execute query:",to(n)),this.ps.getDocumentsMatchingQuery(e,n,as.min(),s)}vs(e,n,s,o){return this.ps.getDocumentsMatchingQuery(e,s,o).next((u=>(n.forEach((f=>{u=u.insert(f.key,f)})),u)))}}const Pp="LocalStore",yC=3e8;class _C{constructor(e,n,s,o){this.persistence=e,this.Fs=n,this.serializer=o,this.Ms=new dt(Le),this.xs=new oa((u=>Rp(u)),Cp),this.Os=new Map,this.Ns=e.getRemoteDocumentCache(),this.Pi=e.getTargetCache(),this.Ii=e.getBundleCache(),this.Bs(s)}Bs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new aC(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(n=>e.collect(n,this.Ms)))}}function vC(r,e,n,s){return new _C(r,e,n,s)}async function iT(r,e){const n=Re(r);return await n.persistence.runTransaction("Handle user change","readonly",(s=>{let o;return n.mutationQueue.getAllMutationBatches(s).next((u=>(o=u,n.Bs(e),n.mutationQueue.getAllMutationBatches(s)))).next((u=>{const f=[],m=[];let p=Ue();for(const g of o){f.push(g.batchId);for(const b of g.mutations)p=p.add(b.key)}for(const g of u){m.push(g.batchId);for(const b of g.mutations)p=p.add(b.key)}return n.localDocuments.getDocuments(s,p).next((g=>({Ls:g,removedBatchIds:f,addedBatchIds:m})))}))}))}function EC(r,e){const n=Re(r);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(s=>{const o=e.batch.keys(),u=n.Ns.newChangeBuffer({trackRemovals:!0});return(function(m,p,g,b){const T=g.batch,w=T.keys();let j=re.resolve();return w.forEach((F=>{j=j.next((()=>b.getEntry(p,F))).next((K=>{const k=g.docVersions.get(F);Ke(k!==null,48541),K.version.compareTo(k)<0&&(T.applyToRemoteDocument(K,g),K.isValidDocument()&&(K.setReadTime(g.commitVersion),b.addEntry(K)))}))})),j.next((()=>m.mutationQueue.removeMutationBatch(p,T)))})(n,s,e,u).next((()=>u.apply(s))).next((()=>n.mutationQueue.performConsistencyCheck(s))).next((()=>n.documentOverlayCache.removeOverlaysForBatchId(s,o,e.batch.batchId))).next((()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(s,(function(m){let p=Ue();for(let g=0;g<m.mutationResults.length;++g)m.mutationResults[g].transformResults.length>0&&(p=p.add(m.batch.mutations[g].key));return p})(e)))).next((()=>n.localDocuments.getDocuments(s,o)))}))}function rT(r){const e=Re(r);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(n=>e.Pi.getLastRemoteSnapshotVersion(n)))}function bC(r,e){const n=Re(r),s=e.snapshotVersion;let o=n.Ms;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(u=>{const f=n.Ns.newChangeBuffer({trackRemovals:!0});o=n.Ms;const m=[];e.targetChanges.forEach(((b,T)=>{const w=o.get(T);if(!w)return;m.push(n.Pi.removeMatchingKeys(u,b.removedDocuments,T).next((()=>n.Pi.addMatchingKeys(u,b.addedDocuments,T))));let j=w.withSequenceNumber(u.currentSequenceNumber);e.targetMismatches.get(T)!==null?j=j.withResumeToken(Xt.EMPTY_BYTE_STRING,Ae.min()).withLastLimboFreeSnapshotVersion(Ae.min()):b.resumeToken.approximateByteSize()>0&&(j=j.withResumeToken(b.resumeToken,s)),o=o.insert(T,j),(function(K,k,X){return K.resumeToken.approximateByteSize()===0||k.snapshotVersion.toMicroseconds()-K.snapshotVersion.toMicroseconds()>=yC?!0:X.addedDocuments.size+X.modifiedDocuments.size+X.removedDocuments.size>0})(w,j,b)&&m.push(n.Pi.updateTargetData(u,j))}));let p=fr(),g=Ue();if(e.documentUpdates.forEach((b=>{e.resolvedLimboDocuments.has(b)&&m.push(n.persistence.referenceDelegate.updateLimboDocument(u,b))})),m.push(TC(u,f,e.documentUpdates).next((b=>{p=b.ks,g=b.qs}))),!s.isEqual(Ae.min())){const b=n.Pi.getLastRemoteSnapshotVersion(u).next((T=>n.Pi.setTargetsMetadata(u,u.currentSequenceNumber,s)));m.push(b)}return re.waitFor(m).next((()=>f.apply(u))).next((()=>n.localDocuments.getLocalViewOfDocuments(u,p,g))).next((()=>p))})).then((u=>(n.Ms=o,u)))}function TC(r,e,n){let s=Ue(),o=Ue();return n.forEach((u=>s=s.add(u))),e.getEntries(r,s).next((u=>{let f=fr();return n.forEach(((m,p)=>{const g=u.get(m);p.isFoundDocument()!==g.isFoundDocument()&&(o=o.add(m)),p.isNoDocument()&&p.version.isEqual(Ae.min())?(e.removeEntry(m,p.readTime),f=f.insert(m,p)):!g.isValidDocument()||p.version.compareTo(g.version)>0||p.version.compareTo(g.version)===0&&g.hasPendingWrites?(e.addEntry(p),f=f.insert(m,p)):he(Pp,"Ignoring outdated watch update for ",m,". Current version:",g.version," Watch version:",p.version)})),{ks:f,qs:o}}))}function SC(r,e){const n=Re(r);return n.persistence.runTransaction("Get next mutation batch","readonly",(s=>(e===void 0&&(e=Ap),n.mutationQueue.getNextMutationBatchAfterBatchId(s,e))))}function AC(r,e){const n=Re(r);return n.persistence.runTransaction("Allocate target","readwrite",(s=>{let o;return n.Pi.getTargetData(s,e).next((u=>u?(o=u,re.resolve(o)):n.Pi.allocateTargetId(s).next((f=>(o=new Zr(e,f,"TargetPurposeListen",s.currentSequenceNumber),n.Pi.addTargetData(s,o).next((()=>o)))))))})).then((s=>{const o=n.Ms.get(s.targetId);return(o===null||s.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(n.Ms=n.Ms.insert(s.targetId,s),n.xs.set(e,s.targetId)),s}))}async function Xm(r,e,n){const s=Re(r),o=s.Ms.get(e),u=n?"readwrite":"readwrite-primary";try{n||await s.persistence.runTransaction("Release target",u,(f=>s.persistence.referenceDelegate.removeTarget(f,o)))}catch(f){if(!xo(f))throw f;he(Pp,`Failed to update sequence numbers for target ${e}: ${f}`)}s.Ms=s.Ms.remove(e),s.xs.delete(o.target)}function z0(r,e,n){const s=Re(r);let o=Ae.min(),u=Ue();return s.persistence.runTransaction("Execute query","readwrite",(f=>(function(p,g,b){const T=Re(p),w=T.xs.get(b);return w!==void 0?re.resolve(T.Ms.get(w)):T.Pi.getTargetData(g,b)})(s,f,Oi(e)).next((m=>{if(m)return o=m.lastLimboFreeSnapshotVersion,s.Pi.getMatchingKeysForTargetId(f,m.targetId).next((p=>{u=p}))})).next((()=>s.Fs.getDocumentsMatchingQuery(f,e,n?o:Ae.min(),n?u:Ue()))).next((m=>(wC(s,cR(e),m),{documents:m,Qs:u})))))}function wC(r,e,n){let s=r.Os.get(e)||Ae.min();n.forEach(((o,u)=>{u.readTime.compareTo(s)>0&&(s=u.readTime)})),r.Os.set(e,s)}class B0{constructor(){this.activeTargetIds=gR()}zs(e){this.activeTargetIds=this.activeTargetIds.add(e)}js(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class xC{constructor(){this.Mo=new B0,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,s){}addLocalQueryTarget(e,n=!0){return n&&this.Mo.zs(e),this.xo[e]||"not-current"}updateQueryState(e,n,s){this.xo[e]=n}removeLocalQueryTarget(e){this.Mo.js(e)}isLocalQueryTarget(e){return this.Mo.activeTargetIds.has(e)}clearQueryState(e){delete this.xo[e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(e){return this.Mo.activeTargetIds.has(e)}start(){return this.Mo=new B0,Promise.resolve()}handleUserChange(e,n,s){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class RC{Oo(e){}shutdown(){}}const q0="ConnectivityMonitor";class H0{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(e){this.qo.push(e)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){he(q0,"Network connectivity changed: AVAILABLE");for(const e of this.qo)e(0)}ko(){he(q0,"Network connectivity changed: UNAVAILABLE");for(const e of this.qo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}let ih=null;function Jm(){return ih===null?ih=(function(){return 268435456+Math.round(2147483648*Math.random())})():ih++,"0x"+ih.toString(16)}const xm="RestConnection",CC={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class IC{get $o(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",s=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.Uo=n+"://"+e.host,this.Ko=`projects/${s}/databases/${o}`,this.Wo=this.databaseId.database===Sh?`project_id=${s}`:`project_id=${s}&database_id=${o}`}Go(e,n,s,o,u){const f=Jm(),m=this.zo(e,n.toUriEncodedString());he(xm,`Sending RPC '${e}' ${f}:`,m,s);const p={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(p,o,u);const{host:g}=new URL(m),b=To(g);return this.Jo(e,m,p,s,b).then((T=>(he(xm,`Received RPC '${e}' ${f}: `,T),T)),(T=>{throw fo(xm,`RPC '${e}' ${f} failed with error: `,T,"url: ",m,"request:",s),T}))}Ho(e,n,s,o,u,f){return this.Go(e,n,s,o,u)}jo(e,n,s){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+Ao})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach(((o,u)=>e[u]=o)),s&&s.headers.forEach(((o,u)=>e[u]=o))}zo(e,n){const s=CC[e];return`${this.Uo}/v1/${n}:${s}`}terminate(){}}class NC{constructor(e){this.Yo=e.Yo,this.Zo=e.Zo}Xo(e){this.e_=e}t_(e){this.n_=e}r_(e){this.i_=e}onMessage(e){this.s_=e}close(){this.Zo()}send(e){this.Yo(e)}o_(){this.e_()}__(){this.n_()}a_(e){this.i_(e)}u_(e){this.s_(e)}}const Wt="WebChannelConnection";class DC extends IC{constructor(e){super(e),this.c_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,n,s,o,u){const f=Jm();return new Promise(((m,p)=>{const g=new ob;g.setWithCredentials(!0),g.listenOnce(lb.COMPLETE,(()=>{try{switch(g.getLastErrorCode()){case lh.NO_ERROR:const T=g.getResponseJson();he(Wt,`XHR for RPC '${e}' ${f} received:`,JSON.stringify(T)),m(T);break;case lh.TIMEOUT:he(Wt,`RPC '${e}' ${f} timed out`),p(new ue(te.DEADLINE_EXCEEDED,"Request time out"));break;case lh.HTTP_ERROR:const w=g.getStatus();if(he(Wt,`RPC '${e}' ${f} failed with status:`,w,"response text:",g.getResponseText()),w>0){let j=g.getResponseJson();Array.isArray(j)&&(j=j[0]);const F=j?.error;if(F&&F.status&&F.message){const K=(function(X){const ie=X.toLowerCase().replace(/_/g,"-");return Object.values(te).indexOf(ie)>=0?ie:te.UNKNOWN})(F.status);p(new ue(K,F.message))}else p(new ue(te.UNKNOWN,"Server responded with status "+g.getStatus()))}else p(new ue(te.UNAVAILABLE,"Connection failed."));break;default:be(9055,{l_:e,streamId:f,h_:g.getLastErrorCode(),P_:g.getLastError()})}}finally{he(Wt,`RPC '${e}' ${f} completed.`)}}));const b=JSON.stringify(o);he(Wt,`RPC '${e}' ${f} sending request:`,o),g.send(n,"POST",b,s,15)}))}T_(e,n,s){const o=Jm(),u=[this.Uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],f=hb(),m=cb(),p={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},g=this.longPollingOptions.timeoutSeconds;g!==void 0&&(p.longPollingTimeout=Math.round(1e3*g)),this.useFetchStreams&&(p.useFetchStreams=!0),this.jo(p.initMessageHeaders,n,s),p.encodeInitMessageHeaders=!0;const b=u.join("");he(Wt,`Creating RPC '${e}' stream ${o}: ${b}`,p);const T=f.createWebChannel(b,p);this.I_(T);let w=!1,j=!1;const F=new NC({Yo:k=>{j?he(Wt,`Not sending because RPC '${e}' stream ${o} is closed:`,k):(w||(he(Wt,`Opening RPC '${e}' stream ${o} transport.`),T.open(),w=!0),he(Wt,`RPC '${e}' stream ${o} sending:`,k),T.send(k))},Zo:()=>T.close()}),K=(k,X,ie)=>{k.listen(X,(Z=>{try{ie(Z)}catch(ye){setTimeout((()=>{throw ye}),0)}}))};return K(T,Bl.EventType.OPEN,(()=>{j||(he(Wt,`RPC '${e}' stream ${o} transport opened.`),F.o_())})),K(T,Bl.EventType.CLOSE,(()=>{j||(j=!0,he(Wt,`RPC '${e}' stream ${o} transport closed`),F.a_(),this.E_(T))})),K(T,Bl.EventType.ERROR,(k=>{j||(j=!0,fo(Wt,`RPC '${e}' stream ${o} transport errored. Name:`,k.name,"Message:",k.message),F.a_(new ue(te.UNAVAILABLE,"The operation could not be completed")))})),K(T,Bl.EventType.MESSAGE,(k=>{if(!j){const X=k.data[0];Ke(!!X,16349);const ie=X,Z=ie?.error||ie[0]?.error;if(Z){he(Wt,`RPC '${e}' stream ${o} received error:`,Z);const ye=Z.status;let Se=(function(x){const C=Dt[x];if(C!==void 0)return Gb(C)})(ye),ae=Z.message;Se===void 0&&(Se=te.INTERNAL,ae="Unknown error status: "+ye+" with message "+Z.message),j=!0,F.a_(new ue(Se,ae)),T.close()}else he(Wt,`RPC '${e}' stream ${o} received:`,X),F.u_(X)}})),K(m,ub.STAT_EVENT,(k=>{k.stat===Lm.PROXY?he(Wt,`RPC '${e}' stream ${o} detected buffering proxy`):k.stat===Lm.NOPROXY&&he(Wt,`RPC '${e}' stream ${o} detected no buffering proxy`)})),setTimeout((()=>{F.__()}),0),F}terminate(){this.c_.forEach((e=>e.close())),this.c_=[]}I_(e){this.c_.push(e)}E_(e){this.c_=this.c_.filter((n=>n===e))}}function Rm(){return typeof document<"u"?document:null}function ef(r){return new jR(r,!0)}class sT{constructor(e,n,s=1e3,o=1.5,u=6e4){this.Mi=e,this.timerId=n,this.d_=s,this.A_=o,this.R_=u,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();const n=Math.floor(this.V_+this.y_()),s=Math.max(0,Date.now()-this.f_),o=Math.max(0,n-s);o>0&&he("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.V_} ms, delay with jitter: ${n} ms, last attempt: ${s} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,o,(()=>(this.f_=Date.now(),e()))),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}const F0="PersistentStream";class aT{constructor(e,n,s,o,u,f,m,p){this.Mi=e,this.S_=s,this.b_=o,this.connection=u,this.authCredentialsProvider=f,this.appCheckCredentialsProvider=m,this.listener=p,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new sT(e,n)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,(()=>this.k_())))}q_(e){this.Q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,n){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():n&&n.code===te.RESOURCE_EXHAUSTED?(hr(n.toString()),hr("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):n&&n.code===te.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.r_(n)}K_(){}auth(){this.state=1;const e=this.W_(this.D_),n=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([s,o])=>{this.D_===n&&this.G_(s,o)}),(s=>{e((()=>{const o=new ue(te.UNKNOWN,"Fetching auth token failed: "+s.message);return this.z_(o)}))}))}G_(e,n){const s=this.W_(this.D_);this.stream=this.j_(e,n),this.stream.Xo((()=>{s((()=>this.listener.Xo()))})),this.stream.t_((()=>{s((()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.t_())))})),this.stream.r_((o=>{s((()=>this.z_(o)))})),this.stream.onMessage((o=>{s((()=>++this.F_==1?this.J_(o):this.onNext(o)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(e){return he(F0,`close with error: ${e}`),this.stream=null,this.close(4,e)}W_(e){return n=>{this.Mi.enqueueAndForget((()=>this.D_===e?n():(he(F0,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class OC extends aT{constructor(e,n,s,o,u,f){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,s,o,f),this.serializer=u}j_(e,n){return this.connection.T_("Listen",e,n)}J_(e){return this.onNext(e)}onNext(e){this.M_.reset();const n=LR(this.serializer,e),s=(function(u){if(!("targetChange"in u))return Ae.min();const f=u.targetChange;return f.targetIds&&f.targetIds.length?Ae.min():f.readTime?Mi(f.readTime):Ae.min()})(e);return this.listener.H_(n,s)}Y_(e){const n={};n.database=$m(this.serializer),n.addTarget=(function(u,f){let m;const p=f.target;if(m=Hm(p)?{documents:BR(u,p)}:{query:qR(u,p).ft},m.targetId=f.targetId,f.resumeToken.approximateByteSize()>0){m.resumeToken=Yb(u,f.resumeToken);const g=Qm(u,f.expectedCount);g!==null&&(m.expectedCount=g)}else if(f.snapshotVersion.compareTo(Ae.min())>0){m.readTime=Ch(u,f.snapshotVersion.toTimestamp());const g=Qm(u,f.expectedCount);g!==null&&(m.expectedCount=g)}return m})(this.serializer,e);const s=FR(this.serializer,e);s&&(n.labels=s),this.q_(n)}Z_(e){const n={};n.database=$m(this.serializer),n.removeTarget=e,this.q_(n)}}class MC extends aT{constructor(e,n,s,o,u,f){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,s,o,f),this.serializer=u}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(e,n){return this.connection.T_("Write",e,n)}J_(e){return Ke(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,Ke(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){Ke(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const n=zR(e.writeResults,e.commitTime),s=Mi(e.commitTime);return this.listener.na(s,n)}ra(){const e={};e.database=$m(this.serializer),this.q_(e)}ea(e){const n={streamToken:this.lastStreamToken,writes:e.map((s=>UR(this.serializer,s)))};this.q_(n)}}class VC{}class jC extends VC{constructor(e,n,s,o){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=s,this.serializer=o,this.ia=!1}sa(){if(this.ia)throw new ue(te.FAILED_PRECONDITION,"The client has already been terminated.")}Go(e,n,s,o){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([u,f])=>this.connection.Go(e,Km(n,s),o,u,f))).catch((u=>{throw u.name==="FirebaseError"?(u.code===te.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new ue(te.UNKNOWN,u.toString())}))}Ho(e,n,s,o,u){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([f,m])=>this.connection.Ho(e,Km(n,s),o,f,m,u))).catch((f=>{throw f.name==="FirebaseError"?(f.code===te.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),f):new ue(te.UNKNOWN,f.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}class kC{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(hr(n),this.aa=!1):he("OnlineStateTracker",n)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}const ta="RemoteStore";class PC{constructor(e,n,s,o,u){this.localStore=e,this.datastore=n,this.asyncQueue=s,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=u,this.Aa.Oo((f=>{s.enqueueAndForget((async()=>{la(this)&&(he(ta,"Restarting streams for network reachability change."),await(async function(p){const g=Re(p);g.Ea.add(4),await gu(g),g.Ra.set("Unknown"),g.Ea.delete(4),await tf(g)})(this))}))})),this.Ra=new kC(s,o)}}async function tf(r){if(la(r))for(const e of r.da)await e(!0)}async function gu(r){for(const e of r.da)await e(!1)}function oT(r,e){const n=Re(r);n.Ia.has(e.targetId)||(n.Ia.set(e.targetId,e),Bp(n)?zp(n):Co(n).O_()&&Up(n,e))}function Lp(r,e){const n=Re(r),s=Co(n);n.Ia.delete(e),s.O_()&&lT(n,e),n.Ia.size===0&&(s.O_()?s.L_():la(n)&&n.Ra.set("Unknown"))}function Up(r,e){if(r.Va.Ue(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Ae.min())>0){const n=r.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}Co(r).Y_(e)}function lT(r,e){r.Va.Ue(e),Co(r).Z_(e)}function zp(r){r.Va=new DR({getRemoteKeysForTarget:e=>r.remoteSyncer.getRemoteKeysForTarget(e),At:e=>r.Ia.get(e)||null,ht:()=>r.datastore.serializer.databaseId}),Co(r).start(),r.Ra.ua()}function Bp(r){return la(r)&&!Co(r).x_()&&r.Ia.size>0}function la(r){return Re(r).Ea.size===0}function uT(r){r.Va=void 0}async function LC(r){r.Ra.set("Online")}async function UC(r){r.Ia.forEach(((e,n)=>{Up(r,e)}))}async function zC(r,e){uT(r),Bp(r)?(r.Ra.ha(e),zp(r)):r.Ra.set("Unknown")}async function BC(r,e,n){if(r.Ra.set("Online"),e instanceof Kb&&e.state===2&&e.cause)try{await(async function(o,u){const f=u.cause;for(const m of u.targetIds)o.Ia.has(m)&&(await o.remoteSyncer.rejectListen(m,f),o.Ia.delete(m),o.Va.removeTarget(m))})(r,e)}catch(s){he(ta,"Failed to remove targets %s: %s ",e.targetIds.join(","),s),await Nh(r,s)}else if(e instanceof fh?r.Va.Ze(e):e instanceof Qb?r.Va.st(e):r.Va.tt(e),!n.isEqual(Ae.min()))try{const s=await rT(r.localStore);n.compareTo(s)>=0&&await(function(u,f){const m=u.Va.Tt(f);return m.targetChanges.forEach(((p,g)=>{if(p.resumeToken.approximateByteSize()>0){const b=u.Ia.get(g);b&&u.Ia.set(g,b.withResumeToken(p.resumeToken,f))}})),m.targetMismatches.forEach(((p,g)=>{const b=u.Ia.get(p);if(!b)return;u.Ia.set(p,b.withResumeToken(Xt.EMPTY_BYTE_STRING,b.snapshotVersion)),lT(u,p);const T=new Zr(b.target,p,g,b.sequenceNumber);Up(u,T)})),u.remoteSyncer.applyRemoteEvent(m)})(r,n)}catch(s){he(ta,"Failed to raise snapshot:",s),await Nh(r,s)}}async function Nh(r,e,n){if(!xo(e))throw e;r.Ea.add(1),await gu(r),r.Ra.set("Offline"),n||(n=()=>rT(r.localStore)),r.asyncQueue.enqueueRetryable((async()=>{he(ta,"Retrying IndexedDB access"),await n(),r.Ea.delete(1),await tf(r)}))}function cT(r,e){return e().catch((n=>Nh(r,n,e)))}async function nf(r){const e=Re(r),n=cs(e);let s=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:Ap;for(;qC(e);)try{const o=await SC(e.localStore,s);if(o===null){e.Ta.length===0&&n.L_();break}s=o.batchId,HC(e,o)}catch(o){await Nh(e,o)}hT(e)&&fT(e)}function qC(r){return la(r)&&r.Ta.length<10}function HC(r,e){r.Ta.push(e);const n=cs(r);n.O_()&&n.X_&&n.ea(e.mutations)}function hT(r){return la(r)&&!cs(r).x_()&&r.Ta.length>0}function fT(r){cs(r).start()}async function FC(r){cs(r).ra()}async function GC(r){const e=cs(r);for(const n of r.Ta)e.ea(n.mutations)}async function QC(r,e,n){const s=r.Ta.shift(),o=Dp.from(s,e,n);await cT(r,(()=>r.remoteSyncer.applySuccessfulWrite(o))),await nf(r)}async function KC(r,e){e&&cs(r).X_&&await(async function(s,o){if((function(f){return CR(f)&&f!==te.ABORTED})(o.code)){const u=s.Ta.shift();cs(s).B_(),await cT(s,(()=>s.remoteSyncer.rejectFailedWrite(u.batchId,o))),await nf(s)}})(r,e),hT(r)&&fT(r)}async function G0(r,e){const n=Re(r);n.asyncQueue.verifyOperationInProgress(),he(ta,"RemoteStore received new credentials");const s=la(n);n.Ea.add(3),await gu(n),s&&n.Ra.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.Ea.delete(3),await tf(n)}async function YC(r,e){const n=Re(r);e?(n.Ea.delete(2),await tf(n)):e||(n.Ea.add(2),await gu(n),n.Ra.set("Unknown"))}function Co(r){return r.ma||(r.ma=(function(n,s,o){const u=Re(n);return u.sa(),new OC(s,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,o)})(r.datastore,r.asyncQueue,{Xo:LC.bind(null,r),t_:UC.bind(null,r),r_:zC.bind(null,r),H_:BC.bind(null,r)}),r.da.push((async e=>{e?(r.ma.B_(),Bp(r)?zp(r):r.Ra.set("Unknown")):(await r.ma.stop(),uT(r))}))),r.ma}function cs(r){return r.fa||(r.fa=(function(n,s,o){const u=Re(n);return u.sa(),new MC(s,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,o)})(r.datastore,r.asyncQueue,{Xo:()=>Promise.resolve(),t_:FC.bind(null,r),r_:KC.bind(null,r),ta:GC.bind(null,r),na:QC.bind(null,r)}),r.da.push((async e=>{e?(r.fa.B_(),await nf(r)):(await r.fa.stop(),r.Ta.length>0&&(he(ta,`Stopping write stream with ${r.Ta.length} pending writes`),r.Ta=[]))}))),r.fa}class qp{constructor(e,n,s,o,u){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=s,this.op=o,this.removalCallback=u,this.deferred=new rs,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((f=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,n,s,o,u){const f=Date.now()+s,m=new qp(e,n,f,o,u);return m.start(s),m}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new ue(te.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Hp(r,e){if(hr("AsyncQueue",`${e}: ${r}`),xo(r))return new ue(te.UNAVAILABLE,`${e}: ${r}`);throw r}class ao{static emptySet(e){return new ao(e.comparator)}constructor(e){this.comparator=e?(n,s)=>e(n,s)||ge.comparator(n.key,s.key):(n,s)=>ge.comparator(n.key,s.key),this.keyedMap=ql(),this.sortedSet=new dt(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((n,s)=>(e(n),!1)))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof ao)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),s=e.sortedSet.getIterator();for(;n.hasNext();){const o=n.getNext().key,u=s.getNext().key;if(!o.isEqual(u))return!1}return!0}toString(){const e=[];return this.forEach((n=>{e.push(n.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const s=new ao;return s.comparator=this.comparator,s.keyedMap=e,s.sortedSet=n,s}}class Q0{constructor(){this.ga=new dt(ge.comparator)}track(e){const n=e.doc.key,s=this.ga.get(n);s?e.type!==0&&s.type===3?this.ga=this.ga.insert(n,e):e.type===3&&s.type!==1?this.ga=this.ga.insert(n,{type:s.type,doc:e.doc}):e.type===2&&s.type===2?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):e.type===2&&s.type===0?this.ga=this.ga.insert(n,{type:0,doc:e.doc}):e.type===1&&s.type===0?this.ga=this.ga.remove(n):e.type===1&&s.type===2?this.ga=this.ga.insert(n,{type:1,doc:s.doc}):e.type===0&&s.type===1?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):be(63341,{Rt:e,pa:s}):this.ga=this.ga.insert(n,e)}ya(){const e=[];return this.ga.inorderTraversal(((n,s)=>{e.push(s)})),e}}class _o{constructor(e,n,s,o,u,f,m,p,g){this.query=e,this.docs=n,this.oldDocs=s,this.docChanges=o,this.mutatedKeys=u,this.fromCache=f,this.syncStateChanged=m,this.excludesMetadataChanges=p,this.hasCachedResults=g}static fromInitialDocuments(e,n,s,o,u){const f=[];return n.forEach((m=>{f.push({type:0,doc:m})})),new _o(e,n,ao.emptySet(n),f,s,o,!0,!1,u)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&$h(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,s=e.docChanges;if(n.length!==s.length)return!1;for(let o=0;o<n.length;o++)if(n[o].type!==s[o].type||!n[o].doc.isEqual(s[o].doc))return!1;return!0}}class $C{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some((e=>e.Da()))}}class XC{constructor(){this.queries=K0(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(n,s){const o=Re(n),u=o.queries;o.queries=K0(),u.forEach(((f,m)=>{for(const p of m.Sa)p.onError(s)}))})(this,new ue(te.ABORTED,"Firestore shutting down"))}}function K0(){return new oa((r=>Mb(r)),$h)}async function dT(r,e){const n=Re(r);let s=3;const o=e.query;let u=n.queries.get(o);u?!u.ba()&&e.Da()&&(s=2):(u=new $C,s=e.Da()?0:1);try{switch(s){case 0:u.wa=await n.onListen(o,!0);break;case 1:u.wa=await n.onListen(o,!1);break;case 2:await n.onFirstRemoteStoreListen(o)}}catch(f){const m=Hp(f,`Initialization of query '${to(e.query)}' failed`);return void e.onError(m)}n.queries.set(o,u),u.Sa.push(e),e.va(n.onlineState),u.wa&&e.Fa(u.wa)&&Fp(n)}async function mT(r,e){const n=Re(r),s=e.query;let o=3;const u=n.queries.get(s);if(u){const f=u.Sa.indexOf(e);f>=0&&(u.Sa.splice(f,1),u.Sa.length===0?o=e.Da()?0:1:!u.ba()&&e.Da()&&(o=2))}switch(o){case 0:return n.queries.delete(s),n.onUnlisten(s,!0);case 1:return n.queries.delete(s),n.onUnlisten(s,!1);case 2:return n.onLastRemoteStoreUnlisten(s);default:return}}function JC(r,e){const n=Re(r);let s=!1;for(const o of e){const u=o.query,f=n.queries.get(u);if(f){for(const m of f.Sa)m.Fa(o)&&(s=!0);f.wa=o}}s&&Fp(n)}function WC(r,e,n){const s=Re(r),o=s.queries.get(e);if(o)for(const u of o.Sa)u.onError(n);s.queries.delete(e)}function Fp(r){r.Ca.forEach((e=>{e.next()}))}var Wm,Y0;(Y0=Wm||(Wm={})).Ma="default",Y0.Cache="cache";class pT{constructor(e,n,s){this.query=e,this.xa=n,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=s||{}}Fa(e){if(!this.options.includeMetadataChanges){const s=[];for(const o of e.docChanges)o.type!==3&&s.push(o);e=new _o(e.query,e.docs,e.oldDocs,s,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),n=!0):this.La(e,this.onlineState)&&(this.ka(e),n=!0),this.Na=e,n}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let n=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),n=!0),n}La(e,n){if(!e.fromCache||!this.Da())return!0;const s=n!=="Offline";return(!this.options.qa||!s)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const n=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}ka(e){e=_o.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==Wm.Cache}}class gT{constructor(e){this.key=e}}class yT{constructor(e){this.key=e}}class ZC{constructor(e,n){this.query=e,this.Ya=n,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=Ue(),this.mutatedKeys=Ue(),this.eu=Vb(e),this.tu=new ao(this.eu)}get nu(){return this.Ya}ru(e,n){const s=n?n.iu:new Q0,o=n?n.tu:this.tu;let u=n?n.mutatedKeys:this.mutatedKeys,f=o,m=!1;const p=this.query.limitType==="F"&&o.size===this.query.limit?o.last():null,g=this.query.limitType==="L"&&o.size===this.query.limit?o.first():null;if(e.inorderTraversal(((b,T)=>{const w=o.get(b),j=Xh(this.query,T)?T:null,F=!!w&&this.mutatedKeys.has(w.key),K=!!j&&(j.hasLocalMutations||this.mutatedKeys.has(j.key)&&j.hasCommittedMutations);let k=!1;w&&j?w.data.isEqual(j.data)?F!==K&&(s.track({type:3,doc:j}),k=!0):this.su(w,j)||(s.track({type:2,doc:j}),k=!0,(p&&this.eu(j,p)>0||g&&this.eu(j,g)<0)&&(m=!0)):!w&&j?(s.track({type:0,doc:j}),k=!0):w&&!j&&(s.track({type:1,doc:w}),k=!0,(p||g)&&(m=!0)),k&&(j?(f=f.add(j),u=K?u.add(b):u.delete(b)):(f=f.delete(b),u=u.delete(b)))})),this.query.limit!==null)for(;f.size>this.query.limit;){const b=this.query.limitType==="F"?f.last():f.first();f=f.delete(b.key),u=u.delete(b.key),s.track({type:1,doc:b})}return{tu:f,iu:s,Cs:m,mutatedKeys:u}}su(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,s,o){const u=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const f=e.iu.ya();f.sort(((b,T)=>(function(j,F){const K=k=>{switch(k){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return be(20277,{Rt:k})}};return K(j)-K(F)})(b.type,T.type)||this.eu(b.doc,T.doc))),this.ou(s),o=o??!1;const m=n&&!o?this._u():[],p=this.Xa.size===0&&this.current&&!o?1:0,g=p!==this.Za;return this.Za=p,f.length!==0||g?{snapshot:new _o(this.query,e.tu,u,f,e.mutatedKeys,p===0,g,!1,!!s&&s.resumeToken.approximateByteSize()>0),au:m}:{au:m}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new Q0,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(e){return!this.Ya.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach((n=>this.Ya=this.Ya.add(n))),e.modifiedDocuments.forEach((n=>{})),e.removedDocuments.forEach((n=>this.Ya=this.Ya.delete(n))),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Xa;this.Xa=Ue(),this.tu.forEach((s=>{this.uu(s.key)&&(this.Xa=this.Xa.add(s.key))}));const n=[];return e.forEach((s=>{this.Xa.has(s)||n.push(new yT(s))})),this.Xa.forEach((s=>{e.has(s)||n.push(new gT(s))})),n}cu(e){this.Ya=e.Qs,this.Xa=Ue();const n=this.ru(e.documents);return this.applyChanges(n,!0)}lu(){return _o.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const Gp="SyncEngine";class eI{constructor(e,n,s){this.query=e,this.targetId=n,this.view=s}}class tI{constructor(e){this.key=e,this.hu=!1}}class nI{constructor(e,n,s,o,u,f){this.localStore=e,this.remoteStore=n,this.eventManager=s,this.sharedClientState=o,this.currentUser=u,this.maxConcurrentLimboResolutions=f,this.Pu={},this.Tu=new oa((m=>Mb(m)),$h),this.Iu=new Map,this.Eu=new Set,this.du=new dt(ge.comparator),this.Au=new Map,this.Ru=new Vp,this.Vu={},this.mu=new Map,this.fu=yo.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function iI(r,e,n=!0){const s=ST(r);let o;const u=s.Tu.get(e);return u?(s.sharedClientState.addLocalQueryTarget(u.targetId),o=u.view.lu()):o=await _T(s,e,n,!0),o}async function rI(r,e){const n=ST(r);await _T(n,e,!0,!1)}async function _T(r,e,n,s){const o=await AC(r.localStore,Oi(e)),u=o.targetId,f=r.sharedClientState.addLocalQueryTarget(u,n);let m;return s&&(m=await sI(r,e,u,f==="current",o.resumeToken)),r.isPrimaryClient&&n&&oT(r.remoteStore,o),m}async function sI(r,e,n,s,o){r.pu=(T,w,j)=>(async function(K,k,X,ie){let Z=k.view.ru(X);Z.Cs&&(Z=await z0(K.localStore,k.query,!1).then((({documents:R})=>k.view.ru(R,Z))));const ye=ie&&ie.targetChanges.get(k.targetId),Se=ie&&ie.targetMismatches.get(k.targetId)!=null,ae=k.view.applyChanges(Z,K.isPrimaryClient,ye,Se);return X0(K,k.targetId,ae.au),ae.snapshot})(r,T,w,j);const u=await z0(r.localStore,e,!0),f=new ZC(e,u.Qs),m=f.ru(u.documents),p=pu.createSynthesizedTargetChangeForCurrentChange(n,s&&r.onlineState!=="Offline",o),g=f.applyChanges(m,r.isPrimaryClient,p);X0(r,n,g.au);const b=new eI(e,n,f);return r.Tu.set(e,b),r.Iu.has(n)?r.Iu.get(n).push(e):r.Iu.set(n,[e]),g.snapshot}async function aI(r,e,n){const s=Re(r),o=s.Tu.get(e),u=s.Iu.get(o.targetId);if(u.length>1)return s.Iu.set(o.targetId,u.filter((f=>!$h(f,e)))),void s.Tu.delete(e);s.isPrimaryClient?(s.sharedClientState.removeLocalQueryTarget(o.targetId),s.sharedClientState.isActiveQueryTarget(o.targetId)||await Xm(s.localStore,o.targetId,!1).then((()=>{s.sharedClientState.clearQueryState(o.targetId),n&&Lp(s.remoteStore,o.targetId),Zm(s,o.targetId)})).catch(wo)):(Zm(s,o.targetId),await Xm(s.localStore,o.targetId,!0))}async function oI(r,e){const n=Re(r),s=n.Tu.get(e),o=n.Iu.get(s.targetId);n.isPrimaryClient&&o.length===1&&(n.sharedClientState.removeLocalQueryTarget(s.targetId),Lp(n.remoteStore,s.targetId))}async function lI(r,e,n){const s=pI(r);try{const o=await(function(f,m){const p=Re(f),g=lt.now(),b=m.reduce(((j,F)=>j.add(F.key)),Ue());let T,w;return p.persistence.runTransaction("Locally write mutations","readwrite",(j=>{let F=fr(),K=Ue();return p.Ns.getEntries(j,b).next((k=>{F=k,F.forEach(((X,ie)=>{ie.isValidDocument()||(K=K.add(X))}))})).next((()=>p.localDocuments.getOverlayedDocuments(j,F))).next((k=>{T=k;const X=[];for(const ie of m){const Z=SR(ie,T.get(ie.key).overlayedDocument);Z!=null&&X.push(new ps(ie.key,Z,wb(Z.value.mapValue),Fn.exists(!0)))}return p.mutationQueue.addMutationBatch(j,g,X,m)})).next((k=>{w=k;const X=k.applyToLocalDocumentSet(T,K);return p.documentOverlayCache.saveOverlays(j,k.batchId,X)}))})).then((()=>({batchId:w.batchId,changes:kb(T)})))})(s.localStore,e);s.sharedClientState.addPendingMutation(o.batchId),(function(f,m,p){let g=f.Vu[f.currentUser.toKey()];g||(g=new dt(Le)),g=g.insert(m,p),f.Vu[f.currentUser.toKey()]=g})(s,o.batchId,n),await yu(s,o.changes),await nf(s.remoteStore)}catch(o){const u=Hp(o,"Failed to persist write");n.reject(u)}}async function vT(r,e){const n=Re(r);try{const s=await bC(n.localStore,e);e.targetChanges.forEach(((o,u)=>{const f=n.Au.get(u);f&&(Ke(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1,22616),o.addedDocuments.size>0?f.hu=!0:o.modifiedDocuments.size>0?Ke(f.hu,14607):o.removedDocuments.size>0&&(Ke(f.hu,42227),f.hu=!1))})),await yu(n,s,e)}catch(s){await wo(s)}}function $0(r,e,n){const s=Re(r);if(s.isPrimaryClient&&n===0||!s.isPrimaryClient&&n===1){const o=[];s.Tu.forEach(((u,f)=>{const m=f.view.va(e);m.snapshot&&o.push(m.snapshot)})),(function(f,m){const p=Re(f);p.onlineState=m;let g=!1;p.queries.forEach(((b,T)=>{for(const w of T.Sa)w.va(m)&&(g=!0)})),g&&Fp(p)})(s.eventManager,e),o.length&&s.Pu.H_(o),s.onlineState=e,s.isPrimaryClient&&s.sharedClientState.setOnlineState(e)}}async function uI(r,e,n){const s=Re(r);s.sharedClientState.updateQueryState(e,"rejected",n);const o=s.Au.get(e),u=o&&o.key;if(u){let f=new dt(ge.comparator);f=f.insert(u,en.newNoDocument(u,Ae.min()));const m=Ue().add(u),p=new Zh(Ae.min(),new Map,new dt(Le),f,m);await vT(s,p),s.du=s.du.remove(u),s.Au.delete(e),Qp(s)}else await Xm(s.localStore,e,!1).then((()=>Zm(s,e,n))).catch(wo)}async function cI(r,e){const n=Re(r),s=e.batch.batchId;try{const o=await EC(n.localStore,e);bT(n,s,null),ET(n,s),n.sharedClientState.updateMutationState(s,"acknowledged"),await yu(n,o)}catch(o){await wo(o)}}async function hI(r,e,n){const s=Re(r);try{const o=await(function(f,m){const p=Re(f);return p.persistence.runTransaction("Reject batch","readwrite-primary",(g=>{let b;return p.mutationQueue.lookupMutationBatch(g,m).next((T=>(Ke(T!==null,37113),b=T.keys(),p.mutationQueue.removeMutationBatch(g,T)))).next((()=>p.mutationQueue.performConsistencyCheck(g))).next((()=>p.documentOverlayCache.removeOverlaysForBatchId(g,b,m))).next((()=>p.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(g,b))).next((()=>p.localDocuments.getDocuments(g,b)))}))})(s.localStore,e);bT(s,e,n),ET(s,e),s.sharedClientState.updateMutationState(e,"rejected",n),await yu(s,o)}catch(o){await wo(o)}}function ET(r,e){(r.mu.get(e)||[]).forEach((n=>{n.resolve()})),r.mu.delete(e)}function bT(r,e,n){const s=Re(r);let o=s.Vu[s.currentUser.toKey()];if(o){const u=o.get(e);u&&(n?u.reject(n):u.resolve(),o=o.remove(e)),s.Vu[s.currentUser.toKey()]=o}}function Zm(r,e,n=null){r.sharedClientState.removeLocalQueryTarget(e);for(const s of r.Iu.get(e))r.Tu.delete(s),n&&r.Pu.yu(s,n);r.Iu.delete(e),r.isPrimaryClient&&r.Ru.jr(e).forEach((s=>{r.Ru.containsKey(s)||TT(r,s)}))}function TT(r,e){r.Eu.delete(e.path.canonicalString());const n=r.du.get(e);n!==null&&(Lp(r.remoteStore,n),r.du=r.du.remove(e),r.Au.delete(n),Qp(r))}function X0(r,e,n){for(const s of n)s instanceof gT?(r.Ru.addReference(s.key,e),fI(r,s)):s instanceof yT?(he(Gp,"Document no longer in limbo: "+s.key),r.Ru.removeReference(s.key,e),r.Ru.containsKey(s.key)||TT(r,s.key)):be(19791,{wu:s})}function fI(r,e){const n=e.key,s=n.path.canonicalString();r.du.get(n)||r.Eu.has(s)||(he(Gp,"New document in limbo: "+n),r.Eu.add(s),Qp(r))}function Qp(r){for(;r.Eu.size>0&&r.du.size<r.maxConcurrentLimboResolutions;){const e=r.Eu.values().next().value;r.Eu.delete(e);const n=new ge(rt.fromString(e)),s=r.fu.next();r.Au.set(s,new tI(n)),r.du=r.du.insert(n,s),oT(r.remoteStore,new Zr(Oi(Yh(n.path)),s,"TargetPurposeLimboResolution",Gh.ce))}}async function yu(r,e,n){const s=Re(r),o=[],u=[],f=[];s.Tu.isEmpty()||(s.Tu.forEach(((m,p)=>{f.push(s.pu(p,e,n).then((g=>{if((g||n)&&s.isPrimaryClient){const b=g?!g.fromCache:n?.targetChanges.get(p.targetId)?.current;s.sharedClientState.updateQueryState(p.targetId,b?"current":"not-current")}if(g){o.push(g);const b=kp.As(p.targetId,g);u.push(b)}})))})),await Promise.all(f),s.Pu.H_(o),await(async function(p,g){const b=Re(p);try{await b.persistence.runTransaction("notifyLocalViewChanges","readwrite",(T=>re.forEach(g,(w=>re.forEach(w.Es,(j=>b.persistence.referenceDelegate.addReference(T,w.targetId,j))).next((()=>re.forEach(w.ds,(j=>b.persistence.referenceDelegate.removeReference(T,w.targetId,j)))))))))}catch(T){if(!xo(T))throw T;he(Pp,"Failed to update sequence numbers: "+T)}for(const T of g){const w=T.targetId;if(!T.fromCache){const j=b.Ms.get(w),F=j.snapshotVersion,K=j.withLastLimboFreeSnapshotVersion(F);b.Ms=b.Ms.insert(w,K)}}})(s.localStore,u))}async function dI(r,e){const n=Re(r);if(!n.currentUser.isEqual(e)){he(Gp,"User change. New user:",e.toKey());const s=await iT(n.localStore,e);n.currentUser=e,(function(u,f){u.mu.forEach((m=>{m.forEach((p=>{p.reject(new ue(te.CANCELLED,f))}))})),u.mu.clear()})(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,s.removedBatchIds,s.addedBatchIds),await yu(n,s.Ls)}}function mI(r,e){const n=Re(r),s=n.Au.get(e);if(s&&s.hu)return Ue().add(s.key);{let o=Ue();const u=n.Iu.get(e);if(!u)return o;for(const f of u){const m=n.Tu.get(f);o=o.unionWith(m.view.nu)}return o}}function ST(r){const e=Re(r);return e.remoteStore.remoteSyncer.applyRemoteEvent=vT.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=mI.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=uI.bind(null,e),e.Pu.H_=JC.bind(null,e.eventManager),e.Pu.yu=WC.bind(null,e.eventManager),e}function pI(r){const e=Re(r);return e.remoteStore.remoteSyncer.applySuccessfulWrite=cI.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=hI.bind(null,e),e}class Dh{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=ef(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,n){return null}Mu(e,n){return null}vu(e){return vC(this.persistence,new gC,e.initialUser,this.serializer)}Cu(e){return new nT(jp.mi,this.serializer)}Du(e){return new xC}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Dh.provider={build:()=>new Dh};class gI extends Dh{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,n){Ke(this.persistence.referenceDelegate instanceof Ih,46915);const s=this.persistence.referenceDelegate.garbageCollector;return new tC(s,e.asyncQueue,n)}Cu(e){const n=this.cacheSizeBytes!==void 0?mn.withCacheSize(this.cacheSizeBytes):mn.DEFAULT;return new nT((s=>Ih.mi(s,n)),this.serializer)}}class ep{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=s=>$0(this.syncEngine,s,1),this.remoteStore.remoteSyncer.handleCredentialChange=dI.bind(null,this.syncEngine),await YC(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new XC})()}createDatastore(e){const n=ef(e.databaseInfo.databaseId),s=(function(u){return new DC(u)})(e.databaseInfo);return(function(u,f,m,p){return new jC(u,f,m,p)})(e.authCredentials,e.appCheckCredentials,s,n)}createRemoteStore(e){return(function(s,o,u,f,m){return new PC(s,o,u,f,m)})(this.localStore,this.datastore,e.asyncQueue,(n=>$0(this.syncEngine,n,0)),(function(){return H0.v()?new H0:new RC})())}createSyncEngine(e,n){return(function(o,u,f,m,p,g,b){const T=new nI(o,u,f,m,p,g);return b&&(T.gu=!0),T})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){await(async function(n){const s=Re(n);he(ta,"RemoteStore shutting down."),s.Ea.add(5),await gu(s),s.Aa.shutdown(),s.Ra.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}ep.provider={build:()=>new ep};class AT{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):hr("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,n){setTimeout((()=>{this.muted||e(n)}),0)}}const hs="FirestoreClient";class yI{constructor(e,n,s,o,u){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=s,this.databaseInfo=o,this.user=Zt.UNAUTHENTICATED,this.clientId=Sp.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=u,this.authCredentials.start(s,(async f=>{he(hs,"Received user=",f.uid),await this.authCredentialListener(f),this.user=f})),this.appCheckCredentials.start(s,(f=>(he(hs,"Received new app check token=",f),this.appCheckCredentialListener(f,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new rs;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const s=Hp(n,"Failed to shutdown persistence");e.reject(s)}})),e.promise}}async function Cm(r,e){r.asyncQueue.verifyOperationInProgress(),he(hs,"Initializing OfflineComponentProvider");const n=r.configuration;await e.initialize(n);let s=n.initialUser;r.setCredentialChangeListener((async o=>{s.isEqual(o)||(await iT(e.localStore,o),s=o)})),e.persistence.setDatabaseDeletedListener((()=>r.terminate())),r._offlineComponents=e}async function J0(r,e){r.asyncQueue.verifyOperationInProgress();const n=await _I(r);he(hs,"Initializing OnlineComponentProvider"),await e.initialize(n,r.configuration),r.setCredentialChangeListener((s=>G0(e.remoteStore,s))),r.setAppCheckTokenChangeListener(((s,o)=>G0(e.remoteStore,o))),r._onlineComponents=e}async function _I(r){if(!r._offlineComponents)if(r._uninitializedComponentsProvider){he(hs,"Using user provided OfflineComponentProvider");try{await Cm(r,r._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!(function(o){return o.name==="FirebaseError"?o.code===te.FAILED_PRECONDITION||o.code===te.UNIMPLEMENTED:!(typeof DOMException<"u"&&o instanceof DOMException)||o.code===22||o.code===20||o.code===11})(n))throw n;fo("Error using user provided cache. Falling back to memory cache: "+n),await Cm(r,new Dh)}}else he(hs,"Using default OfflineComponentProvider"),await Cm(r,new gI(void 0));return r._offlineComponents}async function wT(r){return r._onlineComponents||(r._uninitializedComponentsProvider?(he(hs,"Using user provided OnlineComponentProvider"),await J0(r,r._uninitializedComponentsProvider._online)):(he(hs,"Using default OnlineComponentProvider"),await J0(r,new ep))),r._onlineComponents}function vI(r){return wT(r).then((e=>e.syncEngine))}async function tp(r){const e=await wT(r),n=e.eventManager;return n.onListen=iI.bind(null,e.syncEngine),n.onUnlisten=aI.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=rI.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=oI.bind(null,e.syncEngine),n}function EI(r,e,n={}){const s=new rs;return r.asyncQueue.enqueueAndForget((async()=>(function(u,f,m,p,g){const b=new AT({next:w=>{b.Nu(),f.enqueueAndForget((()=>mT(u,T)));const j=w.docs.has(m);!j&&w.fromCache?g.reject(new ue(te.UNAVAILABLE,"Failed to get document because the client is offline.")):j&&w.fromCache&&p&&p.source==="server"?g.reject(new ue(te.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):g.resolve(w)},error:w=>g.reject(w)}),T=new pT(Yh(m.path),b,{includeMetadataChanges:!0,qa:!0});return dT(u,T)})(await tp(r),r.asyncQueue,e,n,s))),s.promise}function xT(r){const e={};return r.timeoutSeconds!==void 0&&(e.timeoutSeconds=r.timeoutSeconds),e}const W0=new Map;const RT="firestore.googleapis.com",Z0=!0;class eE{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new ue(te.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=RT,this.ssl=Z0}else this.host=e.host,this.ssl=e.ssl??Z0;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=tT;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<ZR)throw new ue(te.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}P2("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=xT(e.experimentalLongPollingOptions??{}),(function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new ue(te.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new ue(te.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new ue(te.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(s,o){return s.timeoutSeconds===o.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class rf{constructor(e,n,s,o){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=s,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new eE({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new ue(te.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new ue(te.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new eE(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(s){if(!s)return new R2;switch(s.type){case"firstParty":return new D2(s.sessionIndex||"0",s.iamToken||null,s.authTokenFactory||null);case"provider":return s.client;default:throw new ue(te.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(n){const s=W0.get(n);s&&(he("ComponentProvider","Removing Datastore"),W0.delete(n),s.terminate())})(this),Promise.resolve()}}function bI(r,e,n,s={}){r=Hn(r,rf);const o=To(e),u=r._getSettings(),f={...u,emulatorOptions:r._getEmulatorOptions()},m=`${e}:${n}`;o&&(WE(`https://${m}`),ZE("Firestore",!0)),u.host!==RT&&u.host!==m&&fo("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const p={...u,host:m,ssl:o,emulatorOptions:s};if(!Ws(p,f)&&(r._setSettings(p),s.mockUserToken)){let g,b;if(typeof s.mockUserToken=="string")g=s.mockUserToken,b=Zt.MOCK_USER;else{g=Ww(s.mockUserToken,r._app?.options.projectId);const T=s.mockUserToken.sub||s.mockUserToken.user_id;if(!T)throw new ue(te.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");b=new Zt(T)}r._authCredentials=new C2(new db(g,b))}}class ua{constructor(e,n,s){this.converter=n,this._query=s,this.type="query",this.firestore=e}withConverter(e){return new ua(this.firestore,e,this._query)}}class gt{constructor(e,n,s){this.converter=n,this._key=s,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new ss(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new gt(this.firestore,e,this._key)}toJSON(){return{type:gt._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,n,s){if(du(n,gt._jsonSchema))return new gt(e,s||null,new ge(rt.fromString(n.referencePath)))}}gt._jsonSchemaVersion="firestore/documentReference/1.0",gt._jsonSchema={type:Mt("string",gt._jsonSchemaVersion),referencePath:Mt("string")};class ss extends ua{constructor(e,n,s){super(e,n,Yh(s)),this._path=s,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new gt(this.firestore,null,new ge(e))}withConverter(e){return new ss(this.firestore,e,this._path)}}function Pl(r,e,...n){if(r=Pt(r),mb("collection","path",e),r instanceof rf){const s=rt.fromString(e,...n);return d0(s),new ss(r,null,s)}{if(!(r instanceof gt||r instanceof ss))throw new ue(te.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=r._path.child(rt.fromString(e,...n));return d0(s),new ss(r.firestore,null,s)}}function ro(r,e,...n){if(r=Pt(r),arguments.length===1&&(e=Sp.newId()),mb("doc","path",e),r instanceof rf){const s=rt.fromString(e,...n);return f0(s),new gt(r,null,new ge(s))}{if(!(r instanceof gt||r instanceof ss))throw new ue(te.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=r._path.child(rt.fromString(e,...n));return f0(s),new gt(r.firestore,r instanceof ss?r.converter:null,new ge(s))}}const tE="AsyncQueue";class nE{constructor(e=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new sT(this,"async_queue_retry"),this._c=()=>{const s=Rm();s&&he(tE,"Visibility state changed to "+s.visibilityState),this.M_.w_()},this.ac=e;const n=Rm();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const n=Rm();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise((()=>{}));const n=new rs;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise))).then((()=>n.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Xu.push(e),this.lc())))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(e){if(!xo(e))throw e;he(tE,"Operation failed with retryable error: "+e)}this.Xu.length>0&&this.M_.p_((()=>this.lc()))}}cc(e){const n=this.ac.then((()=>(this.rc=!0,e().catch((s=>{throw this.nc=s,this.rc=!1,hr("INTERNAL UNHANDLED ERROR: ",iE(s)),s})).then((s=>(this.rc=!1,s))))));return this.ac=n,n}enqueueAfterDelay(e,n,s){this.uc(),this.oc.indexOf(e)>-1&&(n=0);const o=qp.createAndSchedule(this,e,n,s,(u=>this.hc(u)));return this.tc.push(o),o}uc(){this.nc&&be(47125,{Pc:iE(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const n of this.tc)if(n.timerId===e)return!0;return!1}Ec(e){return this.Tc().then((()=>{this.tc.sort(((n,s)=>n.targetTimeMs-s.targetTimeMs));for(const n of this.tc)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Tc()}))}dc(e){this.oc.push(e)}hc(e){const n=this.tc.indexOf(e);this.tc.splice(n,1)}}function iE(r){let e=r.message||"";return r.stack&&(e=r.stack.includes(r.message)?r.stack:r.message+`
`+r.stack),e}function rE(r){return(function(n,s){if(typeof n!="object"||n===null)return!1;const o=n;for(const u of s)if(u in o&&typeof o[u]=="function")return!0;return!1})(r,["next","error","complete"])}class fs extends rf{constructor(e,n,s,o){super(e,n,s,o),this.type="firestore",this._queue=new nE,this._persistenceKey=o?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new nE(e),this._firestoreClient=void 0,await e}}}function TI(r,e){const n=typeof r=="object"?r:ib(),s=typeof r=="string"?r:Sh,o=bp(n,"firestore").getImmediate({identifier:s});if(!o._initialized){const u=Xw("firestore");u&&bI(o,...u)}return o}function Kp(r){if(r._terminated)throw new ue(te.FAILED_PRECONDITION,"The client has already been terminated.");return r._firestoreClient||SI(r),r._firestoreClient}function SI(r){const e=r._freezeSettings(),n=(function(o,u,f,m){return new Y2(o,u,f,m.host,m.ssl,m.experimentalForceLongPolling,m.experimentalAutoDetectLongPolling,xT(m.experimentalLongPollingOptions),m.useFetchStreams,m.isUsingEmulator)})(r._databaseId,r._app?.options.appId||"",r._persistenceKey,e);r._componentsProvider||e.localCache?._offlineComponentProvider&&e.localCache?._onlineComponentProvider&&(r._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),r._firestoreClient=new yI(r._authCredentials,r._appCheckCredentials,r._queue,n,r._componentsProvider&&(function(o){const u=o?._online.build();return{_offline:o?._offline.build(u),_online:u}})(r._componentsProvider))}class qn{constructor(e){this._byteString=e}static fromBase64String(e){try{return new qn(Xt.fromBase64String(e))}catch(n){throw new ue(te.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new qn(Xt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:qn._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(du(e,qn._jsonSchema))return qn.fromBase64String(e.bytes)}}qn._jsonSchemaVersion="firestore/bytes/1.0",qn._jsonSchema={type:Mt("string",qn._jsonSchemaVersion),bytes:Mt("string")};class sf{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new ue(te.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new $t(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class Yp{constructor(e){this._methodName=e}}class Vi{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new ue(te.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new ue(te.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return Le(this._lat,e._lat)||Le(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:Vi._jsonSchemaVersion}}static fromJSON(e){if(du(e,Vi._jsonSchema))return new Vi(e.latitude,e.longitude)}}Vi._jsonSchemaVersion="firestore/geoPoint/1.0",Vi._jsonSchema={type:Mt("string",Vi._jsonSchemaVersion),latitude:Mt("number"),longitude:Mt("number")};class ji{constructor(e){this._values=(e||[]).map((n=>n))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(s,o){if(s.length!==o.length)return!1;for(let u=0;u<s.length;++u)if(s[u]!==o[u])return!1;return!0})(this._values,e._values)}toJSON(){return{type:ji._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(du(e,ji._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every((n=>typeof n=="number")))return new ji(e.vectorValues);throw new ue(te.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}ji._jsonSchemaVersion="firestore/vectorValue/1.0",ji._jsonSchema={type:Mt("string",ji._jsonSchemaVersion),vectorValues:Mt("object")};const AI=/^__.*__$/;class wI{constructor(e,n,s){this.data=e,this.fieldMask=n,this.fieldTransforms=s}toMutation(e,n){return this.fieldMask!==null?new ps(e,this.data,this.fieldMask,n,this.fieldTransforms):new mu(e,this.data,n,this.fieldTransforms)}}class CT{constructor(e,n,s){this.data=e,this.fieldMask=n,this.fieldTransforms=s}toMutation(e,n){return new ps(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function IT(r){switch(r){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw be(40011,{Ac:r})}}class $p{constructor(e,n,s,o,u,f){this.settings=e,this.databaseId=n,this.serializer=s,this.ignoreUndefinedProperties=o,u===void 0&&this.Rc(),this.fieldTransforms=u||[],this.fieldMask=f||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(e){return new $p({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(e){const n=this.path?.child(e),s=this.Vc({path:n,fc:!1});return s.gc(e),s}yc(e){const n=this.path?.child(e),s=this.Vc({path:n,fc:!1});return s.Rc(),s}wc(e){return this.Vc({path:void 0,fc:!0})}Sc(e){return Oh(e,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(e){return this.fieldMask.find((n=>e.isPrefixOf(n)))!==void 0||this.fieldTransforms.find((n=>e.isPrefixOf(n.field)))!==void 0}Rc(){if(this.path)for(let e=0;e<this.path.length;e++)this.gc(this.path.get(e))}gc(e){if(e.length===0)throw this.Sc("Document fields must not be empty");if(IT(this.Ac)&&AI.test(e))throw this.Sc('Document fields cannot begin and end with "__"')}}class xI{constructor(e,n,s){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=s||ef(e)}Cc(e,n,s,o=!1){return new $p({Ac:e,methodName:n,Dc:s,path:$t.emptyPath(),fc:!1,bc:o},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function af(r){const e=r._freezeSettings(),n=ef(r._databaseId);return new xI(r._databaseId,!!e.ignoreUndefinedProperties,n)}function NT(r,e,n,s,o,u={}){const f=r.Cc(u.merge||u.mergeFields?2:0,e,n,o);Xp("Data must be an object, but it was:",f,s);const m=DT(s,f);let p,g;if(u.merge)p=new wn(f.fieldMask),g=f.fieldTransforms;else if(u.mergeFields){const b=[];for(const T of u.mergeFields){const w=np(e,T,n);if(!f.contains(w))throw new ue(te.INVALID_ARGUMENT,`Field '${w}' is specified in your field mask but missing from your input data.`);MT(b,w)||b.push(w)}p=new wn(b),g=f.fieldTransforms.filter((T=>p.covers(T.field)))}else p=null,g=f.fieldTransforms;return new wI(new pn(m),p,g)}class of extends Yp{_toFieldTransform(e){if(e.Ac!==2)throw e.Ac===1?e.Sc(`${this._methodName}() can only appear at the top level of your update data`):e.Sc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof of}}function RI(r,e,n,s){const o=r.Cc(1,e,n);Xp("Data must be an object, but it was:",o,s);const u=[],f=pn.empty();ms(s,((p,g)=>{const b=Jp(e,p,n);g=Pt(g);const T=o.yc(b);if(g instanceof of)u.push(b);else{const w=_u(g,T);w!=null&&(u.push(b),f.set(b,w))}}));const m=new wn(u);return new CT(f,m,o.fieldTransforms)}function CI(r,e,n,s,o,u){const f=r.Cc(1,e,n),m=[np(e,s,n)],p=[o];if(u.length%2!=0)throw new ue(te.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let w=0;w<u.length;w+=2)m.push(np(e,u[w])),p.push(u[w+1]);const g=[],b=pn.empty();for(let w=m.length-1;w>=0;--w)if(!MT(g,m[w])){const j=m[w];let F=p[w];F=Pt(F);const K=f.yc(j);if(F instanceof of)g.push(j);else{const k=_u(F,K);k!=null&&(g.push(j),b.set(j,k))}}const T=new wn(g);return new CT(b,T,f.fieldTransforms)}function II(r,e,n,s=!1){return _u(n,r.Cc(s?4:3,e))}function _u(r,e){if(OT(r=Pt(r)))return Xp("Unsupported field value:",e,r),DT(r,e);if(r instanceof Yp)return(function(s,o){if(!IT(o.Ac))throw o.Sc(`${s._methodName}() can only be used with update() and set()`);if(!o.path)throw o.Sc(`${s._methodName}() is not currently supported inside arrays`);const u=s._toFieldTransform(o);u&&o.fieldTransforms.push(u)})(r,e),null;if(r===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),r instanceof Array){if(e.settings.fc&&e.Ac!==4)throw e.Sc("Nested arrays are not supported");return(function(s,o){const u=[];let f=0;for(const m of s){let p=_u(m,o.wc(f));p==null&&(p={nullValue:"NULL_VALUE"}),u.push(p),f++}return{arrayValue:{values:u}}})(r,e)}return(function(s,o){if((s=Pt(s))===null)return{nullValue:"NULL_VALUE"};if(typeof s=="number")return yR(o.serializer,s);if(typeof s=="boolean")return{booleanValue:s};if(typeof s=="string")return{stringValue:s};if(s instanceof Date){const u=lt.fromDate(s);return{timestampValue:Ch(o.serializer,u)}}if(s instanceof lt){const u=new lt(s.seconds,1e3*Math.floor(s.nanoseconds/1e3));return{timestampValue:Ch(o.serializer,u)}}if(s instanceof Vi)return{geoPointValue:{latitude:s.latitude,longitude:s.longitude}};if(s instanceof qn)return{bytesValue:Yb(o.serializer,s._byteString)};if(s instanceof gt){const u=o.databaseId,f=s.firestore._databaseId;if(!f.isEqual(u))throw o.Sc(`Document reference is for database ${f.projectId}/${f.database} but should be for database ${u.projectId}/${u.database}`);return{referenceValue:Mp(s.firestore._databaseId||o.databaseId,s._key.path)}}if(s instanceof ji)return(function(f,m){return{mapValue:{fields:{[Sb]:{stringValue:Ab},[Ah]:{arrayValue:{values:f.toArray().map((g=>{if(typeof g!="number")throw m.Sc("VectorValues must only contain numeric values.");return Ip(m.serializer,g)}))}}}}}})(s,o);throw o.Sc(`Unsupported field value: ${Fh(s)}`)})(r,e)}function DT(r,e){const n={};return yb(r)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):ms(r,((s,o)=>{const u=_u(o,e.mc(s));u!=null&&(n[s]=u)})),{mapValue:{fields:n}}}function OT(r){return!(typeof r!="object"||r===null||r instanceof Array||r instanceof Date||r instanceof lt||r instanceof Vi||r instanceof qn||r instanceof gt||r instanceof Yp||r instanceof ji)}function Xp(r,e,n){if(!OT(n)||!pb(n)){const s=Fh(n);throw s==="an object"?e.Sc(r+" a custom object"):e.Sc(r+" "+s)}}function np(r,e,n){if((e=Pt(e))instanceof sf)return e._internalPath;if(typeof e=="string")return Jp(r,e);throw Oh("Field path arguments must be of type string or ",r,!1,void 0,n)}const NI=new RegExp("[~\\*/\\[\\]]");function Jp(r,e,n){if(e.search(NI)>=0)throw Oh(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,r,!1,void 0,n);try{return new sf(...e.split("."))._internalPath}catch{throw Oh(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,r,!1,void 0,n)}}function Oh(r,e,n,s,o){const u=s&&!s.isEmpty(),f=o!==void 0;let m=`Function ${e}() called with invalid data`;n&&(m+=" (via `toFirestore()`)"),m+=". ";let p="";return(u||f)&&(p+=" (found",u&&(p+=` in field ${s}`),f&&(p+=` in document ${o}`),p+=")"),new ue(te.INVALID_ARGUMENT,m+r+p)}function MT(r,e){return r.some((n=>n.isEqual(e)))}class VT{constructor(e,n,s,o,u){this._firestore=e,this._userDataWriter=n,this._key=s,this._document=o,this._converter=u}get id(){return this._key.path.lastSegment()}get ref(){return new gt(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new DI(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(Wp("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class DI extends VT{data(){return super.data()}}function Wp(r,e){return typeof e=="string"?Jp(r,e):e instanceof sf?e._internalPath:e._delegate._internalPath}function OI(r){if(r.limitType==="L"&&r.explicitOrderBy.length===0)throw new ue(te.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Zp{}class jT extends Zp{}function MI(r,e,...n){let s=[];e instanceof Zp&&s.push(e),s=s.concat(n),(function(u){const f=u.filter((p=>p instanceof tg)).length,m=u.filter((p=>p instanceof eg)).length;if(f>1||f>0&&m>0)throw new ue(te.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(s);for(const o of s)r=o._apply(r);return r}class eg extends jT{constructor(e,n,s){super(),this._field=e,this._op=n,this._value=s,this.type="where"}static _create(e,n,s){return new eg(e,n,s)}_apply(e){const n=this._parse(e);return kT(e._query,n),new ua(e.firestore,e.converter,Fm(e._query,n))}_parse(e){const n=af(e.firestore);return(function(u,f,m,p,g,b,T){let w;if(g.isKeyField()){if(b==="array-contains"||b==="array-contains-any")throw new ue(te.INVALID_ARGUMENT,`Invalid Query. You can't perform '${b}' queries on documentId().`);if(b==="in"||b==="not-in"){aE(T,b);const F=[];for(const K of T)F.push(sE(p,u,K));w={arrayValue:{values:F}}}else w=sE(p,u,T)}else b!=="in"&&b!=="not-in"&&b!=="array-contains-any"||aE(T,b),w=II(m,f,T,b==="in"||b==="not-in");return Ot.create(g,b,w)})(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}class tg extends Zp{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new tg(e,n)}_parse(e){const n=this._queryConstraints.map((s=>s._parse(e))).filter((s=>s.getFilters().length>0));return n.length===1?n[0]:oi.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:((function(o,u){let f=o;const m=u.getFlattenedFilters();for(const p of m)kT(f,p),f=Fm(f,p)})(e._query,n),new ua(e.firestore,e.converter,Fm(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class ng extends jT{constructor(e,n){super(),this._field=e,this._direction=n,this.type="orderBy"}static _create(e,n){return new ng(e,n)}_apply(e){const n=(function(o,u,f){if(o.startAt!==null)throw new ue(te.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(o.endAt!==null)throw new ue(te.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new iu(u,f)})(e._query,this._field,this._direction);return new ua(e.firestore,e.converter,(function(o,u){const f=o.explicitOrderBy.concat([u]);return new Ro(o.path,o.collectionGroup,f,o.filters.slice(),o.limit,o.limitType,o.startAt,o.endAt)})(e._query,n))}}function VI(r,e="asc"){const n=e,s=Wp("orderBy",r);return ng._create(s,n)}function sE(r,e,n){if(typeof(n=Pt(n))=="string"){if(n==="")throw new ue(te.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!Ob(e)&&n.indexOf("/")!==-1)throw new ue(te.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const s=e.path.child(rt.fromString(n));if(!ge.isDocumentKey(s))throw new ue(te.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${s}' is not because it has an odd number of segments (${s.length}).`);return b0(r,new ge(s))}if(n instanceof gt)return b0(r,n._key);throw new ue(te.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Fh(n)}.`)}function aE(r,e){if(!Array.isArray(r)||r.length===0)throw new ue(te.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function kT(r,e){const n=(function(o,u){for(const f of o)for(const m of f.getFlattenedFilters())if(u.indexOf(m.op)>=0)return m.op;return null})(r.filters,(function(o){switch(o){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(e.op));if(n!==null)throw n===e.op?new ue(te.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new ue(te.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class jI{convertValue(e,n="none"){switch(us(e)){case 0:return null;case 1:return e.booleanValue;case 2:return bt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(ls(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw be(62114,{value:e})}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const s={};return ms(e,((o,u)=>{s[o]=this.convertValue(u,n)})),s}convertVectorValue(e){const n=e.fields?.[Ah].arrayValue?.values?.map((s=>bt(s.doubleValue)));return new ji(n)}convertGeoPoint(e){return new Vi(bt(e.latitude),bt(e.longitude))}convertArray(e,n){return(e.values||[]).map((s=>this.convertValue(s,n)))}convertServerTimestamp(e,n){switch(n){case"previous":const s=Kh(e);return s==null?null:this.convertValue(s,n);case"estimate":return this.convertTimestamp(eu(e));default:return null}}convertTimestamp(e){const n=os(e);return new lt(n.seconds,n.nanos)}convertDocumentKey(e,n){const s=rt.fromString(e);Ke(eT(s),9688,{name:e});const o=new tu(s.get(1),s.get(3)),u=new ge(s.popFirst(5));return o.isEqual(n)||hr(`Document ${u} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),u}}function PT(r,e,n){let s;return s=r?r.toFirestore(e):e,s}class Fl{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Js extends VT{constructor(e,n,s,o,u,f){super(e,n,s,o,f),this._firestore=e,this._firestoreImpl=e,this.metadata=u}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new dh(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const s=this._document.data.field(Wp("DocumentSnapshot.get",e));if(s!==null)return this._userDataWriter.convertValue(s,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new ue(te.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,n={};return n.type=Js._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}}Js._jsonSchemaVersion="firestore/documentSnapshot/1.0",Js._jsonSchema={type:Mt("string",Js._jsonSchemaVersion),bundleSource:Mt("string","DocumentSnapshot"),bundleName:Mt("string"),bundle:Mt("string")};class dh extends Js{data(e={}){return super.data(e)}}class oo{constructor(e,n,s,o){this._firestore=e,this._userDataWriter=n,this._snapshot=o,this.metadata=new Fl(o.hasPendingWrites,o.fromCache),this.query=s}get docs(){const e=[];return this.forEach((n=>e.push(n))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach((s=>{e.call(n,new dh(this._firestore,this._userDataWriter,s.key,s,new Fl(this._snapshot.mutatedKeys.has(s.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new ue(te.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=(function(o,u){if(o._snapshot.oldDocs.isEmpty()){let f=0;return o._snapshot.docChanges.map((m=>{const p=new dh(o._firestore,o._userDataWriter,m.doc.key,m.doc,new Fl(o._snapshot.mutatedKeys.has(m.doc.key),o._snapshot.fromCache),o.query.converter);return m.doc,{type:"added",doc:p,oldIndex:-1,newIndex:f++}}))}{let f=o._snapshot.oldDocs;return o._snapshot.docChanges.filter((m=>u||m.type!==3)).map((m=>{const p=new dh(o._firestore,o._userDataWriter,m.doc.key,m.doc,new Fl(o._snapshot.mutatedKeys.has(m.doc.key),o._snapshot.fromCache),o.query.converter);let g=-1,b=-1;return m.type!==0&&(g=f.indexOf(m.doc.key),f=f.delete(m.doc.key)),m.type!==1&&(f=f.add(m.doc),b=f.indexOf(m.doc.key)),{type:kI(m.type),doc:p,oldIndex:g,newIndex:b}}))}})(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new ue(te.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=oo._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=Sp.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const n=[],s=[],o=[];return this.docs.forEach((u=>{u._document!==null&&(n.push(u._document),s.push(this._userDataWriter.convertObjectMap(u._document.data.value.mapValue.fields,"previous")),o.push(u.ref.path))})),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function kI(r){switch(r){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return be(61501,{type:r})}}function PI(r){r=Hn(r,gt);const e=Hn(r.firestore,fs);return EI(Kp(e),r._key).then((n=>UT(e,r,n)))}oo._jsonSchemaVersion="firestore/querySnapshot/1.0",oo._jsonSchema={type:Mt("string",oo._jsonSchemaVersion),bundleSource:Mt("string","QuerySnapshot"),bundleName:Mt("string"),bundle:Mt("string")};class LT extends jI{constructor(e){super(),this.firestore=e}convertBytes(e){return new qn(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new gt(this.firestore,null,n)}}function ip(r,e,n){r=Hn(r,gt);const s=Hn(r.firestore,fs),o=PT(r.converter,e);return lf(s,[NT(af(s),"setDoc",r._key,o,r.converter!==null,n).toMutation(r._key,Fn.none())])}function LI(r,e,n,...s){r=Hn(r,gt);const o=Hn(r.firestore,fs),u=af(o);let f;return f=typeof(e=Pt(e))=="string"||e instanceof sf?CI(u,"updateDoc",r._key,e,n,s):RI(u,"updateDoc",r._key,e),lf(o,[f.toMutation(r._key,Fn.exists(!0))])}function UI(r){return lf(Hn(r.firestore,fs),[new Np(r._key,Fn.none())])}function zI(r,e){const n=Hn(r.firestore,fs),s=ro(r),o=PT(r.converter,e);return lf(n,[NT(af(r.firestore),"addDoc",s._key,o,r.converter!==null,{}).toMutation(s._key,Fn.exists(!1))]).then((()=>s))}function Ll(r,...e){r=Pt(r);let n={includeMetadataChanges:!1,source:"default"},s=0;typeof e[s]!="object"||rE(e[s])||(n=e[s++]);const o={includeMetadataChanges:n.includeMetadataChanges,source:n.source};if(rE(e[s])){const p=e[s];e[s]=p.next?.bind(p),e[s+1]=p.error?.bind(p),e[s+2]=p.complete?.bind(p)}let u,f,m;if(r instanceof gt)f=Hn(r.firestore,fs),m=Yh(r._key.path),u={next:p=>{e[s]&&e[s](UT(f,r,p))},error:e[s+1],complete:e[s+2]};else{const p=Hn(r,ua);f=Hn(p.firestore,fs),m=p._query;const g=new LT(f);u={next:b=>{e[s]&&e[s](new oo(f,g,p,b))},error:e[s+1],complete:e[s+2]},OI(r._query)}return(function(g,b,T,w){const j=new AT(w),F=new pT(b,j,T);return g.asyncQueue.enqueueAndForget((async()=>dT(await tp(g),F))),()=>{j.Nu(),g.asyncQueue.enqueueAndForget((async()=>mT(await tp(g),F)))}})(Kp(f),m,o,u)}function lf(r,e){return(function(s,o){const u=new rs;return s.asyncQueue.enqueueAndForget((async()=>lI(await vI(s),o,u))),u.promise})(Kp(r),e)}function UT(r,e,n){const s=n.docs.get(e._key),o=new LT(r);return new Js(r,o,e._key,s,new Fl(n.hasPendingWrites,n.fromCache),e.converter)}(function(e,n=!0){(function(o){Ao=o})(So),ho(new Zs("firestore",((s,{instanceIdentifier:o,options:u})=>{const f=s.getProvider("app").getImmediate(),m=new fs(new I2(s.getProvider("auth-internal")),new O2(f,s.getProvider("app-check-internal")),(function(g,b){if(!Object.prototype.hasOwnProperty.apply(g.options,["projectId"]))throw new ue(te.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new tu(g.options.projectId,b)})(f,o),f);return u={useFetchStreams:n,...u},m._setSettings(u),m}),"PUBLIC").setMultipleInstances(!0)),ns(l0,u0,e),ns(l0,u0,"esm2020")})();function zT(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const BI=zT,BT=new hu("auth","Firebase",zT());const Mh=new vp("@firebase/auth");function qI(r,...e){Mh.logLevel<=Pe.WARN&&Mh.warn(`Auth (${So}): ${r}`,...e)}function mh(r,...e){Mh.logLevel<=Pe.ERROR&&Mh.error(`Auth (${So}): ${r}`,...e)}function li(r,...e){throw ig(r,...e)}function ki(r,...e){return ig(r,...e)}function qT(r,e,n){const s={...BI(),[e]:n};return new hu("auth","Firebase",s).create(e,{appName:r.name})}function lr(r){return qT(r,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function ig(r,...e){if(typeof r!="string"){const n=e[0],s=[...e.slice(1)];return s[0]&&(s[0].appName=r.name),r._errorFactory.create(n,...s)}return BT.create(r,...e)}function Ee(r,e,...n){if(!r)throw ig(e,...n)}function sr(r){const e="INTERNAL ASSERTION FAILED: "+r;throw mh(e),new Error(e)}function dr(r,e){r||sr(e)}function rp(){return typeof self<"u"&&self.location?.href||""}function HI(){return oE()==="http:"||oE()==="https:"}function oE(){return typeof self<"u"&&self.location?.protocol||null}function FI(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(HI()||rx()||"connection"in navigator)?navigator.onLine:!0}function GI(){if(typeof navigator>"u")return null;const r=navigator;return r.languages&&r.languages[0]||r.language||null}class vu{constructor(e,n){this.shortDelay=e,this.longDelay=n,dr(n>e,"Short delay should be less than long delay!"),this.isMobile=tx()||sx()}get(){return FI()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function rg(r,e){dr(r.emulator,"Emulator should always be set here");const{url:n}=r.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}class HT{static initialize(e,n,s){this.fetchImpl=e,n&&(this.headersImpl=n),s&&(this.responseImpl=s)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;sr("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;sr("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;sr("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const QI={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};const KI=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],YI=new vu(3e4,6e4);function gs(r,e){return r.tenantId&&!e.tenantId?{...e,tenantId:r.tenantId}:e}async function ys(r,e,n,s,o={}){return FT(r,o,async()=>{let u={},f={};s&&(e==="GET"?f=s:u={body:JSON.stringify(s)});const m=fu({key:r.config.apiKey,...f}).slice(1),p=await r._getAdditionalHeaders();p["Content-Type"]="application/json",r.languageCode&&(p["X-Firebase-Locale"]=r.languageCode);const g={method:e,headers:p,...u};return ix()||(g.referrerPolicy="no-referrer"),r.emulatorConfig&&To(r.emulatorConfig.host)&&(g.credentials="include"),HT.fetch()(await GT(r,r.config.apiHost,n,m),g)})}async function FT(r,e,n){r._canInitEmulator=!1;const s={...QI,...e};try{const o=new XI(r),u=await Promise.race([n(),o.promise]);o.clearNetworkTimeout();const f=await u.json();if("needConfirmation"in f)throw rh(r,"account-exists-with-different-credential",f);if(u.ok&&!("errorMessage"in f))return f;{const m=u.ok?f.errorMessage:f.error.message,[p,g]=m.split(" : ");if(p==="FEDERATED_USER_ID_ALREADY_LINKED")throw rh(r,"credential-already-in-use",f);if(p==="EMAIL_EXISTS")throw rh(r,"email-already-in-use",f);if(p==="USER_DISABLED")throw rh(r,"user-disabled",f);const b=s[p]||p.toLowerCase().replace(/[_\s]+/g,"-");if(g)throw qT(r,b,g);li(r,b)}}catch(o){if(o instanceof mr)throw o;li(r,"network-request-failed",{message:String(o)})}}async function Eu(r,e,n,s,o={}){const u=await ys(r,e,n,s,o);return"mfaPendingCredential"in u&&li(r,"multi-factor-auth-required",{_serverResponse:u}),u}async function GT(r,e,n,s){const o=`${e}${n}?${s}`,u=r,f=u.config.emulator?rg(r.config,o):`${r.config.apiScheme}://${o}`;return KI.includes(n)&&(await u._persistenceManagerAvailable,u._getPersistenceType()==="COOKIE")?u._getPersistence()._getFinalTarget(f).toString():f}function $I(r){switch(r){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class XI{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,s)=>{this.timer=setTimeout(()=>s(ki(this.auth,"network-request-failed")),YI.get())})}}function rh(r,e,n){const s={appName:r.name};n.email&&(s.email=n.email),n.phoneNumber&&(s.phoneNumber=n.phoneNumber);const o=ki(r,e,s);return o.customData._tokenResponse=n,o}function lE(r){return r!==void 0&&r.enterprise!==void 0}class JI{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return $I(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function WI(r,e){return ys(r,"GET","/v2/recaptchaConfig",gs(r,e))}async function ZI(r,e){return ys(r,"POST","/v1/accounts:delete",e)}async function Vh(r,e){return ys(r,"POST","/v1/accounts:lookup",e)}function Xl(r){if(r)try{const e=new Date(Number(r));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function eN(r,e=!1){const n=Pt(r),s=await n.getIdToken(e),o=sg(s);Ee(o&&o.exp&&o.auth_time&&o.iat,n.auth,"internal-error");const u=typeof o.firebase=="object"?o.firebase:void 0,f=u?.sign_in_provider;return{claims:o,token:s,authTime:Xl(Im(o.auth_time)),issuedAtTime:Xl(Im(o.iat)),expirationTime:Xl(Im(o.exp)),signInProvider:f||null,signInSecondFactor:u?.sign_in_second_factor||null}}function Im(r){return Number(r)*1e3}function sg(r){const[e,n,s]=r.split(".");if(e===void 0||n===void 0||s===void 0)return mh("JWT malformed, contained fewer than 3 sections"),null;try{const o=YE(n);return o?JSON.parse(o):(mh("Failed to decode base64 JWT payload"),null)}catch(o){return mh("Caught error parsing JWT payload as JSON",o?.toString()),null}}function uE(r){const e=sg(r);return Ee(e,"internal-error"),Ee(typeof e.exp<"u","internal-error"),Ee(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}async function au(r,e,n=!1){if(n)return e;try{return await e}catch(s){throw s instanceof mr&&tN(s)&&r.auth.currentUser===r&&await r.auth.signOut(),s}}function tN({code:r}){return r==="auth/user-disabled"||r==="auth/user-token-expired"}class nN{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const n=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),n}else{this.errorBackoff=3e4;const s=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,s)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}class sp{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Xl(this.lastLoginAt),this.creationTime=Xl(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}async function jh(r){const e=r.auth,n=await r.getIdToken(),s=await au(r,Vh(e,{idToken:n}));Ee(s?.users.length,e,"internal-error");const o=s.users[0];r._notifyReloadListener(o);const u=o.providerUserInfo?.length?QT(o.providerUserInfo):[],f=rN(r.providerData,u),m=r.isAnonymous,p=!(r.email&&o.passwordHash)&&!f?.length,g=m?p:!1,b={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:f,metadata:new sp(o.createdAt,o.lastLoginAt),isAnonymous:g};Object.assign(r,b)}async function iN(r){const e=Pt(r);await jh(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function rN(r,e){return[...r.filter(s=>!e.some(o=>o.providerId===s.providerId)),...e]}function QT(r){return r.map(({providerId:e,...n})=>({providerId:e,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}))}async function sN(r,e){const n=await FT(r,{},async()=>{const s=fu({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:o,apiKey:u}=r.config,f=await GT(r,o,"/v1/token",`key=${u}`),m=await r._getAdditionalHeaders();m["Content-Type"]="application/x-www-form-urlencoded";const p={method:"POST",headers:m,body:s};return r.emulatorConfig&&To(r.emulatorConfig.host)&&(p.credentials="include"),HT.fetch()(f,p)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function aN(r,e){return ys(r,"POST","/v2/accounts:revokeToken",gs(r,e))}class lo{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Ee(e.idToken,"internal-error"),Ee(typeof e.idToken<"u","internal-error"),Ee(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):uE(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){Ee(e.length!==0,"internal-error");const n=uE(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(Ee(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:s,refreshToken:o,expiresIn:u}=await sN(e,n);this.updateTokensAndExpiration(s,o,Number(u))}updateTokensAndExpiration(e,n,s){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+s*1e3}static fromJSON(e,n){const{refreshToken:s,accessToken:o,expirationTime:u}=n,f=new lo;return s&&(Ee(typeof s=="string","internal-error",{appName:e}),f.refreshToken=s),o&&(Ee(typeof o=="string","internal-error",{appName:e}),f.accessToken=o),u&&(Ee(typeof u=="number","internal-error",{appName:e}),f.expirationTime=u),f}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new lo,this.toJSON())}_performRefresh(){return sr("not implemented")}}function Yr(r,e){Ee(typeof r=="string"||typeof r>"u","internal-error",{appName:e})}class ai{constructor({uid:e,auth:n,stsTokenManager:s,...o}){this.providerId="firebase",this.proactiveRefresh=new nN(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=n,this.stsTokenManager=s,this.accessToken=s.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new sp(o.createdAt||void 0,o.lastLoginAt||void 0)}async getIdToken(e){const n=await au(this,this.stsTokenManager.getToken(this.auth,e));return Ee(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return eN(this,e)}reload(){return iN(this)}_assign(e){this!==e&&(Ee(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>({...n})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new ai({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return n.metadata._copy(this.metadata),n}_onReload(e){Ee(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let s=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),s=!0),n&&await jh(this),await this.auth._persistUserIfCurrent(this),s&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Bn(this.auth.app))return Promise.reject(lr(this.auth));const e=await this.getIdToken();return await au(this,ZI(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){const s=n.displayName??void 0,o=n.email??void 0,u=n.phoneNumber??void 0,f=n.photoURL??void 0,m=n.tenantId??void 0,p=n._redirectEventId??void 0,g=n.createdAt??void 0,b=n.lastLoginAt??void 0,{uid:T,emailVerified:w,isAnonymous:j,providerData:F,stsTokenManager:K}=n;Ee(T&&K,e,"internal-error");const k=lo.fromJSON(this.name,K);Ee(typeof T=="string",e,"internal-error"),Yr(s,e.name),Yr(o,e.name),Ee(typeof w=="boolean",e,"internal-error"),Ee(typeof j=="boolean",e,"internal-error"),Yr(u,e.name),Yr(f,e.name),Yr(m,e.name),Yr(p,e.name),Yr(g,e.name),Yr(b,e.name);const X=new ai({uid:T,auth:e,email:o,emailVerified:w,displayName:s,isAnonymous:j,photoURL:f,phoneNumber:u,tenantId:m,stsTokenManager:k,createdAt:g,lastLoginAt:b});return F&&Array.isArray(F)&&(X.providerData=F.map(ie=>({...ie}))),p&&(X._redirectEventId=p),X}static async _fromIdTokenResponse(e,n,s=!1){const o=new lo;o.updateFromServerResponse(n);const u=new ai({uid:n.localId,auth:e,stsTokenManager:o,isAnonymous:s});return await jh(u),u}static async _fromGetAccountInfoResponse(e,n,s){const o=n.users[0];Ee(o.localId!==void 0,"internal-error");const u=o.providerUserInfo!==void 0?QT(o.providerUserInfo):[],f=!(o.email&&o.passwordHash)&&!u?.length,m=new lo;m.updateFromIdToken(s);const p=new ai({uid:o.localId,auth:e,stsTokenManager:m,isAnonymous:f}),g={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:u,metadata:new sp(o.createdAt,o.lastLoginAt),isAnonymous:!(o.email&&o.passwordHash)&&!u?.length};return Object.assign(p,g),p}}const cE=new Map;function ar(r){dr(r instanceof Function,"Expected a class definition");let e=cE.get(r);return e?(dr(e instanceof r,"Instance stored in cache mismatched with class"),e):(e=new r,cE.set(r,e),e)}class KT{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}KT.type="NONE";const hE=KT;function ph(r,e,n){return`firebase:${r}:${e}:${n}`}class uo{constructor(e,n,s){this.persistence=e,this.auth=n,this.userKey=s;const{config:o,name:u}=this.auth;this.fullUserKey=ph(this.userKey,o.apiKey,u),this.fullPersistenceKey=ph("persistence",o.apiKey,u),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const n=await Vh(this.auth,{idToken:e}).catch(()=>{});return n?ai._fromGetAccountInfoResponse(this.auth,n,e):null}return ai._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,s="authUser"){if(!n.length)return new uo(ar(hE),e,s);const o=(await Promise.all(n.map(async g=>{if(await g._isAvailable())return g}))).filter(g=>g);let u=o[0]||ar(hE);const f=ph(s,e.config.apiKey,e.name);let m=null;for(const g of n)try{const b=await g._get(f);if(b){let T;if(typeof b=="string"){const w=await Vh(e,{idToken:b}).catch(()=>{});if(!w)break;T=await ai._fromGetAccountInfoResponse(e,w,b)}else T=ai._fromJSON(e,b);g!==u&&(m=T),u=g;break}}catch{}const p=o.filter(g=>g._shouldAllowMigration);return!u._shouldAllowMigration||!p.length?new uo(u,e,s):(u=p[0],m&&await u._set(f,m.toJSON()),await Promise.all(n.map(async g=>{if(g!==u)try{await g._remove(f)}catch{}})),new uo(u,e,s))}}function fE(r){const e=r.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(JT(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(YT(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(ZT(e))return"Blackberry";if(e1(e))return"Webos";if($T(e))return"Safari";if((e.includes("chrome/")||XT(e))&&!e.includes("edge/"))return"Chrome";if(WT(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,s=r.match(n);if(s?.length===2)return s[1]}return"Other"}function YT(r=tn()){return/firefox\//i.test(r)}function $T(r=tn()){const e=r.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function XT(r=tn()){return/crios\//i.test(r)}function JT(r=tn()){return/iemobile/i.test(r)}function WT(r=tn()){return/android/i.test(r)}function ZT(r=tn()){return/blackberry/i.test(r)}function e1(r=tn()){return/webos/i.test(r)}function ag(r=tn()){return/iphone|ipad|ipod/i.test(r)||/macintosh/i.test(r)&&/mobile/i.test(r)}function oN(r=tn()){return ag(r)&&!!window.navigator?.standalone}function lN(){return ax()&&document.documentMode===10}function t1(r=tn()){return ag(r)||WT(r)||e1(r)||ZT(r)||/windows phone/i.test(r)||JT(r)}function n1(r,e=[]){let n;switch(r){case"Browser":n=fE(tn());break;case"Worker":n=`${fE(tn())}-${r}`;break;default:n=r}const s=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${So}/${s}`}class uN{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const s=u=>new Promise((f,m)=>{try{const p=e(u);f(p)}catch(p){m(p)}});s.onAbort=n,this.queue.push(s);const o=this.queue.length-1;return()=>{this.queue[o]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const s of this.queue)await s(e),s.onAbort&&n.push(s.onAbort)}catch(s){n.reverse();for(const o of n)try{o()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:s?.message})}}}async function cN(r,e={}){return ys(r,"GET","/v2/passwordPolicy",gs(r,e))}const hN=6;class fN{constructor(e){const n=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=n.minPasswordLength??hN,n.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=n.maxPasswordLength),n.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=n.containsLowercaseCharacter),n.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=n.containsUppercaseCharacter),n.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=n.containsNumericCharacter),n.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=n.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=e.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const n={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,n),this.validatePasswordCharacterOptions(e,n),n.isValid&&(n.isValid=n.meetsMinPasswordLength??!0),n.isValid&&(n.isValid=n.meetsMaxPasswordLength??!0),n.isValid&&(n.isValid=n.containsLowercaseLetter??!0),n.isValid&&(n.isValid=n.containsUppercaseLetter??!0),n.isValid&&(n.isValid=n.containsNumericCharacter??!0),n.isValid&&(n.isValid=n.containsNonAlphanumericCharacter??!0),n}validatePasswordLengthOptions(e,n){const s=this.customStrengthOptions.minPasswordLength,o=this.customStrengthOptions.maxPasswordLength;s&&(n.meetsMinPasswordLength=e.length>=s),o&&(n.meetsMaxPasswordLength=e.length<=o)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let s;for(let o=0;o<e.length;o++)s=e.charAt(o),this.updatePasswordCharacterOptionsStatuses(n,s>="a"&&s<="z",s>="A"&&s<="Z",s>="0"&&s<="9",this.allowedNonAlphanumericCharacters.includes(s))}updatePasswordCharacterOptionsStatuses(e,n,s,o,u){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=s)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=o)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=u))}}class dN{constructor(e,n,s,o){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=s,this.config=o,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new dE(this),this.idTokenSubscription=new dE(this),this.beforeStateQueue=new uN(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=BT,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=o.sdkClientVersion,this._persistenceManagerAvailable=new Promise(u=>this._resolvePersistenceManagerAvailable=u)}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=ar(n)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await uo.create(this,e),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await Vh(this,{idToken:e}),s=await ai._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(s)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){if(Bn(this.app)){const u=this.app.settings.authIdToken;return u?new Promise(f=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(u).then(f,f))}):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let s=n,o=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const u=this.redirectUser?._redirectEventId,f=s?._redirectEventId,m=await this.tryRedirectSignIn(e);(!u||u===f)&&m?.user&&(s=m.user,o=!0)}if(!s)return this.directlySetCurrentUser(null);if(!s._redirectEventId){if(o)try{await this.beforeStateQueue.runMiddleware(s)}catch(u){s=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(u))}return s?this.reloadAndSetCurrentUserOrClear(s):this.directlySetCurrentUser(null)}return Ee(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===s._redirectEventId?this.directlySetCurrentUser(s):this.reloadAndSetCurrentUserOrClear(s)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await jh(e)}catch(n){if(n?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=GI()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Bn(this.app))return Promise.reject(lr(this));const n=e?Pt(e):null;return n&&Ee(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&Ee(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Bn(this.app)?Promise.reject(lr(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Bn(this.app)?Promise.reject(lr(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(ar(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await cN(this),n=new fN(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new hu("auth","Firebase",e())}onAuthStateChanged(e,n,s){return this.registerStateListener(this.authStateSubscription,e,n,s)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,s){return this.registerStateListener(this.idTokenSubscription,e,n,s)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const s=this.onAuthStateChanged(()=>{s(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),s={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(s.tenantId=this.tenantId),await aN(this,s)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(e,n){const s=await this.getOrInitRedirectPersistenceManager(n);return e===null?s.removeCurrentUser():s.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&ar(e)||this._popupRedirectResolver;Ee(n,this,"argument-error"),this.redirectPersistenceManager=await uo.create(this,[ar(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===e?this._currentUser:this.redirectUser?._redirectEventId===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=this.currentUser?.uid??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,s,o){if(this._deleted)return()=>{};const u=typeof n=="function"?n:n.next.bind(n);let f=!1;const m=this._isInitialized?Promise.resolve():this._initializationPromise;if(Ee(m,this,"internal-error"),m.then(()=>{f||u(this.currentUser)}),typeof n=="function"){const p=e.addObserver(n,s,o);return()=>{f=!0,p()}}else{const p=e.addObserver(n);return()=>{f=!0,p()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Ee(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=n1(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const n=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();n&&(e["X-Firebase-Client"]=n);const s=await this._getAppCheckToken();return s&&(e["X-Firebase-AppCheck"]=s),e}async _getAppCheckToken(){if(Bn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return e?.error&&qI(`Error while retrieving App Check token: ${e.error}`),e?.token}}function ca(r){return Pt(r)}class dE{constructor(e){this.auth=e,this.observer=null,this.addObserver=mx(n=>this.observer=n)}get next(){return Ee(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let uf={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function mN(r){uf=r}function i1(r){return uf.loadJS(r)}function pN(){return uf.recaptchaEnterpriseScript}function gN(){return uf.gapiScript}function yN(r){return`__${r}${Math.floor(Math.random()*1e6)}`}class _N{constructor(){this.enterprise=new vN}ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}class vN{ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}const EN="recaptcha-enterprise",r1="NO_RECAPTCHA";class bN{constructor(e){this.type=EN,this.auth=ca(e)}async verify(e="verify",n=!1){async function s(u){if(!n){if(u.tenantId==null&&u._agentRecaptchaConfig!=null)return u._agentRecaptchaConfig.siteKey;if(u.tenantId!=null&&u._tenantRecaptchaConfigs[u.tenantId]!==void 0)return u._tenantRecaptchaConfigs[u.tenantId].siteKey}return new Promise(async(f,m)=>{WI(u,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(p=>{if(p.recaptchaKey===void 0)m(new Error("recaptcha Enterprise site key undefined"));else{const g=new JI(p);return u.tenantId==null?u._agentRecaptchaConfig=g:u._tenantRecaptchaConfigs[u.tenantId]=g,f(g.siteKey)}}).catch(p=>{m(p)})})}function o(u,f,m){const p=window.grecaptcha;lE(p)?p.enterprise.ready(()=>{p.enterprise.execute(u,{action:e}).then(g=>{f(g)}).catch(()=>{f(r1)})}):m(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new _N().execute("siteKey",{action:"verify"}):new Promise((u,f)=>{s(this.auth).then(m=>{if(!n&&lE(window.grecaptcha))o(m,u,f);else{if(typeof window>"u"){f(new Error("RecaptchaVerifier is only supported in browser"));return}let p=pN();p.length!==0&&(p+=m),i1(p).then(()=>{o(m,u,f)}).catch(g=>{f(g)})}}).catch(m=>{f(m)})})}}async function mE(r,e,n,s=!1,o=!1){const u=new bN(r);let f;if(o)f=r1;else try{f=await u.verify(n)}catch{f=await u.verify(n,!0)}const m={...e};if(n==="mfaSmsEnrollment"||n==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in m){const p=m.phoneEnrollmentInfo.phoneNumber,g=m.phoneEnrollmentInfo.recaptchaToken;Object.assign(m,{phoneEnrollmentInfo:{phoneNumber:p,recaptchaToken:g,captchaResponse:f,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in m){const p=m.phoneSignInInfo.recaptchaToken;Object.assign(m,{phoneSignInInfo:{recaptchaToken:p,captchaResponse:f,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return m}return s?Object.assign(m,{captchaResp:f}):Object.assign(m,{captchaResponse:f}),Object.assign(m,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(m,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),m}async function ap(r,e,n,s,o){if(r._getRecaptchaConfig()?.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const u=await mE(r,e,n,n==="getOobCode");return s(r,u)}else return s(r,e).catch(async u=>{if(u.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const f=await mE(r,e,n,n==="getOobCode");return s(r,f)}else return Promise.reject(u)})}function TN(r,e){const n=bp(r,"auth");if(n.isInitialized()){const o=n.getImmediate(),u=n.getOptions();if(Ws(u,e??{}))return o;li(o,"already-initialized")}return n.initialize({options:e})}function SN(r,e){const n=e?.persistence||[],s=(Array.isArray(n)?n:[n]).map(ar);e?.errorMap&&r._updateErrorMap(e.errorMap),r._initializeWithPersistence(s,e?.popupRedirectResolver)}function AN(r,e,n){const s=ca(r);Ee(/^https?:\/\//.test(e),s,"invalid-emulator-scheme");const o=!1,u=s1(e),{host:f,port:m}=wN(e),p=m===null?"":`:${m}`,g={url:`${u}//${f}${p}/`},b=Object.freeze({host:f,port:m,protocol:u.replace(":",""),options:Object.freeze({disableWarnings:o})});if(!s._canInitEmulator){Ee(s.config.emulator&&s.emulatorConfig,s,"emulator-config-failed"),Ee(Ws(g,s.config.emulator)&&Ws(b,s.emulatorConfig),s,"emulator-config-failed");return}s.config.emulator=g,s.emulatorConfig=b,s.settings.appVerificationDisabledForTesting=!0,To(f)?(WE(`${u}//${f}${p}`),ZE("Auth",!0)):xN()}function s1(r){const e=r.indexOf(":");return e<0?"":r.substr(0,e+1)}function wN(r){const e=s1(r),n=/(\/\/)?([^?#/]+)/.exec(r.substr(e.length));if(!n)return{host:"",port:null};const s=n[2].split("@").pop()||"",o=/^(\[[^\]]+\])(:|$)/.exec(s);if(o){const u=o[1];return{host:u,port:pE(s.substr(u.length+1))}}else{const[u,f]=s.split(":");return{host:u,port:pE(f)}}}function pE(r){if(!r)return null;const e=Number(r);return isNaN(e)?null:e}function xN(){function r(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",r):r())}class og{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return sr("not implemented")}_getIdTokenResponse(e){return sr("not implemented")}_linkToIdToken(e,n){return sr("not implemented")}_getReauthenticationResolver(e){return sr("not implemented")}}async function RN(r,e){return ys(r,"POST","/v1/accounts:signUp",e)}async function CN(r,e){return Eu(r,"POST","/v1/accounts:signInWithPassword",gs(r,e))}async function IN(r,e){return Eu(r,"POST","/v1/accounts:signInWithEmailLink",gs(r,e))}async function NN(r,e){return Eu(r,"POST","/v1/accounts:signInWithEmailLink",gs(r,e))}class ou extends og{constructor(e,n,s,o=null){super("password",s),this._email=e,this._password=n,this._tenantId=o}static _fromEmailAndPassword(e,n){return new ou(e,n,"password")}static _fromEmailAndCode(e,n,s=null){return new ou(e,n,"emailLink",s)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n?.email&&n?.password){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return ap(e,n,"signInWithPassword",CN);case"emailLink":return IN(e,{email:this._email,oobCode:this._password});default:li(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const s={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return ap(e,s,"signUpPassword",RN);case"emailLink":return NN(e,{idToken:n,email:this._email,oobCode:this._password});default:li(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}async function co(r,e){return Eu(r,"POST","/v1/accounts:signInWithIdp",gs(r,e))}const DN="http://localhost";class na extends og{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new na(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):li("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:s,signInMethod:o,...u}=n;if(!s||!o)return null;const f=new na(s,o);return f.idToken=u.idToken||void 0,f.accessToken=u.accessToken||void 0,f.secret=u.secret,f.nonce=u.nonce,f.pendingToken=u.pendingToken||null,f}_getIdTokenResponse(e){const n=this.buildRequest();return co(e,n)}_linkToIdToken(e,n){const s=this.buildRequest();return s.idToken=n,co(e,s)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,co(e,n)}buildRequest(){const e={requestUri:DN,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=fu(n)}return e}}function ON(r){switch(r){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function MN(r){const e=Ul(zl(r)).link,n=e?Ul(zl(e)).deep_link_id:null,s=Ul(zl(r)).deep_link_id;return(s?Ul(zl(s)).link:null)||s||n||e||r}class lg{constructor(e){const n=Ul(zl(e)),s=n.apiKey??null,o=n.oobCode??null,u=ON(n.mode??null);Ee(s&&o&&u,"argument-error"),this.apiKey=s,this.operation=u,this.code=o,this.continueUrl=n.continueUrl??null,this.languageCode=n.lang??null,this.tenantId=n.tenantId??null}static parseLink(e){const n=MN(e);try{return new lg(n)}catch{return null}}}class Io{constructor(){this.providerId=Io.PROVIDER_ID}static credential(e,n){return ou._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const s=lg.parseLink(n);return Ee(s,"argument-error"),ou._fromEmailAndCode(e,s.code,s.tenantId)}}Io.PROVIDER_ID="password";Io.EMAIL_PASSWORD_SIGN_IN_METHOD="password";Io.EMAIL_LINK_SIGN_IN_METHOD="emailLink";class a1{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}class bu extends a1{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}class $r extends bu{constructor(){super("facebook.com")}static credential(e){return na._fromParams({providerId:$r.PROVIDER_ID,signInMethod:$r.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return $r.credentialFromTaggedObject(e)}static credentialFromError(e){return $r.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return $r.credential(e.oauthAccessToken)}catch{return null}}}$r.FACEBOOK_SIGN_IN_METHOD="facebook.com";$r.PROVIDER_ID="facebook.com";class Xr extends bu{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return na._fromParams({providerId:Xr.PROVIDER_ID,signInMethod:Xr.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return Xr.credentialFromTaggedObject(e)}static credentialFromError(e){return Xr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:s}=e;if(!n&&!s)return null;try{return Xr.credential(n,s)}catch{return null}}}Xr.GOOGLE_SIGN_IN_METHOD="google.com";Xr.PROVIDER_ID="google.com";class Jr extends bu{constructor(){super("github.com")}static credential(e){return na._fromParams({providerId:Jr.PROVIDER_ID,signInMethod:Jr.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Jr.credentialFromTaggedObject(e)}static credentialFromError(e){return Jr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Jr.credential(e.oauthAccessToken)}catch{return null}}}Jr.GITHUB_SIGN_IN_METHOD="github.com";Jr.PROVIDER_ID="github.com";class Wr extends bu{constructor(){super("twitter.com")}static credential(e,n){return na._fromParams({providerId:Wr.PROVIDER_ID,signInMethod:Wr.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return Wr.credentialFromTaggedObject(e)}static credentialFromError(e){return Wr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:s}=e;if(!n||!s)return null;try{return Wr.credential(n,s)}catch{return null}}}Wr.TWITTER_SIGN_IN_METHOD="twitter.com";Wr.PROVIDER_ID="twitter.com";async function VN(r,e){return Eu(r,"POST","/v1/accounts:signUp",gs(r,e))}class ia{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,s,o=!1){const u=await ai._fromIdTokenResponse(e,s,o),f=gE(s);return new ia({user:u,providerId:f,_tokenResponse:s,operationType:n})}static async _forOperation(e,n,s){await e._updateTokensIfNecessary(s,!0);const o=gE(s);return new ia({user:e,providerId:o,_tokenResponse:s,operationType:n})}}function gE(r){return r.providerId?r.providerId:"phoneNumber"in r?"phone":null}class kh extends mr{constructor(e,n,s,o){super(n.code,n.message),this.operationType=s,this.user=o,Object.setPrototypeOf(this,kh.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:n.customData._serverResponse,operationType:s}}static _fromErrorAndOperation(e,n,s,o){return new kh(e,n,s,o)}}function o1(r,e,n,s){return(e==="reauthenticate"?n._getReauthenticationResolver(r):n._getIdTokenResponse(r)).catch(u=>{throw u.code==="auth/multi-factor-auth-required"?kh._fromErrorAndOperation(r,u,e,s):u})}async function jN(r,e,n=!1){const s=await au(r,e._linkToIdToken(r.auth,await r.getIdToken()),n);return ia._forOperation(r,"link",s)}async function kN(r,e,n=!1){const{auth:s}=r;if(Bn(s.app))return Promise.reject(lr(s));const o="reauthenticate";try{const u=await au(r,o1(s,o,e,r),n);Ee(u.idToken,s,"internal-error");const f=sg(u.idToken);Ee(f,s,"internal-error");const{sub:m}=f;return Ee(r.uid===m,s,"user-mismatch"),ia._forOperation(r,o,u)}catch(u){throw u?.code==="auth/user-not-found"&&li(s,"user-mismatch"),u}}async function l1(r,e,n=!1){if(Bn(r.app))return Promise.reject(lr(r));const s="signIn",o=await o1(r,s,e),u=await ia._fromIdTokenResponse(r,s,o);return n||await r._updateCurrentUser(u.user),u}async function PN(r,e){return l1(ca(r),e)}async function u1(r){const e=ca(r);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function LN(r,e,n){if(Bn(r.app))return Promise.reject(lr(r));const s=ca(r),f=await ap(s,{returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",VN).catch(p=>{throw p.code==="auth/password-does-not-meet-requirements"&&u1(r),p}),m=await ia._fromIdTokenResponse(s,"signIn",f);return await s._updateCurrentUser(m.user),m}function UN(r,e,n){return Bn(r.app)?Promise.reject(lr(r)):PN(Pt(r),Io.credential(e,n)).catch(async s=>{throw s.code==="auth/password-does-not-meet-requirements"&&u1(r),s})}function zN(r,e,n,s){return Pt(r).onIdTokenChanged(e,n,s)}function BN(r,e,n){return Pt(r).beforeAuthStateChanged(e,n)}function qN(r,e,n,s){return Pt(r).onAuthStateChanged(e,n,s)}function HN(r){return Pt(r).signOut()}const Ph="__sak";class c1{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(Ph,"1"),this.storage.removeItem(Ph),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}const FN=1e3,GN=10;class h1 extends c1{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=t1(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const s=this.storage.getItem(n),o=this.localCache[n];s!==o&&e(n,o,s)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((f,m,p)=>{this.notifyListeners(f,p)});return}const s=e.key;n?this.detachListener():this.stopPolling();const o=()=>{const f=this.storage.getItem(s);!n&&this.localCache[s]===f||this.notifyListeners(s,f)},u=this.storage.getItem(s);lN()&&u!==e.newValue&&e.newValue!==e.oldValue?setTimeout(o,GN):o()}notifyListeners(e,n){this.localCache[e]=n;const s=this.listeners[e];if(s)for(const o of Array.from(s))o(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,s)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:s}),!0)})},FN)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}h1.type="LOCAL";const QN=h1;class f1 extends c1{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}f1.type="SESSION";const d1=f1;function KN(r){return Promise.all(r.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}class cf{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(o=>o.isListeningto(e));if(n)return n;const s=new cf(e);return this.receivers.push(s),s}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:s,eventType:o,data:u}=n.data,f=this.handlersMap[o];if(!f?.size)return;n.ports[0].postMessage({status:"ack",eventId:s,eventType:o});const m=Array.from(f).map(async g=>g(n.origin,u)),p=await KN(m);n.ports[0].postMessage({status:"done",eventId:s,eventType:o,response:p})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}cf.receivers=[];function ug(r="",e=10){let n="";for(let s=0;s<e;s++)n+=Math.floor(Math.random()*10);return r+n}class YN{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,s=50){const o=typeof MessageChannel<"u"?new MessageChannel:null;if(!o)throw new Error("connection_unavailable");let u,f;return new Promise((m,p)=>{const g=ug("",20);o.port1.start();const b=setTimeout(()=>{p(new Error("unsupported_event"))},s);f={messageChannel:o,onMessage(T){const w=T;if(w.data.eventId===g)switch(w.data.status){case"ack":clearTimeout(b),u=setTimeout(()=>{p(new Error("timeout"))},3e3);break;case"done":clearTimeout(u),m(w.data.response);break;default:clearTimeout(b),clearTimeout(u),p(new Error("invalid_response"));break}}},this.handlers.add(f),o.port1.addEventListener("message",f.onMessage),this.target.postMessage({eventType:e,eventId:g,data:n},[o.port2])}).finally(()=>{f&&this.removeMessageHandler(f)})}}function Pi(){return window}function $N(r){Pi().location.href=r}function m1(){return typeof Pi().WorkerGlobalScope<"u"&&typeof Pi().importScripts=="function"}async function XN(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function JN(){return navigator?.serviceWorker?.controller||null}function WN(){return m1()?self:null}const p1="firebaseLocalStorageDb",ZN=1,Lh="firebaseLocalStorage",g1="fbase_key";class Tu{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function hf(r,e){return r.transaction([Lh],e?"readwrite":"readonly").objectStore(Lh)}function eD(){const r=indexedDB.deleteDatabase(p1);return new Tu(r).toPromise()}function op(){const r=indexedDB.open(p1,ZN);return new Promise((e,n)=>{r.addEventListener("error",()=>{n(r.error)}),r.addEventListener("upgradeneeded",()=>{const s=r.result;try{s.createObjectStore(Lh,{keyPath:g1})}catch(o){n(o)}}),r.addEventListener("success",async()=>{const s=r.result;s.objectStoreNames.contains(Lh)?e(s):(s.close(),await eD(),e(await op()))})})}async function yE(r,e,n){const s=hf(r,!0).put({[g1]:e,value:n});return new Tu(s).toPromise()}async function tD(r,e){const n=hf(r,!1).get(e),s=await new Tu(n).toPromise();return s===void 0?null:s.value}function _E(r,e){const n=hf(r,!0).delete(e);return new Tu(n).toPromise()}const nD=800,iD=3;class y1{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await op(),this.db)}async _withRetries(e){let n=0;for(;;)try{const s=await this._openDb();return await e(s)}catch(s){if(n++>iD)throw s;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return m1()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=cf._getInstance(WN()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await XN(),!this.activeServiceWorker)return;this.sender=new YN(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&e[0]?.fulfilled&&e[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||JN()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await op();return await yE(e,Ph,"1"),await _E(e,Ph),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(s=>yE(s,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(s=>tD(s,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>_E(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(o=>{const u=hf(o,!1).getAll();return new Tu(u).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],s=new Set;if(e.length!==0)for(const{fbase_key:o,value:u}of e)s.add(o),JSON.stringify(this.localCache[o])!==JSON.stringify(u)&&(this.notifyListeners(o,u),n.push(o));for(const o of Object.keys(this.localCache))this.localCache[o]&&!s.has(o)&&(this.notifyListeners(o,null),n.push(o));return n}notifyListeners(e,n){this.localCache[e]=n;const s=this.listeners[e];if(s)for(const o of Array.from(s))o(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),nD)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}y1.type="LOCAL";const rD=y1;new vu(3e4,6e4);function sD(r,e){return e?ar(e):(Ee(r._popupRedirectResolver,r,"argument-error"),r._popupRedirectResolver)}class cg extends og{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return co(e,this._buildIdpRequest())}_linkToIdToken(e,n){return co(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return co(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function aD(r){return l1(r.auth,new cg(r),r.bypassAuthState)}function oD(r){const{auth:e,user:n}=r;return Ee(n,e,"internal-error"),kN(n,new cg(r),r.bypassAuthState)}async function lD(r){const{auth:e,user:n}=r;return Ee(n,e,"internal-error"),jN(n,new cg(r),r.bypassAuthState)}class _1{constructor(e,n,s,o,u=!1){this.auth=e,this.resolver=s,this.user=o,this.bypassAuthState=u,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(s){this.reject(s)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:s,postBody:o,tenantId:u,error:f,type:m}=e;if(f){this.reject(f);return}const p={auth:this.auth,requestUri:n,sessionId:s,tenantId:u||void 0,postBody:o||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(m)(p))}catch(g){this.reject(g)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return aD;case"linkViaPopup":case"linkViaRedirect":return lD;case"reauthViaPopup":case"reauthViaRedirect":return oD;default:li(this.auth,"internal-error")}}resolve(e){dr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){dr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const uD=new vu(2e3,1e4);class so extends _1{constructor(e,n,s,o,u){super(e,n,o,u),this.provider=s,this.authWindow=null,this.pollId=null,so.currentPopupAction&&so.currentPopupAction.cancel(),so.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Ee(e,this.auth,"internal-error"),e}async onExecution(){dr(this.filter.length===1,"Popup operations only handle one event");const e=ug();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(ki(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(ki(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,so.currentPopupAction=null}pollUserCancellation(){const e=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(ki(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,uD.get())};e()}}so.currentPopupAction=null;const cD="pendingRedirect",gh=new Map;class hD extends _1{constructor(e,n,s=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,s),this.eventId=null}async execute(){let e=gh.get(this.auth._key());if(!e){try{const s=await fD(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(s)}catch(n){e=()=>Promise.reject(n)}gh.set(this.auth._key(),e)}return this.bypassAuthState||gh.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function fD(r,e){const n=pD(e),s=mD(r);if(!await s._isAvailable())return!1;const o=await s._get(n)==="true";return await s._remove(n),o}function dD(r,e){gh.set(r._key(),e)}function mD(r){return ar(r._redirectPersistence)}function pD(r){return ph(cD,r.config.apiKey,r.name)}async function gD(r,e,n=!1){if(Bn(r.app))return Promise.reject(lr(r));const s=ca(r),o=sD(s,e),f=await new hD(s,o,n).execute();return f&&!n&&(delete f.user._redirectEventId,await s._persistUserIfCurrent(f.user),await s._setRedirectUser(null,e)),f}const yD=600*1e3;class _D{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(s=>{this.isEventForConsumer(e,s)&&(n=!0,this.sendToConsumer(e,s),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!vD(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){if(e.error&&!v1(e)){const s=e.error.code?.split("auth/")[1]||"internal-error";n.onError(ki(this.auth,s))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const s=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&s}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=yD&&this.cachedEventUids.clear(),this.cachedEventUids.has(vE(e))}saveEventToCache(e){this.cachedEventUids.add(vE(e)),this.lastProcessedEventTime=Date.now()}}function vE(r){return[r.type,r.eventId,r.sessionId,r.tenantId].filter(e=>e).join("-")}function v1({type:r,error:e}){return r==="unknown"&&e?.code==="auth/no-auth-event"}function vD(r){switch(r.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return v1(r);default:return!1}}async function ED(r,e={}){return ys(r,"GET","/v1/projects",e)}const bD=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,TD=/^https?/;async function SD(r){if(r.config.emulator)return;const{authorizedDomains:e}=await ED(r);for(const n of e)try{if(AD(n))return}catch{}li(r,"unauthorized-domain")}function AD(r){const e=rp(),{protocol:n,hostname:s}=new URL(e);if(r.startsWith("chrome-extension://")){const f=new URL(r);return f.hostname===""&&s===""?n==="chrome-extension:"&&r.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&f.hostname===s}if(!TD.test(n))return!1;if(bD.test(r))return s===r;const o=r.replace(/\./g,"\\.");return new RegExp("^(.+\\."+o+"|"+o+")$","i").test(s)}const wD=new vu(3e4,6e4);function EE(){const r=Pi().___jsl;if(r?.H){for(const e of Object.keys(r.H))if(r.H[e].r=r.H[e].r||[],r.H[e].L=r.H[e].L||[],r.H[e].r=[...r.H[e].L],r.CP)for(let n=0;n<r.CP.length;n++)r.CP[n]=null}}function xD(r){return new Promise((e,n)=>{function s(){EE(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{EE(),n(ki(r,"network-request-failed"))},timeout:wD.get()})}if(Pi().gapi?.iframes?.Iframe)e(gapi.iframes.getContext());else if(Pi().gapi?.load)s();else{const o=yN("iframefcb");return Pi()[o]=()=>{gapi.load?s():n(ki(r,"network-request-failed"))},i1(`${gN()}?onload=${o}`).catch(u=>n(u))}}).catch(e=>{throw yh=null,e})}let yh=null;function RD(r){return yh=yh||xD(r),yh}const CD=new vu(5e3,15e3),ID="__/auth/iframe",ND="emulator/auth/iframe",DD={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},OD=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function MD(r){const e=r.config;Ee(e.authDomain,r,"auth-domain-config-required");const n=e.emulator?rg(e,ND):`https://${r.config.authDomain}/${ID}`,s={apiKey:e.apiKey,appName:r.name,v:So},o=OD.get(r.config.apiHost);o&&(s.eid=o);const u=r._getFrameworks();return u.length&&(s.fw=u.join(",")),`${n}?${fu(s).slice(1)}`}async function VD(r){const e=await RD(r),n=Pi().gapi;return Ee(n,r,"internal-error"),e.open({where:document.body,url:MD(r),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:DD,dontclear:!0},s=>new Promise(async(o,u)=>{await s.restyle({setHideOnLeave:!1});const f=ki(r,"network-request-failed"),m=Pi().setTimeout(()=>{u(f)},CD.get());function p(){Pi().clearTimeout(m),o(s)}s.ping(p).then(p,()=>{u(f)})}))}const jD={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},kD=500,PD=600,LD="_blank",UD="http://localhost";class bE{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function zD(r,e,n,s=kD,o=PD){const u=Math.max((window.screen.availHeight-o)/2,0).toString(),f=Math.max((window.screen.availWidth-s)/2,0).toString();let m="";const p={...jD,width:s.toString(),height:o.toString(),top:u,left:f},g=tn().toLowerCase();n&&(m=XT(g)?LD:n),YT(g)&&(e=e||UD,p.scrollbars="yes");const b=Object.entries(p).reduce((w,[j,F])=>`${w}${j}=${F},`,"");if(oN(g)&&m!=="_self")return BD(e||"",m),new bE(null);const T=window.open(e||"",m,b);Ee(T,r,"popup-blocked");try{T.focus()}catch{}return new bE(T)}function BD(r,e){const n=document.createElement("a");n.href=r,n.target=e;const s=document.createEvent("MouseEvent");s.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(s)}const qD="__/auth/handler",HD="emulator/auth/handler",FD=encodeURIComponent("fac");async function TE(r,e,n,s,o,u){Ee(r.config.authDomain,r,"auth-domain-config-required"),Ee(r.config.apiKey,r,"invalid-api-key");const f={apiKey:r.config.apiKey,appName:r.name,authType:n,redirectUrl:s,v:So,eventId:o};if(e instanceof a1){e.setDefaultLanguage(r.languageCode),f.providerId=e.providerId||"",dx(e.getCustomParameters())||(f.customParameters=JSON.stringify(e.getCustomParameters()));for(const[b,T]of Object.entries({}))f[b]=T}if(e instanceof bu){const b=e.getScopes().filter(T=>T!=="");b.length>0&&(f.scopes=b.join(","))}r.tenantId&&(f.tid=r.tenantId);const m=f;for(const b of Object.keys(m))m[b]===void 0&&delete m[b];const p=await r._getAppCheckToken(),g=p?`#${FD}=${encodeURIComponent(p)}`:"";return`${GD(r)}?${fu(m).slice(1)}${g}`}function GD({config:r}){return r.emulator?rg(r,HD):`https://${r.authDomain}/${qD}`}const Nm="webStorageSupport";class QD{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=d1,this._completeRedirectFn=gD,this._overrideRedirectResult=dD}async _openPopup(e,n,s,o){dr(this.eventManagers[e._key()]?.manager,"_initialize() not called before _openPopup()");const u=await TE(e,n,s,rp(),o);return zD(e,u,ug())}async _openRedirect(e,n,s,o){await this._originValidation(e);const u=await TE(e,n,s,rp(),o);return $N(u),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:o,promise:u}=this.eventManagers[n];return o?Promise.resolve(o):(dr(u,"If manager is not set, promise should be"),u)}const s=this.initAndGetManager(e);return this.eventManagers[n]={promise:s},s.catch(()=>{delete this.eventManagers[n]}),s}async initAndGetManager(e){const n=await VD(e),s=new _D(e);return n.register("authEvent",o=>(Ee(o?.authEvent,e,"invalid-auth-event"),{status:s.onEvent(o.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:s},this.iframes[e._key()]=n,s}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(Nm,{type:Nm},o=>{const u=o?.[0]?.[Nm];u!==void 0&&n(!!u),li(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=SD(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return t1()||$T()||ag()}}const KD=QD;var SE="@firebase/auth",AE="1.11.1";class YD{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(s=>{e(s?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){Ee(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function $D(r){switch(r){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function XD(r){ho(new Zs("auth",(e,{options:n})=>{const s=e.getProvider("app").getImmediate(),o=e.getProvider("heartbeat"),u=e.getProvider("app-check-internal"),{apiKey:f,authDomain:m}=s.options;Ee(f&&!f.includes(":"),"invalid-api-key",{appName:s.name});const p={apiKey:f,authDomain:m,clientPlatform:r,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:n1(r)},g=new dN(s,o,u,p);return SN(g,n),g},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,s)=>{e.getProvider("auth-internal").initialize()})),ho(new Zs("auth-internal",e=>{const n=ca(e.getProvider("auth").getImmediate());return(s=>new YD(s))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),ns(SE,AE,$D(r)),ns(SE,AE,"esm2020")}const JD=300,WD=JE("authIdTokenMaxAge")||JD;let wE=null;const ZD=r=>async e=>{const n=e&&await e.getIdTokenResult(),s=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(s&&s>WD)return;const o=n?.token;wE!==o&&(wE=o,await fetch(r,{method:o?"POST":"DELETE",headers:o?{Authorization:`Bearer ${o}`}:{}}))};function e4(r=ib()){const e=bp(r,"auth");if(e.isInitialized())return e.getImmediate();const n=TN(r,{popupRedirectResolver:KD,persistence:[rD,QN,d1]}),s=JE("authTokenSyncURL");if(s&&typeof isSecureContext=="boolean"&&isSecureContext){const u=new URL(s,location.origin);if(location.origin===u.origin){const f=ZD(u.toString());BN(n,f,()=>f(n.currentUser)),zN(n,m=>f(m))}}const o=$E("auth");return o&&AN(n,`http://${o}`),n}function t4(){return document.getElementsByTagName("head")?.[0]??document}mN({loadJS(r){return new Promise((e,n)=>{const s=document.createElement("script");s.setAttribute("src",r),s.onload=e,s.onerror=o=>{const u=ki("internal-error");u.customData=o,n(u)},s.type="text/javascript",s.charset="UTF-8",t4().appendChild(s)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});XD("Browser");const n4={apiKey:"AIzaSyDPu6NgnUI-D33CqzARDEq9fbhUfDeX13I",authDomain:"emg-dashboard-prototype.firebaseapp.com",projectId:"emg-dashboard-prototype",storageBucket:"emg-dashboard-prototype.firebasestorage.app",messagingSenderId:"380024752912",appId:"1:380024752912:web:0e4959eab50bc2bd987395",measurementId:"G-SDTNKNR9WP"},E1=nb(n4),si=TI(E1),sh=e4(E1),b1=L.createContext(),Ui=()=>L.useContext(b1),i4=({children:r})=>{const[e,n]=L.useState(null),[s,o]=L.useState(!0);L.useEffect(()=>qN(sh,async g=>{if(g){const b=ro(si,"users",g.uid);let T={};try{const w=await PI(b);if(w.exists())T=w.data();else{const j=g.email.toLowerCase()==="christo@emgroup.co.nz";T={email:g.email,name:j?"Christo (Admin)":g.email.split("@")[0],role:j?"admin":"stakeholder",allowedProjects:j?["south-mall","north-end"]:["south-mall"],createdAt:new Date},await ip(b,T)}}catch(w){console.error("Error fetching user data:",w),T={email:g.email,role:"stakeholder"}}n({...g,...T,role:g.email.toLowerCase()==="christo@emgroup.co.nz"?"admin":T.role})}else n(null);o(!1)}),[]);const u=(p,g)=>UN(sh,p,g),f=(p,g)=>LN(sh,p,g),m=()=>HN(sh);return _.jsx(b1.Provider,{value:{user:e,login:u,signup:f,logout:m,isAdmin:e?.role==="admin"},children:!s&&r})},ra=[{id:"south-mall",name:"South Mall New World",status:"In Progress",lastUpdated:"2025-12-15",location:"Manurewa, Auckland",image:"https://images.unsplash.com/photo-1578575437130-527eed3abbec?auto=format&fit=crop&q=80&w=2070",summary:"Main refurbishment of the South Mall New World including new bakery fit-out and seismic strengthening.",focus:"Internal fit-out and bakery flooring.",coordination:"Public access to mall entrance to be maintained at all times."},{id:"retail-facilities",name:"Retail Facilities Programme",status:"In Progress",lastUpdated:"2025-12-10"},{id:"civil-drainage",name:"Civil Drainage Remediation",status:"Planning",lastUpdated:"2025-12-01"},{id:"planned-maintenance",name:"Planned Maintenance  Auckland",status:"Ongoing",lastUpdated:"2025-12-12"},{id:"emergency-works",name:"Emergency Works Programme",status:"On Hold",lastUpdated:"2025-11-20"}],r4=[{id:1,projectId:"south-mall",date:"14 Dec 2025",author:"Sarah Jenkins (EMG)",content:"Bakery flooring preparation complete. Epoxy coating scheduled for Tuesday.",tag:"Progress"},{id:2,projectId:"south-mall",date:"10 Dec 2025",author:"Mike Ross (EMG)",content:"Seismic bracing in the main aisle has been signed off by the engineer.",tag:"Compliance"},{id:3,projectId:"south-mall",date:"08 Dec 2025",author:"Sarah Jenkins (EMG)",content:"Hoardings moved to Zone 2. Public access path rerouted safely.",tag:"Safety"}],s4=[{id:1,task:"Approve final electrical layout for Cold Store",assignedTo:"Consultant (Elec)",status:"Open",dueDate:"20 Dec 2025"},{id:2,task:"Submit updated Health & Safety Plan",assignedTo:"Contractor",status:"Closed",dueDate:"10 Dec 2025"},{id:3,task:"Review Zone C variation cost",assignedTo:"EMG",status:"Open",dueDate:"18 Dec 2025"},{id:4,task:"Confirm site access for crane lift",assignedTo:"Contractor",status:"Open",dueDate:"16 Dec 2025"}],a4=[{id:1,title:"Clarification on Fire Door Specs",category:"RFI",status:"Answered",date:"12 Dec 2025",context:"Regarding the fire doors in Corridor 3, are we sticking to the original spec or the alternative submitted last week?",replies:[{author:"David Chen (Architect)",date:"13 Dec 2025",content:"We have approved the alternative spec provided it meets the 60min FRR. Please proceed."}]},{id:2,title:"Loading Bay Height Restrictions",category:"Access",status:"Open",date:"14 Dec 2025",context:"Can we confirm the max clearance for the temporary loading bay? Transport company asking.",replies:[]}],xE=[{id:"folder-1",name:"Drawings",type:"folder",items:[{id:"f1-1",name:"Drawing_A101_RevC.pdf",type:"PDF",author:"Consultant (Arch)",date:"10 Dec 2025"},{id:"f1-2",name:"Drawing_S204_RevB.pdf",type:"PDF",author:"Consultant (Struct)",date:"08 Dec 2025"},{id:"f1-3",name:"Layout_Plan_Ground.dwg",type:"DWG",author:"Consultant (Arch)",date:"01 Dec 2025"}]},{id:"folder-2",name:"RFIs & Technical Queries",type:"folder",items:[{id:"f2-1",name:"RFI_012_BakeryFloorLevels.pdf",type:"PDF",author:"EMG (Christo)",date:"12 Dec 2025"},{id:"f2-2",name:"TQ_004_SteelConnection.pdf",type:"PDF",author:"Contractor",date:"05 Dec 2025"}]},{id:"folder-3",name:"Reports & Inspections",type:"folder",items:[{id:"f3-1",name:"Weekly_Site_Report_2025-12-08.pdf",type:"PDF",author:"EMG",date:"08 Dec 2025"},{id:"f3-2",name:"Safety_Audit_Nov25.pdf",type:"PDF",author:"Safety Officer",date:"30 Nov 2025"}]},{id:"folder-4",name:"Site Instructions",type:"folder",items:[{id:"f4-1",name:"SI_003_PaintSpecChange.pdf",type:"PDF",author:"Client",date:"03 Dec 2025"}]}],T1=L.createContext(),_s=()=>L.useContext(T1),o4=({children:r})=>{const[e,n]=L.useState(null),[s,o]=L.useState(ra),[u,f]=L.useState([]),[m,p]=L.useState([]),[g,b]=L.useState([]),[T,w]=L.useState([]),[j,F]=L.useState([]);L.useEffect(()=>{if(!si||!e){f([]),p([]),b([]),F([]),w([]);return}const J=e,se=Pl(si,"projects",J,"updates");MI(se,VI("id","desc"));const de=Ll(se,qe=>{const De=qe.docs.map(st=>({...st.data(),firestoreId:st.id}));De.sort((st,Rn)=>Rn.id-st.id),f(De.length>0?De:r4)},qe=>console.error("Updates Sync Error:",qe)),_e=Pl(si,"projects",J,"actions"),O=Ll(_e,qe=>{const De=qe.docs.map(st=>({...st.data(),firestoreId:st.id}));p(De.length>0?De:s4)}),W=Pl(si,"projects",J,"qa"),le=Ll(W,qe=>{const De=qe.docs.map(st=>({...st.data(),firestoreId:st.id}));De.sort((st,Rn)=>Rn.id-st.id),b(De.length>0?De:a4)}),ce=Pl(si,"projects",J,"photos"),Te=Ll(ce,qe=>{const De=qe.docs.map(st=>({...st.data(),firestoreId:st.id}));De.sort((st,Rn)=>Rn.id-st.id),F(De)}),we=ro(si,"projects",J,"data","documents"),Ve=Ll(we,qe=>{qe.exists()?w(qe.data().structure):(ip(we,{structure:xE}),w(xE))});return()=>{de(),O(),le(),Te(),Ve()}},[e]);const K=async(J,se)=>{const de={...se,id:Date.now()};if(e)try{await zI(Pl(si,"projects",e,J),de)}catch(_e){console.error(`Error adding to ${J}:`,_e),alert("Sync Error: Check your Firebase Config.")}},k=async(J,se)=>{if(!(!se||!e))try{await UI(ro(si,"projects",e,J,se))}catch(de){console.error(`Error deleting from ${J}:`,de)}},X=async(J,se,de)=>{if(!(!se||!e))try{await LI(ro(si,"projects",e,J,se),de)}catch(_e){console.error(`Error updating ${J}:`,_e)}},ie=J=>K("updates",J),Z=J=>{const se=u.find(de=>de.id===J);se&&k("updates",se.firestoreId)},ye=(J,se)=>{const de=u.find(_e=>_e.id===J);de&&X("updates",de.firestoreId,se)},Se=J=>K("actions",{...J,status:"Open"}),ae=(J,se)=>{const de=m.find(_e=>_e.id===J);de&&X("actions",de.firestoreId,{status:se})},R=J=>{const se=m.find(de=>de.id===J);se&&k("actions",se.firestoreId)},x=J=>{K("qa",{...J,status:"Open",replies:[],date:new Date().toLocaleDateString("en-GB",{day:"2-digit",month:"short",year:"numeric"})})},C=(J,se,de)=>{const _e=g.find(O=>O.id.toString()===J.toString());if(_e){const O={author:de,date:new Date().toLocaleDateString("en-GB",{day:"2-digit",month:"short",year:"numeric"}),content:se},W=[..._e.replies,O];X("qa",_e.firestoreId,{replies:W,status:"Answered"})}},M=J=>{const se=g.find(de=>de.id===J);se&&k("qa",se.firestoreId)},D=J=>K("photos",J),P=J=>{const se=j.find(de=>de.id===J);se&&k("photos",se.firestoreId)},I=async J=>{if(e)try{await ip(ro(si,"projects",e,"data","documents"),{structure:J})}catch(se){console.error("Error saving docs:",se)}},$e=(J,se,de)=>{const _e={id:`new-${Date.now()}`,name:J.name,type:J.name.split(".").pop().toUpperCase(),author:de,date:new Date().toLocaleDateString("en-GB",{day:"2-digit",month:"short",year:"numeric"})},O=T.map(W=>W.id===se?{...W,items:[_e,...W.items]}:W);w(O),I(O)},ut=J=>{const se=T.map(de=>({...de,items:de.items.filter(_e=>_e.id!==J)}));w(se),I(se)},Y=(J,se)=>{o(de=>de.map(_e=>_e.id===J?{..._e,...se}:_e))};return _.jsx(T1.Provider,{value:{projects:s,updates:u,actions:m,qa:g,documents:T,photos:j,updateProjectDetails:Y,addUpdate:ie,deleteUpdate:Z,updateUpdate:ye,addAction:Se,updateActionStatus:ae,deleteAction:R,addQuestion:x,addReply:C,deleteQuestion:M,addDocument:$e,deleteDocument:ut,addPhoto:D,deletePhoto:P,activeProjectId:e,setActiveProjectId:n},children:r})};const l4=r=>r.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),u4=r=>r.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,n,s)=>s?s.toUpperCase():n.toLowerCase()),RE=r=>{const e=u4(r);return e.charAt(0).toUpperCase()+e.slice(1)},S1=(...r)=>r.filter((e,n,s)=>!!e&&e.trim()!==""&&s.indexOf(e)===n).join(" ").trim(),c4=r=>{for(const e in r)if(e.startsWith("aria-")||e==="role"||e==="title")return!0};var h4={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const f4=L.forwardRef(({color:r="currentColor",size:e=24,strokeWidth:n=2,absoluteStrokeWidth:s,className:o="",children:u,iconNode:f,...m},p)=>L.createElement("svg",{ref:p,...h4,width:e,height:e,stroke:r,strokeWidth:s?Number(n)*24/Number(e):n,className:S1("lucide",o),...!u&&!c4(m)&&{"aria-hidden":"true"},...m},[...f.map(([g,b])=>L.createElement(g,b)),...Array.isArray(u)?u:[u]]));const Ye=(r,e)=>{const n=L.forwardRef(({className:s,...o},u)=>L.createElement(f4,{ref:u,iconNode:e,className:S1(`lucide-${l4(RE(r))}`,`lucide-${r}`,s),...o}));return n.displayName=RE(r),n};const d4=[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]],A1=Ye("arrow-left",d4);const m4=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]],w1=Ye("arrow-right",m4);const p4=[["path",{d:"M10 12h4",key:"a56b0p"}],["path",{d:"M10 8h4",key:"1sr2af"}],["path",{d:"M14 21v-3a2 2 0 0 0-4 0v3",key:"1rgiei"}],["path",{d:"M6 10H4a2 2 0 0 0-2 2v7a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-2",key:"secmi2"}],["path",{d:"M6 21V5a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v16",key:"16ra0t"}]],g4=Ye("building-2",p4);const y4=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],lp=Ye("calendar",y4);const _4=[["path",{d:"M13.997 4a2 2 0 0 1 1.76 1.05l.486.9A2 2 0 0 0 18.003 7H20a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V9a2 2 0 0 1 2-2h1.997a2 2 0 0 0 1.759-1.048l.489-.904A2 2 0 0 1 10.004 4z",key:"18u6gg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]],CE=Ye("camera",_4);const v4=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],E4=Ye("check",v4);const b4=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],T4=Ye("chevron-down",b4);const S4=[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]],A4=Ye("chevron-left",S4);const w4=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],Uh=Ye("chevron-right",w4);const x4=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]],R4=Ye("circle-alert",x4);const C4=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]],up=Ye("circle-check",C4);const I4=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3",key:"1u773s"}],["path",{d:"M12 17h.01",key:"p32p05"}]],IE=Ye("circle-question-mark",I4);const N4=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],D4=Ye("circle",N4);const O4=[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],M4=Ye("clock",O4);const V4=[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"19",cy:"12",r:"1",key:"1wjl8i"}],["circle",{cx:"5",cy:"12",r:"1",key:"1pcz8c"}]],j4=Ye("ellipsis",V4);const k4=[["path",{d:"M6 22a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.704.706l3.588 3.588A2.4 2.4 0 0 1 20 8v12a2 2 0 0 1-2 2z",key:"1oefj6"}],["path",{d:"M14 2v5a1 1 0 0 0 1 1h5",key:"wfsgrz"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]],P4=Ye("file-text",k4);const L4=[["path",{d:"M20 20a2 2 0 0 0 2-2V8a2 2 0 0 0-2-2h-7.9a2 2 0 0 1-1.69-.9L9.6 3.9A2 2 0 0 0 7.93 3H4a2 2 0 0 0-2 2v13a2 2 0 0 0 2 2Z",key:"1kt360"}]],U4=Ye("folder",L4);const z4=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]],B4=Ye("info",z4);const q4=[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]],H4=Ye("lock",q4);const F4=[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]],G4=Ye("log-out",F4);const Q4=[["path",{d:"M22 17a2 2 0 0 1-2 2H6.828a2 2 0 0 0-1.414.586l-2.202 2.202A.71.71 0 0 1 2 21.286V5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2z",key:"18887p"}]],x1=Ye("message-square",Q4);const K4=[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]],R1=Ye("pen",K4);const Y4=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],hg=Ye("plus",Y4);const $4=[["path",{d:"M12.586 2.586A2 2 0 0 0 11.172 2H4a2 2 0 0 0-2 2v7.172a2 2 0 0 0 .586 1.414l8.704 8.704a2.426 2.426 0 0 0 3.42 0l6.58-6.58a2.426 2.426 0 0 0 0-3.42z",key:"vktsd0"}],["circle",{cx:"7.5",cy:"7.5",r:".5",fill:"currentColor",key:"kqv944"}]],X4=Ye("tag",$4);const J4=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]],W4=Ye("target",J4);const Z4=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],vo=Ye("trash-2",Z4);const eO=[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]],C1=Ye("triangle-alert",eO);const tO=[["path",{d:"M12 3v12",key:"1x0j5s"}],["path",{d:"m17 8-5-5-5 5",key:"7q97r8"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}]],fg=Ye("upload",tO);const nO=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],dg=Ye("user",nO);const iO=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],sa=Ye("x",iO),rO=()=>{const{user:r,isAdmin:e,logout:n}=Ui();return _.jsxs("div",{className:"min-h-screen flex flex-col",children:[_.jsx("header",{className:"bg-white border-b border-[var(--color-border)] h-16 flex items-center px-6 sticky top-0 z-50",children:_.jsxs("div",{className:"container flex items-center justify-between h-full",children:[_.jsx(qh,{to:"/dashboard",className:"flex items-center gap-2",children:_.jsx("img",{src:"/EMG-Dashboard-Prototype/logo.png",alt:"EMG Logo",className:"h-8 w-auto object-contain"})}),_.jsxs("div",{className:"flex items-center gap-4",children:[e&&_.jsx("span",{className:"bg-slate-800 text-white text-xs font-medium px-2.5 py-1 rounded",children:"Admin"}),r?_.jsxs("div",{className:"flex items-center gap-3 pl-4 border-l border-gray-200",children:[_.jsxs("div",{className:"text-right hidden sm:block",children:[_.jsx("div",{className:"text-sm font-medium text-gray-900",children:r.name}),_.jsx("div",{className:"text-xs text-gray-500",children:r.email})]}),_.jsx("div",{className:"h-9 w-9 rounded-full bg-slate-100 flex items-center justify-center text-slate-500 border border-slate-200",children:_.jsx(dg,{size:18})}),_.jsx("button",{onClick:n,className:"p-2 text-gray-400 hover:text-red-500 transition-colors",title:"Logout",children:_.jsx(G4,{size:18})})]}):_.jsx("div",{className:"h-8 w-8 rounded-full bg-gray-200"})]})]})}),_.jsx("main",{className:"flex-1 py-8",children:_.jsx(zE,{})}),_.jsx("footer",{className:"h-12 border-t border-[var(--color-border)] bg-white flex items-center justify-center text-sm text-[var(--color-text-secondary)]",children:" 2025 EMG Project Management. All rights reserved."})]})},sO=()=>{const r=uu(),{user:e,isAdmin:n}=Ui(),[s,o]=L.useState(""),[u,f]=L.useState(!1),m=()=>{s&&(s==="south-mall"?r(`/project/${s}`):f(!0))};return _.jsxs("div",{className:"min-h-screen bg-slate-50 flex items-center justify-center p-4",children:[_.jsxs("div",{className:"w-full max-w-md bg-white rounded-xl shadow-2xl p-8 border border-gray-100 relative overflow-hidden",children:[_.jsx("div",{className:"absolute top-0 left-0 w-full h-1 bg-gradient-to-r from-blue-600 to-cyan-500"}),_.jsxs("div",{className:"mb-8 flex flex-col items-center",children:[_.jsx("img",{src:"/EMG-Dashboard-Prototype/logo.png",alt:"EMG Logo",className:"h-14 w-auto mb-4"}),_.jsx("h1",{className:"text-2xl font-bold text-gray-800 text-center",children:"Project Portal"}),_.jsx("p",{className:"text-gray-500 text-sm mt-2 text-center",children:"Select your project to access site updates and documentation."})]}),_.jsxs("div",{className:"space-y-4",children:[_.jsxs("div",{children:[_.jsx("label",{className:"block text-xs font-semibold text-gray-500 uppercase tracking-wider mb-2",children:"Select Project"}),_.jsxs("div",{className:"relative",children:[_.jsxs("select",{className:"w-full appearance-none bg-gray-50 border border-gray-200 text-gray-700 py-3 px-4 pr-8 rounded-lg leading-tight focus:outline-none focus:bg-white focus:border-blue-500 transition-colors",value:s,onChange:p=>o(p.target.value),children:[_.jsx("option",{value:"",disabled:!0,children:"Select a project..."}),ra.map(p=>_.jsx("option",{value:p.id,children:p.name},p.id))]}),_.jsx("div",{className:"pointer-events-none absolute inset-y-0 right-0 flex items-center px-2 text-gray-700",children:_.jsx(Uh,{size:16,className:"rotate-90"})})]})]}),_.jsxs("button",{onClick:m,disabled:!s,className:`w-full py-3 rounded-lg font-semibold flex items-center justify-center gap-2 transition-all ${s?"bg-blue-600 text-white shadow-lg shadow-blue-200 hover:bg-blue-700":"bg-gray-100 text-gray-400 cursor-not-allowed"}`,children:[s==="south-mall"?"Continue to Login":"Request Access",_.jsx(Uh,{size:18})]})]}),_.jsxs("div",{className:"mt-8 flex items-center justify-center gap-2 text-xs text-gray-400",children:[_.jsx(H4,{size:12}),_.jsx("span",{children:"Secure Connection  EMG Client Services"})]})]}),u&&_.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-sm z-50 flex items-center justify-center p-4 animate-in fade-in duration-200",children:_.jsxs("div",{className:"bg-white rounded-lg shadow-xl max-w-sm w-full p-6 text-center relative",children:[_.jsx("button",{onClick:()=>f(!1),className:"absolute top-4 right-4 text-gray-300 hover:text-gray-500",children:_.jsx(sa,{size:20})}),_.jsx("div",{className:"w-12 h-12 bg-amber-100 text-amber-600 rounded-full flex items-center justify-center mx-auto mb-4",children:_.jsx(R4,{size:24})}),_.jsx("h3",{className:"text-lg font-bold text-gray-800 mb-2",children:"Restricted Access"}),_.jsxs("p",{className:"text-sm text-gray-500 mb-6",children:["The portal for ",_.jsx("strong",{children:ra.find(p=>p.id===s)?.name})," is currently restricted to authorized stakeholders only."]}),_.jsx("button",{onClick:()=>f(!1),className:"btn btn-primary w-full text-sm",children:"Request Authorization"})]})})]})},aO=()=>{const r=uu(),{login:e,signup:n}=Ui(),[s,o]=L.useState(!0),[u,f]=L.useState(""),[m,p]=L.useState(""),[g,b]=L.useState(""),[T,w]=L.useState(!1),j=async F=>{F.preventDefault(),b(""),w(!0);try{s?await e(u,m):await n(u,m),r("/project/south-mall")}catch(K){console.error("Auth Error:",K);let k="Failed to authenticate.";(K.code==="auth/invalid-credential"||K.code==="auth/wrong-password")&&(k="Invalid email or password."),K.code==="auth/email-already-in-use"&&(k="Email already in use."),K.code==="auth/weak-password"&&(k="Password is too weak (min 6 chars)."),b(k)}w(!1)};return _.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50 p-4",children:_.jsxs("div",{className:"max-w-md w-full bg-white rounded-xl shadow-lg p-8 border border-gray-100",children:[_.jsxs("button",{onClick:()=>r("/"),className:"flex items-center text-sm text-gray-500 hover:text-gray-700 mb-6 transition-colors",children:[_.jsx(A4,{size:16})," Back to Project Selection"]}),_.jsxs("div",{className:"mb-6 text-center sm:text-left",children:[_.jsx("img",{src:"/EMG-Dashboard-Prototype/logo.png",alt:"EMG Logo",className:"h-12 w-auto mb-6 mx-auto sm:mx-0"}),_.jsx("h1",{className:"text-2xl font-bold text-[var(--color-brand-primary)]",children:"South Mall New World"}),_.jsx("p",{className:"text-gray-500 mt-1",children:s?"Welcome back. Sign in to continue.":"Create your account to access the project portal."})]}),g&&_.jsx("div",{className:"mb-4 bg-red-50 text-red-600 text-sm p-3 rounded-lg border border-red-100 flex items-center justify-center",children:g}),_.jsxs("form",{onSubmit:j,className:"space-y-5",children:[_.jsxs("div",{children:[_.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Email Address"}),_.jsx("input",{type:"email",required:!0,className:"w-full border border-gray-300 rounded-lg p-3 focus:outline-none focus:ring-2 focus:ring-blue-500/20 focus:border-blue-500",placeholder:"name@company.com",value:u,onChange:F=>f(F.target.value)})]}),_.jsxs("div",{children:[_.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:s?"Password":"Create Password"}),_.jsx("input",{type:"password",required:!0,className:"w-full border border-gray-300 rounded-lg p-3 focus:outline-none focus:ring-2 focus:ring-blue-500/20 focus:border-blue-500",placeholder:"",minLength:s?0:6,value:m,onChange:F=>p(F.target.value)}),!s&&_.jsx("p",{className:"text-xs text-gray-400 mt-1",children:"Must be at least 6 characters"})]}),_.jsxs("button",{type:"submit",disabled:T,className:"btn btn-primary w-full py-3 mt-2 gap-2 disabled:opacity-70 disabled:cursor-not-allowed",children:[T?"Processing...":s?"Log In":"Create Account & Enter",!T&&_.jsx(w1,{size:16})]})]}),_.jsx("div",{className:"mt-6 text-center",children:_.jsx("button",{onClick:()=>o(!s),className:"text-sm text-[var(--color-brand-primary)] hover:underline font-medium",children:s?"Need an account? Sign up":"Already have an account? Log in"})}),_.jsx("div",{className:"mt-6 pt-6 border-t border-gray-100 text-center text-xs text-gray-400",children:"By continuing, you agree to the EMG Portal Terms of Service."})]})})},oO=()=>{const r=uu(),e=ra[0],n=ra.slice(1),s=o=>{switch(o){case"In Progress":return"badge-success";case"Planning":return"badge-warning";case"On Hold":return"badge-warning";case"Ongoing":return"badge-info";default:return"badge-neutral"}};return _.jsxs("div",{className:"container max-w-5xl",children:[_.jsxs("div",{className:"mb-8",children:[_.jsx("h1",{className:"text-2xl font-bold text-[var(--color-brand-primary)]",children:"Project Dashboard"}),_.jsx("p",{className:"text-[var(--color-text-secondary)]",children:"Overview of all active engagements"})]}),_.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-8",children:[_.jsxs("div",{className:"md:col-span-2 space-y-6",children:[_.jsx("h2",{className:"text-lg text-[var(--color-text-primary)] font-semibold border-b border-gray-200 pb-2",children:"Your Primary Project"}),_.jsxs("div",{className:"card hover:shadow-md transition-shadow cursor-pointer border-l-4 border-l-[var(--color-accent)]",onClick:()=>r(`/project/${e.id}`),children:[_.jsx("div",{className:"flex justify-between items-start mb-4",children:_.jsxs("div",{children:[_.jsx("span",{className:`badge ${s(e.status)} mb-2`,children:e.status}),_.jsx("h3",{className:"text-xl font-bold text-[var(--color-brand-primary)] mb-1",children:e.name}),_.jsxs("div",{className:"flex items-center text-sm text-[var(--color-text-secondary)] gap-4",children:[_.jsxs("span",{className:"flex items-center gap-1",children:[_.jsx(g4,{size:14})," ",e.location]}),_.jsxs("span",{className:"flex items-center gap-1",children:[_.jsx(M4,{size:14})," Last updated ",e.lastUpdated]})]})]})}),_.jsx("p",{className:"text-gray-600 mb-6 leading-relaxed",children:e.summary}),_.jsx("div",{className:"flex justify-end",children:_.jsxs("button",{className:"btn btn-outline text-sm gap-2",children:["View Project Details",_.jsx(w1,{size:16})]})})]})]}),_.jsxs("div",{className:"space-y-6",children:[_.jsx("h2",{className:"text-lg text-[var(--color-text-primary)] font-semibold border-b border-gray-200 pb-2",children:"Other Active Projects"}),_.jsxs("div",{className:"card bg-gray-50 border-gray-100",children:[_.jsx("div",{className:"space-y-4",children:n.map(o=>_.jsxs("div",{className:"pb-4 border-b border-gray-100 last:border-0 last:pb-0",children:[_.jsx("div",{className:"flex justify-between items-start mb-1",children:_.jsx("h4",{className:"font-medium text-[var(--color-brand-secondary)]",children:o.name})}),_.jsxs("div",{className:"flex items-center justify-between text-xs",children:[_.jsx("span",{className:`badge ${s(o.status)} scale-90 origin-left`,children:o.status}),_.jsxs("span",{className:"text-gray-400",children:["Upd: ",o.lastUpdated]})]})]},o.id))}),_.jsx("div",{className:"mt-6 pt-4 border-t border-gray-200 text-xs text-gray-500 text-center",children:"Detailed views for these projects are not enabled in this preview."})]})]})]})]})},lO=()=>{const{projectId:r}=mp(),{setActiveProjectId:e}=_s(),n=ra.find(u=>u.id===r)||ra[0];NE.useEffect(()=>{r&&e(r)},[r,e]);const s=u=>{switch(u){case"In Progress":return"badge-success";case"Planning":return"badge-warning";case"On Hold":return"badge-warning";case"Ongoing":return"badge-info";default:return"badge-neutral"}},o=[{name:"Overview",path:"overview"},{name:"Progress Updates",path:"updates"},{name:"Site Photos",path:"photos"},{name:"Documents",path:"documents"},{name:"Actions & Follow-Ups",path:"actions"},{name:"Project Questions",path:"qa"}];return _.jsxs("div",{className:"container max-w-6xl",children:[_.jsx("div",{className:"mb-4",children:_.jsxs(vh,{to:"/dashboard",className:"text-sm text-gray-500 hover:text-[var(--color-brand-primary)] flex items-center gap-1",children:[_.jsx(A1,{size:14})," Back to Dashboard"]})}),_.jsxs("div",{className:"bg-white border border-[var(--color-border)] rounded-t-lg p-6 pb-0",children:[_.jsxs("div",{className:"flex justify-between items-start mb-6",children:[_.jsxs("div",{children:[_.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[_.jsx("h1",{className:"text-2xl font-bold text-[var(--color-brand-primary)]",children:n.name}),_.jsx("span",{className:`badge ${s(n.status)}`,children:n.status})]}),_.jsxs("p",{className:"text-[var(--color-text-secondary)] text-sm",children:["Project ID: ",r?.toUpperCase(),"  Last updated ",n.lastUpdated]})]}),_.jsx("div",{children:_.jsxs("div",{className:"text-right",children:[_.jsx("span",{className:"text-xs text-gray-400 block uppercase tracking-wide",children:"Client"}),_.jsx("span",{className:"font-medium",children:"Foodstuffs North Island"})]})})]}),_.jsx("div",{className:"flex border-b border-gray-200",children:o.map(u=>_.jsx(vh,{to:u.path,className:({isActive:f})=>`px-6 py-3 text-sm font-medium border-b-2 transition-colors ${f?"border-[var(--color-brand-primary)] text-[var(--color-brand-primary)]":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:u.name},u.path))})]}),_.jsx("div",{className:"bg-white border border-t-0 border-[var(--color-border)] rounded-b-lg p-6 min-h-[500px]",children:_.jsx(zE,{})})]})},uO=()=>{const{id:r}=mp(),{qa:e,addReply:n}=_s(),{user:s}=Ui(),o=e.find(p=>p.id.toString()===r),[u,f]=L.useState(""),m=()=>{if(!u.trim())return;const p=s.name+(s.role==="admin"?" (Admin)":"");n(r,u,p),f("")};return o?_.jsxs("div",{className:"container max-w-4xl pt-6",children:[_.jsx("div",{className:"mb-6",children:_.jsxs(vh,{to:"/project/south-mall/qa",className:"text-sm text-gray-500 hover:text-[var(--color-brand-primary)] flex items-center gap-1",children:[_.jsx(A1,{size:14})," Back to Project Q&A"]})}),_.jsxs("div",{className:"bg-white border border-[var(--color-border)] rounded-lg overflow-hidden shadow-sm animate-in fade-in",children:[_.jsxs("div",{className:"p-6 border-b border-gray-100 bg-gray-50/50",children:[_.jsxs("div",{className:"flex gap-3 mb-4",children:[_.jsx("span",{className:`px-2 py-0.5 rounded text-xs font-bold uppercase ${o.status==="Answered"?"bg-green-100 text-green-700":"bg-amber-100 text-amber-700"}`,children:o.status}),_.jsx("span",{className:"text-xs text-gray-500 border border-gray-200 px-2 py-0.5 rounded-full bg-white",children:o.category})]}),_.jsx("h1",{className:"text-2xl font-bold text-[var(--color-brand-primary)] mb-2",children:o.title}),_.jsxs("div",{className:"flex items-center text-sm text-gray-500 gap-4",children:[_.jsxs("span",{children:["Raised ",o.date]}),_.jsx("span",{children:""}),_.jsxs("span",{children:["ID: #",o.id.toString().padStart(4,"0")]})]})]}),_.jsxs("div",{className:"p-8",children:[_.jsx("h3",{className:"text-xs font-bold text-gray-400 uppercase tracking-wider mb-3",children:"Context & Question"}),_.jsxs("div",{className:"prose prose-slate max-w-none text-gray-700 bg-gray-50 p-6 rounded-md border border-gray-100 italic",children:['"',o.context,'"']})]}),_.jsxs("div",{className:"p-8 pt-0",children:[_.jsxs("h3",{className:"text-xs font-bold text-gray-400 uppercase tracking-wider mb-6 flex items-center gap-2",children:[_.jsx(x1,{size:14})," Discussion History (",o.replies.length,")"]}),_.jsx("div",{className:"space-y-6",children:o.replies.length===0?_.jsx("div",{className:"text-center py-8 text-gray-400 text-sm bg-gray-50 rounded-lg border border-dashed border-gray-200",children:"No replies yet."}):o.replies.map((p,g)=>_.jsxs("div",{className:"flex gap-4 group animate-in fade-in slide-in-from-bottom-2",children:[_.jsx("div",{className:"flex-shrink-0",children:_.jsx("div",{className:"w-10 h-10 rounded-full bg-slate-200 flex items-center justify-center text-slate-500",children:_.jsx(dg,{size:20})})}),_.jsxs("div",{className:"flex-grow",children:[_.jsxs("div",{className:"flex items-center justify-between mb-1",children:[_.jsx("span",{className:"font-semibold text-[var(--color-brand-primary)]",children:p.author}),_.jsx("span",{className:"text-xs text-gray-400",children:p.date})]}),_.jsx("div",{className:"text-gray-700 leading-relaxed bg-white border border-gray-100 p-4 rounded-lg rounded-tl-none shadow-sm",children:p.content}),g===o.replies.length-1&&o.status==="Answered"&&_.jsxs("div",{className:"mt-2 flex items-center gap-1 text-xs text-green-600 font-medium",children:[_.jsx(up,{size:12})," Marked as Answer"]})]})]},g))})]}),_.jsx("div",{className:"bg-gray-50 p-6 border-t border-gray-200",children:s?_.jsxs("div",{className:"flex gap-4",children:[_.jsx("div",{className:"w-10 h-10 rounded-full bg-[var(--color-brand-primary)] flex items-center justify-center text-white flex-shrink-0",children:_.jsx("span",{className:"font-bold text-sm",children:s.name.charAt(0)})}),_.jsxs("div",{className:"flex-grow",children:[_.jsx("textarea",{className:"w-full border border-gray-300 rounded-md p-3 text-sm focus:outline-none focus:ring-2 focus:ring-blue-500/20 focus:border-blue-500 transition-all resize-none",rows:"3",placeholder:"Write a reply...",value:u,onChange:p=>f(p.target.value)}),_.jsx("div",{className:"flex justify-end mt-2",children:_.jsx("button",{onClick:m,disabled:!u.trim(),className:"btn btn-primary text-sm disabled:opacity-50 disabled:cursor-not-allowed",children:"Post Reply"})})]})]}):_.jsx("div",{className:"text-center text-sm text-gray-400",children:"Log in to participate in the discussion."})})]})]}):_.jsx("div",{className:"p-8 text-center",children:"Thread not found"})},cO=()=>{const{id:r}=mp(),{projects:e,updateProjectDetails:n}=_s(),{isAdmin:s}=Ui(),o=e.find(b=>b.id===r)||e[0],[u,f]=L.useState(!1),[m,p]=L.useState({summary:o.summary,focus:o.focus,coordination:o.coordination}),g=()=>{n(o.id,m),f(!1)};return _.jsxs("div",{className:"max-w-4xl mx-auto space-y-8 animate-in fade-in duration-300 relative",children:[s&&!u&&_.jsx("div",{className:"absolute -top-2 right-0",children:_.jsxs("button",{onClick:()=>f(!0),className:"text-xs flex items-center gap-1 text-blue-600 hover:text-blue-800 bg-blue-50 px-2 py-1 rounded border border-blue-100 transition-colors",children:[_.jsx(R1,{size:12})," Edit Details"]})}),u&&_.jsxs("div",{className:"bg-blue-50 p-6 rounded-lg border border-blue-200 mb-8 space-y-4 shadow-inner",children:[_.jsxs("div",{className:"flex justify-between items-center mb-2",children:[_.jsx("h3",{className:"font-bold text-blue-800",children:"Edit Project Overview"}),_.jsx("button",{onClick:()=>f(!1),className:"text-gray-400 hover:text-gray-600",children:_.jsx(sa,{size:18})})]}),_.jsxs("div",{children:[_.jsx("label",{className:"block text-xs font-bold text-blue-800 uppercase mb-1",children:"Project Summary"}),_.jsx("textarea",{className:"w-full p-2 rounded border border-blue-200 focus:outline-none focus:ring-2 focus:ring-blue-500",rows:"3",value:m.summary,onChange:b=>p({...m,summary:b.target.value})})]}),_.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[_.jsxs("div",{children:[_.jsx("label",{className:"block text-xs font-bold text-blue-800 uppercase mb-1",children:"Current Focus"}),_.jsx("input",{className:"w-full p-2 rounded border border-blue-200 focus:outline-none focus:ring-2 focus:ring-blue-500",value:m.focus,onChange:b=>p({...m,focus:b.target.value})})]}),_.jsxs("div",{children:[_.jsx("label",{className:"block text-xs font-bold text-blue-800 uppercase mb-1",children:"Coordination"}),_.jsx("input",{className:"w-full p-2 rounded border border-blue-200 focus:outline-none focus:ring-2 focus:ring-blue-500",value:m.coordination,onChange:b=>p({...m,coordination:b.target.value})})]})]}),_.jsxs("div",{className:"flex justify-end gap-2 pt-2",children:[_.jsx("button",{onClick:()=>f(!1),className:"btn btn-outline bg-white text-xs",children:"Cancel"}),_.jsxs("button",{onClick:g,className:"btn btn-primary text-xs gap-1",children:[_.jsx(E4,{size:14})," Save Changes"]})]})]}),_.jsxs("section",{children:[_.jsxs("h3",{className:"text-lg font-semibold text-[var(--color-brand-primary)] mb-4 flex items-center gap-2",children:[_.jsx(B4,{size:18,className:"text-[var(--color-accent)]"})," Project Summary"]}),_.jsx("p",{className:"text-gray-600 leading-relaxed bg-gray-50 p-4 rounded-md border border-gray-100",children:o.summary})]}),_.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[_.jsxs("div",{className:"card border-l-4 border-l-blue-500",children:[_.jsxs("h3",{className:"text-base font-semibold text-[var(--color-brand-primary)] mb-3 flex items-center gap-2",children:[_.jsx(W4,{size:18,className:"text-blue-500"})," Current Focus"]}),_.jsx("p",{className:"text-gray-600 text-sm",children:o.focus})]}),_.jsxs("div",{className:"card border-l-4 border-l-amber-500",children:[_.jsxs("h3",{className:"text-base font-semibold text-[var(--color-brand-primary)] mb-3 flex items-center gap-2",children:[_.jsx(C1,{size:18,className:"text-amber-500"})," Key Coordination Items"]}),_.jsx("p",{className:"text-gray-600 text-sm",children:o.coordination})]})]}),_.jsxs("section",{children:[_.jsx("h3",{className:"text-sm font-medium text-gray-500 mb-2 uppercase tracking-wide",children:"Site Location"}),_.jsxs("div",{className:"aspect-video bg-gradient-to-br from-slate-100 to-slate-50 rounded-lg flex flex-col items-center justify-center border border-gray-200 text-gray-400 relative overflow-hidden",children:[_.jsx("div",{className:"w-12 h-12 rounded-full bg-slate-200 flex items-center justify-center mb-3",children:_.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"text-slate-400",children:[_.jsx("path",{d:"M20 10c0 6-8 12-8 12s-8-6-8-12a8 8 0 0 1 16 0Z"}),_.jsx("circle",{cx:"12",cy:"10",r:"3"})]})}),_.jsx("p",{className:"text-sm font-medium text-gray-500",children:"Map integration available on request"}),_.jsx("p",{className:"text-xs text-gray-400 mt-1",children:"Contact your EMG project lead for details"})]})]})]})},hO=()=>{const{updates:r,addUpdate:e,deleteUpdate:n,updateUpdate:s}=_s(),{user:o,isAdmin:u}=Ui(),[f,m]=L.useState(null),[p,g]=L.useState(null),[b,T]=L.useState(""),[w,j]=L.useState(!1),[F,K]=L.useState(""),[k,X]=L.useState("Progress"),ie=ae=>{ae.preventDefault(),e({projectId:"south-mall",date:new Date().toLocaleDateString("en-GB",{day:"2-digit",month:"short",year:"numeric"}),author:`${o.name} (EMG)`,content:F,tag:k}),K(""),j(!1)},Z=ae=>{g(ae.id),T(ae.content),m(null)},ye=ae=>{s(ae,{content:b}),g(null)},Se=ae=>{window.confirm("Are you sure you want to delete this update?")&&n(ae)};return _.jsxs("div",{className:"max-w-4xl mx-auto",children:[_.jsxs("div",{className:"flex justify-between items-center mb-6",children:[_.jsx("h2",{className:"text-lg font-semibold text-[var(--color-brand-primary)]",children:"Progress Updates"}),_.jsxs("div",{className:"flex gap-2",children:[u&&_.jsxs("button",{onClick:()=>j(!w),className:"btn btn-primary text-xs gap-1",children:[_.jsx(hg,{size:14})," Post Update"]}),_.jsx("button",{className:"btn btn-outline text-sm",disabled:!0,children:"Filter by Date"})]})]}),w&&_.jsx("div",{className:"bg-white border border-blue-100 shadow-sm rounded-lg p-4 mb-8 animate-in slide-in-from-top-2",children:_.jsxs("form",{onSubmit:ie,children:[_.jsx("textarea",{className:"w-full border border-gray-200 rounded p-3 text-sm focus:outline-none focus:ring-2 focus:ring-blue-500 mb-3",placeholder:"What's the latest on site?",rows:"3",value:F,onChange:ae=>K(ae.target.value),required:!0}),_.jsxs("div",{className:"flex justify-between items-center",children:[_.jsxs("select",{className:"text-sm border border-gray-200 rounded p-1.5",value:k,onChange:ae=>X(ae.target.value),children:[_.jsx("option",{children:"Progress"}),_.jsx("option",{children:"Compliance"}),_.jsx("option",{children:"Safety"}),_.jsx("option",{children:"Delay"})]}),_.jsxs("div",{className:"flex gap-2",children:[_.jsx("button",{type:"button",onClick:()=>j(!1),className:"btn btn-outline text-xs border-transparent",children:"Cancel"}),_.jsx("button",{type:"submit",className:"btn btn-primary text-xs",children:"Post"})]})]})]})}),r.length===0?_.jsxs("div",{className:"text-center py-16 text-gray-400",children:[_.jsx("div",{className:"w-16 h-16 rounded-full bg-gray-100 flex items-center justify-center mx-auto mb-4",children:_.jsx(lp,{size:28,className:"text-gray-300"})}),_.jsx("p",{className:"text-sm font-medium text-gray-500 mb-1",children:"No updates have been posted yet"}),_.jsx("p",{className:"text-xs text-gray-400",children:"Progress updates will appear here as the project advances"})]}):_.jsxs(_.Fragment,{children:[_.jsx("div",{className:"space-y-6 relative before:absolute before:inset-0 before:ml-5 before:-translate-x-px md:before:mx-auto md:before:translate-x-0 before:h-full before:w-0.5 before:bg-gradient-to-b before:from-transparent before:via-slate-300 before:to-transparent",children:r.map(ae=>_.jsxs("div",{className:"relative flex items-start group is-active animate-in fade-in duration-500",children:[_.jsx("div",{className:"absolute left-0 mt-1 ml-2.5 h-5 w-5 rounded-full border-2 border-[var(--color-bg-surface)] bg-slate-300 group-[.is-active]:bg-[var(--color-accent)] z-10 flex items-center justify-center",children:_.jsx("div",{className:"h-1.5 w-1.5 rounded-full bg-white"})}),_.jsxs("div",{className:"ml-12 w-full card p-5 border-gray-200 hover:border-blue-200 transition-colors",children:[_.jsxs("div",{className:"flex justify-between items-start mb-2",children:[_.jsxs("div",{className:"flex items-center gap-2 text-sm text-[var(--color-text-secondary)]",children:[_.jsxs("span",{className:"font-semibold text-[var(--color-brand-primary)] flex items-center gap-1",children:[_.jsx(dg,{size:14})," ",ae.author]}),_.jsx("span",{children:""}),_.jsxs("span",{className:"flex items-center gap-1",children:[_.jsx(lp,{size:14})," ",ae.date]})]}),_.jsx("span",{className:"badge badge-neutral bg-gray-100 text-gray-600",children:ae.tag})]}),_.jsx("p",{className:"text-gray-700 leading-relaxed text-sm",children:p===ae.id?_.jsxs("div",{className:"mt-2",children:[_.jsx("textarea",{className:"w-full p-2 border rounded focus:ring-2 focus:ring-blue-500 mb-2",rows:"3",value:b,onChange:R=>T(R.target.value)}),_.jsxs("div",{className:"flex justify-end gap-2",children:[_.jsx("button",{onClick:()=>g(null),className:"btn btn-sm btn-outline text-xs",children:"Cancel"}),_.jsx("button",{onClick:()=>ye(ae.id),className:"btn btn-sm btn-primary text-xs",children:"Save"})]})]}):ae.content}),u&&!p&&_.jsxs("div",{className:"absolute top-4 right-4",children:[_.jsx("button",{onClick:()=>m(f===ae.id?null:ae.id),className:"text-gray-400 hover:text-gray-600 transition-colors",children:_.jsx(j4,{size:16})}),f===ae.id&&_.jsxs("div",{className:"absolute right-0 mt-1 w-32 bg-white border border-gray-200 shadow-lg rounded-md overflow-hidden z-20 animate-in fade-in zoom-in-95 duration-200",children:[_.jsxs("button",{onClick:()=>Z(ae),className:"w-full text-left px-3 py-2 text-xs flex items-center gap-2 hover:bg-gray-50 text-gray-700",children:[_.jsx(R1,{size:12})," Edit"]}),_.jsxs("button",{onClick:()=>Se(ae.id),className:"w-full text-left px-3 py-2 text-xs flex items-center gap-2 hover:bg-red-50 text-red-600",children:[_.jsx(vo,{size:12})," Delete"]})]})]})]})]},ae.id))}),_.jsx("div",{className:"mt-8 text-center",children:_.jsx("button",{className:"text-sm text-gray-400 hover:text-gray-600",children:"View Earlier Updates"})})]})]})},ff=({isOpen:r,onClose:e,onConfirm:n,title:s,itemType:o})=>{const[u,f]=L.useState(""),[m,p]=L.useState("");if(!r)return null;const g=b=>{b.preventDefault(),u==="password123"?(n(),e(),f(""),p("")):p("Incorrect password. Access denied.")};return _.jsx("div",{className:"fixed inset-0 bg-black/50 z-50 flex items-center justify-center p-4 backdrop-blur-sm animate-in fade-in duration-200",children:_.jsxs("div",{className:"bg-white rounded-xl shadow-2xl max-w-md w-full border border-gray-100 overflow-hidden transform transition-all scale-100",children:[_.jsxs("div",{className:"bg-red-50 p-6 border-b border-red-100 flex items-start gap-4",children:[_.jsx("div",{className:"bg-red-100 p-2 rounded-full text-red-600 flex-shrink-0",children:_.jsx(C1,{size:24})}),_.jsxs("div",{children:[_.jsx("h3",{className:"text-lg font-bold text-red-800",children:"Confirm Deletion"}),_.jsxs("p",{className:"text-sm text-red-600 mt-1",children:["Are you sure you want to delete this ",o,"? This action cannot be undone."]})]}),_.jsx("button",{onClick:e,className:"text-red-400 hover:text-red-700 ml-auto",children:_.jsx(sa,{size:20})})]}),_.jsxs("form",{onSubmit:g,className:"p-6 space-y-4",children:[_.jsxs("div",{children:[_.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Admin Password Required"}),_.jsx("input",{type:"password",className:`w-full p-3 border rounded-lg focus:outline-none focus:ring-2 ${m?"border-red-300 ring-red-200":"border-gray-300 focus:ring-red-200 focus:border-red-500"}`,placeholder:"Enter password...",value:u,onChange:b=>{f(b.target.value),p("")},autoFocus:!0}),m&&_.jsxs("p",{className:"text-xs text-red-600 mt-2 font-medium flex items-center gap-1",children:[_.jsx(sa,{size:12})," ",m]})]}),_.jsxs("div",{className:"flex justify-end gap-3 pt-2",children:[_.jsx("button",{type:"button",onClick:e,className:"px-4 py-2 text-sm font-medium text-gray-600 hover:text-gray-800 bg-gray-50 hover:bg-gray-100 rounded-lg transition-colors",children:"Cancel"}),_.jsx("button",{type:"submit",className:"px-4 py-2 text-sm font-bold text-white bg-red-600 hover:bg-red-700 rounded-lg shadow-sm shadow-red-200 transition-colors",children:"Confirm Delete"})]})]})]})})},fO=()=>{const{user:r,isAdmin:e}=Ui(),{photos:n,addPhoto:s,deletePhoto:o}=_s(),[u,f]=L.useState(!1),[m,p]=L.useState({desc:"",tag:"Progress",src:""}),g=L.useRef(null),[b,T]=L.useState(!1),[w,j]=L.useState(!1),[F,K]=L.useState(null),k=ae=>{K(ae),j(!0)},X=()=>{F&&(o(F),K(null))},ie=ae=>new Promise(R=>{const x=new FileReader;x.readAsDataURL(ae),x.onload=C=>{const M=new Image;M.src=C.target.result,M.onload=()=>{const D=document.createElement("canvas"),P=800,I=P/M.width,$e=M.width>P?P:M.width,ut=M.width>P?M.height*I:M.height;D.width=$e,D.height=ut,D.getContext("2d").drawImage(M,0,0,$e,ut);const J=D.toDataURL("image/jpeg",.7);R(J)}}}),Z=async ae=>{const R=ae.target.files[0];if(R){T(!0);try{const x=await ie(R);p(C=>({...C,src:x}))}catch(x){console.error("Compression failed",x),alert("Failed to process image.")}finally{T(!1)}}},ye=ae=>{if(ae.preventDefault(),!m.src){alert("Please select a photo first.");return}const R={id:Date.now(),src:m.src,date:new Date().toLocaleDateString("en-GB",{day:"2-digit",month:"short",year:"numeric"}),tag:m.tag,desc:m.desc};s(R),f(!1),p({desc:"",tag:"Progress",src:""})},Se=()=>{g.current&&g.current.click()};return _.jsxs("div",{children:[_.jsxs("div",{className:"flex justify-between items-center mb-6",children:[_.jsx("h2",{className:"text-lg font-semibold text-[var(--color-brand-primary)]",children:"Site Photos"}),_.jsxs("div",{className:"flex gap-2",children:[r&&_.jsxs("button",{onClick:()=>f(!0),className:"btn btn-primary text-xs gap-1",children:[_.jsx(hg,{size:14})," Upload Photo"]}),_.jsx("button",{className:"btn btn-outline text-xs px-3",children:"Latest"})]})]}),_.jsx(ff,{isOpen:w,onClose:()=>j(!1),onConfirm:X,title:"Delete Photo",itemType:"photo"}),u&&_.jsxs("div",{className:"bg-gray-50 border border-dashed border-gray-300 rounded-lg p-4 mb-6 animate-in fade-in",children:[_.jsx("h3",{className:"font-bold text-gray-700 text-sm mb-3",children:"Upload Site Photo"}),_.jsxs("form",{onSubmit:ye,className:"space-y-3",children:[_.jsx("div",{children:_.jsx("input",{className:"w-full p-2 text-sm border border-gray-300 rounded",placeholder:"Photo Description",required:!0,value:m.desc,onChange:ae=>p({...m,desc:ae.target.value})})}),_.jsxs("div",{className:"flex flex-col sm:flex-row gap-3",children:[_.jsxs("select",{className:"p-2 text-sm border border-gray-300 rounded sm:w-1/3",value:m.tag,onChange:ae=>p({...m,tag:ae.target.value}),children:[_.jsx("option",{children:"Progress"}),_.jsx("option",{children:"Safety"}),_.jsx("option",{children:"Site Works"}),_.jsx("option",{children:"Interior"}),_.jsx("option",{children:"Exterior"})]}),_.jsxs("div",{className:"flex-1 flex gap-2",children:[_.jsx("input",{type:"file",ref:g,onChange:Z,accept:"image/*",capture:"environment",className:"hidden"}),_.jsx("button",{type:"button",onClick:Se,disabled:b,className:`flex-1 p-2 text-sm border rounded flex items-center justify-center gap-2 transition-colors ${m.src?"bg-green-50 text-green-700 border-green-200":"bg-white text-gray-500 border-gray-300 hover:bg-gray-50"}`,children:b?"Compressing...":m.src?_.jsxs(_.Fragment,{children:[_.jsx(CE,{size:16})," Photo Selected"]}):_.jsxs(_.Fragment,{children:[_.jsx(fg,{size:16})," Select from Device"]})})]})]}),m.src&&_.jsxs("div",{className:"relative h-32 w-full rounded-lg overflow-hidden border border-gray-200 bg-black/5",children:[_.jsx("img",{src:m.src,alt:"Preview",className:"w-full h-full object-contain"}),_.jsx("button",{type:"button",onClick:()=>p({...m,src:""}),className:"absolute top-2 right-2 bg-black/50 text-white rounded-full p-1 hover:bg-black/70",children:_.jsx(vo,{size:12})})]}),_.jsxs("div",{className:"flex justify-end gap-2 pt-2",children:[_.jsx("button",{type:"button",onClick:()=>f(!1),className:"btn btn-outline text-xs bg-white",children:"Cancel"}),_.jsx("button",{type:"submit",className:"btn btn-primary text-xs",disabled:!m.src||b,children:"Save Photo"})]})]})]}),n.length===0?_.jsxs("div",{className:"text-center py-16 text-gray-400",children:[_.jsx("div",{className:"w-16 h-16 rounded-full bg-gray-100 flex items-center justify-center mx-auto mb-4",children:_.jsx(CE,{size:28,className:"text-gray-300"})}),_.jsx("p",{className:"text-sm font-medium text-gray-500 mb-1",children:"No site photos uploaded yet"}),_.jsx("p",{className:"text-xs text-gray-400",children:"Photos will appear here as they are added by the project team"})]}):_.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 gap-6",children:n.map(ae=>_.jsxs("div",{className:"group cursor-pointer relative",children:[_.jsxs("div",{className:"aspect-[4/3] bg-gray-100 rounded-md overflow-hidden relative border border-gray-200 mb-3",children:[_.jsx("img",{src:ae.src,alt:ae.desc,className:"w-full h-full object-cover transition-transform duration-500 group-hover:scale-105"}),_.jsx("div",{className:"absolute inset-0 bg-black/0 group-hover:bg-black/10 transition-colors"}),e&&_.jsx("button",{onClick:R=>{R.stopPropagation(),k(ae.id)},className:"absolute top-2 right-2 bg-red-600 text-white p-1.5 rounded-full opacity-0 group-hover:opacity-100 transition-opacity hover:bg-red-700 z-10",title:"Delete Photo",children:_.jsx(vo,{size:14})})]}),_.jsxs("div",{children:[_.jsx("div",{className:"flex justify-between items-start",children:_.jsx("h3",{className:"text-sm font-medium text-[var(--color-brand-primary)] group-hover:text-[var(--color-accent)] transition-colors line-clamp-1",children:ae.desc})}),_.jsxs("div",{className:"flex items-center gap-3 mt-1 text-xs text-[var(--color-text-secondary)]",children:[_.jsxs("span",{className:"flex items-center gap-1",children:[_.jsx(lp,{size:12})," ",ae.date]}),_.jsxs("span",{className:"flex items-center gap-1",children:[_.jsx(X4,{size:12})," ",ae.tag]})]})]})]},ae.id))})]})},dO=()=>{const{actions:r,addAction:e,updateActionStatus:n,deleteAction:s}=_s(),{user:o,isAdmin:u}=Ui(),[f,m]=L.useState(!1),[p,g]=L.useState({task:"",assignedTo:"",dueDate:""}),[b,T]=L.useState(!1),[w,j]=L.useState(null),F=Z=>{j(Z),T(!0)},K=()=>{w&&(s(w),j(null))},k=Z=>Z==="Closed"?_.jsxs("span",{className:"badge badge-success flex items-center gap-1",children:[_.jsx(up,{size:12})," Closed"]}):_.jsxs("span",{className:"badge badge-neutral ring-1 ring-gray-200 flex items-center gap-1",children:[_.jsx(D4,{size:12})," Open"]}),X=Z=>{Z.preventDefault(),e(p),g({task:"",assignedTo:"",dueDate:""}),m(!1)},ie=(Z,ye)=>{if(!o)return;n(Z,ye==="Open"?"Closed":"Open")};return _.jsxs("div",{className:"max-w-5xl mx-auto",children:[_.jsxs("div",{className:"flex justify-between items-center mb-6",children:[_.jsx("h2",{className:"text-lg font-semibold text-[var(--color-brand-primary)]",children:"Actions & Follow-Ups"}),_.jsxs("div",{className:"flex gap-2",children:[o&&_.jsxs("button",{onClick:()=>m(!f),className:"btn btn-primary text-sm gap-1",children:[_.jsx(hg,{size:16})," Raise Action"]}),_.jsx("button",{className:"btn btn-outline text-sm",children:"Export List"})]})]}),_.jsx(ff,{isOpen:b,onClose:()=>T(!1),onConfirm:K,title:"Delete Action",itemType:"action"}),f&&_.jsxs("div",{className:"bg-gray-50 border border-gray-200 rounded-lg p-4 mb-6 animate-in slide-in-from-top-2",children:[_.jsxs("div",{className:"flex justify-between items-center mb-4",children:[_.jsx("h3",{className:"font-bold text-gray-700 text-sm",children:"New Action Item"}),_.jsx("button",{onClick:()=>m(!1),className:"text-gray-400 hover:text-gray-600",children:_.jsx(sa,{size:18})})]}),_.jsxs("form",{onSubmit:X,className:"grid grid-cols-1 md:grid-cols-4 gap-4 items-end",children:[_.jsxs("div",{className:"md:col-span-2",children:[_.jsx("label",{className:"block text-xs font-medium text-gray-500 mb-1",children:"Task Description"}),_.jsx("input",{className:"w-full p-2 text-sm border border-gray-300 rounded",required:!0,value:p.task,onChange:Z=>g({...p,task:Z.target.value})})]}),_.jsxs("div",{children:[_.jsx("label",{className:"block text-xs font-medium text-gray-500 mb-1",children:"Assigned To"}),_.jsxs("select",{className:"w-full p-2 text-sm border border-gray-300 rounded",value:p.assignedTo,onChange:Z=>g({...p,assignedTo:Z.target.value}),children:[_.jsx("option",{value:"",children:"-- Select --"}),_.jsx("option",{children:"EMG"}),_.jsx("option",{children:"Contractor"}),_.jsx("option",{children:"Client"}),_.jsx("option",{children:"Consultant (Arch)"}),_.jsx("option",{children:"Consultant (Elec)"})]})]}),_.jsxs("div",{children:[_.jsx("label",{className:"block text-xs font-medium text-gray-500 mb-1",children:"Due Date"}),_.jsx("input",{type:"date",className:"w-full p-2 text-sm border border-gray-300 rounded",required:!0,value:p.dueDate,onChange:Z=>g({...p,dueDate:Z.target.value})})]}),_.jsx("div",{className:"md:col-span-4 flex justify-end",children:_.jsx("button",{type:"submit",className:"btn btn-primary text-xs",children:"Create Action"})})]})]}),r.length===0?_.jsxs("div",{className:"text-center py-16 text-gray-400 border border-gray-200 rounded-lg",children:[_.jsx("div",{className:"w-16 h-16 rounded-full bg-gray-100 flex items-center justify-center mx-auto mb-4",children:_.jsx(up,{size:28,className:"text-gray-300"})}),_.jsx("p",{className:"text-sm font-medium text-gray-500 mb-1",children:"No actions have been raised"}),_.jsx("p",{className:"text-xs text-gray-400",children:"Action items and follow-ups will appear here"})]}):_.jsx("div",{className:"overflow-hidden border border-gray-200 rounded-lg shadow-sm",children:_.jsxs("table",{className:"w-full text-sm text-left",children:[_.jsx("thead",{className:"bg-gray-50 text-gray-500 font-medium border-b border-gray-200",children:_.jsxs("tr",{children:[_.jsx("th",{className:"px-6 py-3 w-16",children:"#"}),_.jsx("th",{className:"px-6 py-3",children:"Task Description"}),_.jsx("th",{className:"px-6 py-3 w-48",children:"Assigned To"}),_.jsx("th",{className:"px-6 py-3 w-32",children:"Due Date"}),_.jsx("th",{className:"px-6 py-3 w-32 text-center",children:"Status"}),u&&_.jsx("th",{className:"px-6 py-3 w-16 text-center"})]})}),_.jsx("tbody",{className:"divide-y divide-gray-100 bg-white",children:r.map(Z=>_.jsxs("tr",{className:"hover:bg-gray-50 transition-colors group",children:[_.jsx("td",{className:"px-6 py-4 text-gray-400",children:Z.id}),_.jsx("td",{className:"px-6 py-4 font-medium text-[var(--color-brand-primary)]",children:Z.task}),_.jsx("td",{className:"px-6 py-4",children:_.jsx("span",{className:"inline-flex items-center px-2 py-0.5 rounded text-xs font-medium bg-slate-100 text-slate-700",children:Z.assignedTo})}),_.jsx("td",{className:"px-6 py-4 text-gray-500",children:Z.dueDate}),_.jsx("td",{className:"px-6 py-4 text-center",children:_.jsx("button",{onClick:()=>ie(Z.id,Z.status),className:`transition-transform active:scale-95 ${o?"cursor-pointer hover:opacity-80":"cursor-default"}`,disabled:!o,title:o?"Click to toggle status":"",children:k(Z.status)})}),u&&_.jsx("td",{className:"px-6 py-4 text-center",children:_.jsx("button",{onClick:()=>F(Z.id),className:"text-red-300 hover:text-red-600 transition-colors",title:"Delete Action",children:_.jsx(vo,{size:16})})})]},Z.id))})]})})]})},mO=({isOpen:r,onClose:e,folders:n,onUpload:s})=>{const[o,u]=L.useState(null),[f,m]=L.useState("");if(!r)return null;const p=g=>{g.preventDefault(),o&&f&&(s(o,f),e(),u(null),m(""))};return _.jsx("div",{className:"fixed inset-0 bg-black/50 z-50 flex items-center justify-center p-4 animate-in fade-in duration-200",children:_.jsxs("div",{className:"bg-white rounded-lg shadow-xl w-full max-w-md",children:[_.jsxs("div",{className:"flex justify-between items-center p-4 border-b border-gray-100",children:[_.jsx("h3",{className:"font-semibold text-gray-800",children:"Upload Document"}),_.jsx("button",{onClick:e,className:"text-gray-400 hover:text-gray-600",children:_.jsx(sa,{size:20})})]}),_.jsxs("form",{onSubmit:p,className:"p-6 space-y-4",children:[_.jsxs("div",{children:[_.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Select File"}),_.jsx("input",{type:"file",required:!0,onChange:g=>u(g.target.files[0]),className:`block w-full text-sm text-gray-500\r
                                file:mr-4 file:py-2 file:px-4\r
                                file:rounded-full file:border-0\r
                                file:text-sm file:font-semibold\r
                                file:bg-blue-50 file:text-blue-700\r
                                hover:file:bg-blue-100\r
                            `})]}),_.jsxs("div",{children:[_.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Target Folder"}),_.jsxs("select",{required:!0,value:f,onChange:g=>m(g.target.value),className:"w-full border border-gray-300 rounded-lg p-2.5 text-sm focus:outline-none focus:ring-2 focus:ring-blue-500/20 focus:border-blue-500",children:[_.jsx("option",{value:"",disabled:!0,children:"Select a folder..."}),n.map(g=>_.jsx("option",{value:g.id,children:g.name},g.id))]})]}),_.jsxs("div",{className:"pt-2 flex justify-end gap-2",children:[_.jsx("button",{type:"button",onClick:e,className:"btn btn-ghost text-sm",children:"Cancel"}),_.jsxs("button",{type:"submit",className:"btn btn-primary text-sm flex items-center gap-2",children:[_.jsx(fg,{size:16})," Upload Now"]})]})]})]})})},pO=()=>{const{user:r,isAdmin:e}=Ui(),{documents:n,addDocument:s,deleteDocument:o}=_s(),[u,f]=L.useState(["folder-1","folder-2","folder-3","folder-4"]),[m,p]=L.useState(!1),[g,b]=L.useState(!1),[T,w]=L.useState(null),j=X=>{f(ie=>ie.includes(X)?ie.filter(Z=>Z!==X):[...ie,X])},F=(X,ie)=>{X.stopPropagation(),w(ie),p(!0)},K=()=>{T&&(o(T),w(null))},k=(X,ie)=>{s(X,ie,r?r.name:"Unknown"),u.includes(ie)||f(Z=>[...Z,ie])};return _.jsxs("div",{className:"max-w-6xl mx-auto",children:[_.jsx(ff,{isOpen:m,onClose:()=>p(!1),onConfirm:K,title:"Delete Document",itemType:"document"}),_.jsx(mO,{isOpen:g,onClose:()=>b(!1),folders:n,onUpload:k}),_.jsxs("div",{className:"bg-blue-50/50 border border-blue-100 p-4 rounded-lg mb-6 flex items-start sm:items-center justify-between gap-4",children:[_.jsx("p",{className:"text-sm text-blue-800",children:"Project documentation is stored centrally for version control and transparency."}),_.jsxs("button",{onClick:()=>b(!0),className:"btn btn-outline bg-white text-xs whitespace-nowrap gap-2 hover:bg-blue-50 border-blue-200 text-blue-700",children:[_.jsx(fg,{size:14})," Upload Document"]})]}),_.jsxs("div",{className:"border border-gray-200 rounded-lg overflow-hidden bg-white shadow-sm",children:[_.jsxs("div",{className:"grid grid-cols-12 bg-gray-50 border-b border-gray-200 text-xs font-semibold text-gray-500 uppercase tracking-wider py-3 px-4",children:[_.jsx("div",{className:"col-span-6",children:"File Name"}),_.jsx("div",{className:"col-span-2",children:"Type"}),_.jsx("div",{className:"col-span-2",children:"Uploaded By"}),_.jsx("div",{className:"col-span-2 text-right",children:"Date"})]}),_.jsx("div",{className:"divide-y divide-gray-100",children:n.map(X=>{const ie=u.includes(X.id);return _.jsxs(NE.Fragment,{children:[_.jsxs("div",{onClick:()=>j(X.id),className:"grid grid-cols-12 items-center py-3 px-4 hover:bg-gray-50 cursor-pointer transition-colors group",children:[_.jsxs("div",{className:"col-span-6 flex items-center gap-3",children:[_.jsx("span",{className:"text-gray-400 group-hover:text-gray-600",children:ie?_.jsx(T4,{size:14}):_.jsx(Uh,{size:14})}),_.jsx(U4,{size:18,className:"text-amber-400 fill-amber-100"}),_.jsx("span",{className:"font-semibold text-gray-700 text-sm group-hover:text-blue-700",children:X.name}),_.jsxs("span",{className:"text-xs text-gray-400 font-normal",children:["(",X.items.length,")"]})]}),_.jsx("div",{className:"col-span-2 text-xs text-gray-400 font-medium",children:"Folder"}),_.jsx("div",{className:"col-span-2 text-xs text-gray-400",children:"-"}),_.jsx("div",{className:"col-span-2 text-xs text-gray-400 text-right",children:"-"})]}),ie&&X.items.map(Z=>_.jsxs("div",{className:"grid grid-cols-12 items-center py-2.5 px-4 bg-slate-50/30 hover:bg-blue-50/30 border-l-4 border-l-transparent hover:border-l-blue-400 transition-all pl-12 group/file",children:[_.jsxs("div",{className:"col-span-6 flex items-center gap-3",children:[_.jsx(P4,{size:16,className:"text-gray-400"}),_.jsx("span",{className:"text-sm text-gray-600 hover:text-gray-900 hover:underline cursor-pointer truncate mr-2",children:Z.name}),e&&_.jsx("button",{onClick:ye=>F(ye,Z.id),className:"text-gray-300 hover:text-red-500 opacity-0 group-hover/file:opacity-100 transition-all p-1",title:"Delete Document",children:_.jsx(vo,{size:14})})]}),_.jsx("div",{className:"col-span-2 text-xs text-gray-500 font-mono bg-gray-100 inline-block px-1.5 py-0.5 rounded w-fit",children:Z.type}),_.jsx("div",{className:"col-span-2 text-xs text-gray-500",children:Z.author}),_.jsx("div",{className:"col-span-2 text-xs text-gray-500 text-right font-medium",children:Z.date})]},Z.id))]},X.id)})})]})]})},gO=()=>{const{qa:r,addQuestion:e,deleteQuestion:n}=_s(),{user:s,isAdmin:o}=Ui(),[u,f]=L.useState(!1),[m,p]=L.useState({title:"",context:"",category:"RFI"}),[g,b]=L.useState(!1),[T,w]=L.useState(null),j=(k,X)=>{k.preventDefault(),k.stopPropagation(),w(X),b(!0)},F=()=>{T&&(n(T),w(null))},K=k=>{k.preventDefault(),e(m),p({title:"",context:"",category:"RFI"}),f(!1)};return _.jsxs("div",{className:"max-w-4xl mx-auto",children:[_.jsxs("div",{className:"flex justify-between items-center mb-6",children:[_.jsxs("div",{children:[_.jsx("h2",{className:"text-lg font-semibold text-[var(--color-brand-primary)]",children:"Project Questions"}),_.jsx("p",{className:"text-sm text-[var(--color-text-secondary)]",children:"Queries and clarifications shared across the project team"})]}),s&&_.jsxs("button",{onClick:()=>f(!u),className:"btn btn-primary text-sm gap-2",children:[_.jsx(IE,{size:16}),"Raise Question"]})]}),_.jsx(ff,{isOpen:g,onClose:()=>b(!1),onConfirm:F,title:"Delete Question",itemType:"question thread"}),u&&_.jsxs("div",{className:"bg-amber-50 border border-amber-200 rounded-lg p-5 mb-6 animate-in slide-in-from-top-2",children:[_.jsxs("div",{className:"flex justify-between items-center mb-4",children:[_.jsx("h3",{className:"font-bold text-amber-800 text-sm",children:"Submit a Question"}),_.jsx("button",{onClick:()=>f(!1),className:"text-amber-400 hover:text-amber-600",children:_.jsx(sa,{size:18})})]}),_.jsxs("form",{onSubmit:K,className:"space-y-4",children:[_.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[_.jsxs("div",{className:"md:col-span-2",children:[_.jsx("label",{className:"block text-xs font-bold text-amber-800 uppercase mb-1",children:"Subject / Question"}),_.jsx("input",{className:"w-full p-2 text-sm border border-amber-200 rounded",required:!0,placeholder:"e.g. Clarification on perimeter fence",value:m.title,onChange:k=>p({...m,title:k.target.value})})]}),_.jsxs("div",{children:[_.jsx("label",{className:"block text-xs font-bold text-amber-800 uppercase mb-1",children:"Category"}),_.jsxs("select",{className:"w-full p-2 text-sm border border-amber-200 rounded",value:m.category,onChange:k=>p({...m,category:k.target.value}),children:[_.jsx("option",{children:"RFI"}),_.jsx("option",{children:"Access"}),_.jsx("option",{children:"Safety"}),_.jsx("option",{children:"Design"}),_.jsx("option",{children:"Other"})]})]})]}),_.jsxs("div",{children:[_.jsx("label",{className:"block text-xs font-bold text-amber-800 uppercase mb-1",children:"Detailed Context"}),_.jsx("textarea",{className:"w-full p-2 text-sm border border-amber-200 rounded",rows:"3",required:!0,placeholder:"Provide enough detail for the team to answer...",value:m.context,onChange:k=>p({...m,context:k.target.value})})]}),_.jsx("div",{className:"flex justify-end",children:_.jsx("button",{type:"submit",className:"btn btn-primary bg-amber-600 hover:bg-amber-700 border-transparent text-xs text-white",children:"Submit Question"})})]})]}),r.length===0?_.jsxs("div",{className:"text-center py-16 text-gray-400",children:[_.jsx("div",{className:"w-16 h-16 rounded-full bg-gray-100 flex items-center justify-center mx-auto mb-4",children:_.jsx(IE,{size:28,className:"text-gray-300"})}),_.jsx("p",{className:"text-sm font-medium text-gray-500 mb-1",children:"No questions have been raised yet"}),_.jsx("p",{className:"text-xs text-gray-400",children:"Questions and clarifications will appear here"})]}):_.jsx("div",{className:"space-y-4",children:r.map(k=>_.jsxs(qh,{to:`/question/${k.id}`,className:"block relative group",children:[_.jsxs("div",{className:"card p-5 border-gray-200 hover:border-[var(--color-accent)] hover:shadow-md transition-all cursor-pointer animate-in fade-in",children:[_.jsxs("div",{className:"flex justify-between items-start mb-2",children:[_.jsxs("div",{className:"flex items-center gap-3",children:[_.jsx("span",{className:`px-2 py-1 rounded text-xs font-bold uppercase ${k.status==="Answered"?"bg-green-100 text-green-700":"bg-amber-100 text-amber-700"}`,children:k.status}),_.jsx("span",{className:"text-xs text-gray-400 font-medium border border-gray-100 px-2 py-0.5 rounded-full bg-white",children:k.category})]}),_.jsx("span",{className:"text-xs text-gray-400",children:k.date})]}),_.jsxs("h3",{className:"text-lg font-semibold text-[var(--color-brand-primary)] group-hover:text-[var(--color-accent)] mb-2 flex items-center justify-between",children:[k.title,_.jsx(Uh,{className:"opacity-0 group-hover:opacity-100 transition-opacity text-[var(--color-accent)]",size:20})]}),_.jsx("p",{className:"text-gray-600 text-sm line-clamp-2 mb-4",children:k.context}),_.jsxs("div",{className:"flex items-center gap-2 text-xs text-gray-500 pt-3 border-t border-gray-100",children:[_.jsx(x1,{size:14}),k.replies.length," ",k.replies.length===1?"reply":"replies",k.replies.length>0&&_.jsxs("span",{children:[" Last reply by ",k.replies[k.replies.length-1].author]})]})]}),o&&_.jsx("button",{onClick:X=>j(X,k.id),className:"absolute top-4 right-4 p-2 text-gray-300 hover:text-red-500 hover:bg-red-50 rounded-full transition-all opacity-0 group-hover:opacity-100 z-10",title:"Delete Thread",children:_.jsx(vo,{size:16})})]},k.id))})]})};function yO(){return _.jsx(i4,{children:_.jsx(o4,{children:_.jsx(Mw,{children:_.jsxs(cw,{children:[_.jsx(dn,{path:"/",element:_.jsx(sO,{})}),_.jsx(dn,{path:"/login",element:_.jsx(aO,{})}),_.jsxs(dn,{element:_.jsx(rO,{}),children:[_.jsx(dn,{path:"/dashboard",element:_.jsx(oO,{})}),_.jsxs(dn,{path:"/project/:projectId",element:_.jsx(lO,{}),children:[_.jsx(dn,{index:!0,element:_.jsx(lw,{to:"overview",replace:!0})}),_.jsx(dn,{path:"overview",element:_.jsx(cO,{})}),_.jsx(dn,{path:"updates",element:_.jsx(hO,{})}),_.jsx(dn,{path:"photos",element:_.jsx(fO,{})}),_.jsx(dn,{path:"actions",element:_.jsx(dO,{})}),_.jsx(dn,{path:"documents",element:_.jsx(pO,{})}),_.jsx(dn,{path:"qa",element:_.jsx(gO,{})})]}),_.jsx(dn,{path:"/question/:id",element:_.jsx(uO,{})})]})]})})})})}pA.createRoot(document.getElementById("root")).render(_.jsx(L.StrictMode,{children:_.jsx(yO,{})}));
