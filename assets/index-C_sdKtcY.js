(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))s(o);new MutationObserver(o=>{for(const c of o)if(c.type==="childList")for(const d of c.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&s(d)}).observe(document,{childList:!0,subtree:!0});function i(o){const c={};return o.integrity&&(c.integrity=o.integrity),o.referrerPolicy&&(c.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?c.credentials="include":o.crossOrigin==="anonymous"?c.credentials="omit":c.credentials="same-origin",c}function s(o){if(o.ep)return;o.ep=!0;const c=i(o);fetch(o.href,c)}})();function ME(r){return r&&r.__esModule&&Object.prototype.hasOwnProperty.call(r,"default")?r.default:r}var cd={exports:{}},no={};var g0;function OE(){if(g0)return no;g0=1;var r=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function i(s,o,c){var d=null;if(c!==void 0&&(d=""+c),o.key!==void 0&&(d=""+o.key),"key"in o){c={};for(var p in o)p!=="key"&&(c[p]=o[p])}else c=o;return o=c.ref,{$$typeof:r,type:s,key:d,ref:o!==void 0?o:null,props:c}}return no.Fragment=e,no.jsx=i,no.jsxs=i,no}var y0;function zE(){return y0||(y0=1,cd.exports=OE()),cd.exports}var v=zE(),hd={exports:{}},At={};var v0;function UE(){if(v0)return At;v0=1;var r=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),c=Symbol.for("react.consumer"),d=Symbol.for("react.context"),p=Symbol.for("react.forward_ref"),g=Symbol.for("react.suspense"),y=Symbol.for("react.memo"),E=Symbol.for("react.lazy"),x=Symbol.for("react.activity"),R=Symbol.iterator;function U(M){return M===null||typeof M!="object"?null:(M=R&&M[R]||M["@@iterator"],typeof M=="function"?M:null)}var Y={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},X=Object.assign,k={};function J(M,W,lt){this.props=M,this.context=W,this.refs=k,this.updater=lt||Y}J.prototype.isReactComponent={},J.prototype.setState=function(M,W){if(typeof M!="object"&&typeof M!="function"&&M!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,M,W,"setState")},J.prototype.forceUpdate=function(M){this.updater.enqueueForceUpdate(this,M,"forceUpdate")};function it(){}it.prototype=J.prototype;function $(M,W,lt){this.props=M,this.context=W,this.refs=k,this.updater=lt||Y}var _t=$.prototype=new it;_t.constructor=$,X(_t,J.prototype),_t.isPureReactComponent=!0;var xt=Array.isArray;function rt(){}var w={H:null,A:null,T:null,S:null},A=Object.prototype.hasOwnProperty;function C(M,W,lt){var ct=lt.ref;return{$$typeof:r,type:M,key:W,ref:ct!==void 0?ct:null,props:lt}}function V(M,W){return C(M.type,W,M.props)}function I(M){return typeof M=="object"&&M!==null&&M.$$typeof===r}function O(M){var W={"=":"=0",":":"=2"};return"$"+M.replace(/[=:]/g,function(lt){return W[lt]})}var N=/\/+/g;function Yt(M,W){return typeof M=="object"&&M!==null&&M.key!=null?O(""+M.key):W.toString(36)}function ft(M){switch(M.status){case"fulfilled":return M.value;case"rejected":throw M.reason;default:switch(typeof M.status=="string"?M.then(rt,rt):(M.status="pending",M.then(function(W){M.status==="pending"&&(M.status="fulfilled",M.value=W)},function(W){M.status==="pending"&&(M.status="rejected",M.reason=W)})),M.status){case"fulfilled":return M.value;case"rejected":throw M.reason}}throw M}function B(M,W,lt,ct,pt){var gt=typeof M;(gt==="undefined"||gt==="boolean")&&(M=null);var bt=!1;if(M===null)bt=!0;else switch(gt){case"bigint":case"string":case"number":bt=!0;break;case"object":switch(M.$$typeof){case r:case e:bt=!0;break;case E:return bt=M._init,B(bt(M._payload),W,lt,ct,pt)}}if(bt)return pt=pt(M),bt=ct===""?"."+Yt(M,0):ct,xt(pt)?(lt="",bt!=null&&(lt=bt.replace(N,"$&/")+"/"),B(pt,W,lt,"",function(Xa){return Xa})):pt!=null&&(I(pt)&&(pt=V(pt,lt+(pt.key==null||M&&M.key===pt.key?"":(""+pt.key).replace(N,"$&/")+"/")+bt)),W.push(pt)),1;bt=0;var ie=ct===""?".":ct+":";if(xt(M))for(var le=0;le<M.length;le++)ct=M[le],gt=ie+Yt(ct,le),bt+=B(ct,W,lt,gt,pt);else if(le=U(M),typeof le=="function")for(M=le.call(M),le=0;!(ct=M.next()).done;)ct=ct.value,gt=ie+Yt(ct,le++),bt+=B(ct,W,lt,gt,pt);else if(gt==="object"){if(typeof M.then=="function")return B(ft(M),W,lt,ct,pt);throw W=String(M),Error("Objects are not valid as a React child (found: "+(W==="[object Object]"?"object with keys {"+Object.keys(M).join(", ")+"}":W)+"). If you meant to render a collection of children, use an array instead.")}return bt}function at(M,W,lt){if(M==null)return M;var ct=[],pt=0;return B(M,ct,"","",function(gt){return W.call(lt,gt,pt++)}),ct}function ot(M){if(M._status===-1){var W=M._result;W=W(),W.then(function(lt){(M._status===0||M._status===-1)&&(M._status=1,M._result=lt)},function(lt){(M._status===0||M._status===-1)&&(M._status=2,M._result=lt)}),M._status===-1&&(M._status=0,M._result=W)}if(M._status===1)return M._result.default;throw M._result}var Rt=typeof reportError=="function"?reportError:function(M){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var W=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof M=="object"&&M!==null&&typeof M.message=="string"?String(M.message):String(M),error:M});if(!window.dispatchEvent(W))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",M);return}console.error(M)},It={map:at,forEach:function(M,W,lt){at(M,function(){W.apply(this,arguments)},lt)},count:function(M){var W=0;return at(M,function(){W++}),W},toArray:function(M){return at(M,function(W){return W})||[]},only:function(M){if(!I(M))throw Error("React.Children.only expected to receive a single React element child.");return M}};return At.Activity=x,At.Children=It,At.Component=J,At.Fragment=i,At.Profiler=o,At.PureComponent=$,At.StrictMode=s,At.Suspense=g,At.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=w,At.__COMPILER_RUNTIME={__proto__:null,c:function(M){return w.H.useMemoCache(M)}},At.cache=function(M){return function(){return M.apply(null,arguments)}},At.cacheSignal=function(){return null},At.cloneElement=function(M,W,lt){if(M==null)throw Error("The argument must be a React element, but you passed "+M+".");var ct=X({},M.props),pt=M.key;if(W!=null)for(gt in W.key!==void 0&&(pt=""+W.key),W)!A.call(W,gt)||gt==="key"||gt==="__self"||gt==="__source"||gt==="ref"&&W.ref===void 0||(ct[gt]=W[gt]);var gt=arguments.length-2;if(gt===1)ct.children=lt;else if(1<gt){for(var bt=Array(gt),ie=0;ie<gt;ie++)bt[ie]=arguments[ie+2];ct.children=bt}return C(M.type,pt,ct)},At.createContext=function(M){return M={$$typeof:d,_currentValue:M,_currentValue2:M,_threadCount:0,Provider:null,Consumer:null},M.Provider=M,M.Consumer={$$typeof:c,_context:M},M},At.createElement=function(M,W,lt){var ct,pt={},gt=null;if(W!=null)for(ct in W.key!==void 0&&(gt=""+W.key),W)A.call(W,ct)&&ct!=="key"&&ct!=="__self"&&ct!=="__source"&&(pt[ct]=W[ct]);var bt=arguments.length-2;if(bt===1)pt.children=lt;else if(1<bt){for(var ie=Array(bt),le=0;le<bt;le++)ie[le]=arguments[le+2];pt.children=ie}if(M&&M.defaultProps)for(ct in bt=M.defaultProps,bt)pt[ct]===void 0&&(pt[ct]=bt[ct]);return C(M,gt,pt)},At.createRef=function(){return{current:null}},At.forwardRef=function(M){return{$$typeof:p,render:M}},At.isValidElement=I,At.lazy=function(M){return{$$typeof:E,_payload:{_status:-1,_result:M},_init:ot}},At.memo=function(M,W){return{$$typeof:y,type:M,compare:W===void 0?null:W}},At.startTransition=function(M){var W=w.T,lt={};w.T=lt;try{var ct=M(),pt=w.S;pt!==null&&pt(lt,ct),typeof ct=="object"&&ct!==null&&typeof ct.then=="function"&&ct.then(rt,Rt)}catch(gt){Rt(gt)}finally{W!==null&&lt.types!==null&&(W.types=lt.types),w.T=W}},At.unstable_useCacheRefresh=function(){return w.H.useCacheRefresh()},At.use=function(M){return w.H.use(M)},At.useActionState=function(M,W,lt){return w.H.useActionState(M,W,lt)},At.useCallback=function(M,W){return w.H.useCallback(M,W)},At.useContext=function(M){return w.H.useContext(M)},At.useDebugValue=function(){},At.useDeferredValue=function(M,W){return w.H.useDeferredValue(M,W)},At.useEffect=function(M,W){return w.H.useEffect(M,W)},At.useEffectEvent=function(M){return w.H.useEffectEvent(M)},At.useId=function(){return w.H.useId()},At.useImperativeHandle=function(M,W,lt){return w.H.useImperativeHandle(M,W,lt)},At.useInsertionEffect=function(M,W){return w.H.useInsertionEffect(M,W)},At.useLayoutEffect=function(M,W){return w.H.useLayoutEffect(M,W)},At.useMemo=function(M,W){return w.H.useMemo(M,W)},At.useOptimistic=function(M,W){return w.H.useOptimistic(M,W)},At.useReducer=function(M,W,lt){return w.H.useReducer(M,W,lt)},At.useRef=function(M){return w.H.useRef(M)},At.useState=function(M){return w.H.useState(M)},At.useSyncExternalStore=function(M,W,lt){return w.H.useSyncExternalStore(M,W,lt)},At.useTransition=function(){return w.H.useTransition()},At.version="19.2.3",At}var _0;function tm(){return _0||(_0=1,hd.exports=UE()),hd.exports}var L=tm();const LE=ME(L);var fd={exports:{}},io={},dd={exports:{}},md={};var b0;function kE(){return b0||(b0=1,(function(r){function e(B,at){var ot=B.length;B.push(at);t:for(;0<ot;){var Rt=ot-1>>>1,It=B[Rt];if(0<o(It,at))B[Rt]=at,B[ot]=It,ot=Rt;else break t}}function i(B){return B.length===0?null:B[0]}function s(B){if(B.length===0)return null;var at=B[0],ot=B.pop();if(ot!==at){B[0]=ot;t:for(var Rt=0,It=B.length,M=It>>>1;Rt<M;){var W=2*(Rt+1)-1,lt=B[W],ct=W+1,pt=B[ct];if(0>o(lt,ot))ct<It&&0>o(pt,lt)?(B[Rt]=pt,B[ct]=ot,Rt=ct):(B[Rt]=lt,B[W]=ot,Rt=W);else if(ct<It&&0>o(pt,ot))B[Rt]=pt,B[ct]=ot,Rt=ct;else break t}}return at}function o(B,at){var ot=B.sortIndex-at.sortIndex;return ot!==0?ot:B.id-at.id}if(r.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var c=performance;r.unstable_now=function(){return c.now()}}else{var d=Date,p=d.now();r.unstable_now=function(){return d.now()-p}}var g=[],y=[],E=1,x=null,R=3,U=!1,Y=!1,X=!1,k=!1,J=typeof setTimeout=="function"?setTimeout:null,it=typeof clearTimeout=="function"?clearTimeout:null,$=typeof setImmediate<"u"?setImmediate:null;function _t(B){for(var at=i(y);at!==null;){if(at.callback===null)s(y);else if(at.startTime<=B)s(y),at.sortIndex=at.expirationTime,e(g,at);else break;at=i(y)}}function xt(B){if(X=!1,_t(B),!Y)if(i(g)!==null)Y=!0,rt||(rt=!0,O());else{var at=i(y);at!==null&&ft(xt,at.startTime-B)}}var rt=!1,w=-1,A=5,C=-1;function V(){return k?!0:!(r.unstable_now()-C<A)}function I(){if(k=!1,rt){var B=r.unstable_now();C=B;var at=!0;try{t:{Y=!1,X&&(X=!1,it(w),w=-1),U=!0;var ot=R;try{e:{for(_t(B),x=i(g);x!==null&&!(x.expirationTime>B&&V());){var Rt=x.callback;if(typeof Rt=="function"){x.callback=null,R=x.priorityLevel;var It=Rt(x.expirationTime<=B);if(B=r.unstable_now(),typeof It=="function"){x.callback=It,_t(B),at=!0;break e}x===i(g)&&s(g),_t(B)}else s(g);x=i(g)}if(x!==null)at=!0;else{var M=i(y);M!==null&&ft(xt,M.startTime-B),at=!1}}break t}finally{x=null,R=ot,U=!1}at=void 0}}finally{at?O():rt=!1}}}var O;if(typeof $=="function")O=function(){$(I)};else if(typeof MessageChannel<"u"){var N=new MessageChannel,Yt=N.port2;N.port1.onmessage=I,O=function(){Yt.postMessage(null)}}else O=function(){J(I,0)};function ft(B,at){w=J(function(){B(r.unstable_now())},at)}r.unstable_IdlePriority=5,r.unstable_ImmediatePriority=1,r.unstable_LowPriority=4,r.unstable_NormalPriority=3,r.unstable_Profiling=null,r.unstable_UserBlockingPriority=2,r.unstable_cancelCallback=function(B){B.callback=null},r.unstable_forceFrameRate=function(B){0>B||125<B?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):A=0<B?Math.floor(1e3/B):5},r.unstable_getCurrentPriorityLevel=function(){return R},r.unstable_next=function(B){switch(R){case 1:case 2:case 3:var at=3;break;default:at=R}var ot=R;R=at;try{return B()}finally{R=ot}},r.unstable_requestPaint=function(){k=!0},r.unstable_runWithPriority=function(B,at){switch(B){case 1:case 2:case 3:case 4:case 5:break;default:B=3}var ot=R;R=B;try{return at()}finally{R=ot}},r.unstable_scheduleCallback=function(B,at,ot){var Rt=r.unstable_now();switch(typeof ot=="object"&&ot!==null?(ot=ot.delay,ot=typeof ot=="number"&&0<ot?Rt+ot:Rt):ot=Rt,B){case 1:var It=-1;break;case 2:It=250;break;case 5:It=1073741823;break;case 4:It=1e4;break;default:It=5e3}return It=ot+It,B={id:E++,callback:at,priorityLevel:B,startTime:ot,expirationTime:It,sortIndex:-1},ot>Rt?(B.sortIndex=ot,e(y,B),i(g)===null&&B===i(y)&&(X?(it(w),w=-1):X=!0,ft(xt,ot-Rt))):(B.sortIndex=It,e(g,B),Y||U||(Y=!0,rt||(rt=!0,O()))),B},r.unstable_shouldYield=V,r.unstable_wrapCallback=function(B){var at=R;return function(){var ot=R;R=at;try{return B.apply(this,arguments)}finally{R=ot}}}})(md)),md}var E0;function PE(){return E0||(E0=1,dd.exports=kE()),dd.exports}var pd={exports:{}},Ke={};var T0;function BE(){if(T0)return Ke;T0=1;var r=tm();function e(g){var y="https://react.dev/errors/"+g;if(1<arguments.length){y+="?args[]="+encodeURIComponent(arguments[1]);for(var E=2;E<arguments.length;E++)y+="&args[]="+encodeURIComponent(arguments[E])}return"Minified React error #"+g+"; visit "+y+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(){}var s={d:{f:i,r:function(){throw Error(e(522))},D:i,C:i,L:i,m:i,X:i,S:i,M:i},p:0,findDOMNode:null},o=Symbol.for("react.portal");function c(g,y,E){var x=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:o,key:x==null?null:""+x,children:g,containerInfo:y,implementation:E}}var d=r.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function p(g,y){if(g==="font")return"";if(typeof y=="string")return y==="use-credentials"?y:""}return Ke.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=s,Ke.createPortal=function(g,y){var E=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!y||y.nodeType!==1&&y.nodeType!==9&&y.nodeType!==11)throw Error(e(299));return c(g,y,null,E)},Ke.flushSync=function(g){var y=d.T,E=s.p;try{if(d.T=null,s.p=2,g)return g()}finally{d.T=y,s.p=E,s.d.f()}},Ke.preconnect=function(g,y){typeof g=="string"&&(y?(y=y.crossOrigin,y=typeof y=="string"?y==="use-credentials"?y:"":void 0):y=null,s.d.C(g,y))},Ke.prefetchDNS=function(g){typeof g=="string"&&s.d.D(g)},Ke.preinit=function(g,y){if(typeof g=="string"&&y&&typeof y.as=="string"){var E=y.as,x=p(E,y.crossOrigin),R=typeof y.integrity=="string"?y.integrity:void 0,U=typeof y.fetchPriority=="string"?y.fetchPriority:void 0;E==="style"?s.d.S(g,typeof y.precedence=="string"?y.precedence:void 0,{crossOrigin:x,integrity:R,fetchPriority:U}):E==="script"&&s.d.X(g,{crossOrigin:x,integrity:R,fetchPriority:U,nonce:typeof y.nonce=="string"?y.nonce:void 0})}},Ke.preinitModule=function(g,y){if(typeof g=="string")if(typeof y=="object"&&y!==null){if(y.as==null||y.as==="script"){var E=p(y.as,y.crossOrigin);s.d.M(g,{crossOrigin:E,integrity:typeof y.integrity=="string"?y.integrity:void 0,nonce:typeof y.nonce=="string"?y.nonce:void 0})}}else y==null&&s.d.M(g)},Ke.preload=function(g,y){if(typeof g=="string"&&typeof y=="object"&&y!==null&&typeof y.as=="string"){var E=y.as,x=p(E,y.crossOrigin);s.d.L(g,E,{crossOrigin:x,integrity:typeof y.integrity=="string"?y.integrity:void 0,nonce:typeof y.nonce=="string"?y.nonce:void 0,type:typeof y.type=="string"?y.type:void 0,fetchPriority:typeof y.fetchPriority=="string"?y.fetchPriority:void 0,referrerPolicy:typeof y.referrerPolicy=="string"?y.referrerPolicy:void 0,imageSrcSet:typeof y.imageSrcSet=="string"?y.imageSrcSet:void 0,imageSizes:typeof y.imageSizes=="string"?y.imageSizes:void 0,media:typeof y.media=="string"?y.media:void 0})}},Ke.preloadModule=function(g,y){if(typeof g=="string")if(y){var E=p(y.as,y.crossOrigin);s.d.m(g,{as:typeof y.as=="string"&&y.as!=="script"?y.as:void 0,crossOrigin:E,integrity:typeof y.integrity=="string"?y.integrity:void 0})}else s.d.m(g)},Ke.requestFormReset=function(g){s.d.r(g)},Ke.unstable_batchedUpdates=function(g,y){return g(y)},Ke.useFormState=function(g,y,E){return d.H.useFormState(g,y,E)},Ke.useFormStatus=function(){return d.H.useHostTransitionStatus()},Ke.version="19.2.3",Ke}var x0;function qE(){if(x0)return pd.exports;x0=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(e){console.error(e)}}return r(),pd.exports=BE(),pd.exports}var S0;function HE(){if(S0)return io;S0=1;var r=PE(),e=tm(),i=qE();function s(t){var n="https://react.dev/errors/"+t;if(1<arguments.length){n+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)n+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+t+"; visit "+n+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function c(t){var n=t,a=t;if(t.alternate)for(;n.return;)n=n.return;else{t=n;do n=t,(n.flags&4098)!==0&&(a=n.return),t=n.return;while(t)}return n.tag===3?a:null}function d(t){if(t.tag===13){var n=t.memoizedState;if(n===null&&(t=t.alternate,t!==null&&(n=t.memoizedState)),n!==null)return n.dehydrated}return null}function p(t){if(t.tag===31){var n=t.memoizedState;if(n===null&&(t=t.alternate,t!==null&&(n=t.memoizedState)),n!==null)return n.dehydrated}return null}function g(t){if(c(t)!==t)throw Error(s(188))}function y(t){var n=t.alternate;if(!n){if(n=c(t),n===null)throw Error(s(188));return n!==t?null:t}for(var a=t,l=n;;){var h=a.return;if(h===null)break;var f=h.alternate;if(f===null){if(l=h.return,l!==null){a=l;continue}break}if(h.child===f.child){for(f=h.child;f;){if(f===a)return g(h),t;if(f===l)return g(h),n;f=f.sibling}throw Error(s(188))}if(a.return!==l.return)a=h,l=f;else{for(var _=!1,T=h.child;T;){if(T===a){_=!0,a=h,l=f;break}if(T===l){_=!0,l=h,a=f;break}T=T.sibling}if(!_){for(T=f.child;T;){if(T===a){_=!0,a=f,l=h;break}if(T===l){_=!0,l=f,a=h;break}T=T.sibling}if(!_)throw Error(s(189))}}if(a.alternate!==l)throw Error(s(190))}if(a.tag!==3)throw Error(s(188));return a.stateNode.current===a?t:n}function E(t){var n=t.tag;if(n===5||n===26||n===27||n===6)return t;for(t=t.child;t!==null;){if(n=E(t),n!==null)return n;t=t.sibling}return null}var x=Object.assign,R=Symbol.for("react.element"),U=Symbol.for("react.transitional.element"),Y=Symbol.for("react.portal"),X=Symbol.for("react.fragment"),k=Symbol.for("react.strict_mode"),J=Symbol.for("react.profiler"),it=Symbol.for("react.consumer"),$=Symbol.for("react.context"),_t=Symbol.for("react.forward_ref"),xt=Symbol.for("react.suspense"),rt=Symbol.for("react.suspense_list"),w=Symbol.for("react.memo"),A=Symbol.for("react.lazy"),C=Symbol.for("react.activity"),V=Symbol.for("react.memo_cache_sentinel"),I=Symbol.iterator;function O(t){return t===null||typeof t!="object"?null:(t=I&&t[I]||t["@@iterator"],typeof t=="function"?t:null)}var N=Symbol.for("react.client.reference");function Yt(t){if(t==null)return null;if(typeof t=="function")return t.$$typeof===N?null:t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case X:return"Fragment";case J:return"Profiler";case k:return"StrictMode";case xt:return"Suspense";case rt:return"SuspenseList";case C:return"Activity"}if(typeof t=="object")switch(t.$$typeof){case Y:return"Portal";case $:return t.displayName||"Context";case it:return(t._context.displayName||"Context")+".Consumer";case _t:var n=t.render;return t=t.displayName,t||(t=n.displayName||n.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case w:return n=t.displayName||null,n!==null?n:Yt(t.type)||"Memo";case A:n=t._payload,t=t._init;try{return Yt(t(n))}catch{}}return null}var ft=Array.isArray,B=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,at=i.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ot={pending:!1,data:null,method:null,action:null},Rt=[],It=-1;function M(t){return{current:t}}function W(t){0>It||(t.current=Rt[It],Rt[It]=null,It--)}function lt(t,n){It++,Rt[It]=t.current,t.current=n}var ct=M(null),pt=M(null),gt=M(null),bt=M(null);function ie(t,n){switch(lt(gt,n),lt(pt,t),lt(ct,null),n.nodeType){case 9:case 11:t=(t=n.documentElement)&&(t=t.namespaceURI)?ky(t):0;break;default:if(t=n.tagName,n=n.namespaceURI)n=ky(n),t=Py(n,t);else switch(t){case"svg":t=1;break;case"math":t=2;break;default:t=0}}W(ct),lt(ct,t)}function le(){W(ct),W(pt),W(gt)}function Xa(t){t.memoizedState!==null&&lt(bt,t);var n=ct.current,a=Py(n,t.type);n!==a&&(lt(pt,t),lt(ct,a))}function Pr(t){pt.current===t&&(W(ct),W(pt)),bt.current===t&&(W(bt),Jl._currentValue=ot)}var Br,qr;function Wn(t){if(Br===void 0)try{throw Error()}catch(a){var n=a.stack.trim().match(/\n( *(at )?)/);Br=n&&n[1]||"",qr=-1<a.stack.indexOf(`
    at`)?" (<anonymous>)":-1<a.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Br+t+qr}var Js=!1;function $a(t,n){if(!t||Js)return"";Js=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var l={DetermineComponentFrameRoot:function(){try{if(n){var tt=function(){throw Error()};if(Object.defineProperty(tt.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(tt,[])}catch(Q){var F=Q}Reflect.construct(t,[],tt)}else{try{tt.call()}catch(Q){F=Q}t.call(tt.prototype)}}else{try{throw Error()}catch(Q){F=Q}(tt=t())&&typeof tt.catch=="function"&&tt.catch(function(){})}}catch(Q){if(Q&&F&&typeof Q.stack=="string")return[Q.stack,F.stack]}return[null,null]}};l.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var h=Object.getOwnPropertyDescriptor(l.DetermineComponentFrameRoot,"name");h&&h.configurable&&Object.defineProperty(l.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var f=l.DetermineComponentFrameRoot(),_=f[0],T=f[1];if(_&&T){var D=_.split(`
`),H=T.split(`
`);for(h=l=0;l<D.length&&!D[l].includes("DetermineComponentFrameRoot");)l++;for(;h<H.length&&!H[h].includes("DetermineComponentFrameRoot");)h++;if(l===D.length||h===H.length)for(l=D.length-1,h=H.length-1;1<=l&&0<=h&&D[l]!==H[h];)h--;for(;1<=l&&0<=h;l--,h--)if(D[l]!==H[h]){if(l!==1||h!==1)do if(l--,h--,0>h||D[l]!==H[h]){var K=`
`+D[l].replace(" at new "," at ");return t.displayName&&K.includes("<anonymous>")&&(K=K.replace("<anonymous>",t.displayName)),K}while(1<=l&&0<=h);break}}}finally{Js=!1,Error.prepareStackTrace=a}return(a=t?t.displayName||t.name:"")?Wn(a):""}function Ws(t,n){switch(t.tag){case 26:case 27:case 5:return Wn(t.type);case 16:return Wn("Lazy");case 13:return t.child!==n&&n!==null?Wn("Suspense Fallback"):Wn("Suspense");case 19:return Wn("SuspenseList");case 0:case 15:return $a(t.type,!1);case 11:return $a(t.type.render,!1);case 1:return $a(t.type,!0);case 31:return Wn("Activity");default:return""}}function tl(t){try{var n="",a=null;do n+=Ws(t,a),a=t,t=t.return;while(t);return n}catch(l){return`
Error generating stack: `+l.message+`
`+l.stack}}var be=Object.prototype.hasOwnProperty,Ve=r.unstable_scheduleCallback,na=r.unstable_cancelCallback,hh=r.unstable_shouldYield,Uo=r.unstable_requestPaint,Je=r.unstable_now,Za=r.unstable_getCurrentPriorityLevel,el=r.unstable_ImmediatePriority,nl=r.unstable_UserBlockingPriority,ia=r.unstable_NormalPriority,fh=r.unstable_LowPriority,Lo=r.unstable_IdlePriority,ko=r.log,Po=r.unstable_setDisableYieldValue,Pn=null,ke=null;function xn(t){if(typeof ko=="function"&&Po(t),ke&&typeof ke.setStrictMode=="function")try{ke.setStrictMode(Pn,t)}catch{}}var me=Math.clz32?Math.clz32:qo,Bo=Math.log,Hr=Math.LN2;function qo(t){return t>>>=0,t===0?32:31-(Bo(t)/Hr|0)|0}var ti=256,Ja=262144,Ee=4194304;function ei(t){var n=t&42;if(n!==0)return n;switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return t&261888;case 262144:case 524288:case 1048576:case 2097152:return t&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return t&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return t}}function ni(t,n,a){var l=t.pendingLanes;if(l===0)return 0;var h=0,f=t.suspendedLanes,_=t.pingedLanes;t=t.warmLanes;var T=l&134217727;return T!==0?(l=T&~f,l!==0?h=ei(l):(_&=T,_!==0?h=ei(_):a||(a=T&~t,a!==0&&(h=ei(a))))):(T=l&~f,T!==0?h=ei(T):_!==0?h=ei(_):a||(a=l&~t,a!==0&&(h=ei(a)))),h===0?0:n!==0&&n!==h&&(n&f)===0&&(f=h&-h,a=n&-n,f>=a||f===32&&(a&4194048)!==0)?n:h}function Bn(t,n){return(t.pendingLanes&~(t.suspendedLanes&~t.pingedLanes)&n)===0}function dh(t,n){switch(t){case 1:case 2:case 4:case 8:case 64:return n+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Ho(){var t=Ee;return Ee<<=1,(Ee&62914560)===0&&(Ee=4194304),t}function ii(t){for(var n=[],a=0;31>a;a++)n.push(t);return n}function Wa(t,n){t.pendingLanes|=n,n!==268435456&&(t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0)}function mh(t,n,a,l,h,f){var _=t.pendingLanes;t.pendingLanes=a,t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0,t.expiredLanes&=a,t.entangledLanes&=a,t.errorRecoveryDisabledLanes&=a,t.shellSuspendCounter=0;var T=t.entanglements,D=t.expirationTimes,H=t.hiddenUpdates;for(a=_&~a;0<a;){var K=31-me(a),tt=1<<K;T[K]=0,D[K]=-1;var F=H[K];if(F!==null)for(H[K]=null,K=0;K<F.length;K++){var Q=F[K];Q!==null&&(Q.lane&=-536870913)}a&=~tt}l!==0&&tr(t,l,0),f!==0&&h===0&&t.tag!==0&&(t.suspendedLanes|=f&~(_&~n))}function tr(t,n,a){t.pendingLanes|=n,t.suspendedLanes&=~n;var l=31-me(n);t.entangledLanes|=n,t.entanglements[l]=t.entanglements[l]|1073741824|a&261930}function il(t,n){var a=t.entangledLanes|=n;for(t=t.entanglements;a;){var l=31-me(a),h=1<<l;h&n|t[l]&n&&(t[l]|=n),a&=~h}}function al(t,n){var a=n&-n;return a=(a&42)!==0?1:er(a),(a&(t.suspendedLanes|n))!==0?0:a}function er(t){switch(t){case 2:t=1;break;case 8:t=4;break;case 32:t=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:t=128;break;case 268435456:t=134217728;break;default:t=0}return t}function Di(t){return t&=-t,2<t?8<t?(t&134217727)!==0?32:268435456:8:2}function Fo(){var t=at.p;return t!==0?t:(t=window.event,t===void 0?32:u0(t.type))}function qn(t,n){var a=at.p;try{return at.p=t,n()}finally{at.p=a}}var Hn=Math.random().toString(36).slice(2),Te="__reactFiber$"+Hn,Oe="__reactProps$"+Hn,ai="__reactContainer$"+Hn,Fr="__reactEvents$"+Hn,ph="__reactListeners$"+Hn,Go="__reactHandles$"+Hn,Qo="__reactResources$"+Hn,ri="__reactMarker$"+Hn;function Gr(t){delete t[Te],delete t[Oe],delete t[Fr],delete t[ph],delete t[Go]}function si(t){var n=t[Te];if(n)return n;for(var a=t.parentNode;a;){if(n=a[ai]||a[Te]){if(a=n.alternate,n.child!==null||a!==null&&a.child!==null)for(t=Yy(t);t!==null;){if(a=t[Te])return a;t=Yy(t)}return n}t=a,a=t.parentNode}return null}function Sn(t){if(t=t[Te]||t[ai]){var n=t.tag;if(n===5||n===6||n===13||n===31||n===26||n===27||n===3)return t}return null}function fn(t){var n=t.tag;if(n===5||n===26||n===27||n===6)return t.stateNode;throw Error(s(33))}function li(t){var n=t[Qo];return n||(n=t[Qo]={hoistableStyles:new Map,hoistableScripts:new Map}),n}function xe(t){t[ri]=!0}var rl=new Set,sl={};function oi(t,n){ui(t,n),ui(t+"Capture",n)}function ui(t,n){for(sl[t]=n,t=0;t<n.length;t++)rl.add(n[t])}var ll=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),ol={},ul={};function Yo(t){return be.call(ul,t)?!0:be.call(ol,t)?!1:ll.test(t)?ul[t]=!0:(ol[t]=!0,!1)}function Qr(t,n,a){if(Yo(n))if(a===null)t.removeAttribute(n);else{switch(typeof a){case"undefined":case"function":case"symbol":t.removeAttribute(n);return;case"boolean":var l=n.toLowerCase().slice(0,5);if(l!=="data-"&&l!=="aria-"){t.removeAttribute(n);return}}t.setAttribute(n,""+a)}}function dn(t,n,a){if(a===null)t.removeAttribute(n);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(n);return}t.setAttribute(n,""+a)}}function Se(t,n,a,l){if(l===null)t.removeAttribute(a);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(a);return}t.setAttributeNS(n,a,""+l)}}function ze(t){switch(typeof t){case"bigint":case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function aa(t){var n=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(n==="checkbox"||n==="radio")}function cl(t,n,a){var l=Object.getOwnPropertyDescriptor(t.constructor.prototype,n);if(!t.hasOwnProperty(n)&&typeof l<"u"&&typeof l.get=="function"&&typeof l.set=="function"){var h=l.get,f=l.set;return Object.defineProperty(t,n,{configurable:!0,get:function(){return h.call(this)},set:function(_){a=""+_,f.call(this,_)}}),Object.defineProperty(t,n,{enumerable:l.enumerable}),{getValue:function(){return a},setValue:function(_){a=""+_},stopTracking:function(){t._valueTracker=null,delete t[n]}}}}function Kt(t){if(!t._valueTracker){var n=aa(t)?"checked":"value";t._valueTracker=cl(t,n,""+t[n])}}function nr(t){if(!t)return!1;var n=t._valueTracker;if(!n)return!0;var a=n.getValue(),l="";return t&&(l=aa(t)?t.checked?"true":"false":t.value),t=l,t!==a?(n.setValue(t),!0):!1}function ci(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}var ir=/[\n"\\]/g;function en(t){return t.replace(ir,function(n){return"\\"+n.charCodeAt(0).toString(16)+" "})}function Yr(t,n,a,l,h,f,_,T){t.name="",_!=null&&typeof _!="function"&&typeof _!="symbol"&&typeof _!="boolean"?t.type=_:t.removeAttribute("type"),n!=null?_==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+ze(n)):t.value!==""+ze(n)&&(t.value=""+ze(n)):_!=="submit"&&_!=="reset"||t.removeAttribute("value"),n!=null?hl(t,_,ze(n)):a!=null?hl(t,_,ze(a)):l!=null&&t.removeAttribute("value"),h==null&&f!=null&&(t.defaultChecked=!!f),h!=null&&(t.checked=h&&typeof h!="function"&&typeof h!="symbol"),T!=null&&typeof T!="function"&&typeof T!="symbol"&&typeof T!="boolean"?t.name=""+ze(T):t.removeAttribute("name")}function Ko(t,n,a,l,h,f,_,T){if(f!=null&&typeof f!="function"&&typeof f!="symbol"&&typeof f!="boolean"&&(t.type=f),n!=null||a!=null){if(!(f!=="submit"&&f!=="reset"||n!=null)){Kt(t);return}a=a!=null?""+ze(a):"",n=n!=null?""+ze(n):a,T||n===t.value||(t.value=n),t.defaultValue=n}l=l??h,l=typeof l!="function"&&typeof l!="symbol"&&!!l,t.checked=T?t.checked:!!l,t.defaultChecked=!!l,_!=null&&typeof _!="function"&&typeof _!="symbol"&&typeof _!="boolean"&&(t.name=_),Kt(t)}function hl(t,n,a){n==="number"&&ci(t.ownerDocument)===t||t.defaultValue===""+a||(t.defaultValue=""+a)}function ra(t,n,a,l){if(t=t.options,n){n={};for(var h=0;h<a.length;h++)n["$"+a[h]]=!0;for(a=0;a<t.length;a++)h=n.hasOwnProperty("$"+t[a].value),t[a].selected!==h&&(t[a].selected=h),h&&l&&(t[a].defaultSelected=!0)}else{for(a=""+ze(a),n=null,h=0;h<t.length;h++){if(t[h].value===a){t[h].selected=!0,l&&(t[h].defaultSelected=!0);return}n!==null||t[h].disabled||(n=t[h])}n!==null&&(n.selected=!0)}}function Xo(t,n,a){if(n!=null&&(n=""+ze(n),n!==t.value&&(t.value=n),a==null)){t.defaultValue!==n&&(t.defaultValue=n);return}t.defaultValue=a!=null?""+ze(a):""}function sa(t,n,a,l){if(n==null){if(l!=null){if(a!=null)throw Error(s(92));if(ft(l)){if(1<l.length)throw Error(s(93));l=l[0]}a=l}a==null&&(a=""),n=a}a=ze(n),t.defaultValue=a,l=t.textContent,l===a&&l!==""&&l!==null&&(t.value=l),Kt(t)}function nn(t,n){if(n){var a=t.firstChild;if(a&&a===t.lastChild&&a.nodeType===3){a.nodeValue=n;return}}t.textContent=n}var $o=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function fl(t,n,a){var l=n.indexOf("--")===0;a==null||typeof a=="boolean"||a===""?l?t.setProperty(n,""):n==="float"?t.cssFloat="":t[n]="":l?t.setProperty(n,a):typeof a!="number"||a===0||$o.has(n)?n==="float"?t.cssFloat=a:t[n]=(""+a).trim():t[n]=a+"px"}function dl(t,n,a){if(n!=null&&typeof n!="object")throw Error(s(62));if(t=t.style,a!=null){for(var l in a)!a.hasOwnProperty(l)||n!=null&&n.hasOwnProperty(l)||(l.indexOf("--")===0?t.setProperty(l,""):l==="float"?t.cssFloat="":t[l]="");for(var h in n)l=n[h],n.hasOwnProperty(h)&&a[h]!==l&&fl(t,h,l)}else for(var f in n)n.hasOwnProperty(f)&&fl(t,f,n[f])}function Kr(t){if(t.indexOf("-")===-1)return!1;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Zo=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),la=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Xr(t){return la.test(""+t)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":t}function Fn(){}var ml=null;function An(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var oa=null,hi=null;function ar(t){var n=Sn(t);if(n&&(t=n.stateNode)){var a=t[Oe]||null;t:switch(t=n.stateNode,n.type){case"input":if(Yr(t,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name),n=a.name,a.type==="radio"&&n!=null){for(a=t;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll('input[name="'+en(""+n)+'"][type="radio"]'),n=0;n<a.length;n++){var l=a[n];if(l!==t&&l.form===t.form){var h=l[Oe]||null;if(!h)throw Error(s(90));Yr(l,h.value,h.defaultValue,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name)}}for(n=0;n<a.length;n++)l=a[n],l.form===t.form&&nr(l)}break t;case"textarea":Xo(t,a.value,a.defaultValue);break t;case"select":n=a.value,n!=null&&ra(t,!!a.multiple,n,!1)}}}var $r=!1;function ua(t,n,a){if($r)return t(n,a);$r=!0;try{var l=t(n);return l}finally{if($r=!1,(oa!==null||hi!==null)&&(Fu(),oa&&(n=oa,t=hi,hi=oa=null,ar(n),t)))for(n=0;n<t.length;n++)ar(t[n])}}function Gn(t,n){var a=t.stateNode;if(a===null)return null;var l=a[Oe]||null;if(l===null)return null;a=l[n];t:switch(n){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(t=t.type,l=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!l;break t;default:t=!1}if(t)return null;if(a&&typeof a!="function")throw Error(s(231,n,typeof a));return a}var wn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),rr=!1;if(wn)try{var Zt={};Object.defineProperty(Zt,"passive",{get:function(){rr=!0}}),window.addEventListener("test",Zt,Zt),window.removeEventListener("test",Zt,Zt)}catch{rr=!1}var fi=null,pl=null,sr=null;function gl(){if(sr)return sr;var t,n=pl,a=n.length,l,h="value"in fi?fi.value:fi.textContent,f=h.length;for(t=0;t<a&&n[t]===h[t];t++);var _=a-t;for(l=1;l<=_&&n[a-l]===h[f-l];l++);return sr=h.slice(t,1<l?1-l:void 0)}function lr(t){var n=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&n===13&&(t=13)):t=n,t===10&&(t=13),32<=t||t===13?t:0}function Ii(){return!0}function Qn(){return!1}function Pe(t){function n(a,l,h,f,_){this._reactName=a,this._targetInst=h,this.type=l,this.nativeEvent=f,this.target=_,this.currentTarget=null;for(var T in t)t.hasOwnProperty(T)&&(a=t[T],this[T]=a?a(f):f[T]);return this.isDefaultPrevented=(f.defaultPrevented!=null?f.defaultPrevented:f.returnValue===!1)?Ii:Qn,this.isPropagationStopped=Qn,this}return x(n.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=Ii)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=Ii)},persist:function(){},isPersistent:Ii}),n}var Vi={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},di=Pe(Vi),ca=x({},Vi,{view:0,detail:0}),yl=Pe(ca),ha,Zr,mi,Jr=x({},ca,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:fa,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==mi&&(mi&&t.type==="mousemove"?(ha=t.screenX-mi.screenX,Zr=t.screenY-mi.screenY):Zr=ha=0,mi=t),ha)},movementY:function(t){return"movementY"in t?t.movementY:Zr}}),vl=Pe(Jr),or=x({},Jr,{dataTransfer:0}),Jo=Pe(or),Wo=x({},ca,{relatedTarget:0}),ur=Pe(Wo),_l=x({},Vi,{animationName:0,elapsedTime:0,pseudoElement:0}),tu=Pe(_l),Wr=x({},Vi,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),eu=Pe(Wr),nu=x({},Vi,{data:0}),pi=Pe(nu),iu={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},au={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},ru={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function su(t){var n=this.nativeEvent;return n.getModifierState?n.getModifierState(t):(t=ru[t])?!!n[t]:!1}function fa(){return su}var We=x({},ca,{key:function(t){if(t.key){var n=iu[t.key]||t.key;if(n!=="Unidentified")return n}return t.type==="keypress"?(t=lr(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?au[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:fa,charCode:function(t){return t.type==="keypress"?lr(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?lr(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),lu=Pe(We),ou=x({},Jr,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),ji=Pe(ou),u=x({},ca,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:fa}),m=Pe(u),b=x({},Vi,{propertyName:0,elapsedTime:0,pseudoElement:0}),S=Pe(b),P=x({},Jr,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),G=Pe(P),st=x({},Vi,{newState:0,oldState:0}),Ct=Pe(st),pe=[9,13,27,32],Ht=wn&&"CompositionEvent"in window,oe=null;wn&&"documentMode"in document&&(oe=document.documentMode);var Rn=wn&&"TextEvent"in window&&!oe,gi=wn&&(!Ht||oe&&8<oe&&11>=oe),Yn=" ",Kn=!1;function cr(t,n){switch(t){case"keyup":return pe.indexOf(n.keyCode)!==-1;case"keydown":return n.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function ts(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var es=!1;function ab(t,n){switch(t){case"compositionend":return ts(n);case"keypress":return n.which!==32?null:(Kn=!0,Yn);case"textInput":return t=n.data,t===Yn&&Kn?null:t;default:return null}}function rb(t,n){if(es)return t==="compositionend"||!Ht&&cr(t,n)?(t=gl(),sr=pl=fi=null,es=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(n.ctrlKey||n.altKey||n.metaKey)||n.ctrlKey&&n.altKey){if(n.char&&1<n.char.length)return n.char;if(n.which)return String.fromCharCode(n.which)}return null;case"compositionend":return gi&&n.locale!=="ko"?null:n.data;default:return null}}var sb={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function $m(t){var n=t&&t.nodeName&&t.nodeName.toLowerCase();return n==="input"?!!sb[t.type]:n==="textarea"}function Zm(t,n,a,l){oa?hi?hi.push(l):hi=[l]:oa=l,n=Zu(n,"onChange"),0<n.length&&(a=new di("onChange","change",null,a,l),t.push({event:a,listeners:n}))}var bl=null,El=null;function lb(t){jy(t,0)}function uu(t){var n=fn(t);if(nr(n))return t}function Jm(t,n){if(t==="change")return n}var Wm=!1;if(wn){var gh;if(wn){var yh="oninput"in document;if(!yh){var tp=document.createElement("div");tp.setAttribute("oninput","return;"),yh=typeof tp.oninput=="function"}gh=yh}else gh=!1;Wm=gh&&(!document.documentMode||9<document.documentMode)}function ep(){bl&&(bl.detachEvent("onpropertychange",np),El=bl=null)}function np(t){if(t.propertyName==="value"&&uu(El)){var n=[];Zm(n,El,t,An(t)),ua(lb,n)}}function ob(t,n,a){t==="focusin"?(ep(),bl=n,El=a,bl.attachEvent("onpropertychange",np)):t==="focusout"&&ep()}function ub(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return uu(El)}function cb(t,n){if(t==="click")return uu(n)}function hb(t,n){if(t==="input"||t==="change")return uu(n)}function fb(t,n){return t===n&&(t!==0||1/t===1/n)||t!==t&&n!==n}var mn=typeof Object.is=="function"?Object.is:fb;function Tl(t,n){if(mn(t,n))return!0;if(typeof t!="object"||t===null||typeof n!="object"||n===null)return!1;var a=Object.keys(t),l=Object.keys(n);if(a.length!==l.length)return!1;for(l=0;l<a.length;l++){var h=a[l];if(!be.call(n,h)||!mn(t[h],n[h]))return!1}return!0}function ip(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function ap(t,n){var a=ip(t);t=0;for(var l;a;){if(a.nodeType===3){if(l=t+a.textContent.length,t<=n&&l>=n)return{node:a,offset:n-t};t=l}t:{for(;a;){if(a.nextSibling){a=a.nextSibling;break t}a=a.parentNode}a=void 0}a=ip(a)}}function rp(t,n){return t&&n?t===n?!0:t&&t.nodeType===3?!1:n&&n.nodeType===3?rp(t,n.parentNode):"contains"in t?t.contains(n):t.compareDocumentPosition?!!(t.compareDocumentPosition(n)&16):!1:!1}function sp(t){t=t!=null&&t.ownerDocument!=null&&t.ownerDocument.defaultView!=null?t.ownerDocument.defaultView:window;for(var n=ci(t.document);n instanceof t.HTMLIFrameElement;){try{var a=typeof n.contentWindow.location.href=="string"}catch{a=!1}if(a)t=n.contentWindow;else break;n=ci(t.document)}return n}function vh(t){var n=t&&t.nodeName&&t.nodeName.toLowerCase();return n&&(n==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||n==="textarea"||t.contentEditable==="true")}var db=wn&&"documentMode"in document&&11>=document.documentMode,ns=null,_h=null,xl=null,bh=!1;function lp(t,n,a){var l=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;bh||ns==null||ns!==ci(l)||(l=ns,"selectionStart"in l&&vh(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),xl&&Tl(xl,l)||(xl=l,l=Zu(_h,"onSelect"),0<l.length&&(n=new di("onSelect","select",null,n,a),t.push({event:n,listeners:l}),n.target=ns)))}function hr(t,n){var a={};return a[t.toLowerCase()]=n.toLowerCase(),a["Webkit"+t]="webkit"+n,a["Moz"+t]="moz"+n,a}var is={animationend:hr("Animation","AnimationEnd"),animationiteration:hr("Animation","AnimationIteration"),animationstart:hr("Animation","AnimationStart"),transitionrun:hr("Transition","TransitionRun"),transitionstart:hr("Transition","TransitionStart"),transitioncancel:hr("Transition","TransitionCancel"),transitionend:hr("Transition","TransitionEnd")},Eh={},op={};wn&&(op=document.createElement("div").style,"AnimationEvent"in window||(delete is.animationend.animation,delete is.animationiteration.animation,delete is.animationstart.animation),"TransitionEvent"in window||delete is.transitionend.transition);function fr(t){if(Eh[t])return Eh[t];if(!is[t])return t;var n=is[t],a;for(a in n)if(n.hasOwnProperty(a)&&a in op)return Eh[t]=n[a];return t}var up=fr("animationend"),cp=fr("animationiteration"),hp=fr("animationstart"),mb=fr("transitionrun"),pb=fr("transitionstart"),gb=fr("transitioncancel"),fp=fr("transitionend"),dp=new Map,Th="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Th.push("scrollEnd");function Xn(t,n){dp.set(t,n),oi(n,[t])}var cu=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var n=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(n))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)},Cn=[],as=0,xh=0;function hu(){for(var t=as,n=xh=as=0;n<t;){var a=Cn[n];Cn[n++]=null;var l=Cn[n];Cn[n++]=null;var h=Cn[n];Cn[n++]=null;var f=Cn[n];if(Cn[n++]=null,l!==null&&h!==null){var _=l.pending;_===null?h.next=h:(h.next=_.next,_.next=h),l.pending=h}f!==0&&mp(a,h,f)}}function fu(t,n,a,l){Cn[as++]=t,Cn[as++]=n,Cn[as++]=a,Cn[as++]=l,xh|=l,t.lanes|=l,t=t.alternate,t!==null&&(t.lanes|=l)}function Sh(t,n,a,l){return fu(t,n,a,l),du(t)}function dr(t,n){return fu(t,null,null,n),du(t)}function mp(t,n,a){t.lanes|=a;var l=t.alternate;l!==null&&(l.lanes|=a);for(var h=!1,f=t.return;f!==null;)f.childLanes|=a,l=f.alternate,l!==null&&(l.childLanes|=a),f.tag===22&&(t=f.stateNode,t===null||t._visibility&1||(h=!0)),t=f,f=f.return;return t.tag===3?(f=t.stateNode,h&&n!==null&&(h=31-me(a),t=f.hiddenUpdates,l=t[h],l===null?t[h]=[n]:l.push(n),n.lane=a|536870912),f):null}function du(t){if(50<Gl)throw Gl=0,Mf=null,Error(s(185));for(var n=t.return;n!==null;)t=n,n=t.return;return t.tag===3?t.stateNode:null}var rs={};function yb(t,n,a,l){this.tag=t,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=n,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function pn(t,n,a,l){return new yb(t,n,a,l)}function Ah(t){return t=t.prototype,!(!t||!t.isReactComponent)}function Mi(t,n){var a=t.alternate;return a===null?(a=pn(t.tag,n,t.key,t.mode),a.elementType=t.elementType,a.type=t.type,a.stateNode=t.stateNode,a.alternate=t,t.alternate=a):(a.pendingProps=n,a.type=t.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=t.flags&65011712,a.childLanes=t.childLanes,a.lanes=t.lanes,a.child=t.child,a.memoizedProps=t.memoizedProps,a.memoizedState=t.memoizedState,a.updateQueue=t.updateQueue,n=t.dependencies,a.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext},a.sibling=t.sibling,a.index=t.index,a.ref=t.ref,a.refCleanup=t.refCleanup,a}function pp(t,n){t.flags&=65011714;var a=t.alternate;return a===null?(t.childLanes=0,t.lanes=n,t.child=null,t.subtreeFlags=0,t.memoizedProps=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.stateNode=null):(t.childLanes=a.childLanes,t.lanes=a.lanes,t.child=a.child,t.subtreeFlags=0,t.deletions=null,t.memoizedProps=a.memoizedProps,t.memoizedState=a.memoizedState,t.updateQueue=a.updateQueue,t.type=a.type,n=a.dependencies,t.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext}),t}function mu(t,n,a,l,h,f){var _=0;if(l=t,typeof t=="function")Ah(t)&&(_=1);else if(typeof t=="string")_=TE(t,a,ct.current)?26:t==="html"||t==="head"||t==="body"?27:5;else t:switch(t){case C:return t=pn(31,a,n,h),t.elementType=C,t.lanes=f,t;case X:return mr(a.children,h,f,n);case k:_=8,h|=24;break;case J:return t=pn(12,a,n,h|2),t.elementType=J,t.lanes=f,t;case xt:return t=pn(13,a,n,h),t.elementType=xt,t.lanes=f,t;case rt:return t=pn(19,a,n,h),t.elementType=rt,t.lanes=f,t;default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case $:_=10;break t;case it:_=9;break t;case _t:_=11;break t;case w:_=14;break t;case A:_=16,l=null;break t}_=29,a=Error(s(130,t===null?"null":typeof t,"")),l=null}return n=pn(_,a,n,h),n.elementType=t,n.type=l,n.lanes=f,n}function mr(t,n,a,l){return t=pn(7,t,l,n),t.lanes=a,t}function wh(t,n,a){return t=pn(6,t,null,n),t.lanes=a,t}function gp(t){var n=pn(18,null,null,0);return n.stateNode=t,n}function Rh(t,n,a){return n=pn(4,t.children!==null?t.children:[],t.key,n),n.lanes=a,n.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},n}var yp=new WeakMap;function Nn(t,n){if(typeof t=="object"&&t!==null){var a=yp.get(t);return a!==void 0?a:(n={value:t,source:n,stack:tl(n)},yp.set(t,n),n)}return{value:t,source:n,stack:tl(n)}}var ss=[],ls=0,pu=null,Sl=0,Dn=[],In=0,da=null,yi=1,vi="";function Oi(t,n){ss[ls++]=Sl,ss[ls++]=pu,pu=t,Sl=n}function vp(t,n,a){Dn[In++]=yi,Dn[In++]=vi,Dn[In++]=da,da=t;var l=yi;t=vi;var h=32-me(l)-1;l&=~(1<<h),a+=1;var f=32-me(n)+h;if(30<f){var _=h-h%5;f=(l&(1<<_)-1).toString(32),l>>=_,h-=_,yi=1<<32-me(n)+h|a<<h|l,vi=f+t}else yi=1<<f|a<<h|l,vi=t}function Ch(t){t.return!==null&&(Oi(t,1),vp(t,1,0))}function Nh(t){for(;t===pu;)pu=ss[--ls],ss[ls]=null,Sl=ss[--ls],ss[ls]=null;for(;t===da;)da=Dn[--In],Dn[In]=null,vi=Dn[--In],Dn[In]=null,yi=Dn[--In],Dn[In]=null}function _p(t,n){Dn[In++]=yi,Dn[In++]=vi,Dn[In++]=da,yi=n.id,vi=n.overflow,da=t}var Be=null,ae=null,Lt=!1,ma=null,Vn=!1,Dh=Error(s(519));function pa(t){var n=Error(s(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Al(Nn(n,t)),Dh}function bp(t){var n=t.stateNode,a=t.type,l=t.memoizedProps;switch(n[Te]=t,n[Oe]=l,a){case"dialog":jt("cancel",n),jt("close",n);break;case"iframe":case"object":case"embed":jt("load",n);break;case"video":case"audio":for(a=0;a<Yl.length;a++)jt(Yl[a],n);break;case"source":jt("error",n);break;case"img":case"image":case"link":jt("error",n),jt("load",n);break;case"details":jt("toggle",n);break;case"input":jt("invalid",n),Ko(n,l.value,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name,!0);break;case"select":jt("invalid",n);break;case"textarea":jt("invalid",n),sa(n,l.value,l.defaultValue,l.children)}a=l.children,typeof a!="string"&&typeof a!="number"&&typeof a!="bigint"||n.textContent===""+a||l.suppressHydrationWarning===!0||Uy(n.textContent,a)?(l.popover!=null&&(jt("beforetoggle",n),jt("toggle",n)),l.onScroll!=null&&jt("scroll",n),l.onScrollEnd!=null&&jt("scrollend",n),l.onClick!=null&&(n.onclick=Fn),n=!0):n=!1,n||pa(t,!0)}function Ep(t){for(Be=t.return;Be;)switch(Be.tag){case 5:case 31:case 13:Vn=!1;return;case 27:case 3:Vn=!0;return;default:Be=Be.return}}function os(t){if(t!==Be)return!1;if(!Lt)return Ep(t),Lt=!0,!1;var n=t.tag,a;if((a=n!==3&&n!==27)&&((a=n===5)&&(a=t.type,a=!(a!=="form"&&a!=="button")||Xf(t.type,t.memoizedProps)),a=!a),a&&ae&&pa(t),Ep(t),n===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(s(317));ae=Qy(t)}else if(n===31){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(s(317));ae=Qy(t)}else n===27?(n=ae,Na(t.type)?(t=td,td=null,ae=t):ae=n):ae=Be?Mn(t.stateNode.nextSibling):null;return!0}function pr(){ae=Be=null,Lt=!1}function Ih(){var t=ma;return t!==null&&(ln===null?ln=t:ln.push.apply(ln,t),ma=null),t}function Al(t){ma===null?ma=[t]:ma.push(t)}var Vh=M(null),gr=null,zi=null;function ga(t,n,a){lt(Vh,n._currentValue),n._currentValue=a}function Ui(t){t._currentValue=Vh.current,W(Vh)}function jh(t,n,a){for(;t!==null;){var l=t.alternate;if((t.childLanes&n)!==n?(t.childLanes|=n,l!==null&&(l.childLanes|=n)):l!==null&&(l.childLanes&n)!==n&&(l.childLanes|=n),t===a)break;t=t.return}}function Mh(t,n,a,l){var h=t.child;for(h!==null&&(h.return=t);h!==null;){var f=h.dependencies;if(f!==null){var _=h.child;f=f.firstContext;t:for(;f!==null;){var T=f;f=h;for(var D=0;D<n.length;D++)if(T.context===n[D]){f.lanes|=a,T=f.alternate,T!==null&&(T.lanes|=a),jh(f.return,a,t),l||(_=null);break t}f=T.next}}else if(h.tag===18){if(_=h.return,_===null)throw Error(s(341));_.lanes|=a,f=_.alternate,f!==null&&(f.lanes|=a),jh(_,a,t),_=null}else _=h.child;if(_!==null)_.return=h;else for(_=h;_!==null;){if(_===t){_=null;break}if(h=_.sibling,h!==null){h.return=_.return,_=h;break}_=_.return}h=_}}function us(t,n,a,l){t=null;for(var h=n,f=!1;h!==null;){if(!f){if((h.flags&524288)!==0)f=!0;else if((h.flags&262144)!==0)break}if(h.tag===10){var _=h.alternate;if(_===null)throw Error(s(387));if(_=_.memoizedProps,_!==null){var T=h.type;mn(h.pendingProps.value,_.value)||(t!==null?t.push(T):t=[T])}}else if(h===bt.current){if(_=h.alternate,_===null)throw Error(s(387));_.memoizedState.memoizedState!==h.memoizedState.memoizedState&&(t!==null?t.push(Jl):t=[Jl])}h=h.return}t!==null&&Mh(n,t,a,l),n.flags|=262144}function gu(t){for(t=t.firstContext;t!==null;){if(!mn(t.context._currentValue,t.memoizedValue))return!0;t=t.next}return!1}function yr(t){gr=t,zi=null,t=t.dependencies,t!==null&&(t.firstContext=null)}function qe(t){return Tp(gr,t)}function yu(t,n){return gr===null&&yr(t),Tp(t,n)}function Tp(t,n){var a=n._currentValue;if(n={context:n,memoizedValue:a,next:null},zi===null){if(t===null)throw Error(s(308));zi=n,t.dependencies={lanes:0,firstContext:n},t.flags|=524288}else zi=zi.next=n;return a}var vb=typeof AbortController<"u"?AbortController:function(){var t=[],n=this.signal={aborted:!1,addEventListener:function(a,l){t.push(l)}};this.abort=function(){n.aborted=!0,t.forEach(function(a){return a()})}},_b=r.unstable_scheduleCallback,bb=r.unstable_NormalPriority,Ae={$$typeof:$,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Oh(){return{controller:new vb,data:new Map,refCount:0}}function wl(t){t.refCount--,t.refCount===0&&_b(bb,function(){t.controller.abort()})}var Rl=null,zh=0,cs=0,hs=null;function Eb(t,n){if(Rl===null){var a=Rl=[];zh=0,cs=Pf(),hs={status:"pending",value:void 0,then:function(l){a.push(l)}}}return zh++,n.then(xp,xp),n}function xp(){if(--zh===0&&Rl!==null){hs!==null&&(hs.status="fulfilled");var t=Rl;Rl=null,cs=0,hs=null;for(var n=0;n<t.length;n++)(0,t[n])()}}function Tb(t,n){var a=[],l={status:"pending",value:null,reason:null,then:function(h){a.push(h)}};return t.then(function(){l.status="fulfilled",l.value=n;for(var h=0;h<a.length;h++)(0,a[h])(n)},function(h){for(l.status="rejected",l.reason=h,h=0;h<a.length;h++)(0,a[h])(void 0)}),l}var Sp=B.S;B.S=function(t,n){ly=Je(),typeof n=="object"&&n!==null&&typeof n.then=="function"&&Eb(t,n),Sp!==null&&Sp(t,n)};var vr=M(null);function Uh(){var t=vr.current;return t!==null?t:ee.pooledCache}function vu(t,n){n===null?lt(vr,vr.current):lt(vr,n.pool)}function Ap(){var t=Uh();return t===null?null:{parent:Ae._currentValue,pool:t}}var fs=Error(s(460)),Lh=Error(s(474)),_u=Error(s(542)),bu={then:function(){}};function wp(t){return t=t.status,t==="fulfilled"||t==="rejected"}function Rp(t,n,a){switch(a=t[a],a===void 0?t.push(n):a!==n&&(n.then(Fn,Fn),n=a),n.status){case"fulfilled":return n.value;case"rejected":throw t=n.reason,Np(t),t;default:if(typeof n.status=="string")n.then(Fn,Fn);else{if(t=ee,t!==null&&100<t.shellSuspendCounter)throw Error(s(482));t=n,t.status="pending",t.then(function(l){if(n.status==="pending"){var h=n;h.status="fulfilled",h.value=l}},function(l){if(n.status==="pending"){var h=n;h.status="rejected",h.reason=l}})}switch(n.status){case"fulfilled":return n.value;case"rejected":throw t=n.reason,Np(t),t}throw br=n,fs}}function _r(t){try{var n=t._init;return n(t._payload)}catch(a){throw a!==null&&typeof a=="object"&&typeof a.then=="function"?(br=a,fs):a}}var br=null;function Cp(){if(br===null)throw Error(s(459));var t=br;return br=null,t}function Np(t){if(t===fs||t===_u)throw Error(s(483))}var ds=null,Cl=0;function Eu(t){var n=Cl;return Cl+=1,ds===null&&(ds=[]),Rp(ds,t,n)}function Nl(t,n){n=n.props.ref,t.ref=n!==void 0?n:null}function Tu(t,n){throw n.$$typeof===R?Error(s(525)):(t=Object.prototype.toString.call(n),Error(s(31,t==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":t)))}function Dp(t){function n(z,j){if(t){var q=z.deletions;q===null?(z.deletions=[j],z.flags|=16):q.push(j)}}function a(z,j){if(!t)return null;for(;j!==null;)n(z,j),j=j.sibling;return null}function l(z){for(var j=new Map;z!==null;)z.key!==null?j.set(z.key,z):j.set(z.index,z),z=z.sibling;return j}function h(z,j){return z=Mi(z,j),z.index=0,z.sibling=null,z}function f(z,j,q){return z.index=q,t?(q=z.alternate,q!==null?(q=q.index,q<j?(z.flags|=67108866,j):q):(z.flags|=67108866,j)):(z.flags|=1048576,j)}function _(z){return t&&z.alternate===null&&(z.flags|=67108866),z}function T(z,j,q,Z){return j===null||j.tag!==6?(j=wh(q,z.mode,Z),j.return=z,j):(j=h(j,q),j.return=z,j)}function D(z,j,q,Z){var yt=q.type;return yt===X?K(z,j,q.props.children,Z,q.key):j!==null&&(j.elementType===yt||typeof yt=="object"&&yt!==null&&yt.$$typeof===A&&_r(yt)===j.type)?(j=h(j,q.props),Nl(j,q),j.return=z,j):(j=mu(q.type,q.key,q.props,null,z.mode,Z),Nl(j,q),j.return=z,j)}function H(z,j,q,Z){return j===null||j.tag!==4||j.stateNode.containerInfo!==q.containerInfo||j.stateNode.implementation!==q.implementation?(j=Rh(q,z.mode,Z),j.return=z,j):(j=h(j,q.children||[]),j.return=z,j)}function K(z,j,q,Z,yt){return j===null||j.tag!==7?(j=mr(q,z.mode,Z,yt),j.return=z,j):(j=h(j,q),j.return=z,j)}function tt(z,j,q){if(typeof j=="string"&&j!==""||typeof j=="number"||typeof j=="bigint")return j=wh(""+j,z.mode,q),j.return=z,j;if(typeof j=="object"&&j!==null){switch(j.$$typeof){case U:return q=mu(j.type,j.key,j.props,null,z.mode,q),Nl(q,j),q.return=z,q;case Y:return j=Rh(j,z.mode,q),j.return=z,j;case A:return j=_r(j),tt(z,j,q)}if(ft(j)||O(j))return j=mr(j,z.mode,q,null),j.return=z,j;if(typeof j.then=="function")return tt(z,Eu(j),q);if(j.$$typeof===$)return tt(z,yu(z,j),q);Tu(z,j)}return null}function F(z,j,q,Z){var yt=j!==null?j.key:null;if(typeof q=="string"&&q!==""||typeof q=="number"||typeof q=="bigint")return yt!==null?null:T(z,j,""+q,Z);if(typeof q=="object"&&q!==null){switch(q.$$typeof){case U:return q.key===yt?D(z,j,q,Z):null;case Y:return q.key===yt?H(z,j,q,Z):null;case A:return q=_r(q),F(z,j,q,Z)}if(ft(q)||O(q))return yt!==null?null:K(z,j,q,Z,null);if(typeof q.then=="function")return F(z,j,Eu(q),Z);if(q.$$typeof===$)return F(z,j,yu(z,q),Z);Tu(z,q)}return null}function Q(z,j,q,Z,yt){if(typeof Z=="string"&&Z!==""||typeof Z=="number"||typeof Z=="bigint")return z=z.get(q)||null,T(j,z,""+Z,yt);if(typeof Z=="object"&&Z!==null){switch(Z.$$typeof){case U:return z=z.get(Z.key===null?q:Z.key)||null,D(j,z,Z,yt);case Y:return z=z.get(Z.key===null?q:Z.key)||null,H(j,z,Z,yt);case A:return Z=_r(Z),Q(z,j,q,Z,yt)}if(ft(Z)||O(Z))return z=z.get(q)||null,K(j,z,Z,yt,null);if(typeof Z.then=="function")return Q(z,j,q,Eu(Z),yt);if(Z.$$typeof===$)return Q(z,j,q,yu(j,Z),yt);Tu(j,Z)}return null}function dt(z,j,q,Z){for(var yt=null,Bt=null,mt=j,Dt=j=0,Ot=null;mt!==null&&Dt<q.length;Dt++){mt.index>Dt?(Ot=mt,mt=null):Ot=mt.sibling;var qt=F(z,mt,q[Dt],Z);if(qt===null){mt===null&&(mt=Ot);break}t&&mt&&qt.alternate===null&&n(z,mt),j=f(qt,j,Dt),Bt===null?yt=qt:Bt.sibling=qt,Bt=qt,mt=Ot}if(Dt===q.length)return a(z,mt),Lt&&Oi(z,Dt),yt;if(mt===null){for(;Dt<q.length;Dt++)mt=tt(z,q[Dt],Z),mt!==null&&(j=f(mt,j,Dt),Bt===null?yt=mt:Bt.sibling=mt,Bt=mt);return Lt&&Oi(z,Dt),yt}for(mt=l(mt);Dt<q.length;Dt++)Ot=Q(mt,z,Dt,q[Dt],Z),Ot!==null&&(t&&Ot.alternate!==null&&mt.delete(Ot.key===null?Dt:Ot.key),j=f(Ot,j,Dt),Bt===null?yt=Ot:Bt.sibling=Ot,Bt=Ot);return t&&mt.forEach(function(Ma){return n(z,Ma)}),Lt&&Oi(z,Dt),yt}function Et(z,j,q,Z){if(q==null)throw Error(s(151));for(var yt=null,Bt=null,mt=j,Dt=j=0,Ot=null,qt=q.next();mt!==null&&!qt.done;Dt++,qt=q.next()){mt.index>Dt?(Ot=mt,mt=null):Ot=mt.sibling;var Ma=F(z,mt,qt.value,Z);if(Ma===null){mt===null&&(mt=Ot);break}t&&mt&&Ma.alternate===null&&n(z,mt),j=f(Ma,j,Dt),Bt===null?yt=Ma:Bt.sibling=Ma,Bt=Ma,mt=Ot}if(qt.done)return a(z,mt),Lt&&Oi(z,Dt),yt;if(mt===null){for(;!qt.done;Dt++,qt=q.next())qt=tt(z,qt.value,Z),qt!==null&&(j=f(qt,j,Dt),Bt===null?yt=qt:Bt.sibling=qt,Bt=qt);return Lt&&Oi(z,Dt),yt}for(mt=l(mt);!qt.done;Dt++,qt=q.next())qt=Q(mt,z,Dt,qt.value,Z),qt!==null&&(t&&qt.alternate!==null&&mt.delete(qt.key===null?Dt:qt.key),j=f(qt,j,Dt),Bt===null?yt=qt:Bt.sibling=qt,Bt=qt);return t&&mt.forEach(function(jE){return n(z,jE)}),Lt&&Oi(z,Dt),yt}function te(z,j,q,Z){if(typeof q=="object"&&q!==null&&q.type===X&&q.key===null&&(q=q.props.children),typeof q=="object"&&q!==null){switch(q.$$typeof){case U:t:{for(var yt=q.key;j!==null;){if(j.key===yt){if(yt=q.type,yt===X){if(j.tag===7){a(z,j.sibling),Z=h(j,q.props.children),Z.return=z,z=Z;break t}}else if(j.elementType===yt||typeof yt=="object"&&yt!==null&&yt.$$typeof===A&&_r(yt)===j.type){a(z,j.sibling),Z=h(j,q.props),Nl(Z,q),Z.return=z,z=Z;break t}a(z,j);break}else n(z,j);j=j.sibling}q.type===X?(Z=mr(q.props.children,z.mode,Z,q.key),Z.return=z,z=Z):(Z=mu(q.type,q.key,q.props,null,z.mode,Z),Nl(Z,q),Z.return=z,z=Z)}return _(z);case Y:t:{for(yt=q.key;j!==null;){if(j.key===yt)if(j.tag===4&&j.stateNode.containerInfo===q.containerInfo&&j.stateNode.implementation===q.implementation){a(z,j.sibling),Z=h(j,q.children||[]),Z.return=z,z=Z;break t}else{a(z,j);break}else n(z,j);j=j.sibling}Z=Rh(q,z.mode,Z),Z.return=z,z=Z}return _(z);case A:return q=_r(q),te(z,j,q,Z)}if(ft(q))return dt(z,j,q,Z);if(O(q)){if(yt=O(q),typeof yt!="function")throw Error(s(150));return q=yt.call(q),Et(z,j,q,Z)}if(typeof q.then=="function")return te(z,j,Eu(q),Z);if(q.$$typeof===$)return te(z,j,yu(z,q),Z);Tu(z,q)}return typeof q=="string"&&q!==""||typeof q=="number"||typeof q=="bigint"?(q=""+q,j!==null&&j.tag===6?(a(z,j.sibling),Z=h(j,q),Z.return=z,z=Z):(a(z,j),Z=wh(q,z.mode,Z),Z.return=z,z=Z),_(z)):a(z,j)}return function(z,j,q,Z){try{Cl=0;var yt=te(z,j,q,Z);return ds=null,yt}catch(mt){if(mt===fs||mt===_u)throw mt;var Bt=pn(29,mt,null,z.mode);return Bt.lanes=Z,Bt.return=z,Bt}finally{}}}var Er=Dp(!0),Ip=Dp(!1),ya=!1;function kh(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Ph(t,n){t=t.updateQueue,n.updateQueue===t&&(n.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,callbacks:null})}function va(t){return{lane:t,tag:0,payload:null,callback:null,next:null}}function _a(t,n,a){var l=t.updateQueue;if(l===null)return null;if(l=l.shared,(Ft&2)!==0){var h=l.pending;return h===null?n.next=n:(n.next=h.next,h.next=n),l.pending=n,n=du(t),mp(t,null,a),n}return fu(t,l,n,a),du(t)}function Dl(t,n,a){if(n=n.updateQueue,n!==null&&(n=n.shared,(a&4194048)!==0)){var l=n.lanes;l&=t.pendingLanes,a|=l,n.lanes=a,il(t,a)}}function Bh(t,n){var a=t.updateQueue,l=t.alternate;if(l!==null&&(l=l.updateQueue,a===l)){var h=null,f=null;if(a=a.firstBaseUpdate,a!==null){do{var _={lane:a.lane,tag:a.tag,payload:a.payload,callback:null,next:null};f===null?h=f=_:f=f.next=_,a=a.next}while(a!==null);f===null?h=f=n:f=f.next=n}else h=f=n;a={baseState:l.baseState,firstBaseUpdate:h,lastBaseUpdate:f,shared:l.shared,callbacks:l.callbacks},t.updateQueue=a;return}t=a.lastBaseUpdate,t===null?a.firstBaseUpdate=n:t.next=n,a.lastBaseUpdate=n}var qh=!1;function Il(){if(qh){var t=hs;if(t!==null)throw t}}function Vl(t,n,a,l){qh=!1;var h=t.updateQueue;ya=!1;var f=h.firstBaseUpdate,_=h.lastBaseUpdate,T=h.shared.pending;if(T!==null){h.shared.pending=null;var D=T,H=D.next;D.next=null,_===null?f=H:_.next=H,_=D;var K=t.alternate;K!==null&&(K=K.updateQueue,T=K.lastBaseUpdate,T!==_&&(T===null?K.firstBaseUpdate=H:T.next=H,K.lastBaseUpdate=D))}if(f!==null){var tt=h.baseState;_=0,K=H=D=null,T=f;do{var F=T.lane&-536870913,Q=F!==T.lane;if(Q?(Mt&F)===F:(l&F)===F){F!==0&&F===cs&&(qh=!0),K!==null&&(K=K.next={lane:0,tag:T.tag,payload:T.payload,callback:null,next:null});t:{var dt=t,Et=T;F=n;var te=a;switch(Et.tag){case 1:if(dt=Et.payload,typeof dt=="function"){tt=dt.call(te,tt,F);break t}tt=dt;break t;case 3:dt.flags=dt.flags&-65537|128;case 0:if(dt=Et.payload,F=typeof dt=="function"?dt.call(te,tt,F):dt,F==null)break t;tt=x({},tt,F);break t;case 2:ya=!0}}F=T.callback,F!==null&&(t.flags|=64,Q&&(t.flags|=8192),Q=h.callbacks,Q===null?h.callbacks=[F]:Q.push(F))}else Q={lane:F,tag:T.tag,payload:T.payload,callback:T.callback,next:null},K===null?(H=K=Q,D=tt):K=K.next=Q,_|=F;if(T=T.next,T===null){if(T=h.shared.pending,T===null)break;Q=T,T=Q.next,Q.next=null,h.lastBaseUpdate=Q,h.shared.pending=null}}while(!0);K===null&&(D=tt),h.baseState=D,h.firstBaseUpdate=H,h.lastBaseUpdate=K,f===null&&(h.shared.lanes=0),Sa|=_,t.lanes=_,t.memoizedState=tt}}function Vp(t,n){if(typeof t!="function")throw Error(s(191,t));t.call(n)}function jp(t,n){var a=t.callbacks;if(a!==null)for(t.callbacks=null,t=0;t<a.length;t++)Vp(a[t],n)}var ms=M(null),xu=M(0);function Mp(t,n){t=Qi,lt(xu,t),lt(ms,n),Qi=t|n.baseLanes}function Hh(){lt(xu,Qi),lt(ms,ms.current)}function Fh(){Qi=xu.current,W(ms),W(xu)}var gn=M(null),jn=null;function ba(t){var n=t.alternate;lt(ge,ge.current&1),lt(gn,t),jn===null&&(n===null||ms.current!==null||n.memoizedState!==null)&&(jn=t)}function Gh(t){lt(ge,ge.current),lt(gn,t),jn===null&&(jn=t)}function Op(t){t.tag===22?(lt(ge,ge.current),lt(gn,t),jn===null&&(jn=t)):Ea()}function Ea(){lt(ge,ge.current),lt(gn,gn.current)}function yn(t){W(gn),jn===t&&(jn=null),W(ge)}var ge=M(0);function Su(t){for(var n=t;n!==null;){if(n.tag===13){var a=n.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||Jf(a)||Wf(a)))return n}else if(n.tag===19&&(n.memoizedProps.revealOrder==="forwards"||n.memoizedProps.revealOrder==="backwards"||n.memoizedProps.revealOrder==="unstable_legacy-backwards"||n.memoizedProps.revealOrder==="together")){if((n.flags&128)!==0)return n}else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return null;n=n.return}n.sibling.return=n.return,n=n.sibling}return null}var Li=0,Nt=null,Jt=null,we=null,Au=!1,ps=!1,Tr=!1,wu=0,jl=0,gs=null,xb=0;function fe(){throw Error(s(321))}function Qh(t,n){if(n===null)return!1;for(var a=0;a<n.length&&a<t.length;a++)if(!mn(t[a],n[a]))return!1;return!0}function Yh(t,n,a,l,h,f){return Li=f,Nt=n,n.memoizedState=null,n.updateQueue=null,n.lanes=0,B.H=t===null||t.memoizedState===null?vg:uf,Tr=!1,f=a(l,h),Tr=!1,ps&&(f=Up(n,a,l,h)),zp(t),f}function zp(t){B.H=zl;var n=Jt!==null&&Jt.next!==null;if(Li=0,we=Jt=Nt=null,Au=!1,jl=0,gs=null,n)throw Error(s(300));t===null||Re||(t=t.dependencies,t!==null&&gu(t)&&(Re=!0))}function Up(t,n,a,l){Nt=t;var h=0;do{if(ps&&(gs=null),jl=0,ps=!1,25<=h)throw Error(s(301));if(h+=1,we=Jt=null,t.updateQueue!=null){var f=t.updateQueue;f.lastEffect=null,f.events=null,f.stores=null,f.memoCache!=null&&(f.memoCache.index=0)}B.H=_g,f=n(a,l)}while(ps);return f}function Sb(){var t=B.H,n=t.useState()[0];return n=typeof n.then=="function"?Ml(n):n,t=t.useState()[0],(Jt!==null?Jt.memoizedState:null)!==t&&(Nt.flags|=1024),n}function Kh(){var t=wu!==0;return wu=0,t}function Xh(t,n,a){n.updateQueue=t.updateQueue,n.flags&=-2053,t.lanes&=~a}function $h(t){if(Au){for(t=t.memoizedState;t!==null;){var n=t.queue;n!==null&&(n.pending=null),t=t.next}Au=!1}Li=0,we=Jt=Nt=null,ps=!1,jl=wu=0,gs=null}function tn(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return we===null?Nt.memoizedState=we=t:we=we.next=t,we}function ye(){if(Jt===null){var t=Nt.alternate;t=t!==null?t.memoizedState:null}else t=Jt.next;var n=we===null?Nt.memoizedState:we.next;if(n!==null)we=n,Jt=t;else{if(t===null)throw Nt.alternate===null?Error(s(467)):Error(s(310));Jt=t,t={memoizedState:Jt.memoizedState,baseState:Jt.baseState,baseQueue:Jt.baseQueue,queue:Jt.queue,next:null},we===null?Nt.memoizedState=we=t:we=we.next=t}return we}function Ru(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Ml(t){var n=jl;return jl+=1,gs===null&&(gs=[]),t=Rp(gs,t,n),n=Nt,(we===null?n.memoizedState:we.next)===null&&(n=n.alternate,B.H=n===null||n.memoizedState===null?vg:uf),t}function Cu(t){if(t!==null&&typeof t=="object"){if(typeof t.then=="function")return Ml(t);if(t.$$typeof===$)return qe(t)}throw Error(s(438,String(t)))}function Zh(t){var n=null,a=Nt.updateQueue;if(a!==null&&(n=a.memoCache),n==null){var l=Nt.alternate;l!==null&&(l=l.updateQueue,l!==null&&(l=l.memoCache,l!=null&&(n={data:l.data.map(function(h){return h.slice()}),index:0})))}if(n==null&&(n={data:[],index:0}),a===null&&(a=Ru(),Nt.updateQueue=a),a.memoCache=n,a=n.data[n.index],a===void 0)for(a=n.data[n.index]=Array(t),l=0;l<t;l++)a[l]=V;return n.index++,a}function ki(t,n){return typeof n=="function"?n(t):n}function Nu(t){var n=ye();return Jh(n,Jt,t)}function Jh(t,n,a){var l=t.queue;if(l===null)throw Error(s(311));l.lastRenderedReducer=a;var h=t.baseQueue,f=l.pending;if(f!==null){if(h!==null){var _=h.next;h.next=f.next,f.next=_}n.baseQueue=h=f,l.pending=null}if(f=t.baseState,h===null)t.memoizedState=f;else{n=h.next;var T=_=null,D=null,H=n,K=!1;do{var tt=H.lane&-536870913;if(tt!==H.lane?(Mt&tt)===tt:(Li&tt)===tt){var F=H.revertLane;if(F===0)D!==null&&(D=D.next={lane:0,revertLane:0,gesture:null,action:H.action,hasEagerState:H.hasEagerState,eagerState:H.eagerState,next:null}),tt===cs&&(K=!0);else if((Li&F)===F){H=H.next,F===cs&&(K=!0);continue}else tt={lane:0,revertLane:H.revertLane,gesture:null,action:H.action,hasEagerState:H.hasEagerState,eagerState:H.eagerState,next:null},D===null?(T=D=tt,_=f):D=D.next=tt,Nt.lanes|=F,Sa|=F;tt=H.action,Tr&&a(f,tt),f=H.hasEagerState?H.eagerState:a(f,tt)}else F={lane:tt,revertLane:H.revertLane,gesture:H.gesture,action:H.action,hasEagerState:H.hasEagerState,eagerState:H.eagerState,next:null},D===null?(T=D=F,_=f):D=D.next=F,Nt.lanes|=tt,Sa|=tt;H=H.next}while(H!==null&&H!==n);if(D===null?_=f:D.next=T,!mn(f,t.memoizedState)&&(Re=!0,K&&(a=hs,a!==null)))throw a;t.memoizedState=f,t.baseState=_,t.baseQueue=D,l.lastRenderedState=f}return h===null&&(l.lanes=0),[t.memoizedState,l.dispatch]}function Wh(t){var n=ye(),a=n.queue;if(a===null)throw Error(s(311));a.lastRenderedReducer=t;var l=a.dispatch,h=a.pending,f=n.memoizedState;if(h!==null){a.pending=null;var _=h=h.next;do f=t(f,_.action),_=_.next;while(_!==h);mn(f,n.memoizedState)||(Re=!0),n.memoizedState=f,n.baseQueue===null&&(n.baseState=f),a.lastRenderedState=f}return[f,l]}function Lp(t,n,a){var l=Nt,h=ye(),f=Lt;if(f){if(a===void 0)throw Error(s(407));a=a()}else a=n();var _=!mn((Jt||h).memoizedState,a);if(_&&(h.memoizedState=a,Re=!0),h=h.queue,nf(Bp.bind(null,l,h,t),[t]),h.getSnapshot!==n||_||we!==null&&we.memoizedState.tag&1){if(l.flags|=2048,ys(9,{destroy:void 0},Pp.bind(null,l,h,a,n),null),ee===null)throw Error(s(349));f||(Li&127)!==0||kp(l,n,a)}return a}function kp(t,n,a){t.flags|=16384,t={getSnapshot:n,value:a},n=Nt.updateQueue,n===null?(n=Ru(),Nt.updateQueue=n,n.stores=[t]):(a=n.stores,a===null?n.stores=[t]:a.push(t))}function Pp(t,n,a,l){n.value=a,n.getSnapshot=l,qp(n)&&Hp(t)}function Bp(t,n,a){return a(function(){qp(n)&&Hp(t)})}function qp(t){var n=t.getSnapshot;t=t.value;try{var a=n();return!mn(t,a)}catch{return!0}}function Hp(t){var n=dr(t,2);n!==null&&on(n,t,2)}function tf(t){var n=tn();if(typeof t=="function"){var a=t;if(t=a(),Tr){xn(!0);try{a()}finally{xn(!1)}}}return n.memoizedState=n.baseState=t,n.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:ki,lastRenderedState:t},n}function Fp(t,n,a,l){return t.baseState=a,Jh(t,Jt,typeof l=="function"?l:ki)}function Ab(t,n,a,l,h){if(Vu(t))throw Error(s(485));if(t=n.action,t!==null){var f={payload:h,action:t,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(_){f.listeners.push(_)}};B.T!==null?a(!0):f.isTransition=!1,l(f),a=n.pending,a===null?(f.next=n.pending=f,Gp(n,f)):(f.next=a.next,n.pending=a.next=f)}}function Gp(t,n){var a=n.action,l=n.payload,h=t.state;if(n.isTransition){var f=B.T,_={};B.T=_;try{var T=a(h,l),D=B.S;D!==null&&D(_,T),Qp(t,n,T)}catch(H){ef(t,n,H)}finally{f!==null&&_.types!==null&&(f.types=_.types),B.T=f}}else try{f=a(h,l),Qp(t,n,f)}catch(H){ef(t,n,H)}}function Qp(t,n,a){a!==null&&typeof a=="object"&&typeof a.then=="function"?a.then(function(l){Yp(t,n,l)},function(l){return ef(t,n,l)}):Yp(t,n,a)}function Yp(t,n,a){n.status="fulfilled",n.value=a,Kp(n),t.state=a,n=t.pending,n!==null&&(a=n.next,a===n?t.pending=null:(a=a.next,n.next=a,Gp(t,a)))}function ef(t,n,a){var l=t.pending;if(t.pending=null,l!==null){l=l.next;do n.status="rejected",n.reason=a,Kp(n),n=n.next;while(n!==l)}t.action=null}function Kp(t){t=t.listeners;for(var n=0;n<t.length;n++)(0,t[n])()}function Xp(t,n){return n}function $p(t,n){if(Lt){var a=ee.formState;if(a!==null){t:{var l=Nt;if(Lt){if(ae){e:{for(var h=ae,f=Vn;h.nodeType!==8;){if(!f){h=null;break e}if(h=Mn(h.nextSibling),h===null){h=null;break e}}f=h.data,h=f==="F!"||f==="F"?h:null}if(h){ae=Mn(h.nextSibling),l=h.data==="F!";break t}}pa(l)}l=!1}l&&(n=a[0])}}return a=tn(),a.memoizedState=a.baseState=n,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Xp,lastRenderedState:n},a.queue=l,a=pg.bind(null,Nt,l),l.dispatch=a,l=tf(!1),f=of.bind(null,Nt,!1,l.queue),l=tn(),h={state:n,dispatch:null,action:t,pending:null},l.queue=h,a=Ab.bind(null,Nt,h,f,a),h.dispatch=a,l.memoizedState=t,[n,a,!1]}function Zp(t){var n=ye();return Jp(n,Jt,t)}function Jp(t,n,a){if(n=Jh(t,n,Xp)[0],t=Nu(ki)[0],typeof n=="object"&&n!==null&&typeof n.then=="function")try{var l=Ml(n)}catch(_){throw _===fs?_u:_}else l=n;n=ye();var h=n.queue,f=h.dispatch;return a!==n.memoizedState&&(Nt.flags|=2048,ys(9,{destroy:void 0},wb.bind(null,h,a),null)),[l,f,t]}function wb(t,n){t.action=n}function Wp(t){var n=ye(),a=Jt;if(a!==null)return Jp(n,a,t);ye(),n=n.memoizedState,a=ye();var l=a.queue.dispatch;return a.memoizedState=t,[n,l,!1]}function ys(t,n,a,l){return t={tag:t,create:a,deps:l,inst:n,next:null},n=Nt.updateQueue,n===null&&(n=Ru(),Nt.updateQueue=n),a=n.lastEffect,a===null?n.lastEffect=t.next=t:(l=a.next,a.next=t,t.next=l,n.lastEffect=t),t}function tg(){return ye().memoizedState}function Du(t,n,a,l){var h=tn();Nt.flags|=t,h.memoizedState=ys(1|n,{destroy:void 0},a,l===void 0?null:l)}function Iu(t,n,a,l){var h=ye();l=l===void 0?null:l;var f=h.memoizedState.inst;Jt!==null&&l!==null&&Qh(l,Jt.memoizedState.deps)?h.memoizedState=ys(n,f,a,l):(Nt.flags|=t,h.memoizedState=ys(1|n,f,a,l))}function eg(t,n){Du(8390656,8,t,n)}function nf(t,n){Iu(2048,8,t,n)}function Rb(t){Nt.flags|=4;var n=Nt.updateQueue;if(n===null)n=Ru(),Nt.updateQueue=n,n.events=[t];else{var a=n.events;a===null?n.events=[t]:a.push(t)}}function ng(t){var n=ye().memoizedState;return Rb({ref:n,nextImpl:t}),function(){if((Ft&2)!==0)throw Error(s(440));return n.impl.apply(void 0,arguments)}}function ig(t,n){return Iu(4,2,t,n)}function ag(t,n){return Iu(4,4,t,n)}function rg(t,n){if(typeof n=="function"){t=t();var a=n(t);return function(){typeof a=="function"?a():n(null)}}if(n!=null)return t=t(),n.current=t,function(){n.current=null}}function sg(t,n,a){a=a!=null?a.concat([t]):null,Iu(4,4,rg.bind(null,n,t),a)}function af(){}function lg(t,n){var a=ye();n=n===void 0?null:n;var l=a.memoizedState;return n!==null&&Qh(n,l[1])?l[0]:(a.memoizedState=[t,n],t)}function og(t,n){var a=ye();n=n===void 0?null:n;var l=a.memoizedState;if(n!==null&&Qh(n,l[1]))return l[0];if(l=t(),Tr){xn(!0);try{t()}finally{xn(!1)}}return a.memoizedState=[l,n],l}function rf(t,n,a){return a===void 0||(Li&1073741824)!==0&&(Mt&261930)===0?t.memoizedState=n:(t.memoizedState=a,t=uy(),Nt.lanes|=t,Sa|=t,a)}function ug(t,n,a,l){return mn(a,n)?a:ms.current!==null?(t=rf(t,a,l),mn(t,n)||(Re=!0),t):(Li&42)===0||(Li&1073741824)!==0&&(Mt&261930)===0?(Re=!0,t.memoizedState=a):(t=uy(),Nt.lanes|=t,Sa|=t,n)}function cg(t,n,a,l,h){var f=at.p;at.p=f!==0&&8>f?f:8;var _=B.T,T={};B.T=T,of(t,!1,n,a);try{var D=h(),H=B.S;if(H!==null&&H(T,D),D!==null&&typeof D=="object"&&typeof D.then=="function"){var K=Tb(D,l);Ol(t,n,K,bn(t))}else Ol(t,n,l,bn(t))}catch(tt){Ol(t,n,{then:function(){},status:"rejected",reason:tt},bn())}finally{at.p=f,_!==null&&T.types!==null&&(_.types=T.types),B.T=_}}function Cb(){}function sf(t,n,a,l){if(t.tag!==5)throw Error(s(476));var h=hg(t).queue;cg(t,h,n,ot,a===null?Cb:function(){return fg(t),a(l)})}function hg(t){var n=t.memoizedState;if(n!==null)return n;n={memoizedState:ot,baseState:ot,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ki,lastRenderedState:ot},next:null};var a={};return n.next={memoizedState:a,baseState:a,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ki,lastRenderedState:a},next:null},t.memoizedState=n,t=t.alternate,t!==null&&(t.memoizedState=n),n}function fg(t){var n=hg(t);n.next===null&&(n=t.alternate.memoizedState),Ol(t,n.next.queue,{},bn())}function lf(){return qe(Jl)}function dg(){return ye().memoizedState}function mg(){return ye().memoizedState}function Nb(t){for(var n=t.return;n!==null;){switch(n.tag){case 24:case 3:var a=bn();t=va(a);var l=_a(n,t,a);l!==null&&(on(l,n,a),Dl(l,n,a)),n={cache:Oh()},t.payload=n;return}n=n.return}}function Db(t,n,a){var l=bn();a={lane:l,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null},Vu(t)?gg(n,a):(a=Sh(t,n,a,l),a!==null&&(on(a,t,l),yg(a,n,l)))}function pg(t,n,a){var l=bn();Ol(t,n,a,l)}function Ol(t,n,a,l){var h={lane:l,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null};if(Vu(t))gg(n,h);else{var f=t.alternate;if(t.lanes===0&&(f===null||f.lanes===0)&&(f=n.lastRenderedReducer,f!==null))try{var _=n.lastRenderedState,T=f(_,a);if(h.hasEagerState=!0,h.eagerState=T,mn(T,_))return fu(t,n,h,0),ee===null&&hu(),!1}catch{}finally{}if(a=Sh(t,n,h,l),a!==null)return on(a,t,l),yg(a,n,l),!0}return!1}function of(t,n,a,l){if(l={lane:2,revertLane:Pf(),gesture:null,action:l,hasEagerState:!1,eagerState:null,next:null},Vu(t)){if(n)throw Error(s(479))}else n=Sh(t,a,l,2),n!==null&&on(n,t,2)}function Vu(t){var n=t.alternate;return t===Nt||n!==null&&n===Nt}function gg(t,n){ps=Au=!0;var a=t.pending;a===null?n.next=n:(n.next=a.next,a.next=n),t.pending=n}function yg(t,n,a){if((a&4194048)!==0){var l=n.lanes;l&=t.pendingLanes,a|=l,n.lanes=a,il(t,a)}}var zl={readContext:qe,use:Cu,useCallback:fe,useContext:fe,useEffect:fe,useImperativeHandle:fe,useLayoutEffect:fe,useInsertionEffect:fe,useMemo:fe,useReducer:fe,useRef:fe,useState:fe,useDebugValue:fe,useDeferredValue:fe,useTransition:fe,useSyncExternalStore:fe,useId:fe,useHostTransitionStatus:fe,useFormState:fe,useActionState:fe,useOptimistic:fe,useMemoCache:fe,useCacheRefresh:fe};zl.useEffectEvent=fe;var vg={readContext:qe,use:Cu,useCallback:function(t,n){return tn().memoizedState=[t,n===void 0?null:n],t},useContext:qe,useEffect:eg,useImperativeHandle:function(t,n,a){a=a!=null?a.concat([t]):null,Du(4194308,4,rg.bind(null,n,t),a)},useLayoutEffect:function(t,n){return Du(4194308,4,t,n)},useInsertionEffect:function(t,n){Du(4,2,t,n)},useMemo:function(t,n){var a=tn();n=n===void 0?null:n;var l=t();if(Tr){xn(!0);try{t()}finally{xn(!1)}}return a.memoizedState=[l,n],l},useReducer:function(t,n,a){var l=tn();if(a!==void 0){var h=a(n);if(Tr){xn(!0);try{a(n)}finally{xn(!1)}}}else h=n;return l.memoizedState=l.baseState=h,t={pending:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:h},l.queue=t,t=t.dispatch=Db.bind(null,Nt,t),[l.memoizedState,t]},useRef:function(t){var n=tn();return t={current:t},n.memoizedState=t},useState:function(t){t=tf(t);var n=t.queue,a=pg.bind(null,Nt,n);return n.dispatch=a,[t.memoizedState,a]},useDebugValue:af,useDeferredValue:function(t,n){var a=tn();return rf(a,t,n)},useTransition:function(){var t=tf(!1);return t=cg.bind(null,Nt,t.queue,!0,!1),tn().memoizedState=t,[!1,t]},useSyncExternalStore:function(t,n,a){var l=Nt,h=tn();if(Lt){if(a===void 0)throw Error(s(407));a=a()}else{if(a=n(),ee===null)throw Error(s(349));(Mt&127)!==0||kp(l,n,a)}h.memoizedState=a;var f={value:a,getSnapshot:n};return h.queue=f,eg(Bp.bind(null,l,f,t),[t]),l.flags|=2048,ys(9,{destroy:void 0},Pp.bind(null,l,f,a,n),null),a},useId:function(){var t=tn(),n=ee.identifierPrefix;if(Lt){var a=vi,l=yi;a=(l&~(1<<32-me(l)-1)).toString(32)+a,n="_"+n+"R_"+a,a=wu++,0<a&&(n+="H"+a.toString(32)),n+="_"}else a=xb++,n="_"+n+"r_"+a.toString(32)+"_";return t.memoizedState=n},useHostTransitionStatus:lf,useFormState:$p,useActionState:$p,useOptimistic:function(t){var n=tn();n.memoizedState=n.baseState=t;var a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return n.queue=a,n=of.bind(null,Nt,!0,a),a.dispatch=n,[t,n]},useMemoCache:Zh,useCacheRefresh:function(){return tn().memoizedState=Nb.bind(null,Nt)},useEffectEvent:function(t){var n=tn(),a={impl:t};return n.memoizedState=a,function(){if((Ft&2)!==0)throw Error(s(440));return a.impl.apply(void 0,arguments)}}},uf={readContext:qe,use:Cu,useCallback:lg,useContext:qe,useEffect:nf,useImperativeHandle:sg,useInsertionEffect:ig,useLayoutEffect:ag,useMemo:og,useReducer:Nu,useRef:tg,useState:function(){return Nu(ki)},useDebugValue:af,useDeferredValue:function(t,n){var a=ye();return ug(a,Jt.memoizedState,t,n)},useTransition:function(){var t=Nu(ki)[0],n=ye().memoizedState;return[typeof t=="boolean"?t:Ml(t),n]},useSyncExternalStore:Lp,useId:dg,useHostTransitionStatus:lf,useFormState:Zp,useActionState:Zp,useOptimistic:function(t,n){var a=ye();return Fp(a,Jt,t,n)},useMemoCache:Zh,useCacheRefresh:mg};uf.useEffectEvent=ng;var _g={readContext:qe,use:Cu,useCallback:lg,useContext:qe,useEffect:nf,useImperativeHandle:sg,useInsertionEffect:ig,useLayoutEffect:ag,useMemo:og,useReducer:Wh,useRef:tg,useState:function(){return Wh(ki)},useDebugValue:af,useDeferredValue:function(t,n){var a=ye();return Jt===null?rf(a,t,n):ug(a,Jt.memoizedState,t,n)},useTransition:function(){var t=Wh(ki)[0],n=ye().memoizedState;return[typeof t=="boolean"?t:Ml(t),n]},useSyncExternalStore:Lp,useId:dg,useHostTransitionStatus:lf,useFormState:Wp,useActionState:Wp,useOptimistic:function(t,n){var a=ye();return Jt!==null?Fp(a,Jt,t,n):(a.baseState=t,[t,a.queue.dispatch])},useMemoCache:Zh,useCacheRefresh:mg};_g.useEffectEvent=ng;function cf(t,n,a,l){n=t.memoizedState,a=a(l,n),a=a==null?n:x({},n,a),t.memoizedState=a,t.lanes===0&&(t.updateQueue.baseState=a)}var hf={enqueueSetState:function(t,n,a){t=t._reactInternals;var l=bn(),h=va(l);h.payload=n,a!=null&&(h.callback=a),n=_a(t,h,l),n!==null&&(on(n,t,l),Dl(n,t,l))},enqueueReplaceState:function(t,n,a){t=t._reactInternals;var l=bn(),h=va(l);h.tag=1,h.payload=n,a!=null&&(h.callback=a),n=_a(t,h,l),n!==null&&(on(n,t,l),Dl(n,t,l))},enqueueForceUpdate:function(t,n){t=t._reactInternals;var a=bn(),l=va(a);l.tag=2,n!=null&&(l.callback=n),n=_a(t,l,a),n!==null&&(on(n,t,a),Dl(n,t,a))}};function bg(t,n,a,l,h,f,_){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(l,f,_):n.prototype&&n.prototype.isPureReactComponent?!Tl(a,l)||!Tl(h,f):!0}function Eg(t,n,a,l){t=n.state,typeof n.componentWillReceiveProps=="function"&&n.componentWillReceiveProps(a,l),typeof n.UNSAFE_componentWillReceiveProps=="function"&&n.UNSAFE_componentWillReceiveProps(a,l),n.state!==t&&hf.enqueueReplaceState(n,n.state,null)}function xr(t,n){var a=n;if("ref"in n){a={};for(var l in n)l!=="ref"&&(a[l]=n[l])}if(t=t.defaultProps){a===n&&(a=x({},a));for(var h in t)a[h]===void 0&&(a[h]=t[h])}return a}function Tg(t){cu(t)}function xg(t){console.error(t)}function Sg(t){cu(t)}function ju(t,n){try{var a=t.onUncaughtError;a(n.value,{componentStack:n.stack})}catch(l){setTimeout(function(){throw l})}}function Ag(t,n,a){try{var l=t.onCaughtError;l(a.value,{componentStack:a.stack,errorBoundary:n.tag===1?n.stateNode:null})}catch(h){setTimeout(function(){throw h})}}function ff(t,n,a){return a=va(a),a.tag=3,a.payload={element:null},a.callback=function(){ju(t,n)},a}function wg(t){return t=va(t),t.tag=3,t}function Rg(t,n,a,l){var h=a.type.getDerivedStateFromError;if(typeof h=="function"){var f=l.value;t.payload=function(){return h(f)},t.callback=function(){Ag(n,a,l)}}var _=a.stateNode;_!==null&&typeof _.componentDidCatch=="function"&&(t.callback=function(){Ag(n,a,l),typeof h!="function"&&(Aa===null?Aa=new Set([this]):Aa.add(this));var T=l.stack;this.componentDidCatch(l.value,{componentStack:T!==null?T:""})})}function Ib(t,n,a,l,h){if(a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){if(n=a.alternate,n!==null&&us(n,a,h,!0),a=gn.current,a!==null){switch(a.tag){case 31:case 13:return jn===null?Gu():a.alternate===null&&de===0&&(de=3),a.flags&=-257,a.flags|=65536,a.lanes=h,l===bu?a.flags|=16384:(n=a.updateQueue,n===null?a.updateQueue=new Set([l]):n.add(l),Uf(t,l,h)),!1;case 22:return a.flags|=65536,l===bu?a.flags|=16384:(n=a.updateQueue,n===null?(n={transitions:null,markerInstances:null,retryQueue:new Set([l])},a.updateQueue=n):(a=n.retryQueue,a===null?n.retryQueue=new Set([l]):a.add(l)),Uf(t,l,h)),!1}throw Error(s(435,a.tag))}return Uf(t,l,h),Gu(),!1}if(Lt)return n=gn.current,n!==null?((n.flags&65536)===0&&(n.flags|=256),n.flags|=65536,n.lanes=h,l!==Dh&&(t=Error(s(422),{cause:l}),Al(Nn(t,a)))):(l!==Dh&&(n=Error(s(423),{cause:l}),Al(Nn(n,a))),t=t.current.alternate,t.flags|=65536,h&=-h,t.lanes|=h,l=Nn(l,a),h=ff(t.stateNode,l,h),Bh(t,h),de!==4&&(de=2)),!1;var f=Error(s(520),{cause:l});if(f=Nn(f,a),Fl===null?Fl=[f]:Fl.push(f),de!==4&&(de=2),n===null)return!0;l=Nn(l,a),a=n;do{switch(a.tag){case 3:return a.flags|=65536,t=h&-h,a.lanes|=t,t=ff(a.stateNode,l,t),Bh(a,t),!1;case 1:if(n=a.type,f=a.stateNode,(a.flags&128)===0&&(typeof n.getDerivedStateFromError=="function"||f!==null&&typeof f.componentDidCatch=="function"&&(Aa===null||!Aa.has(f))))return a.flags|=65536,h&=-h,a.lanes|=h,h=wg(h),Rg(h,t,a,l),Bh(a,h),!1}a=a.return}while(a!==null);return!1}var df=Error(s(461)),Re=!1;function He(t,n,a,l){n.child=t===null?Ip(n,null,a,l):Er(n,t.child,a,l)}function Cg(t,n,a,l,h){a=a.render;var f=n.ref;if("ref"in l){var _={};for(var T in l)T!=="ref"&&(_[T]=l[T])}else _=l;return yr(n),l=Yh(t,n,a,_,f,h),T=Kh(),t!==null&&!Re?(Xh(t,n,h),Pi(t,n,h)):(Lt&&T&&Ch(n),n.flags|=1,He(t,n,l,h),n.child)}function Ng(t,n,a,l,h){if(t===null){var f=a.type;return typeof f=="function"&&!Ah(f)&&f.defaultProps===void 0&&a.compare===null?(n.tag=15,n.type=f,Dg(t,n,f,l,h)):(t=mu(a.type,null,l,n,n.mode,h),t.ref=n.ref,t.return=n,n.child=t)}if(f=t.child,!Ef(t,h)){var _=f.memoizedProps;if(a=a.compare,a=a!==null?a:Tl,a(_,l)&&t.ref===n.ref)return Pi(t,n,h)}return n.flags|=1,t=Mi(f,l),t.ref=n.ref,t.return=n,n.child=t}function Dg(t,n,a,l,h){if(t!==null){var f=t.memoizedProps;if(Tl(f,l)&&t.ref===n.ref)if(Re=!1,n.pendingProps=l=f,Ef(t,h))(t.flags&131072)!==0&&(Re=!0);else return n.lanes=t.lanes,Pi(t,n,h)}return mf(t,n,a,l,h)}function Ig(t,n,a,l){var h=l.children,f=t!==null?t.memoizedState:null;if(t===null&&n.stateNode===null&&(n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),l.mode==="hidden"){if((n.flags&128)!==0){if(f=f!==null?f.baseLanes|a:a,t!==null){for(l=n.child=t.child,h=0;l!==null;)h=h|l.lanes|l.childLanes,l=l.sibling;l=h&~f}else l=0,n.child=null;return Vg(t,n,f,a,l)}if((a&536870912)!==0)n.memoizedState={baseLanes:0,cachePool:null},t!==null&&vu(n,f!==null?f.cachePool:null),f!==null?Mp(n,f):Hh(),Op(n);else return l=n.lanes=536870912,Vg(t,n,f!==null?f.baseLanes|a:a,a,l)}else f!==null?(vu(n,f.cachePool),Mp(n,f),Ea(),n.memoizedState=null):(t!==null&&vu(n,null),Hh(),Ea());return He(t,n,h,a),n.child}function Ul(t,n){return t!==null&&t.tag===22||n.stateNode!==null||(n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),n.sibling}function Vg(t,n,a,l,h){var f=Uh();return f=f===null?null:{parent:Ae._currentValue,pool:f},n.memoizedState={baseLanes:a,cachePool:f},t!==null&&vu(n,null),Hh(),Op(n),t!==null&&us(t,n,l,!0),n.childLanes=h,null}function Mu(t,n){return n=zu({mode:n.mode,children:n.children},t.mode),n.ref=t.ref,t.child=n,n.return=t,n}function jg(t,n,a){return Er(n,t.child,null,a),t=Mu(n,n.pendingProps),t.flags|=2,yn(n),n.memoizedState=null,t}function Vb(t,n,a){var l=n.pendingProps,h=(n.flags&128)!==0;if(n.flags&=-129,t===null){if(Lt){if(l.mode==="hidden")return t=Mu(n,l),n.lanes=536870912,Ul(null,t);if(Gh(n),(t=ae)?(t=Gy(t,Vn),t=t!==null&&t.data==="&"?t:null,t!==null&&(n.memoizedState={dehydrated:t,treeContext:da!==null?{id:yi,overflow:vi}:null,retryLane:536870912,hydrationErrors:null},a=gp(t),a.return=n,n.child=a,Be=n,ae=null)):t=null,t===null)throw pa(n);return n.lanes=536870912,null}return Mu(n,l)}var f=t.memoizedState;if(f!==null){var _=f.dehydrated;if(Gh(n),h)if(n.flags&256)n.flags&=-257,n=jg(t,n,a);else if(n.memoizedState!==null)n.child=t.child,n.flags|=128,n=null;else throw Error(s(558));else if(Re||us(t,n,a,!1),h=(a&t.childLanes)!==0,Re||h){if(l=ee,l!==null&&(_=al(l,a),_!==0&&_!==f.retryLane))throw f.retryLane=_,dr(t,_),on(l,t,_),df;Gu(),n=jg(t,n,a)}else t=f.treeContext,ae=Mn(_.nextSibling),Be=n,Lt=!0,ma=null,Vn=!1,t!==null&&_p(n,t),n=Mu(n,l),n.flags|=4096;return n}return t=Mi(t.child,{mode:l.mode,children:l.children}),t.ref=n.ref,n.child=t,t.return=n,t}function Ou(t,n){var a=n.ref;if(a===null)t!==null&&t.ref!==null&&(n.flags|=4194816);else{if(typeof a!="function"&&typeof a!="object")throw Error(s(284));(t===null||t.ref!==a)&&(n.flags|=4194816)}}function mf(t,n,a,l,h){return yr(n),a=Yh(t,n,a,l,void 0,h),l=Kh(),t!==null&&!Re?(Xh(t,n,h),Pi(t,n,h)):(Lt&&l&&Ch(n),n.flags|=1,He(t,n,a,h),n.child)}function Mg(t,n,a,l,h,f){return yr(n),n.updateQueue=null,a=Up(n,l,a,h),zp(t),l=Kh(),t!==null&&!Re?(Xh(t,n,f),Pi(t,n,f)):(Lt&&l&&Ch(n),n.flags|=1,He(t,n,a,f),n.child)}function Og(t,n,a,l,h){if(yr(n),n.stateNode===null){var f=rs,_=a.contextType;typeof _=="object"&&_!==null&&(f=qe(_)),f=new a(l,f),n.memoizedState=f.state!==null&&f.state!==void 0?f.state:null,f.updater=hf,n.stateNode=f,f._reactInternals=n,f=n.stateNode,f.props=l,f.state=n.memoizedState,f.refs={},kh(n),_=a.contextType,f.context=typeof _=="object"&&_!==null?qe(_):rs,f.state=n.memoizedState,_=a.getDerivedStateFromProps,typeof _=="function"&&(cf(n,a,_,l),f.state=n.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof f.getSnapshotBeforeUpdate=="function"||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(_=f.state,typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount(),_!==f.state&&hf.enqueueReplaceState(f,f.state,null),Vl(n,l,f,h),Il(),f.state=n.memoizedState),typeof f.componentDidMount=="function"&&(n.flags|=4194308),l=!0}else if(t===null){f=n.stateNode;var T=n.memoizedProps,D=xr(a,T);f.props=D;var H=f.context,K=a.contextType;_=rs,typeof K=="object"&&K!==null&&(_=qe(K));var tt=a.getDerivedStateFromProps;K=typeof tt=="function"||typeof f.getSnapshotBeforeUpdate=="function",T=n.pendingProps!==T,K||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(T||H!==_)&&Eg(n,f,l,_),ya=!1;var F=n.memoizedState;f.state=F,Vl(n,l,f,h),Il(),H=n.memoizedState,T||F!==H||ya?(typeof tt=="function"&&(cf(n,a,tt,l),H=n.memoizedState),(D=ya||bg(n,a,D,l,F,H,_))?(K||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount()),typeof f.componentDidMount=="function"&&(n.flags|=4194308)):(typeof f.componentDidMount=="function"&&(n.flags|=4194308),n.memoizedProps=l,n.memoizedState=H),f.props=l,f.state=H,f.context=_,l=D):(typeof f.componentDidMount=="function"&&(n.flags|=4194308),l=!1)}else{f=n.stateNode,Ph(t,n),_=n.memoizedProps,K=xr(a,_),f.props=K,tt=n.pendingProps,F=f.context,H=a.contextType,D=rs,typeof H=="object"&&H!==null&&(D=qe(H)),T=a.getDerivedStateFromProps,(H=typeof T=="function"||typeof f.getSnapshotBeforeUpdate=="function")||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(_!==tt||F!==D)&&Eg(n,f,l,D),ya=!1,F=n.memoizedState,f.state=F,Vl(n,l,f,h),Il();var Q=n.memoizedState;_!==tt||F!==Q||ya||t!==null&&t.dependencies!==null&&gu(t.dependencies)?(typeof T=="function"&&(cf(n,a,T,l),Q=n.memoizedState),(K=ya||bg(n,a,K,l,F,Q,D)||t!==null&&t.dependencies!==null&&gu(t.dependencies))?(H||typeof f.UNSAFE_componentWillUpdate!="function"&&typeof f.componentWillUpdate!="function"||(typeof f.componentWillUpdate=="function"&&f.componentWillUpdate(l,Q,D),typeof f.UNSAFE_componentWillUpdate=="function"&&f.UNSAFE_componentWillUpdate(l,Q,D)),typeof f.componentDidUpdate=="function"&&(n.flags|=4),typeof f.getSnapshotBeforeUpdate=="function"&&(n.flags|=1024)):(typeof f.componentDidUpdate!="function"||_===t.memoizedProps&&F===t.memoizedState||(n.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||_===t.memoizedProps&&F===t.memoizedState||(n.flags|=1024),n.memoizedProps=l,n.memoizedState=Q),f.props=l,f.state=Q,f.context=D,l=K):(typeof f.componentDidUpdate!="function"||_===t.memoizedProps&&F===t.memoizedState||(n.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||_===t.memoizedProps&&F===t.memoizedState||(n.flags|=1024),l=!1)}return f=l,Ou(t,n),l=(n.flags&128)!==0,f||l?(f=n.stateNode,a=l&&typeof a.getDerivedStateFromError!="function"?null:f.render(),n.flags|=1,t!==null&&l?(n.child=Er(n,t.child,null,h),n.child=Er(n,null,a,h)):He(t,n,a,h),n.memoizedState=f.state,t=n.child):t=Pi(t,n,h),t}function zg(t,n,a,l){return pr(),n.flags|=256,He(t,n,a,l),n.child}var pf={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function gf(t){return{baseLanes:t,cachePool:Ap()}}function yf(t,n,a){return t=t!==null?t.childLanes&~a:0,n&&(t|=_n),t}function Ug(t,n,a){var l=n.pendingProps,h=!1,f=(n.flags&128)!==0,_;if((_=f)||(_=t!==null&&t.memoizedState===null?!1:(ge.current&2)!==0),_&&(h=!0,n.flags&=-129),_=(n.flags&32)!==0,n.flags&=-33,t===null){if(Lt){if(h?ba(n):Ea(),(t=ae)?(t=Gy(t,Vn),t=t!==null&&t.data!=="&"?t:null,t!==null&&(n.memoizedState={dehydrated:t,treeContext:da!==null?{id:yi,overflow:vi}:null,retryLane:536870912,hydrationErrors:null},a=gp(t),a.return=n,n.child=a,Be=n,ae=null)):t=null,t===null)throw pa(n);return Wf(t)?n.lanes=32:n.lanes=536870912,null}var T=l.children;return l=l.fallback,h?(Ea(),h=n.mode,T=zu({mode:"hidden",children:T},h),l=mr(l,h,a,null),T.return=n,l.return=n,T.sibling=l,n.child=T,l=n.child,l.memoizedState=gf(a),l.childLanes=yf(t,_,a),n.memoizedState=pf,Ul(null,l)):(ba(n),vf(n,T))}var D=t.memoizedState;if(D!==null&&(T=D.dehydrated,T!==null)){if(f)n.flags&256?(ba(n),n.flags&=-257,n=_f(t,n,a)):n.memoizedState!==null?(Ea(),n.child=t.child,n.flags|=128,n=null):(Ea(),T=l.fallback,h=n.mode,l=zu({mode:"visible",children:l.children},h),T=mr(T,h,a,null),T.flags|=2,l.return=n,T.return=n,l.sibling=T,n.child=l,Er(n,t.child,null,a),l=n.child,l.memoizedState=gf(a),l.childLanes=yf(t,_,a),n.memoizedState=pf,n=Ul(null,l));else if(ba(n),Wf(T)){if(_=T.nextSibling&&T.nextSibling.dataset,_)var H=_.dgst;_=H,l=Error(s(419)),l.stack="",l.digest=_,Al({value:l,source:null,stack:null}),n=_f(t,n,a)}else if(Re||us(t,n,a,!1),_=(a&t.childLanes)!==0,Re||_){if(_=ee,_!==null&&(l=al(_,a),l!==0&&l!==D.retryLane))throw D.retryLane=l,dr(t,l),on(_,t,l),df;Jf(T)||Gu(),n=_f(t,n,a)}else Jf(T)?(n.flags|=192,n.child=t.child,n=null):(t=D.treeContext,ae=Mn(T.nextSibling),Be=n,Lt=!0,ma=null,Vn=!1,t!==null&&_p(n,t),n=vf(n,l.children),n.flags|=4096);return n}return h?(Ea(),T=l.fallback,h=n.mode,D=t.child,H=D.sibling,l=Mi(D,{mode:"hidden",children:l.children}),l.subtreeFlags=D.subtreeFlags&65011712,H!==null?T=Mi(H,T):(T=mr(T,h,a,null),T.flags|=2),T.return=n,l.return=n,l.sibling=T,n.child=l,Ul(null,l),l=n.child,T=t.child.memoizedState,T===null?T=gf(a):(h=T.cachePool,h!==null?(D=Ae._currentValue,h=h.parent!==D?{parent:D,pool:D}:h):h=Ap(),T={baseLanes:T.baseLanes|a,cachePool:h}),l.memoizedState=T,l.childLanes=yf(t,_,a),n.memoizedState=pf,Ul(t.child,l)):(ba(n),a=t.child,t=a.sibling,a=Mi(a,{mode:"visible",children:l.children}),a.return=n,a.sibling=null,t!==null&&(_=n.deletions,_===null?(n.deletions=[t],n.flags|=16):_.push(t)),n.child=a,n.memoizedState=null,a)}function vf(t,n){return n=zu({mode:"visible",children:n},t.mode),n.return=t,t.child=n}function zu(t,n){return t=pn(22,t,null,n),t.lanes=0,t}function _f(t,n,a){return Er(n,t.child,null,a),t=vf(n,n.pendingProps.children),t.flags|=2,n.memoizedState=null,t}function Lg(t,n,a){t.lanes|=n;var l=t.alternate;l!==null&&(l.lanes|=n),jh(t.return,n,a)}function bf(t,n,a,l,h,f){var _=t.memoizedState;_===null?t.memoizedState={isBackwards:n,rendering:null,renderingStartTime:0,last:l,tail:a,tailMode:h,treeForkCount:f}:(_.isBackwards=n,_.rendering=null,_.renderingStartTime=0,_.last=l,_.tail=a,_.tailMode=h,_.treeForkCount=f)}function kg(t,n,a){var l=n.pendingProps,h=l.revealOrder,f=l.tail;l=l.children;var _=ge.current,T=(_&2)!==0;if(T?(_=_&1|2,n.flags|=128):_&=1,lt(ge,_),He(t,n,l,a),l=Lt?Sl:0,!T&&t!==null&&(t.flags&128)!==0)t:for(t=n.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&Lg(t,a,n);else if(t.tag===19)Lg(t,a,n);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===n)break t;for(;t.sibling===null;){if(t.return===null||t.return===n)break t;t=t.return}t.sibling.return=t.return,t=t.sibling}switch(h){case"forwards":for(a=n.child,h=null;a!==null;)t=a.alternate,t!==null&&Su(t)===null&&(h=a),a=a.sibling;a=h,a===null?(h=n.child,n.child=null):(h=a.sibling,a.sibling=null),bf(n,!1,h,a,f,l);break;case"backwards":case"unstable_legacy-backwards":for(a=null,h=n.child,n.child=null;h!==null;){if(t=h.alternate,t!==null&&Su(t)===null){n.child=h;break}t=h.sibling,h.sibling=a,a=h,h=t}bf(n,!0,a,null,f,l);break;case"together":bf(n,!1,null,null,void 0,l);break;default:n.memoizedState=null}return n.child}function Pi(t,n,a){if(t!==null&&(n.dependencies=t.dependencies),Sa|=n.lanes,(a&n.childLanes)===0)if(t!==null){if(us(t,n,a,!1),(a&n.childLanes)===0)return null}else return null;if(t!==null&&n.child!==t.child)throw Error(s(153));if(n.child!==null){for(t=n.child,a=Mi(t,t.pendingProps),n.child=a,a.return=n;t.sibling!==null;)t=t.sibling,a=a.sibling=Mi(t,t.pendingProps),a.return=n;a.sibling=null}return n.child}function Ef(t,n){return(t.lanes&n)!==0?!0:(t=t.dependencies,!!(t!==null&&gu(t)))}function jb(t,n,a){switch(n.tag){case 3:ie(n,n.stateNode.containerInfo),ga(n,Ae,t.memoizedState.cache),pr();break;case 27:case 5:Xa(n);break;case 4:ie(n,n.stateNode.containerInfo);break;case 10:ga(n,n.type,n.memoizedProps.value);break;case 31:if(n.memoizedState!==null)return n.flags|=128,Gh(n),null;break;case 13:var l=n.memoizedState;if(l!==null)return l.dehydrated!==null?(ba(n),n.flags|=128,null):(a&n.child.childLanes)!==0?Ug(t,n,a):(ba(n),t=Pi(t,n,a),t!==null?t.sibling:null);ba(n);break;case 19:var h=(t.flags&128)!==0;if(l=(a&n.childLanes)!==0,l||(us(t,n,a,!1),l=(a&n.childLanes)!==0),h){if(l)return kg(t,n,a);n.flags|=128}if(h=n.memoizedState,h!==null&&(h.rendering=null,h.tail=null,h.lastEffect=null),lt(ge,ge.current),l)break;return null;case 22:return n.lanes=0,Ig(t,n,a,n.pendingProps);case 24:ga(n,Ae,t.memoizedState.cache)}return Pi(t,n,a)}function Pg(t,n,a){if(t!==null)if(t.memoizedProps!==n.pendingProps)Re=!0;else{if(!Ef(t,a)&&(n.flags&128)===0)return Re=!1,jb(t,n,a);Re=(t.flags&131072)!==0}else Re=!1,Lt&&(n.flags&1048576)!==0&&vp(n,Sl,n.index);switch(n.lanes=0,n.tag){case 16:t:{var l=n.pendingProps;if(t=_r(n.elementType),n.type=t,typeof t=="function")Ah(t)?(l=xr(t,l),n.tag=1,n=Og(null,n,t,l,a)):(n.tag=0,n=mf(null,n,t,l,a));else{if(t!=null){var h=t.$$typeof;if(h===_t){n.tag=11,n=Cg(null,n,t,l,a);break t}else if(h===w){n.tag=14,n=Ng(null,n,t,l,a);break t}}throw n=Yt(t)||t,Error(s(306,n,""))}}return n;case 0:return mf(t,n,n.type,n.pendingProps,a);case 1:return l=n.type,h=xr(l,n.pendingProps),Og(t,n,l,h,a);case 3:t:{if(ie(n,n.stateNode.containerInfo),t===null)throw Error(s(387));l=n.pendingProps;var f=n.memoizedState;h=f.element,Ph(t,n),Vl(n,l,null,a);var _=n.memoizedState;if(l=_.cache,ga(n,Ae,l),l!==f.cache&&Mh(n,[Ae],a,!0),Il(),l=_.element,f.isDehydrated)if(f={element:l,isDehydrated:!1,cache:_.cache},n.updateQueue.baseState=f,n.memoizedState=f,n.flags&256){n=zg(t,n,l,a);break t}else if(l!==h){h=Nn(Error(s(424)),n),Al(h),n=zg(t,n,l,a);break t}else{switch(t=n.stateNode.containerInfo,t.nodeType){case 9:t=t.body;break;default:t=t.nodeName==="HTML"?t.ownerDocument.body:t}for(ae=Mn(t.firstChild),Be=n,Lt=!0,ma=null,Vn=!0,a=Ip(n,null,l,a),n.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling}else{if(pr(),l===h){n=Pi(t,n,a);break t}He(t,n,l,a)}n=n.child}return n;case 26:return Ou(t,n),t===null?(a=Zy(n.type,null,n.pendingProps,null))?n.memoizedState=a:Lt||(a=n.type,t=n.pendingProps,l=Ju(gt.current).createElement(a),l[Te]=n,l[Oe]=t,Fe(l,a,t),xe(l),n.stateNode=l):n.memoizedState=Zy(n.type,t.memoizedProps,n.pendingProps,t.memoizedState),null;case 27:return Xa(n),t===null&&Lt&&(l=n.stateNode=Ky(n.type,n.pendingProps,gt.current),Be=n,Vn=!0,h=ae,Na(n.type)?(td=h,ae=Mn(l.firstChild)):ae=h),He(t,n,n.pendingProps.children,a),Ou(t,n),t===null&&(n.flags|=4194304),n.child;case 5:return t===null&&Lt&&((h=l=ae)&&(l=uE(l,n.type,n.pendingProps,Vn),l!==null?(n.stateNode=l,Be=n,ae=Mn(l.firstChild),Vn=!1,h=!0):h=!1),h||pa(n)),Xa(n),h=n.type,f=n.pendingProps,_=t!==null?t.memoizedProps:null,l=f.children,Xf(h,f)?l=null:_!==null&&Xf(h,_)&&(n.flags|=32),n.memoizedState!==null&&(h=Yh(t,n,Sb,null,null,a),Jl._currentValue=h),Ou(t,n),He(t,n,l,a),n.child;case 6:return t===null&&Lt&&((t=a=ae)&&(a=cE(a,n.pendingProps,Vn),a!==null?(n.stateNode=a,Be=n,ae=null,t=!0):t=!1),t||pa(n)),null;case 13:return Ug(t,n,a);case 4:return ie(n,n.stateNode.containerInfo),l=n.pendingProps,t===null?n.child=Er(n,null,l,a):He(t,n,l,a),n.child;case 11:return Cg(t,n,n.type,n.pendingProps,a);case 7:return He(t,n,n.pendingProps,a),n.child;case 8:return He(t,n,n.pendingProps.children,a),n.child;case 12:return He(t,n,n.pendingProps.children,a),n.child;case 10:return l=n.pendingProps,ga(n,n.type,l.value),He(t,n,l.children,a),n.child;case 9:return h=n.type._context,l=n.pendingProps.children,yr(n),h=qe(h),l=l(h),n.flags|=1,He(t,n,l,a),n.child;case 14:return Ng(t,n,n.type,n.pendingProps,a);case 15:return Dg(t,n,n.type,n.pendingProps,a);case 19:return kg(t,n,a);case 31:return Vb(t,n,a);case 22:return Ig(t,n,a,n.pendingProps);case 24:return yr(n),l=qe(Ae),t===null?(h=Uh(),h===null&&(h=ee,f=Oh(),h.pooledCache=f,f.refCount++,f!==null&&(h.pooledCacheLanes|=a),h=f),n.memoizedState={parent:l,cache:h},kh(n),ga(n,Ae,h)):((t.lanes&a)!==0&&(Ph(t,n),Vl(n,null,null,a),Il()),h=t.memoizedState,f=n.memoizedState,h.parent!==l?(h={parent:l,cache:l},n.memoizedState=h,n.lanes===0&&(n.memoizedState=n.updateQueue.baseState=h),ga(n,Ae,l)):(l=f.cache,ga(n,Ae,l),l!==h.cache&&Mh(n,[Ae],a,!0))),He(t,n,n.pendingProps.children,a),n.child;case 29:throw n.pendingProps}throw Error(s(156,n.tag))}function Bi(t){t.flags|=4}function Tf(t,n,a,l,h){if((n=(t.mode&32)!==0)&&(n=!1),n){if(t.flags|=16777216,(h&335544128)===h)if(t.stateNode.complete)t.flags|=8192;else if(dy())t.flags|=8192;else throw br=bu,Lh}else t.flags&=-16777217}function Bg(t,n){if(n.type!=="stylesheet"||(n.state.loading&4)!==0)t.flags&=-16777217;else if(t.flags|=16777216,!n0(n))if(dy())t.flags|=8192;else throw br=bu,Lh}function Uu(t,n){n!==null&&(t.flags|=4),t.flags&16384&&(n=t.tag!==22?Ho():536870912,t.lanes|=n,Es|=n)}function Ll(t,n){if(!Lt)switch(t.tailMode){case"hidden":n=t.tail;for(var a=null;n!==null;)n.alternate!==null&&(a=n),n=n.sibling;a===null?t.tail=null:a.sibling=null;break;case"collapsed":a=t.tail;for(var l=null;a!==null;)a.alternate!==null&&(l=a),a=a.sibling;l===null?n||t.tail===null?t.tail=null:t.tail.sibling=null:l.sibling=null}}function re(t){var n=t.alternate!==null&&t.alternate.child===t.child,a=0,l=0;if(n)for(var h=t.child;h!==null;)a|=h.lanes|h.childLanes,l|=h.subtreeFlags&65011712,l|=h.flags&65011712,h.return=t,h=h.sibling;else for(h=t.child;h!==null;)a|=h.lanes|h.childLanes,l|=h.subtreeFlags,l|=h.flags,h.return=t,h=h.sibling;return t.subtreeFlags|=l,t.childLanes=a,n}function Mb(t,n,a){var l=n.pendingProps;switch(Nh(n),n.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return re(n),null;case 1:return re(n),null;case 3:return a=n.stateNode,l=null,t!==null&&(l=t.memoizedState.cache),n.memoizedState.cache!==l&&(n.flags|=2048),Ui(Ae),le(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(t===null||t.child===null)&&(os(n)?Bi(n):t===null||t.memoizedState.isDehydrated&&(n.flags&256)===0||(n.flags|=1024,Ih())),re(n),null;case 26:var h=n.type,f=n.memoizedState;return t===null?(Bi(n),f!==null?(re(n),Bg(n,f)):(re(n),Tf(n,h,null,l,a))):f?f!==t.memoizedState?(Bi(n),re(n),Bg(n,f)):(re(n),n.flags&=-16777217):(t=t.memoizedProps,t!==l&&Bi(n),re(n),Tf(n,h,t,l,a)),null;case 27:if(Pr(n),a=gt.current,h=n.type,t!==null&&n.stateNode!=null)t.memoizedProps!==l&&Bi(n);else{if(!l){if(n.stateNode===null)throw Error(s(166));return re(n),null}t=ct.current,os(n)?bp(n):(t=Ky(h,l,a),n.stateNode=t,Bi(n))}return re(n),null;case 5:if(Pr(n),h=n.type,t!==null&&n.stateNode!=null)t.memoizedProps!==l&&Bi(n);else{if(!l){if(n.stateNode===null)throw Error(s(166));return re(n),null}if(f=ct.current,os(n))bp(n);else{var _=Ju(gt.current);switch(f){case 1:f=_.createElementNS("http://www.w3.org/2000/svg",h);break;case 2:f=_.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;default:switch(h){case"svg":f=_.createElementNS("http://www.w3.org/2000/svg",h);break;case"math":f=_.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;case"script":f=_.createElement("div"),f.innerHTML="<script><\/script>",f=f.removeChild(f.firstChild);break;case"select":f=typeof l.is=="string"?_.createElement("select",{is:l.is}):_.createElement("select"),l.multiple?f.multiple=!0:l.size&&(f.size=l.size);break;default:f=typeof l.is=="string"?_.createElement(h,{is:l.is}):_.createElement(h)}}f[Te]=n,f[Oe]=l;t:for(_=n.child;_!==null;){if(_.tag===5||_.tag===6)f.appendChild(_.stateNode);else if(_.tag!==4&&_.tag!==27&&_.child!==null){_.child.return=_,_=_.child;continue}if(_===n)break t;for(;_.sibling===null;){if(_.return===null||_.return===n)break t;_=_.return}_.sibling.return=_.return,_=_.sibling}n.stateNode=f;t:switch(Fe(f,h,l),h){case"button":case"input":case"select":case"textarea":l=!!l.autoFocus;break t;case"img":l=!0;break t;default:l=!1}l&&Bi(n)}}return re(n),Tf(n,n.type,t===null?null:t.memoizedProps,n.pendingProps,a),null;case 6:if(t&&n.stateNode!=null)t.memoizedProps!==l&&Bi(n);else{if(typeof l!="string"&&n.stateNode===null)throw Error(s(166));if(t=gt.current,os(n)){if(t=n.stateNode,a=n.memoizedProps,l=null,h=Be,h!==null)switch(h.tag){case 27:case 5:l=h.memoizedProps}t[Te]=n,t=!!(t.nodeValue===a||l!==null&&l.suppressHydrationWarning===!0||Uy(t.nodeValue,a)),t||pa(n,!0)}else t=Ju(t).createTextNode(l),t[Te]=n,n.stateNode=t}return re(n),null;case 31:if(a=n.memoizedState,t===null||t.memoizedState!==null){if(l=os(n),a!==null){if(t===null){if(!l)throw Error(s(318));if(t=n.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(s(557));t[Te]=n}else pr(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;re(n),t=!1}else a=Ih(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=a),t=!0;if(!t)return n.flags&256?(yn(n),n):(yn(n),null);if((n.flags&128)!==0)throw Error(s(558))}return re(n),null;case 13:if(l=n.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(h=os(n),l!==null&&l.dehydrated!==null){if(t===null){if(!h)throw Error(s(318));if(h=n.memoizedState,h=h!==null?h.dehydrated:null,!h)throw Error(s(317));h[Te]=n}else pr(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;re(n),h=!1}else h=Ih(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=h),h=!0;if(!h)return n.flags&256?(yn(n),n):(yn(n),null)}return yn(n),(n.flags&128)!==0?(n.lanes=a,n):(a=l!==null,t=t!==null&&t.memoizedState!==null,a&&(l=n.child,h=null,l.alternate!==null&&l.alternate.memoizedState!==null&&l.alternate.memoizedState.cachePool!==null&&(h=l.alternate.memoizedState.cachePool.pool),f=null,l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(f=l.memoizedState.cachePool.pool),f!==h&&(l.flags|=2048)),a!==t&&a&&(n.child.flags|=8192),Uu(n,n.updateQueue),re(n),null);case 4:return le(),t===null&&Ff(n.stateNode.containerInfo),re(n),null;case 10:return Ui(n.type),re(n),null;case 19:if(W(ge),l=n.memoizedState,l===null)return re(n),null;if(h=(n.flags&128)!==0,f=l.rendering,f===null)if(h)Ll(l,!1);else{if(de!==0||t!==null&&(t.flags&128)!==0)for(t=n.child;t!==null;){if(f=Su(t),f!==null){for(n.flags|=128,Ll(l,!1),t=f.updateQueue,n.updateQueue=t,Uu(n,t),n.subtreeFlags=0,t=a,a=n.child;a!==null;)pp(a,t),a=a.sibling;return lt(ge,ge.current&1|2),Lt&&Oi(n,l.treeForkCount),n.child}t=t.sibling}l.tail!==null&&Je()>qu&&(n.flags|=128,h=!0,Ll(l,!1),n.lanes=4194304)}else{if(!h)if(t=Su(f),t!==null){if(n.flags|=128,h=!0,t=t.updateQueue,n.updateQueue=t,Uu(n,t),Ll(l,!0),l.tail===null&&l.tailMode==="hidden"&&!f.alternate&&!Lt)return re(n),null}else 2*Je()-l.renderingStartTime>qu&&a!==536870912&&(n.flags|=128,h=!0,Ll(l,!1),n.lanes=4194304);l.isBackwards?(f.sibling=n.child,n.child=f):(t=l.last,t!==null?t.sibling=f:n.child=f,l.last=f)}return l.tail!==null?(t=l.tail,l.rendering=t,l.tail=t.sibling,l.renderingStartTime=Je(),t.sibling=null,a=ge.current,lt(ge,h?a&1|2:a&1),Lt&&Oi(n,l.treeForkCount),t):(re(n),null);case 22:case 23:return yn(n),Fh(),l=n.memoizedState!==null,t!==null?t.memoizedState!==null!==l&&(n.flags|=8192):l&&(n.flags|=8192),l?(a&536870912)!==0&&(n.flags&128)===0&&(re(n),n.subtreeFlags&6&&(n.flags|=8192)):re(n),a=n.updateQueue,a!==null&&Uu(n,a.retryQueue),a=null,t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(a=t.memoizedState.cachePool.pool),l=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(l=n.memoizedState.cachePool.pool),l!==a&&(n.flags|=2048),t!==null&&W(vr),null;case 24:return a=null,t!==null&&(a=t.memoizedState.cache),n.memoizedState.cache!==a&&(n.flags|=2048),Ui(Ae),re(n),null;case 25:return null;case 30:return null}throw Error(s(156,n.tag))}function Ob(t,n){switch(Nh(n),n.tag){case 1:return t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 3:return Ui(Ae),le(),t=n.flags,(t&65536)!==0&&(t&128)===0?(n.flags=t&-65537|128,n):null;case 26:case 27:case 5:return Pr(n),null;case 31:if(n.memoizedState!==null){if(yn(n),n.alternate===null)throw Error(s(340));pr()}return t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 13:if(yn(n),t=n.memoizedState,t!==null&&t.dehydrated!==null){if(n.alternate===null)throw Error(s(340));pr()}return t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 19:return W(ge),null;case 4:return le(),null;case 10:return Ui(n.type),null;case 22:case 23:return yn(n),Fh(),t!==null&&W(vr),t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 24:return Ui(Ae),null;case 25:return null;default:return null}}function qg(t,n){switch(Nh(n),n.tag){case 3:Ui(Ae),le();break;case 26:case 27:case 5:Pr(n);break;case 4:le();break;case 31:n.memoizedState!==null&&yn(n);break;case 13:yn(n);break;case 19:W(ge);break;case 10:Ui(n.type);break;case 22:case 23:yn(n),Fh(),t!==null&&W(vr);break;case 24:Ui(Ae)}}function kl(t,n){try{var a=n.updateQueue,l=a!==null?a.lastEffect:null;if(l!==null){var h=l.next;a=h;do{if((a.tag&t)===t){l=void 0;var f=a.create,_=a.inst;l=f(),_.destroy=l}a=a.next}while(a!==h)}}catch(T){$t(n,n.return,T)}}function Ta(t,n,a){try{var l=n.updateQueue,h=l!==null?l.lastEffect:null;if(h!==null){var f=h.next;l=f;do{if((l.tag&t)===t){var _=l.inst,T=_.destroy;if(T!==void 0){_.destroy=void 0,h=n;var D=a,H=T;try{H()}catch(K){$t(h,D,K)}}}l=l.next}while(l!==f)}}catch(K){$t(n,n.return,K)}}function Hg(t){var n=t.updateQueue;if(n!==null){var a=t.stateNode;try{jp(n,a)}catch(l){$t(t,t.return,l)}}}function Fg(t,n,a){a.props=xr(t.type,t.memoizedProps),a.state=t.memoizedState;try{a.componentWillUnmount()}catch(l){$t(t,n,l)}}function Pl(t,n){try{var a=t.ref;if(a!==null){switch(t.tag){case 26:case 27:case 5:var l=t.stateNode;break;case 30:l=t.stateNode;break;default:l=t.stateNode}typeof a=="function"?t.refCleanup=a(l):a.current=l}}catch(h){$t(t,n,h)}}function _i(t,n){var a=t.ref,l=t.refCleanup;if(a!==null)if(typeof l=="function")try{l()}catch(h){$t(t,n,h)}finally{t.refCleanup=null,t=t.alternate,t!=null&&(t.refCleanup=null)}else if(typeof a=="function")try{a(null)}catch(h){$t(t,n,h)}else a.current=null}function Gg(t){var n=t.type,a=t.memoizedProps,l=t.stateNode;try{t:switch(n){case"button":case"input":case"select":case"textarea":a.autoFocus&&l.focus();break t;case"img":a.src?l.src=a.src:a.srcSet&&(l.srcset=a.srcSet)}}catch(h){$t(t,t.return,h)}}function xf(t,n,a){try{var l=t.stateNode;iE(l,t.type,a,n),l[Oe]=n}catch(h){$t(t,t.return,h)}}function Qg(t){return t.tag===5||t.tag===3||t.tag===26||t.tag===27&&Na(t.type)||t.tag===4}function Sf(t){t:for(;;){for(;t.sibling===null;){if(t.return===null||Qg(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.tag===27&&Na(t.type)||t.flags&2||t.child===null||t.tag===4)continue t;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Af(t,n,a){var l=t.tag;if(l===5||l===6)t=t.stateNode,n?(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a).insertBefore(t,n):(n=a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,n.appendChild(t),a=a._reactRootContainer,a!=null||n.onclick!==null||(n.onclick=Fn));else if(l!==4&&(l===27&&Na(t.type)&&(a=t.stateNode,n=null),t=t.child,t!==null))for(Af(t,n,a),t=t.sibling;t!==null;)Af(t,n,a),t=t.sibling}function Lu(t,n,a){var l=t.tag;if(l===5||l===6)t=t.stateNode,n?a.insertBefore(t,n):a.appendChild(t);else if(l!==4&&(l===27&&Na(t.type)&&(a=t.stateNode),t=t.child,t!==null))for(Lu(t,n,a),t=t.sibling;t!==null;)Lu(t,n,a),t=t.sibling}function Yg(t){var n=t.stateNode,a=t.memoizedProps;try{for(var l=t.type,h=n.attributes;h.length;)n.removeAttributeNode(h[0]);Fe(n,l,a),n[Te]=t,n[Oe]=a}catch(f){$t(t,t.return,f)}}var qi=!1,Ce=!1,wf=!1,Kg=typeof WeakSet=="function"?WeakSet:Set,Ue=null;function zb(t,n){if(t=t.containerInfo,Yf=rc,t=sp(t),vh(t)){if("selectionStart"in t)var a={start:t.selectionStart,end:t.selectionEnd};else t:{a=(a=t.ownerDocument)&&a.defaultView||window;var l=a.getSelection&&a.getSelection();if(l&&l.rangeCount!==0){a=l.anchorNode;var h=l.anchorOffset,f=l.focusNode;l=l.focusOffset;try{a.nodeType,f.nodeType}catch{a=null;break t}var _=0,T=-1,D=-1,H=0,K=0,tt=t,F=null;e:for(;;){for(var Q;tt!==a||h!==0&&tt.nodeType!==3||(T=_+h),tt!==f||l!==0&&tt.nodeType!==3||(D=_+l),tt.nodeType===3&&(_+=tt.nodeValue.length),(Q=tt.firstChild)!==null;)F=tt,tt=Q;for(;;){if(tt===t)break e;if(F===a&&++H===h&&(T=_),F===f&&++K===l&&(D=_),(Q=tt.nextSibling)!==null)break;tt=F,F=tt.parentNode}tt=Q}a=T===-1||D===-1?null:{start:T,end:D}}else a=null}a=a||{start:0,end:0}}else a=null;for(Kf={focusedElem:t,selectionRange:a},rc=!1,Ue=n;Ue!==null;)if(n=Ue,t=n.child,(n.subtreeFlags&1028)!==0&&t!==null)t.return=n,Ue=t;else for(;Ue!==null;){switch(n=Ue,f=n.alternate,t=n.flags,n.tag){case 0:if((t&4)!==0&&(t=n.updateQueue,t=t!==null?t.events:null,t!==null))for(a=0;a<t.length;a++)h=t[a],h.ref.impl=h.nextImpl;break;case 11:case 15:break;case 1:if((t&1024)!==0&&f!==null){t=void 0,a=n,h=f.memoizedProps,f=f.memoizedState,l=a.stateNode;try{var dt=xr(a.type,h);t=l.getSnapshotBeforeUpdate(dt,f),l.__reactInternalSnapshotBeforeUpdate=t}catch(Et){$t(a,a.return,Et)}}break;case 3:if((t&1024)!==0){if(t=n.stateNode.containerInfo,a=t.nodeType,a===9)Zf(t);else if(a===1)switch(t.nodeName){case"HEAD":case"HTML":case"BODY":Zf(t);break;default:t.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((t&1024)!==0)throw Error(s(163))}if(t=n.sibling,t!==null){t.return=n.return,Ue=t;break}Ue=n.return}}function Xg(t,n,a){var l=a.flags;switch(a.tag){case 0:case 11:case 15:Fi(t,a),l&4&&kl(5,a);break;case 1:if(Fi(t,a),l&4)if(t=a.stateNode,n===null)try{t.componentDidMount()}catch(_){$t(a,a.return,_)}else{var h=xr(a.type,n.memoizedProps);n=n.memoizedState;try{t.componentDidUpdate(h,n,t.__reactInternalSnapshotBeforeUpdate)}catch(_){$t(a,a.return,_)}}l&64&&Hg(a),l&512&&Pl(a,a.return);break;case 3:if(Fi(t,a),l&64&&(t=a.updateQueue,t!==null)){if(n=null,a.child!==null)switch(a.child.tag){case 27:case 5:n=a.child.stateNode;break;case 1:n=a.child.stateNode}try{jp(t,n)}catch(_){$t(a,a.return,_)}}break;case 27:n===null&&l&4&&Yg(a);case 26:case 5:Fi(t,a),n===null&&l&4&&Gg(a),l&512&&Pl(a,a.return);break;case 12:Fi(t,a);break;case 31:Fi(t,a),l&4&&Jg(t,a);break;case 13:Fi(t,a),l&4&&Wg(t,a),l&64&&(t=a.memoizedState,t!==null&&(t=t.dehydrated,t!==null&&(a=Gb.bind(null,a),hE(t,a))));break;case 22:if(l=a.memoizedState!==null||qi,!l){n=n!==null&&n.memoizedState!==null||Ce,h=qi;var f=Ce;qi=l,(Ce=n)&&!f?Gi(t,a,(a.subtreeFlags&8772)!==0):Fi(t,a),qi=h,Ce=f}break;case 30:break;default:Fi(t,a)}}function $g(t){var n=t.alternate;n!==null&&(t.alternate=null,$g(n)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(n=t.stateNode,n!==null&&Gr(n)),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}var ue=null,an=!1;function Hi(t,n,a){for(a=a.child;a!==null;)Zg(t,n,a),a=a.sibling}function Zg(t,n,a){if(ke&&typeof ke.onCommitFiberUnmount=="function")try{ke.onCommitFiberUnmount(Pn,a)}catch{}switch(a.tag){case 26:Ce||_i(a,n),Hi(t,n,a),a.memoizedState?a.memoizedState.count--:a.stateNode&&(a=a.stateNode,a.parentNode.removeChild(a));break;case 27:Ce||_i(a,n);var l=ue,h=an;Na(a.type)&&(ue=a.stateNode,an=!1),Hi(t,n,a),Xl(a.stateNode),ue=l,an=h;break;case 5:Ce||_i(a,n);case 6:if(l=ue,h=an,ue=null,Hi(t,n,a),ue=l,an=h,ue!==null)if(an)try{(ue.nodeType===9?ue.body:ue.nodeName==="HTML"?ue.ownerDocument.body:ue).removeChild(a.stateNode)}catch(f){$t(a,n,f)}else try{ue.removeChild(a.stateNode)}catch(f){$t(a,n,f)}break;case 18:ue!==null&&(an?(t=ue,Hy(t.nodeType===9?t.body:t.nodeName==="HTML"?t.ownerDocument.body:t,a.stateNode),Ns(t)):Hy(ue,a.stateNode));break;case 4:l=ue,h=an,ue=a.stateNode.containerInfo,an=!0,Hi(t,n,a),ue=l,an=h;break;case 0:case 11:case 14:case 15:Ta(2,a,n),Ce||Ta(4,a,n),Hi(t,n,a);break;case 1:Ce||(_i(a,n),l=a.stateNode,typeof l.componentWillUnmount=="function"&&Fg(a,n,l)),Hi(t,n,a);break;case 21:Hi(t,n,a);break;case 22:Ce=(l=Ce)||a.memoizedState!==null,Hi(t,n,a),Ce=l;break;default:Hi(t,n,a)}}function Jg(t,n){if(n.memoizedState===null&&(t=n.alternate,t!==null&&(t=t.memoizedState,t!==null))){t=t.dehydrated;try{Ns(t)}catch(a){$t(n,n.return,a)}}}function Wg(t,n){if(n.memoizedState===null&&(t=n.alternate,t!==null&&(t=t.memoizedState,t!==null&&(t=t.dehydrated,t!==null))))try{Ns(t)}catch(a){$t(n,n.return,a)}}function Ub(t){switch(t.tag){case 31:case 13:case 19:var n=t.stateNode;return n===null&&(n=t.stateNode=new Kg),n;case 22:return t=t.stateNode,n=t._retryCache,n===null&&(n=t._retryCache=new Kg),n;default:throw Error(s(435,t.tag))}}function ku(t,n){var a=Ub(t);n.forEach(function(l){if(!a.has(l)){a.add(l);var h=Qb.bind(null,t,l);l.then(h,h)}})}function rn(t,n){var a=n.deletions;if(a!==null)for(var l=0;l<a.length;l++){var h=a[l],f=t,_=n,T=_;t:for(;T!==null;){switch(T.tag){case 27:if(Na(T.type)){ue=T.stateNode,an=!1;break t}break;case 5:ue=T.stateNode,an=!1;break t;case 3:case 4:ue=T.stateNode.containerInfo,an=!0;break t}T=T.return}if(ue===null)throw Error(s(160));Zg(f,_,h),ue=null,an=!1,f=h.alternate,f!==null&&(f.return=null),h.return=null}if(n.subtreeFlags&13886)for(n=n.child;n!==null;)ty(n,t),n=n.sibling}var $n=null;function ty(t,n){var a=t.alternate,l=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:rn(n,t),sn(t),l&4&&(Ta(3,t,t.return),kl(3,t),Ta(5,t,t.return));break;case 1:rn(n,t),sn(t),l&512&&(Ce||a===null||_i(a,a.return)),l&64&&qi&&(t=t.updateQueue,t!==null&&(l=t.callbacks,l!==null&&(a=t.shared.hiddenCallbacks,t.shared.hiddenCallbacks=a===null?l:a.concat(l))));break;case 26:var h=$n;if(rn(n,t),sn(t),l&512&&(Ce||a===null||_i(a,a.return)),l&4){var f=a!==null?a.memoizedState:null;if(l=t.memoizedState,a===null)if(l===null)if(t.stateNode===null){t:{l=t.type,a=t.memoizedProps,h=h.ownerDocument||h;e:switch(l){case"title":f=h.getElementsByTagName("title")[0],(!f||f[ri]||f[Te]||f.namespaceURI==="http://www.w3.org/2000/svg"||f.hasAttribute("itemprop"))&&(f=h.createElement(l),h.head.insertBefore(f,h.querySelector("head > title"))),Fe(f,l,a),f[Te]=t,xe(f),l=f;break t;case"link":var _=t0("link","href",h).get(l+(a.href||""));if(_){for(var T=0;T<_.length;T++)if(f=_[T],f.getAttribute("href")===(a.href==null||a.href===""?null:a.href)&&f.getAttribute("rel")===(a.rel==null?null:a.rel)&&f.getAttribute("title")===(a.title==null?null:a.title)&&f.getAttribute("crossorigin")===(a.crossOrigin==null?null:a.crossOrigin)){_.splice(T,1);break e}}f=h.createElement(l),Fe(f,l,a),h.head.appendChild(f);break;case"meta":if(_=t0("meta","content",h).get(l+(a.content||""))){for(T=0;T<_.length;T++)if(f=_[T],f.getAttribute("content")===(a.content==null?null:""+a.content)&&f.getAttribute("name")===(a.name==null?null:a.name)&&f.getAttribute("property")===(a.property==null?null:a.property)&&f.getAttribute("http-equiv")===(a.httpEquiv==null?null:a.httpEquiv)&&f.getAttribute("charset")===(a.charSet==null?null:a.charSet)){_.splice(T,1);break e}}f=h.createElement(l),Fe(f,l,a),h.head.appendChild(f);break;default:throw Error(s(468,l))}f[Te]=t,xe(f),l=f}t.stateNode=l}else e0(h,t.type,t.stateNode);else t.stateNode=Wy(h,l,t.memoizedProps);else f!==l?(f===null?a.stateNode!==null&&(a=a.stateNode,a.parentNode.removeChild(a)):f.count--,l===null?e0(h,t.type,t.stateNode):Wy(h,l,t.memoizedProps)):l===null&&t.stateNode!==null&&xf(t,t.memoizedProps,a.memoizedProps)}break;case 27:rn(n,t),sn(t),l&512&&(Ce||a===null||_i(a,a.return)),a!==null&&l&4&&xf(t,t.memoizedProps,a.memoizedProps);break;case 5:if(rn(n,t),sn(t),l&512&&(Ce||a===null||_i(a,a.return)),t.flags&32){h=t.stateNode;try{nn(h,"")}catch(dt){$t(t,t.return,dt)}}l&4&&t.stateNode!=null&&(h=t.memoizedProps,xf(t,h,a!==null?a.memoizedProps:h)),l&1024&&(wf=!0);break;case 6:if(rn(n,t),sn(t),l&4){if(t.stateNode===null)throw Error(s(162));l=t.memoizedProps,a=t.stateNode;try{a.nodeValue=l}catch(dt){$t(t,t.return,dt)}}break;case 3:if(ec=null,h=$n,$n=Wu(n.containerInfo),rn(n,t),$n=h,sn(t),l&4&&a!==null&&a.memoizedState.isDehydrated)try{Ns(n.containerInfo)}catch(dt){$t(t,t.return,dt)}wf&&(wf=!1,ey(t));break;case 4:l=$n,$n=Wu(t.stateNode.containerInfo),rn(n,t),sn(t),$n=l;break;case 12:rn(n,t),sn(t);break;case 31:rn(n,t),sn(t),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,ku(t,l)));break;case 13:rn(n,t),sn(t),t.child.flags&8192&&t.memoizedState!==null!=(a!==null&&a.memoizedState!==null)&&(Bu=Je()),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,ku(t,l)));break;case 22:h=t.memoizedState!==null;var D=a!==null&&a.memoizedState!==null,H=qi,K=Ce;if(qi=H||h,Ce=K||D,rn(n,t),Ce=K,qi=H,sn(t),l&8192)t:for(n=t.stateNode,n._visibility=h?n._visibility&-2:n._visibility|1,h&&(a===null||D||qi||Ce||Sr(t)),a=null,n=t;;){if(n.tag===5||n.tag===26){if(a===null){D=a=n;try{if(f=D.stateNode,h)_=f.style,typeof _.setProperty=="function"?_.setProperty("display","none","important"):_.display="none";else{T=D.stateNode;var tt=D.memoizedProps.style,F=tt!=null&&tt.hasOwnProperty("display")?tt.display:null;T.style.display=F==null||typeof F=="boolean"?"":(""+F).trim()}}catch(dt){$t(D,D.return,dt)}}}else if(n.tag===6){if(a===null){D=n;try{D.stateNode.nodeValue=h?"":D.memoizedProps}catch(dt){$t(D,D.return,dt)}}}else if(n.tag===18){if(a===null){D=n;try{var Q=D.stateNode;h?Fy(Q,!0):Fy(D.stateNode,!1)}catch(dt){$t(D,D.return,dt)}}}else if((n.tag!==22&&n.tag!==23||n.memoizedState===null||n===t)&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break t;for(;n.sibling===null;){if(n.return===null||n.return===t)break t;a===n&&(a=null),n=n.return}a===n&&(a=null),n.sibling.return=n.return,n=n.sibling}l&4&&(l=t.updateQueue,l!==null&&(a=l.retryQueue,a!==null&&(l.retryQueue=null,ku(t,a))));break;case 19:rn(n,t),sn(t),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,ku(t,l)));break;case 30:break;case 21:break;default:rn(n,t),sn(t)}}function sn(t){var n=t.flags;if(n&2){try{for(var a,l=t.return;l!==null;){if(Qg(l)){a=l;break}l=l.return}if(a==null)throw Error(s(160));switch(a.tag){case 27:var h=a.stateNode,f=Sf(t);Lu(t,f,h);break;case 5:var _=a.stateNode;a.flags&32&&(nn(_,""),a.flags&=-33);var T=Sf(t);Lu(t,T,_);break;case 3:case 4:var D=a.stateNode.containerInfo,H=Sf(t);Af(t,H,D);break;default:throw Error(s(161))}}catch(K){$t(t,t.return,K)}t.flags&=-3}n&4096&&(t.flags&=-4097)}function ey(t){if(t.subtreeFlags&1024)for(t=t.child;t!==null;){var n=t;ey(n),n.tag===5&&n.flags&1024&&n.stateNode.reset(),t=t.sibling}}function Fi(t,n){if(n.subtreeFlags&8772)for(n=n.child;n!==null;)Xg(t,n.alternate,n),n=n.sibling}function Sr(t){for(t=t.child;t!==null;){var n=t;switch(n.tag){case 0:case 11:case 14:case 15:Ta(4,n,n.return),Sr(n);break;case 1:_i(n,n.return);var a=n.stateNode;typeof a.componentWillUnmount=="function"&&Fg(n,n.return,a),Sr(n);break;case 27:Xl(n.stateNode);case 26:case 5:_i(n,n.return),Sr(n);break;case 22:n.memoizedState===null&&Sr(n);break;case 30:Sr(n);break;default:Sr(n)}t=t.sibling}}function Gi(t,n,a){for(a=a&&(n.subtreeFlags&8772)!==0,n=n.child;n!==null;){var l=n.alternate,h=t,f=n,_=f.flags;switch(f.tag){case 0:case 11:case 15:Gi(h,f,a),kl(4,f);break;case 1:if(Gi(h,f,a),l=f,h=l.stateNode,typeof h.componentDidMount=="function")try{h.componentDidMount()}catch(H){$t(l,l.return,H)}if(l=f,h=l.updateQueue,h!==null){var T=l.stateNode;try{var D=h.shared.hiddenCallbacks;if(D!==null)for(h.shared.hiddenCallbacks=null,h=0;h<D.length;h++)Vp(D[h],T)}catch(H){$t(l,l.return,H)}}a&&_&64&&Hg(f),Pl(f,f.return);break;case 27:Yg(f);case 26:case 5:Gi(h,f,a),a&&l===null&&_&4&&Gg(f),Pl(f,f.return);break;case 12:Gi(h,f,a);break;case 31:Gi(h,f,a),a&&_&4&&Jg(h,f);break;case 13:Gi(h,f,a),a&&_&4&&Wg(h,f);break;case 22:f.memoizedState===null&&Gi(h,f,a),Pl(f,f.return);break;case 30:break;default:Gi(h,f,a)}n=n.sibling}}function Rf(t,n){var a=null;t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(a=t.memoizedState.cachePool.pool),t=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(t=n.memoizedState.cachePool.pool),t!==a&&(t!=null&&t.refCount++,a!=null&&wl(a))}function Cf(t,n){t=null,n.alternate!==null&&(t=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==t&&(n.refCount++,t!=null&&wl(t))}function Zn(t,n,a,l){if(n.subtreeFlags&10256)for(n=n.child;n!==null;)ny(t,n,a,l),n=n.sibling}function ny(t,n,a,l){var h=n.flags;switch(n.tag){case 0:case 11:case 15:Zn(t,n,a,l),h&2048&&kl(9,n);break;case 1:Zn(t,n,a,l);break;case 3:Zn(t,n,a,l),h&2048&&(t=null,n.alternate!==null&&(t=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==t&&(n.refCount++,t!=null&&wl(t)));break;case 12:if(h&2048){Zn(t,n,a,l),t=n.stateNode;try{var f=n.memoizedProps,_=f.id,T=f.onPostCommit;typeof T=="function"&&T(_,n.alternate===null?"mount":"update",t.passiveEffectDuration,-0)}catch(D){$t(n,n.return,D)}}else Zn(t,n,a,l);break;case 31:Zn(t,n,a,l);break;case 13:Zn(t,n,a,l);break;case 23:break;case 22:f=n.stateNode,_=n.alternate,n.memoizedState!==null?f._visibility&2?Zn(t,n,a,l):Bl(t,n):f._visibility&2?Zn(t,n,a,l):(f._visibility|=2,vs(t,n,a,l,(n.subtreeFlags&10256)!==0||!1)),h&2048&&Rf(_,n);break;case 24:Zn(t,n,a,l),h&2048&&Cf(n.alternate,n);break;default:Zn(t,n,a,l)}}function vs(t,n,a,l,h){for(h=h&&((n.subtreeFlags&10256)!==0||!1),n=n.child;n!==null;){var f=t,_=n,T=a,D=l,H=_.flags;switch(_.tag){case 0:case 11:case 15:vs(f,_,T,D,h),kl(8,_);break;case 23:break;case 22:var K=_.stateNode;_.memoizedState!==null?K._visibility&2?vs(f,_,T,D,h):Bl(f,_):(K._visibility|=2,vs(f,_,T,D,h)),h&&H&2048&&Rf(_.alternate,_);break;case 24:vs(f,_,T,D,h),h&&H&2048&&Cf(_.alternate,_);break;default:vs(f,_,T,D,h)}n=n.sibling}}function Bl(t,n){if(n.subtreeFlags&10256)for(n=n.child;n!==null;){var a=t,l=n,h=l.flags;switch(l.tag){case 22:Bl(a,l),h&2048&&Rf(l.alternate,l);break;case 24:Bl(a,l),h&2048&&Cf(l.alternate,l);break;default:Bl(a,l)}n=n.sibling}}var ql=8192;function _s(t,n,a){if(t.subtreeFlags&ql)for(t=t.child;t!==null;)iy(t,n,a),t=t.sibling}function iy(t,n,a){switch(t.tag){case 26:_s(t,n,a),t.flags&ql&&t.memoizedState!==null&&xE(a,$n,t.memoizedState,t.memoizedProps);break;case 5:_s(t,n,a);break;case 3:case 4:var l=$n;$n=Wu(t.stateNode.containerInfo),_s(t,n,a),$n=l;break;case 22:t.memoizedState===null&&(l=t.alternate,l!==null&&l.memoizedState!==null?(l=ql,ql=16777216,_s(t,n,a),ql=l):_s(t,n,a));break;default:_s(t,n,a)}}function ay(t){var n=t.alternate;if(n!==null&&(t=n.child,t!==null)){n.child=null;do n=t.sibling,t.sibling=null,t=n;while(t!==null)}}function Hl(t){var n=t.deletions;if((t.flags&16)!==0){if(n!==null)for(var a=0;a<n.length;a++){var l=n[a];Ue=l,sy(l,t)}ay(t)}if(t.subtreeFlags&10256)for(t=t.child;t!==null;)ry(t),t=t.sibling}function ry(t){switch(t.tag){case 0:case 11:case 15:Hl(t),t.flags&2048&&Ta(9,t,t.return);break;case 3:Hl(t);break;case 12:Hl(t);break;case 22:var n=t.stateNode;t.memoizedState!==null&&n._visibility&2&&(t.return===null||t.return.tag!==13)?(n._visibility&=-3,Pu(t)):Hl(t);break;default:Hl(t)}}function Pu(t){var n=t.deletions;if((t.flags&16)!==0){if(n!==null)for(var a=0;a<n.length;a++){var l=n[a];Ue=l,sy(l,t)}ay(t)}for(t=t.child;t!==null;){switch(n=t,n.tag){case 0:case 11:case 15:Ta(8,n,n.return),Pu(n);break;case 22:a=n.stateNode,a._visibility&2&&(a._visibility&=-3,Pu(n));break;default:Pu(n)}t=t.sibling}}function sy(t,n){for(;Ue!==null;){var a=Ue;switch(a.tag){case 0:case 11:case 15:Ta(8,a,n);break;case 23:case 22:if(a.memoizedState!==null&&a.memoizedState.cachePool!==null){var l=a.memoizedState.cachePool.pool;l!=null&&l.refCount++}break;case 24:wl(a.memoizedState.cache)}if(l=a.child,l!==null)l.return=a,Ue=l;else t:for(a=t;Ue!==null;){l=Ue;var h=l.sibling,f=l.return;if($g(l),l===a){Ue=null;break t}if(h!==null){h.return=f,Ue=h;break t}Ue=f}}}var Lb={getCacheForType:function(t){var n=qe(Ae),a=n.data.get(t);return a===void 0&&(a=t(),n.data.set(t,a)),a},cacheSignal:function(){return qe(Ae).controller.signal}},kb=typeof WeakMap=="function"?WeakMap:Map,Ft=0,ee=null,Vt=null,Mt=0,Xt=0,vn=null,xa=!1,bs=!1,Nf=!1,Qi=0,de=0,Sa=0,Ar=0,Df=0,_n=0,Es=0,Fl=null,ln=null,If=!1,Bu=0,ly=0,qu=1/0,Hu=null,Aa=null,je=0,wa=null,Ts=null,Yi=0,Vf=0,jf=null,oy=null,Gl=0,Mf=null;function bn(){return(Ft&2)!==0&&Mt!==0?Mt&-Mt:B.T!==null?Pf():Fo()}function uy(){if(_n===0)if((Mt&536870912)===0||Lt){var t=Ja;Ja<<=1,(Ja&3932160)===0&&(Ja=262144),_n=t}else _n=536870912;return t=gn.current,t!==null&&(t.flags|=32),_n}function on(t,n,a){(t===ee&&(Xt===2||Xt===9)||t.cancelPendingCommit!==null)&&(xs(t,0),Ra(t,Mt,_n,!1)),Wa(t,a),((Ft&2)===0||t!==ee)&&(t===ee&&((Ft&2)===0&&(Ar|=a),de===4&&Ra(t,Mt,_n,!1)),bi(t))}function cy(t,n,a){if((Ft&6)!==0)throw Error(s(327));var l=!a&&(n&127)===0&&(n&t.expiredLanes)===0||Bn(t,n),h=l?qb(t,n):zf(t,n,!0),f=l;do{if(h===0){bs&&!l&&Ra(t,n,0,!1);break}else{if(a=t.current.alternate,f&&!Pb(a)){h=zf(t,n,!1),f=!1;continue}if(h===2){if(f=n,t.errorRecoveryDisabledLanes&f)var _=0;else _=t.pendingLanes&-536870913,_=_!==0?_:_&536870912?536870912:0;if(_!==0){n=_;t:{var T=t;h=Fl;var D=T.current.memoizedState.isDehydrated;if(D&&(xs(T,_).flags|=256),_=zf(T,_,!1),_!==2){if(Nf&&!D){T.errorRecoveryDisabledLanes|=f,Ar|=f,h=4;break t}f=ln,ln=h,f!==null&&(ln===null?ln=f:ln.push.apply(ln,f))}h=_}if(f=!1,h!==2)continue}}if(h===1){xs(t,0),Ra(t,n,0,!0);break}t:{switch(l=t,f=h,f){case 0:case 1:throw Error(s(345));case 4:if((n&4194048)!==n)break;case 6:Ra(l,n,_n,!xa);break t;case 2:ln=null;break;case 3:case 5:break;default:throw Error(s(329))}if((n&62914560)===n&&(h=Bu+300-Je(),10<h)){if(Ra(l,n,_n,!xa),ni(l,0,!0)!==0)break t;Yi=n,l.timeoutHandle=By(hy.bind(null,l,a,ln,Hu,If,n,_n,Ar,Es,xa,f,"Throttled",-0,0),h);break t}hy(l,a,ln,Hu,If,n,_n,Ar,Es,xa,f,null,-0,0)}}break}while(!0);bi(t)}function hy(t,n,a,l,h,f,_,T,D,H,K,tt,F,Q){if(t.timeoutHandle=-1,tt=n.subtreeFlags,tt&8192||(tt&16785408)===16785408){tt={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:Fn},iy(n,f,tt);var dt=(f&62914560)===f?Bu-Je():(f&4194048)===f?ly-Je():0;if(dt=SE(tt,dt),dt!==null){Yi=f,t.cancelPendingCommit=dt(_y.bind(null,t,n,f,a,l,h,_,T,D,K,tt,null,F,Q)),Ra(t,f,_,!H);return}}_y(t,n,f,a,l,h,_,T,D)}function Pb(t){for(var n=t;;){var a=n.tag;if((a===0||a===11||a===15)&&n.flags&16384&&(a=n.updateQueue,a!==null&&(a=a.stores,a!==null)))for(var l=0;l<a.length;l++){var h=a[l],f=h.getSnapshot;h=h.value;try{if(!mn(f(),h))return!1}catch{return!1}}if(a=n.child,n.subtreeFlags&16384&&a!==null)a.return=n,n=a;else{if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return!0;n=n.return}n.sibling.return=n.return,n=n.sibling}}return!0}function Ra(t,n,a,l){n&=~Df,n&=~Ar,t.suspendedLanes|=n,t.pingedLanes&=~n,l&&(t.warmLanes|=n),l=t.expirationTimes;for(var h=n;0<h;){var f=31-me(h),_=1<<f;l[f]=-1,h&=~_}a!==0&&tr(t,a,n)}function Fu(){return(Ft&6)===0?(Ql(0),!1):!0}function Of(){if(Vt!==null){if(Xt===0)var t=Vt.return;else t=Vt,zi=gr=null,$h(t),ds=null,Cl=0,t=Vt;for(;t!==null;)qg(t.alternate,t),t=t.return;Vt=null}}function xs(t,n){var a=t.timeoutHandle;a!==-1&&(t.timeoutHandle=-1,sE(a)),a=t.cancelPendingCommit,a!==null&&(t.cancelPendingCommit=null,a()),Yi=0,Of(),ee=t,Vt=a=Mi(t.current,null),Mt=n,Xt=0,vn=null,xa=!1,bs=Bn(t,n),Nf=!1,Es=_n=Df=Ar=Sa=de=0,ln=Fl=null,If=!1,(n&8)!==0&&(n|=n&32);var l=t.entangledLanes;if(l!==0)for(t=t.entanglements,l&=n;0<l;){var h=31-me(l),f=1<<h;n|=t[h],l&=~f}return Qi=n,hu(),a}function fy(t,n){Nt=null,B.H=zl,n===fs||n===_u?(n=Cp(),Xt=3):n===Lh?(n=Cp(),Xt=4):Xt=n===df?8:n!==null&&typeof n=="object"&&typeof n.then=="function"?6:1,vn=n,Vt===null&&(de=1,ju(t,Nn(n,t.current)))}function dy(){var t=gn.current;return t===null?!0:(Mt&4194048)===Mt?jn===null:(Mt&62914560)===Mt||(Mt&536870912)!==0?t===jn:!1}function my(){var t=B.H;return B.H=zl,t===null?zl:t}function py(){var t=B.A;return B.A=Lb,t}function Gu(){de=4,xa||(Mt&4194048)!==Mt&&gn.current!==null||(bs=!0),(Sa&134217727)===0&&(Ar&134217727)===0||ee===null||Ra(ee,Mt,_n,!1)}function zf(t,n,a){var l=Ft;Ft|=2;var h=my(),f=py();(ee!==t||Mt!==n)&&(Hu=null,xs(t,n)),n=!1;var _=de;t:do try{if(Xt!==0&&Vt!==null){var T=Vt,D=vn;switch(Xt){case 8:Of(),_=6;break t;case 3:case 2:case 9:case 6:gn.current===null&&(n=!0);var H=Xt;if(Xt=0,vn=null,Ss(t,T,D,H),a&&bs){_=0;break t}break;default:H=Xt,Xt=0,vn=null,Ss(t,T,D,H)}}Bb(),_=de;break}catch(K){fy(t,K)}while(!0);return n&&t.shellSuspendCounter++,zi=gr=null,Ft=l,B.H=h,B.A=f,Vt===null&&(ee=null,Mt=0,hu()),_}function Bb(){for(;Vt!==null;)gy(Vt)}function qb(t,n){var a=Ft;Ft|=2;var l=my(),h=py();ee!==t||Mt!==n?(Hu=null,qu=Je()+500,xs(t,n)):bs=Bn(t,n);t:do try{if(Xt!==0&&Vt!==null){n=Vt;var f=vn;e:switch(Xt){case 1:Xt=0,vn=null,Ss(t,n,f,1);break;case 2:case 9:if(wp(f)){Xt=0,vn=null,yy(n);break}n=function(){Xt!==2&&Xt!==9||ee!==t||(Xt=7),bi(t)},f.then(n,n);break t;case 3:Xt=7;break t;case 4:Xt=5;break t;case 7:wp(f)?(Xt=0,vn=null,yy(n)):(Xt=0,vn=null,Ss(t,n,f,7));break;case 5:var _=null;switch(Vt.tag){case 26:_=Vt.memoizedState;case 5:case 27:var T=Vt;if(_?n0(_):T.stateNode.complete){Xt=0,vn=null;var D=T.sibling;if(D!==null)Vt=D;else{var H=T.return;H!==null?(Vt=H,Qu(H)):Vt=null}break e}}Xt=0,vn=null,Ss(t,n,f,5);break;case 6:Xt=0,vn=null,Ss(t,n,f,6);break;case 8:Of(),de=6;break t;default:throw Error(s(462))}}Hb();break}catch(K){fy(t,K)}while(!0);return zi=gr=null,B.H=l,B.A=h,Ft=a,Vt!==null?0:(ee=null,Mt=0,hu(),de)}function Hb(){for(;Vt!==null&&!hh();)gy(Vt)}function gy(t){var n=Pg(t.alternate,t,Qi);t.memoizedProps=t.pendingProps,n===null?Qu(t):Vt=n}function yy(t){var n=t,a=n.alternate;switch(n.tag){case 15:case 0:n=Mg(a,n,n.pendingProps,n.type,void 0,Mt);break;case 11:n=Mg(a,n,n.pendingProps,n.type.render,n.ref,Mt);break;case 5:$h(n);default:qg(a,n),n=Vt=pp(n,Qi),n=Pg(a,n,Qi)}t.memoizedProps=t.pendingProps,n===null?Qu(t):Vt=n}function Ss(t,n,a,l){zi=gr=null,$h(n),ds=null,Cl=0;var h=n.return;try{if(Ib(t,h,n,a,Mt)){de=1,ju(t,Nn(a,t.current)),Vt=null;return}}catch(f){if(h!==null)throw Vt=h,f;de=1,ju(t,Nn(a,t.current)),Vt=null;return}n.flags&32768?(Lt||l===1?t=!0:bs||(Mt&536870912)!==0?t=!1:(xa=t=!0,(l===2||l===9||l===3||l===6)&&(l=gn.current,l!==null&&l.tag===13&&(l.flags|=16384))),vy(n,t)):Qu(n)}function Qu(t){var n=t;do{if((n.flags&32768)!==0){vy(n,xa);return}t=n.return;var a=Mb(n.alternate,n,Qi);if(a!==null){Vt=a;return}if(n=n.sibling,n!==null){Vt=n;return}Vt=n=t}while(n!==null);de===0&&(de=5)}function vy(t,n){do{var a=Ob(t.alternate,t);if(a!==null){a.flags&=32767,Vt=a;return}if(a=t.return,a!==null&&(a.flags|=32768,a.subtreeFlags=0,a.deletions=null),!n&&(t=t.sibling,t!==null)){Vt=t;return}Vt=t=a}while(t!==null);de=6,Vt=null}function _y(t,n,a,l,h,f,_,T,D){t.cancelPendingCommit=null;do Yu();while(je!==0);if((Ft&6)!==0)throw Error(s(327));if(n!==null){if(n===t.current)throw Error(s(177));if(f=n.lanes|n.childLanes,f|=xh,mh(t,a,f,_,T,D),t===ee&&(Vt=ee=null,Mt=0),Ts=n,wa=t,Yi=a,Vf=f,jf=h,oy=l,(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?(t.callbackNode=null,t.callbackPriority=0,Yb(ia,function(){return Sy(),null})):(t.callbackNode=null,t.callbackPriority=0),l=(n.flags&13878)!==0,(n.subtreeFlags&13878)!==0||l){l=B.T,B.T=null,h=at.p,at.p=2,_=Ft,Ft|=4;try{zb(t,n,a)}finally{Ft=_,at.p=h,B.T=l}}je=1,by(),Ey(),Ty()}}function by(){if(je===1){je=0;var t=wa,n=Ts,a=(n.flags&13878)!==0;if((n.subtreeFlags&13878)!==0||a){a=B.T,B.T=null;var l=at.p;at.p=2;var h=Ft;Ft|=4;try{ty(n,t);var f=Kf,_=sp(t.containerInfo),T=f.focusedElem,D=f.selectionRange;if(_!==T&&T&&T.ownerDocument&&rp(T.ownerDocument.documentElement,T)){if(D!==null&&vh(T)){var H=D.start,K=D.end;if(K===void 0&&(K=H),"selectionStart"in T)T.selectionStart=H,T.selectionEnd=Math.min(K,T.value.length);else{var tt=T.ownerDocument||document,F=tt&&tt.defaultView||window;if(F.getSelection){var Q=F.getSelection(),dt=T.textContent.length,Et=Math.min(D.start,dt),te=D.end===void 0?Et:Math.min(D.end,dt);!Q.extend&&Et>te&&(_=te,te=Et,Et=_);var z=ap(T,Et),j=ap(T,te);if(z&&j&&(Q.rangeCount!==1||Q.anchorNode!==z.node||Q.anchorOffset!==z.offset||Q.focusNode!==j.node||Q.focusOffset!==j.offset)){var q=tt.createRange();q.setStart(z.node,z.offset),Q.removeAllRanges(),Et>te?(Q.addRange(q),Q.extend(j.node,j.offset)):(q.setEnd(j.node,j.offset),Q.addRange(q))}}}}for(tt=[],Q=T;Q=Q.parentNode;)Q.nodeType===1&&tt.push({element:Q,left:Q.scrollLeft,top:Q.scrollTop});for(typeof T.focus=="function"&&T.focus(),T=0;T<tt.length;T++){var Z=tt[T];Z.element.scrollLeft=Z.left,Z.element.scrollTop=Z.top}}rc=!!Yf,Kf=Yf=null}finally{Ft=h,at.p=l,B.T=a}}t.current=n,je=2}}function Ey(){if(je===2){je=0;var t=wa,n=Ts,a=(n.flags&8772)!==0;if((n.subtreeFlags&8772)!==0||a){a=B.T,B.T=null;var l=at.p;at.p=2;var h=Ft;Ft|=4;try{Xg(t,n.alternate,n)}finally{Ft=h,at.p=l,B.T=a}}je=3}}function Ty(){if(je===4||je===3){je=0,Uo();var t=wa,n=Ts,a=Yi,l=oy;(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?je=5:(je=0,Ts=wa=null,xy(t,t.pendingLanes));var h=t.pendingLanes;if(h===0&&(Aa=null),Di(a),n=n.stateNode,ke&&typeof ke.onCommitFiberRoot=="function")try{ke.onCommitFiberRoot(Pn,n,void 0,(n.current.flags&128)===128)}catch{}if(l!==null){n=B.T,h=at.p,at.p=2,B.T=null;try{for(var f=t.onRecoverableError,_=0;_<l.length;_++){var T=l[_];f(T.value,{componentStack:T.stack})}}finally{B.T=n,at.p=h}}(Yi&3)!==0&&Yu(),bi(t),h=t.pendingLanes,(a&261930)!==0&&(h&42)!==0?t===Mf?Gl++:(Gl=0,Mf=t):Gl=0,Ql(0)}}function xy(t,n){(t.pooledCacheLanes&=n)===0&&(n=t.pooledCache,n!=null&&(t.pooledCache=null,wl(n)))}function Yu(){return by(),Ey(),Ty(),Sy()}function Sy(){if(je!==5)return!1;var t=wa,n=Vf;Vf=0;var a=Di(Yi),l=B.T,h=at.p;try{at.p=32>a?32:a,B.T=null,a=jf,jf=null;var f=wa,_=Yi;if(je=0,Ts=wa=null,Yi=0,(Ft&6)!==0)throw Error(s(331));var T=Ft;if(Ft|=4,ry(f.current),ny(f,f.current,_,a),Ft=T,Ql(0,!1),ke&&typeof ke.onPostCommitFiberRoot=="function")try{ke.onPostCommitFiberRoot(Pn,f)}catch{}return!0}finally{at.p=h,B.T=l,xy(t,n)}}function Ay(t,n,a){n=Nn(a,n),n=ff(t.stateNode,n,2),t=_a(t,n,2),t!==null&&(Wa(t,2),bi(t))}function $t(t,n,a){if(t.tag===3)Ay(t,t,a);else for(;n!==null;){if(n.tag===3){Ay(n,t,a);break}else if(n.tag===1){var l=n.stateNode;if(typeof n.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&(Aa===null||!Aa.has(l))){t=Nn(a,t),a=wg(2),l=_a(n,a,2),l!==null&&(Rg(a,l,n,t),Wa(l,2),bi(l));break}}n=n.return}}function Uf(t,n,a){var l=t.pingCache;if(l===null){l=t.pingCache=new kb;var h=new Set;l.set(n,h)}else h=l.get(n),h===void 0&&(h=new Set,l.set(n,h));h.has(a)||(Nf=!0,h.add(a),t=Fb.bind(null,t,n,a),n.then(t,t))}function Fb(t,n,a){var l=t.pingCache;l!==null&&l.delete(n),t.pingedLanes|=t.suspendedLanes&a,t.warmLanes&=~a,ee===t&&(Mt&a)===a&&(de===4||de===3&&(Mt&62914560)===Mt&&300>Je()-Bu?(Ft&2)===0&&xs(t,0):Df|=a,Es===Mt&&(Es=0)),bi(t)}function wy(t,n){n===0&&(n=Ho()),t=dr(t,n),t!==null&&(Wa(t,n),bi(t))}function Gb(t){var n=t.memoizedState,a=0;n!==null&&(a=n.retryLane),wy(t,a)}function Qb(t,n){var a=0;switch(t.tag){case 31:case 13:var l=t.stateNode,h=t.memoizedState;h!==null&&(a=h.retryLane);break;case 19:l=t.stateNode;break;case 22:l=t.stateNode._retryCache;break;default:throw Error(s(314))}l!==null&&l.delete(n),wy(t,a)}function Yb(t,n){return Ve(t,n)}var Ku=null,As=null,Lf=!1,Xu=!1,kf=!1,Ca=0;function bi(t){t!==As&&t.next===null&&(As===null?Ku=As=t:As=As.next=t),Xu=!0,Lf||(Lf=!0,Xb())}function Ql(t,n){if(!kf&&Xu){kf=!0;do for(var a=!1,l=Ku;l!==null;){if(t!==0){var h=l.pendingLanes;if(h===0)var f=0;else{var _=l.suspendedLanes,T=l.pingedLanes;f=(1<<31-me(42|t)+1)-1,f&=h&~(_&~T),f=f&201326741?f&201326741|1:f?f|2:0}f!==0&&(a=!0,Dy(l,f))}else f=Mt,f=ni(l,l===ee?f:0,l.cancelPendingCommit!==null||l.timeoutHandle!==-1),(f&3)===0||Bn(l,f)||(a=!0,Dy(l,f));l=l.next}while(a);kf=!1}}function Kb(){Ry()}function Ry(){Xu=Lf=!1;var t=0;Ca!==0&&rE()&&(t=Ca);for(var n=Je(),a=null,l=Ku;l!==null;){var h=l.next,f=Cy(l,n);f===0?(l.next=null,a===null?Ku=h:a.next=h,h===null&&(As=a)):(a=l,(t!==0||(f&3)!==0)&&(Xu=!0)),l=h}je!==0&&je!==5||Ql(t),Ca!==0&&(Ca=0)}function Cy(t,n){for(var a=t.suspendedLanes,l=t.pingedLanes,h=t.expirationTimes,f=t.pendingLanes&-62914561;0<f;){var _=31-me(f),T=1<<_,D=h[_];D===-1?((T&a)===0||(T&l)!==0)&&(h[_]=dh(T,n)):D<=n&&(t.expiredLanes|=T),f&=~T}if(n=ee,a=Mt,a=ni(t,t===n?a:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),l=t.callbackNode,a===0||t===n&&(Xt===2||Xt===9)||t.cancelPendingCommit!==null)return l!==null&&l!==null&&na(l),t.callbackNode=null,t.callbackPriority=0;if((a&3)===0||Bn(t,a)){if(n=a&-a,n===t.callbackPriority)return n;switch(l!==null&&na(l),Di(a)){case 2:case 8:a=nl;break;case 32:a=ia;break;case 268435456:a=Lo;break;default:a=ia}return l=Ny.bind(null,t),a=Ve(a,l),t.callbackPriority=n,t.callbackNode=a,n}return l!==null&&l!==null&&na(l),t.callbackPriority=2,t.callbackNode=null,2}function Ny(t,n){if(je!==0&&je!==5)return t.callbackNode=null,t.callbackPriority=0,null;var a=t.callbackNode;if(Yu()&&t.callbackNode!==a)return null;var l=Mt;return l=ni(t,t===ee?l:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),l===0?null:(cy(t,l,n),Cy(t,Je()),t.callbackNode!=null&&t.callbackNode===a?Ny.bind(null,t):null)}function Dy(t,n){if(Yu())return null;cy(t,n,!0)}function Xb(){lE(function(){(Ft&6)!==0?Ve(el,Kb):Ry()})}function Pf(){if(Ca===0){var t=cs;t===0&&(t=ti,ti<<=1,(ti&261888)===0&&(ti=256)),Ca=t}return Ca}function Iy(t){return t==null||typeof t=="symbol"||typeof t=="boolean"?null:typeof t=="function"?t:Xr(""+t)}function Vy(t,n){var a=n.ownerDocument.createElement("input");return a.name=n.name,a.value=n.value,t.id&&a.setAttribute("form",t.id),n.parentNode.insertBefore(a,n),t=new FormData(t),a.parentNode.removeChild(a),t}function $b(t,n,a,l,h){if(n==="submit"&&a&&a.stateNode===h){var f=Iy((h[Oe]||null).action),_=l.submitter;_&&(n=(n=_[Oe]||null)?Iy(n.formAction):_.getAttribute("formAction"),n!==null&&(f=n,_=null));var T=new di("action","action",null,l,h);t.push({event:T,listeners:[{instance:null,listener:function(){if(l.defaultPrevented){if(Ca!==0){var D=_?Vy(h,_):new FormData(h);sf(a,{pending:!0,data:D,method:h.method,action:f},null,D)}}else typeof f=="function"&&(T.preventDefault(),D=_?Vy(h,_):new FormData(h),sf(a,{pending:!0,data:D,method:h.method,action:f},f,D))},currentTarget:h}]})}}for(var Bf=0;Bf<Th.length;Bf++){var qf=Th[Bf],Zb=qf.toLowerCase(),Jb=qf[0].toUpperCase()+qf.slice(1);Xn(Zb,"on"+Jb)}Xn(up,"onAnimationEnd"),Xn(cp,"onAnimationIteration"),Xn(hp,"onAnimationStart"),Xn("dblclick","onDoubleClick"),Xn("focusin","onFocus"),Xn("focusout","onBlur"),Xn(mb,"onTransitionRun"),Xn(pb,"onTransitionStart"),Xn(gb,"onTransitionCancel"),Xn(fp,"onTransitionEnd"),ui("onMouseEnter",["mouseout","mouseover"]),ui("onMouseLeave",["mouseout","mouseover"]),ui("onPointerEnter",["pointerout","pointerover"]),ui("onPointerLeave",["pointerout","pointerover"]),oi("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),oi("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),oi("onBeforeInput",["compositionend","keypress","textInput","paste"]),oi("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),oi("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),oi("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Yl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Wb=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Yl));function jy(t,n){n=(n&4)!==0;for(var a=0;a<t.length;a++){var l=t[a],h=l.event;l=l.listeners;t:{var f=void 0;if(n)for(var _=l.length-1;0<=_;_--){var T=l[_],D=T.instance,H=T.currentTarget;if(T=T.listener,D!==f&&h.isPropagationStopped())break t;f=T,h.currentTarget=H;try{f(h)}catch(K){cu(K)}h.currentTarget=null,f=D}else for(_=0;_<l.length;_++){if(T=l[_],D=T.instance,H=T.currentTarget,T=T.listener,D!==f&&h.isPropagationStopped())break t;f=T,h.currentTarget=H;try{f(h)}catch(K){cu(K)}h.currentTarget=null,f=D}}}}function jt(t,n){var a=n[Fr];a===void 0&&(a=n[Fr]=new Set);var l=t+"__bubble";a.has(l)||(My(n,t,2,!1),a.add(l))}function Hf(t,n,a){var l=0;n&&(l|=4),My(a,t,l,n)}var $u="_reactListening"+Math.random().toString(36).slice(2);function Ff(t){if(!t[$u]){t[$u]=!0,rl.forEach(function(a){a!=="selectionchange"&&(Wb.has(a)||Hf(a,!1,t),Hf(a,!0,t))});var n=t.nodeType===9?t:t.ownerDocument;n===null||n[$u]||(n[$u]=!0,Hf("selectionchange",!1,n))}}function My(t,n,a,l){switch(u0(n)){case 2:var h=RE;break;case 8:h=CE;break;default:h=rd}a=h.bind(null,n,a,t),h=void 0,!rr||n!=="touchstart"&&n!=="touchmove"&&n!=="wheel"||(h=!0),l?h!==void 0?t.addEventListener(n,a,{capture:!0,passive:h}):t.addEventListener(n,a,!0):h!==void 0?t.addEventListener(n,a,{passive:h}):t.addEventListener(n,a,!1)}function Gf(t,n,a,l,h){var f=l;if((n&1)===0&&(n&2)===0&&l!==null)t:for(;;){if(l===null)return;var _=l.tag;if(_===3||_===4){var T=l.stateNode.containerInfo;if(T===h)break;if(_===4)for(_=l.return;_!==null;){var D=_.tag;if((D===3||D===4)&&_.stateNode.containerInfo===h)return;_=_.return}for(;T!==null;){if(_=si(T),_===null)return;if(D=_.tag,D===5||D===6||D===26||D===27){l=f=_;continue t}T=T.parentNode}}l=l.return}ua(function(){var H=f,K=An(a),tt=[];t:{var F=dp.get(t);if(F!==void 0){var Q=di,dt=t;switch(t){case"keypress":if(lr(a)===0)break t;case"keydown":case"keyup":Q=lu;break;case"focusin":dt="focus",Q=ur;break;case"focusout":dt="blur",Q=ur;break;case"beforeblur":case"afterblur":Q=ur;break;case"click":if(a.button===2)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Q=vl;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Q=Jo;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Q=m;break;case up:case cp:case hp:Q=tu;break;case fp:Q=S;break;case"scroll":case"scrollend":Q=yl;break;case"wheel":Q=G;break;case"copy":case"cut":case"paste":Q=eu;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Q=ji;break;case"toggle":case"beforetoggle":Q=Ct}var Et=(n&4)!==0,te=!Et&&(t==="scroll"||t==="scrollend"),z=Et?F!==null?F+"Capture":null:F;Et=[];for(var j=H,q;j!==null;){var Z=j;if(q=Z.stateNode,Z=Z.tag,Z!==5&&Z!==26&&Z!==27||q===null||z===null||(Z=Gn(j,z),Z!=null&&Et.push(Kl(j,Z,q))),te)break;j=j.return}0<Et.length&&(F=new Q(F,dt,null,a,K),tt.push({event:F,listeners:Et}))}}if((n&7)===0){t:{if(F=t==="mouseover"||t==="pointerover",Q=t==="mouseout"||t==="pointerout",F&&a!==ml&&(dt=a.relatedTarget||a.fromElement)&&(si(dt)||dt[ai]))break t;if((Q||F)&&(F=K.window===K?K:(F=K.ownerDocument)?F.defaultView||F.parentWindow:window,Q?(dt=a.relatedTarget||a.toElement,Q=H,dt=dt?si(dt):null,dt!==null&&(te=c(dt),Et=dt.tag,dt!==te||Et!==5&&Et!==27&&Et!==6)&&(dt=null)):(Q=null,dt=H),Q!==dt)){if(Et=vl,Z="onMouseLeave",z="onMouseEnter",j="mouse",(t==="pointerout"||t==="pointerover")&&(Et=ji,Z="onPointerLeave",z="onPointerEnter",j="pointer"),te=Q==null?F:fn(Q),q=dt==null?F:fn(dt),F=new Et(Z,j+"leave",Q,a,K),F.target=te,F.relatedTarget=q,Z=null,si(K)===H&&(Et=new Et(z,j+"enter",dt,a,K),Et.target=q,Et.relatedTarget=te,Z=Et),te=Z,Q&&dt)e:{for(Et=tE,z=Q,j=dt,q=0,Z=z;Z;Z=Et(Z))q++;Z=0;for(var yt=j;yt;yt=Et(yt))Z++;for(;0<q-Z;)z=Et(z),q--;for(;0<Z-q;)j=Et(j),Z--;for(;q--;){if(z===j||j!==null&&z===j.alternate){Et=z;break e}z=Et(z),j=Et(j)}Et=null}else Et=null;Q!==null&&Oy(tt,F,Q,Et,!1),dt!==null&&te!==null&&Oy(tt,te,dt,Et,!0)}}t:{if(F=H?fn(H):window,Q=F.nodeName&&F.nodeName.toLowerCase(),Q==="select"||Q==="input"&&F.type==="file")var Bt=Jm;else if($m(F))if(Wm)Bt=hb;else{Bt=ub;var mt=ob}else Q=F.nodeName,!Q||Q.toLowerCase()!=="input"||F.type!=="checkbox"&&F.type!=="radio"?H&&Kr(H.elementType)&&(Bt=Jm):Bt=cb;if(Bt&&(Bt=Bt(t,H))){Zm(tt,Bt,a,K);break t}mt&&mt(t,F,H),t==="focusout"&&H&&F.type==="number"&&H.memoizedProps.value!=null&&hl(F,"number",F.value)}switch(mt=H?fn(H):window,t){case"focusin":($m(mt)||mt.contentEditable==="true")&&(ns=mt,_h=H,xl=null);break;case"focusout":xl=_h=ns=null;break;case"mousedown":bh=!0;break;case"contextmenu":case"mouseup":case"dragend":bh=!1,lp(tt,a,K);break;case"selectionchange":if(db)break;case"keydown":case"keyup":lp(tt,a,K)}var Dt;if(Ht)t:{switch(t){case"compositionstart":var Ot="onCompositionStart";break t;case"compositionend":Ot="onCompositionEnd";break t;case"compositionupdate":Ot="onCompositionUpdate";break t}Ot=void 0}else es?cr(t,a)&&(Ot="onCompositionEnd"):t==="keydown"&&a.keyCode===229&&(Ot="onCompositionStart");Ot&&(gi&&a.locale!=="ko"&&(es||Ot!=="onCompositionStart"?Ot==="onCompositionEnd"&&es&&(Dt=gl()):(fi=K,pl="value"in fi?fi.value:fi.textContent,es=!0)),mt=Zu(H,Ot),0<mt.length&&(Ot=new pi(Ot,t,null,a,K),tt.push({event:Ot,listeners:mt}),Dt?Ot.data=Dt:(Dt=ts(a),Dt!==null&&(Ot.data=Dt)))),(Dt=Rn?ab(t,a):rb(t,a))&&(Ot=Zu(H,"onBeforeInput"),0<Ot.length&&(mt=new pi("onBeforeInput","beforeinput",null,a,K),tt.push({event:mt,listeners:Ot}),mt.data=Dt)),$b(tt,t,H,a,K)}jy(tt,n)})}function Kl(t,n,a){return{instance:t,listener:n,currentTarget:a}}function Zu(t,n){for(var a=n+"Capture",l=[];t!==null;){var h=t,f=h.stateNode;if(h=h.tag,h!==5&&h!==26&&h!==27||f===null||(h=Gn(t,a),h!=null&&l.unshift(Kl(t,h,f)),h=Gn(t,n),h!=null&&l.push(Kl(t,h,f))),t.tag===3)return l;t=t.return}return[]}function tE(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5&&t.tag!==27);return t||null}function Oy(t,n,a,l,h){for(var f=n._reactName,_=[];a!==null&&a!==l;){var T=a,D=T.alternate,H=T.stateNode;if(T=T.tag,D!==null&&D===l)break;T!==5&&T!==26&&T!==27||H===null||(D=H,h?(H=Gn(a,f),H!=null&&_.unshift(Kl(a,H,D))):h||(H=Gn(a,f),H!=null&&_.push(Kl(a,H,D)))),a=a.return}_.length!==0&&t.push({event:n,listeners:_})}var eE=/\r\n?/g,nE=/\u0000|\uFFFD/g;function zy(t){return(typeof t=="string"?t:""+t).replace(eE,`
`).replace(nE,"")}function Uy(t,n){return n=zy(n),zy(t)===n}function Wt(t,n,a,l,h,f){switch(a){case"children":typeof l=="string"?n==="body"||n==="textarea"&&l===""||nn(t,l):(typeof l=="number"||typeof l=="bigint")&&n!=="body"&&nn(t,""+l);break;case"className":dn(t,"class",l);break;case"tabIndex":dn(t,"tabindex",l);break;case"dir":case"role":case"viewBox":case"width":case"height":dn(t,a,l);break;case"style":dl(t,l,f);break;case"data":if(n!=="object"){dn(t,"data",l);break}case"src":case"href":if(l===""&&(n!=="a"||a!=="href")){t.removeAttribute(a);break}if(l==null||typeof l=="function"||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(a);break}l=Xr(""+l),t.setAttribute(a,l);break;case"action":case"formAction":if(typeof l=="function"){t.setAttribute(a,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof f=="function"&&(a==="formAction"?(n!=="input"&&Wt(t,n,"name",h.name,h,null),Wt(t,n,"formEncType",h.formEncType,h,null),Wt(t,n,"formMethod",h.formMethod,h,null),Wt(t,n,"formTarget",h.formTarget,h,null)):(Wt(t,n,"encType",h.encType,h,null),Wt(t,n,"method",h.method,h,null),Wt(t,n,"target",h.target,h,null)));if(l==null||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(a);break}l=Xr(""+l),t.setAttribute(a,l);break;case"onClick":l!=null&&(t.onclick=Fn);break;case"onScroll":l!=null&&jt("scroll",t);break;case"onScrollEnd":l!=null&&jt("scrollend",t);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(s(61));if(a=l.__html,a!=null){if(h.children!=null)throw Error(s(60));t.innerHTML=a}}break;case"multiple":t.multiple=l&&typeof l!="function"&&typeof l!="symbol";break;case"muted":t.muted=l&&typeof l!="function"&&typeof l!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(l==null||typeof l=="function"||typeof l=="boolean"||typeof l=="symbol"){t.removeAttribute("xlink:href");break}a=Xr(""+l),t.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(a,""+l):t.removeAttribute(a);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":l&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(a,""):t.removeAttribute(a);break;case"capture":case"download":l===!0?t.setAttribute(a,""):l!==!1&&l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(a,l):t.removeAttribute(a);break;case"cols":case"rows":case"size":case"span":l!=null&&typeof l!="function"&&typeof l!="symbol"&&!isNaN(l)&&1<=l?t.setAttribute(a,l):t.removeAttribute(a);break;case"rowSpan":case"start":l==null||typeof l=="function"||typeof l=="symbol"||isNaN(l)?t.removeAttribute(a):t.setAttribute(a,l);break;case"popover":jt("beforetoggle",t),jt("toggle",t),Qr(t,"popover",l);break;case"xlinkActuate":Se(t,"http://www.w3.org/1999/xlink","xlink:actuate",l);break;case"xlinkArcrole":Se(t,"http://www.w3.org/1999/xlink","xlink:arcrole",l);break;case"xlinkRole":Se(t,"http://www.w3.org/1999/xlink","xlink:role",l);break;case"xlinkShow":Se(t,"http://www.w3.org/1999/xlink","xlink:show",l);break;case"xlinkTitle":Se(t,"http://www.w3.org/1999/xlink","xlink:title",l);break;case"xlinkType":Se(t,"http://www.w3.org/1999/xlink","xlink:type",l);break;case"xmlBase":Se(t,"http://www.w3.org/XML/1998/namespace","xml:base",l);break;case"xmlLang":Se(t,"http://www.w3.org/XML/1998/namespace","xml:lang",l);break;case"xmlSpace":Se(t,"http://www.w3.org/XML/1998/namespace","xml:space",l);break;case"is":Qr(t,"is",l);break;case"innerText":case"textContent":break;default:(!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(a=Zo.get(a)||a,Qr(t,a,l))}}function Qf(t,n,a,l,h,f){switch(a){case"style":dl(t,l,f);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(s(61));if(a=l.__html,a!=null){if(h.children!=null)throw Error(s(60));t.innerHTML=a}}break;case"children":typeof l=="string"?nn(t,l):(typeof l=="number"||typeof l=="bigint")&&nn(t,""+l);break;case"onScroll":l!=null&&jt("scroll",t);break;case"onScrollEnd":l!=null&&jt("scrollend",t);break;case"onClick":l!=null&&(t.onclick=Fn);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!sl.hasOwnProperty(a))t:{if(a[0]==="o"&&a[1]==="n"&&(h=a.endsWith("Capture"),n=a.slice(2,h?a.length-7:void 0),f=t[Oe]||null,f=f!=null?f[a]:null,typeof f=="function"&&t.removeEventListener(n,f,h),typeof l=="function")){typeof f!="function"&&f!==null&&(a in t?t[a]=null:t.hasAttribute(a)&&t.removeAttribute(a)),t.addEventListener(n,l,h);break t}a in t?t[a]=l:l===!0?t.setAttribute(a,""):Qr(t,a,l)}}}function Fe(t,n,a){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":jt("error",t),jt("load",t);var l=!1,h=!1,f;for(f in a)if(a.hasOwnProperty(f)){var _=a[f];if(_!=null)switch(f){case"src":l=!0;break;case"srcSet":h=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(s(137,n));default:Wt(t,n,f,_,a,null)}}h&&Wt(t,n,"srcSet",a.srcSet,a,null),l&&Wt(t,n,"src",a.src,a,null);return;case"input":jt("invalid",t);var T=f=_=h=null,D=null,H=null;for(l in a)if(a.hasOwnProperty(l)){var K=a[l];if(K!=null)switch(l){case"name":h=K;break;case"type":_=K;break;case"checked":D=K;break;case"defaultChecked":H=K;break;case"value":f=K;break;case"defaultValue":T=K;break;case"children":case"dangerouslySetInnerHTML":if(K!=null)throw Error(s(137,n));break;default:Wt(t,n,l,K,a,null)}}Ko(t,f,T,D,H,_,h,!1);return;case"select":jt("invalid",t),l=_=f=null;for(h in a)if(a.hasOwnProperty(h)&&(T=a[h],T!=null))switch(h){case"value":f=T;break;case"defaultValue":_=T;break;case"multiple":l=T;default:Wt(t,n,h,T,a,null)}n=f,a=_,t.multiple=!!l,n!=null?ra(t,!!l,n,!1):a!=null&&ra(t,!!l,a,!0);return;case"textarea":jt("invalid",t),f=h=l=null;for(_ in a)if(a.hasOwnProperty(_)&&(T=a[_],T!=null))switch(_){case"value":l=T;break;case"defaultValue":h=T;break;case"children":f=T;break;case"dangerouslySetInnerHTML":if(T!=null)throw Error(s(91));break;default:Wt(t,n,_,T,a,null)}sa(t,l,h,f);return;case"option":for(D in a)if(a.hasOwnProperty(D)&&(l=a[D],l!=null))switch(D){case"selected":t.selected=l&&typeof l!="function"&&typeof l!="symbol";break;default:Wt(t,n,D,l,a,null)}return;case"dialog":jt("beforetoggle",t),jt("toggle",t),jt("cancel",t),jt("close",t);break;case"iframe":case"object":jt("load",t);break;case"video":case"audio":for(l=0;l<Yl.length;l++)jt(Yl[l],t);break;case"image":jt("error",t),jt("load",t);break;case"details":jt("toggle",t);break;case"embed":case"source":case"link":jt("error",t),jt("load",t);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(H in a)if(a.hasOwnProperty(H)&&(l=a[H],l!=null))switch(H){case"children":case"dangerouslySetInnerHTML":throw Error(s(137,n));default:Wt(t,n,H,l,a,null)}return;default:if(Kr(n)){for(K in a)a.hasOwnProperty(K)&&(l=a[K],l!==void 0&&Qf(t,n,K,l,a,void 0));return}}for(T in a)a.hasOwnProperty(T)&&(l=a[T],l!=null&&Wt(t,n,T,l,a,null))}function iE(t,n,a,l){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var h=null,f=null,_=null,T=null,D=null,H=null,K=null;for(Q in a){var tt=a[Q];if(a.hasOwnProperty(Q)&&tt!=null)switch(Q){case"checked":break;case"value":break;case"defaultValue":D=tt;default:l.hasOwnProperty(Q)||Wt(t,n,Q,null,l,tt)}}for(var F in l){var Q=l[F];if(tt=a[F],l.hasOwnProperty(F)&&(Q!=null||tt!=null))switch(F){case"type":f=Q;break;case"name":h=Q;break;case"checked":H=Q;break;case"defaultChecked":K=Q;break;case"value":_=Q;break;case"defaultValue":T=Q;break;case"children":case"dangerouslySetInnerHTML":if(Q!=null)throw Error(s(137,n));break;default:Q!==tt&&Wt(t,n,F,Q,l,tt)}}Yr(t,_,T,D,H,K,f,h);return;case"select":Q=_=T=F=null;for(f in a)if(D=a[f],a.hasOwnProperty(f)&&D!=null)switch(f){case"value":break;case"multiple":Q=D;default:l.hasOwnProperty(f)||Wt(t,n,f,null,l,D)}for(h in l)if(f=l[h],D=a[h],l.hasOwnProperty(h)&&(f!=null||D!=null))switch(h){case"value":F=f;break;case"defaultValue":T=f;break;case"multiple":_=f;default:f!==D&&Wt(t,n,h,f,l,D)}n=T,a=_,l=Q,F!=null?ra(t,!!a,F,!1):!!l!=!!a&&(n!=null?ra(t,!!a,n,!0):ra(t,!!a,a?[]:"",!1));return;case"textarea":Q=F=null;for(T in a)if(h=a[T],a.hasOwnProperty(T)&&h!=null&&!l.hasOwnProperty(T))switch(T){case"value":break;case"children":break;default:Wt(t,n,T,null,l,h)}for(_ in l)if(h=l[_],f=a[_],l.hasOwnProperty(_)&&(h!=null||f!=null))switch(_){case"value":F=h;break;case"defaultValue":Q=h;break;case"children":break;case"dangerouslySetInnerHTML":if(h!=null)throw Error(s(91));break;default:h!==f&&Wt(t,n,_,h,l,f)}Xo(t,F,Q);return;case"option":for(var dt in a)if(F=a[dt],a.hasOwnProperty(dt)&&F!=null&&!l.hasOwnProperty(dt))switch(dt){case"selected":t.selected=!1;break;default:Wt(t,n,dt,null,l,F)}for(D in l)if(F=l[D],Q=a[D],l.hasOwnProperty(D)&&F!==Q&&(F!=null||Q!=null))switch(D){case"selected":t.selected=F&&typeof F!="function"&&typeof F!="symbol";break;default:Wt(t,n,D,F,l,Q)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Et in a)F=a[Et],a.hasOwnProperty(Et)&&F!=null&&!l.hasOwnProperty(Et)&&Wt(t,n,Et,null,l,F);for(H in l)if(F=l[H],Q=a[H],l.hasOwnProperty(H)&&F!==Q&&(F!=null||Q!=null))switch(H){case"children":case"dangerouslySetInnerHTML":if(F!=null)throw Error(s(137,n));break;default:Wt(t,n,H,F,l,Q)}return;default:if(Kr(n)){for(var te in a)F=a[te],a.hasOwnProperty(te)&&F!==void 0&&!l.hasOwnProperty(te)&&Qf(t,n,te,void 0,l,F);for(K in l)F=l[K],Q=a[K],!l.hasOwnProperty(K)||F===Q||F===void 0&&Q===void 0||Qf(t,n,K,F,l,Q);return}}for(var z in a)F=a[z],a.hasOwnProperty(z)&&F!=null&&!l.hasOwnProperty(z)&&Wt(t,n,z,null,l,F);for(tt in l)F=l[tt],Q=a[tt],!l.hasOwnProperty(tt)||F===Q||F==null&&Q==null||Wt(t,n,tt,F,l,Q)}function Ly(t){switch(t){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function aE(){if(typeof performance.getEntriesByType=="function"){for(var t=0,n=0,a=performance.getEntriesByType("resource"),l=0;l<a.length;l++){var h=a[l],f=h.transferSize,_=h.initiatorType,T=h.duration;if(f&&T&&Ly(_)){for(_=0,T=h.responseEnd,l+=1;l<a.length;l++){var D=a[l],H=D.startTime;if(H>T)break;var K=D.transferSize,tt=D.initiatorType;K&&Ly(tt)&&(D=D.responseEnd,_+=K*(D<T?1:(T-H)/(D-H)))}if(--l,n+=8*(f+_)/(h.duration/1e3),t++,10<t)break}}if(0<t)return n/t/1e6}return navigator.connection&&(t=navigator.connection.downlink,typeof t=="number")?t:5}var Yf=null,Kf=null;function Ju(t){return t.nodeType===9?t:t.ownerDocument}function ky(t){switch(t){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Py(t,n){if(t===0)switch(n){case"svg":return 1;case"math":return 2;default:return 0}return t===1&&n==="foreignObject"?0:t}function Xf(t,n){return t==="textarea"||t==="noscript"||typeof n.children=="string"||typeof n.children=="number"||typeof n.children=="bigint"||typeof n.dangerouslySetInnerHTML=="object"&&n.dangerouslySetInnerHTML!==null&&n.dangerouslySetInnerHTML.__html!=null}var $f=null;function rE(){var t=window.event;return t&&t.type==="popstate"?t===$f?!1:($f=t,!0):($f=null,!1)}var By=typeof setTimeout=="function"?setTimeout:void 0,sE=typeof clearTimeout=="function"?clearTimeout:void 0,qy=typeof Promise=="function"?Promise:void 0,lE=typeof queueMicrotask=="function"?queueMicrotask:typeof qy<"u"?function(t){return qy.resolve(null).then(t).catch(oE)}:By;function oE(t){setTimeout(function(){throw t})}function Na(t){return t==="head"}function Hy(t,n){var a=n,l=0;do{var h=a.nextSibling;if(t.removeChild(a),h&&h.nodeType===8)if(a=h.data,a==="/$"||a==="/&"){if(l===0){t.removeChild(h),Ns(n);return}l--}else if(a==="$"||a==="$?"||a==="$~"||a==="$!"||a==="&")l++;else if(a==="html")Xl(t.ownerDocument.documentElement);else if(a==="head"){a=t.ownerDocument.head,Xl(a);for(var f=a.firstChild;f;){var _=f.nextSibling,T=f.nodeName;f[ri]||T==="SCRIPT"||T==="STYLE"||T==="LINK"&&f.rel.toLowerCase()==="stylesheet"||a.removeChild(f),f=_}}else a==="body"&&Xl(t.ownerDocument.body);a=h}while(a);Ns(n)}function Fy(t,n){var a=t;t=0;do{var l=a.nextSibling;if(a.nodeType===1?n?(a._stashedDisplay=a.style.display,a.style.display="none"):(a.style.display=a._stashedDisplay||"",a.getAttribute("style")===""&&a.removeAttribute("style")):a.nodeType===3&&(n?(a._stashedText=a.nodeValue,a.nodeValue=""):a.nodeValue=a._stashedText||""),l&&l.nodeType===8)if(a=l.data,a==="/$"){if(t===0)break;t--}else a!=="$"&&a!=="$?"&&a!=="$~"&&a!=="$!"||t++;a=l}while(a)}function Zf(t){var n=t.firstChild;for(n&&n.nodeType===10&&(n=n.nextSibling);n;){var a=n;switch(n=n.nextSibling,a.nodeName){case"HTML":case"HEAD":case"BODY":Zf(a),Gr(a);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(a.rel.toLowerCase()==="stylesheet")continue}t.removeChild(a)}}function uE(t,n,a,l){for(;t.nodeType===1;){var h=a;if(t.nodeName.toLowerCase()!==n.toLowerCase()){if(!l&&(t.nodeName!=="INPUT"||t.type!=="hidden"))break}else if(l){if(!t[ri])switch(n){case"meta":if(!t.hasAttribute("itemprop"))break;return t;case"link":if(f=t.getAttribute("rel"),f==="stylesheet"&&t.hasAttribute("data-precedence"))break;if(f!==h.rel||t.getAttribute("href")!==(h.href==null||h.href===""?null:h.href)||t.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin)||t.getAttribute("title")!==(h.title==null?null:h.title))break;return t;case"style":if(t.hasAttribute("data-precedence"))break;return t;case"script":if(f=t.getAttribute("src"),(f!==(h.src==null?null:h.src)||t.getAttribute("type")!==(h.type==null?null:h.type)||t.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin))&&f&&t.hasAttribute("async")&&!t.hasAttribute("itemprop"))break;return t;default:return t}}else if(n==="input"&&t.type==="hidden"){var f=h.name==null?null:""+h.name;if(h.type==="hidden"&&t.getAttribute("name")===f)return t}else return t;if(t=Mn(t.nextSibling),t===null)break}return null}function cE(t,n,a){if(n==="")return null;for(;t.nodeType!==3;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!a||(t=Mn(t.nextSibling),t===null))return null;return t}function Gy(t,n){for(;t.nodeType!==8;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!n||(t=Mn(t.nextSibling),t===null))return null;return t}function Jf(t){return t.data==="$?"||t.data==="$~"}function Wf(t){return t.data==="$!"||t.data==="$?"&&t.ownerDocument.readyState!=="loading"}function hE(t,n){var a=t.ownerDocument;if(t.data==="$~")t._reactRetry=n;else if(t.data!=="$?"||a.readyState!=="loading")n();else{var l=function(){n(),a.removeEventListener("DOMContentLoaded",l)};a.addEventListener("DOMContentLoaded",l),t._reactRetry=l}}function Mn(t){for(;t!=null;t=t.nextSibling){var n=t.nodeType;if(n===1||n===3)break;if(n===8){if(n=t.data,n==="$"||n==="$!"||n==="$?"||n==="$~"||n==="&"||n==="F!"||n==="F")break;if(n==="/$"||n==="/&")return null}}return t}var td=null;function Qy(t){t=t.nextSibling;for(var n=0;t;){if(t.nodeType===8){var a=t.data;if(a==="/$"||a==="/&"){if(n===0)return Mn(t.nextSibling);n--}else a!=="$"&&a!=="$!"&&a!=="$?"&&a!=="$~"&&a!=="&"||n++}t=t.nextSibling}return null}function Yy(t){t=t.previousSibling;for(var n=0;t;){if(t.nodeType===8){var a=t.data;if(a==="$"||a==="$!"||a==="$?"||a==="$~"||a==="&"){if(n===0)return t;n--}else a!=="/$"&&a!=="/&"||n++}t=t.previousSibling}return null}function Ky(t,n,a){switch(n=Ju(a),t){case"html":if(t=n.documentElement,!t)throw Error(s(452));return t;case"head":if(t=n.head,!t)throw Error(s(453));return t;case"body":if(t=n.body,!t)throw Error(s(454));return t;default:throw Error(s(451))}}function Xl(t){for(var n=t.attributes;n.length;)t.removeAttributeNode(n[0]);Gr(t)}var On=new Map,Xy=new Set;function Wu(t){return typeof t.getRootNode=="function"?t.getRootNode():t.nodeType===9?t:t.ownerDocument}var Ki=at.d;at.d={f:fE,r:dE,D:mE,C:pE,L:gE,m:yE,X:_E,S:vE,M:bE};function fE(){var t=Ki.f(),n=Fu();return t||n}function dE(t){var n=Sn(t);n!==null&&n.tag===5&&n.type==="form"?fg(n):Ki.r(t)}var ws=typeof document>"u"?null:document;function $y(t,n,a){var l=ws;if(l&&typeof n=="string"&&n){var h=en(n);h='link[rel="'+t+'"][href="'+h+'"]',typeof a=="string"&&(h+='[crossorigin="'+a+'"]'),Xy.has(h)||(Xy.add(h),t={rel:t,crossOrigin:a,href:n},l.querySelector(h)===null&&(n=l.createElement("link"),Fe(n,"link",t),xe(n),l.head.appendChild(n)))}}function mE(t){Ki.D(t),$y("dns-prefetch",t,null)}function pE(t,n){Ki.C(t,n),$y("preconnect",t,n)}function gE(t,n,a){Ki.L(t,n,a);var l=ws;if(l&&t&&n){var h='link[rel="preload"][as="'+en(n)+'"]';n==="image"&&a&&a.imageSrcSet?(h+='[imagesrcset="'+en(a.imageSrcSet)+'"]',typeof a.imageSizes=="string"&&(h+='[imagesizes="'+en(a.imageSizes)+'"]')):h+='[href="'+en(t)+'"]';var f=h;switch(n){case"style":f=Rs(t);break;case"script":f=Cs(t)}On.has(f)||(t=x({rel:"preload",href:n==="image"&&a&&a.imageSrcSet?void 0:t,as:n},a),On.set(f,t),l.querySelector(h)!==null||n==="style"&&l.querySelector($l(f))||n==="script"&&l.querySelector(Zl(f))||(n=l.createElement("link"),Fe(n,"link",t),xe(n),l.head.appendChild(n)))}}function yE(t,n){Ki.m(t,n);var a=ws;if(a&&t){var l=n&&typeof n.as=="string"?n.as:"script",h='link[rel="modulepreload"][as="'+en(l)+'"][href="'+en(t)+'"]',f=h;switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":f=Cs(t)}if(!On.has(f)&&(t=x({rel:"modulepreload",href:t},n),On.set(f,t),a.querySelector(h)===null)){switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(a.querySelector(Zl(f)))return}l=a.createElement("link"),Fe(l,"link",t),xe(l),a.head.appendChild(l)}}}function vE(t,n,a){Ki.S(t,n,a);var l=ws;if(l&&t){var h=li(l).hoistableStyles,f=Rs(t);n=n||"default";var _=h.get(f);if(!_){var T={loading:0,preload:null};if(_=l.querySelector($l(f)))T.loading=5;else{t=x({rel:"stylesheet",href:t,"data-precedence":n},a),(a=On.get(f))&&ed(t,a);var D=_=l.createElement("link");xe(D),Fe(D,"link",t),D._p=new Promise(function(H,K){D.onload=H,D.onerror=K}),D.addEventListener("load",function(){T.loading|=1}),D.addEventListener("error",function(){T.loading|=2}),T.loading|=4,tc(_,n,l)}_={type:"stylesheet",instance:_,count:1,state:T},h.set(f,_)}}}function _E(t,n){Ki.X(t,n);var a=ws;if(a&&t){var l=li(a).hoistableScripts,h=Cs(t),f=l.get(h);f||(f=a.querySelector(Zl(h)),f||(t=x({src:t,async:!0},n),(n=On.get(h))&&nd(t,n),f=a.createElement("script"),xe(f),Fe(f,"link",t),a.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},l.set(h,f))}}function bE(t,n){Ki.M(t,n);var a=ws;if(a&&t){var l=li(a).hoistableScripts,h=Cs(t),f=l.get(h);f||(f=a.querySelector(Zl(h)),f||(t=x({src:t,async:!0,type:"module"},n),(n=On.get(h))&&nd(t,n),f=a.createElement("script"),xe(f),Fe(f,"link",t),a.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},l.set(h,f))}}function Zy(t,n,a,l){var h=(h=gt.current)?Wu(h):null;if(!h)throw Error(s(446));switch(t){case"meta":case"title":return null;case"style":return typeof a.precedence=="string"&&typeof a.href=="string"?(n=Rs(a.href),a=li(h).hoistableStyles,l=a.get(n),l||(l={type:"style",instance:null,count:0,state:null},a.set(n,l)),l):{type:"void",instance:null,count:0,state:null};case"link":if(a.rel==="stylesheet"&&typeof a.href=="string"&&typeof a.precedence=="string"){t=Rs(a.href);var f=li(h).hoistableStyles,_=f.get(t);if(_||(h=h.ownerDocument||h,_={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},f.set(t,_),(f=h.querySelector($l(t)))&&!f._p&&(_.instance=f,_.state.loading=5),On.has(t)||(a={rel:"preload",as:"style",href:a.href,crossOrigin:a.crossOrigin,integrity:a.integrity,media:a.media,hrefLang:a.hrefLang,referrerPolicy:a.referrerPolicy},On.set(t,a),f||EE(h,t,a,_.state))),n&&l===null)throw Error(s(528,""));return _}if(n&&l!==null)throw Error(s(529,""));return null;case"script":return n=a.async,a=a.src,typeof a=="string"&&n&&typeof n!="function"&&typeof n!="symbol"?(n=Cs(a),a=li(h).hoistableScripts,l=a.get(n),l||(l={type:"script",instance:null,count:0,state:null},a.set(n,l)),l):{type:"void",instance:null,count:0,state:null};default:throw Error(s(444,t))}}function Rs(t){return'href="'+en(t)+'"'}function $l(t){return'link[rel="stylesheet"]['+t+"]"}function Jy(t){return x({},t,{"data-precedence":t.precedence,precedence:null})}function EE(t,n,a,l){t.querySelector('link[rel="preload"][as="style"]['+n+"]")?l.loading=1:(n=t.createElement("link"),l.preload=n,n.addEventListener("load",function(){return l.loading|=1}),n.addEventListener("error",function(){return l.loading|=2}),Fe(n,"link",a),xe(n),t.head.appendChild(n))}function Cs(t){return'[src="'+en(t)+'"]'}function Zl(t){return"script[async]"+t}function Wy(t,n,a){if(n.count++,n.instance===null)switch(n.type){case"style":var l=t.querySelector('style[data-href~="'+en(a.href)+'"]');if(l)return n.instance=l,xe(l),l;var h=x({},a,{"data-href":a.href,"data-precedence":a.precedence,href:null,precedence:null});return l=(t.ownerDocument||t).createElement("style"),xe(l),Fe(l,"style",h),tc(l,a.precedence,t),n.instance=l;case"stylesheet":h=Rs(a.href);var f=t.querySelector($l(h));if(f)return n.state.loading|=4,n.instance=f,xe(f),f;l=Jy(a),(h=On.get(h))&&ed(l,h),f=(t.ownerDocument||t).createElement("link"),xe(f);var _=f;return _._p=new Promise(function(T,D){_.onload=T,_.onerror=D}),Fe(f,"link",l),n.state.loading|=4,tc(f,a.precedence,t),n.instance=f;case"script":return f=Cs(a.src),(h=t.querySelector(Zl(f)))?(n.instance=h,xe(h),h):(l=a,(h=On.get(f))&&(l=x({},a),nd(l,h)),t=t.ownerDocument||t,h=t.createElement("script"),xe(h),Fe(h,"link",l),t.head.appendChild(h),n.instance=h);case"void":return null;default:throw Error(s(443,n.type))}else n.type==="stylesheet"&&(n.state.loading&4)===0&&(l=n.instance,n.state.loading|=4,tc(l,a.precedence,t));return n.instance}function tc(t,n,a){for(var l=a.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),h=l.length?l[l.length-1]:null,f=h,_=0;_<l.length;_++){var T=l[_];if(T.dataset.precedence===n)f=T;else if(f!==h)break}f?f.parentNode.insertBefore(t,f.nextSibling):(n=a.nodeType===9?a.head:a,n.insertBefore(t,n.firstChild))}function ed(t,n){t.crossOrigin==null&&(t.crossOrigin=n.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=n.referrerPolicy),t.title==null&&(t.title=n.title)}function nd(t,n){t.crossOrigin==null&&(t.crossOrigin=n.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=n.referrerPolicy),t.integrity==null&&(t.integrity=n.integrity)}var ec=null;function t0(t,n,a){if(ec===null){var l=new Map,h=ec=new Map;h.set(a,l)}else h=ec,l=h.get(a),l||(l=new Map,h.set(a,l));if(l.has(t))return l;for(l.set(t,null),a=a.getElementsByTagName(t),h=0;h<a.length;h++){var f=a[h];if(!(f[ri]||f[Te]||t==="link"&&f.getAttribute("rel")==="stylesheet")&&f.namespaceURI!=="http://www.w3.org/2000/svg"){var _=f.getAttribute(n)||"";_=t+_;var T=l.get(_);T?T.push(f):l.set(_,[f])}}return l}function e0(t,n,a){t=t.ownerDocument||t,t.head.insertBefore(a,n==="title"?t.querySelector("head > title"):null)}function TE(t,n,a){if(a===1||n.itemProp!=null)return!1;switch(t){case"meta":case"title":return!0;case"style":if(typeof n.precedence!="string"||typeof n.href!="string"||n.href==="")break;return!0;case"link":if(typeof n.rel!="string"||typeof n.href!="string"||n.href===""||n.onLoad||n.onError)break;switch(n.rel){case"stylesheet":return t=n.disabled,typeof n.precedence=="string"&&t==null;default:return!0}case"script":if(n.async&&typeof n.async!="function"&&typeof n.async!="symbol"&&!n.onLoad&&!n.onError&&n.src&&typeof n.src=="string")return!0}return!1}function n0(t){return!(t.type==="stylesheet"&&(t.state.loading&3)===0)}function xE(t,n,a,l){if(a.type==="stylesheet"&&(typeof l.media!="string"||matchMedia(l.media).matches!==!1)&&(a.state.loading&4)===0){if(a.instance===null){var h=Rs(l.href),f=n.querySelector($l(h));if(f){n=f._p,n!==null&&typeof n=="object"&&typeof n.then=="function"&&(t.count++,t=nc.bind(t),n.then(t,t)),a.state.loading|=4,a.instance=f,xe(f);return}f=n.ownerDocument||n,l=Jy(l),(h=On.get(h))&&ed(l,h),f=f.createElement("link"),xe(f);var _=f;_._p=new Promise(function(T,D){_.onload=T,_.onerror=D}),Fe(f,"link",l),a.instance=f}t.stylesheets===null&&(t.stylesheets=new Map),t.stylesheets.set(a,n),(n=a.state.preload)&&(a.state.loading&3)===0&&(t.count++,a=nc.bind(t),n.addEventListener("load",a),n.addEventListener("error",a))}}var id=0;function SE(t,n){return t.stylesheets&&t.count===0&&ac(t,t.stylesheets),0<t.count||0<t.imgCount?function(a){var l=setTimeout(function(){if(t.stylesheets&&ac(t,t.stylesheets),t.unsuspend){var f=t.unsuspend;t.unsuspend=null,f()}},6e4+n);0<t.imgBytes&&id===0&&(id=62500*aE());var h=setTimeout(function(){if(t.waitingForImages=!1,t.count===0&&(t.stylesheets&&ac(t,t.stylesheets),t.unsuspend)){var f=t.unsuspend;t.unsuspend=null,f()}},(t.imgBytes>id?50:800)+n);return t.unsuspend=a,function(){t.unsuspend=null,clearTimeout(l),clearTimeout(h)}}:null}function nc(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)ac(this,this.stylesheets);else if(this.unsuspend){var t=this.unsuspend;this.unsuspend=null,t()}}}var ic=null;function ac(t,n){t.stylesheets=null,t.unsuspend!==null&&(t.count++,ic=new Map,n.forEach(AE,t),ic=null,nc.call(t))}function AE(t,n){if(!(n.state.loading&4)){var a=ic.get(t);if(a)var l=a.get(null);else{a=new Map,ic.set(t,a);for(var h=t.querySelectorAll("link[data-precedence],style[data-precedence]"),f=0;f<h.length;f++){var _=h[f];(_.nodeName==="LINK"||_.getAttribute("media")!=="not all")&&(a.set(_.dataset.precedence,_),l=_)}l&&a.set(null,l)}h=n.instance,_=h.getAttribute("data-precedence"),f=a.get(_)||l,f===l&&a.set(null,h),a.set(_,h),this.count++,l=nc.bind(this),h.addEventListener("load",l),h.addEventListener("error",l),f?f.parentNode.insertBefore(h,f.nextSibling):(t=t.nodeType===9?t.head:t,t.insertBefore(h,t.firstChild)),n.state.loading|=4}}var Jl={$$typeof:$,Provider:null,Consumer:null,_currentValue:ot,_currentValue2:ot,_threadCount:0};function wE(t,n,a,l,h,f,_,T,D){this.tag=1,this.containerInfo=t,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=ii(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=ii(0),this.hiddenUpdates=ii(null),this.identifierPrefix=l,this.onUncaughtError=h,this.onCaughtError=f,this.onRecoverableError=_,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=D,this.incompleteTransitions=new Map}function i0(t,n,a,l,h,f,_,T,D,H,K,tt){return t=new wE(t,n,a,_,D,H,K,tt,T),n=1,f===!0&&(n|=24),f=pn(3,null,null,n),t.current=f,f.stateNode=t,n=Oh(),n.refCount++,t.pooledCache=n,n.refCount++,f.memoizedState={element:l,isDehydrated:a,cache:n},kh(f),t}function a0(t){return t?(t=rs,t):rs}function r0(t,n,a,l,h,f){h=a0(h),l.context===null?l.context=h:l.pendingContext=h,l=va(n),l.payload={element:a},f=f===void 0?null:f,f!==null&&(l.callback=f),a=_a(t,l,n),a!==null&&(on(a,t,n),Dl(a,t,n))}function s0(t,n){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var a=t.retryLane;t.retryLane=a!==0&&a<n?a:n}}function ad(t,n){s0(t,n),(t=t.alternate)&&s0(t,n)}function l0(t){if(t.tag===13||t.tag===31){var n=dr(t,67108864);n!==null&&on(n,t,67108864),ad(t,67108864)}}function o0(t){if(t.tag===13||t.tag===31){var n=bn();n=er(n);var a=dr(t,n);a!==null&&on(a,t,n),ad(t,n)}}var rc=!0;function RE(t,n,a,l){var h=B.T;B.T=null;var f=at.p;try{at.p=2,rd(t,n,a,l)}finally{at.p=f,B.T=h}}function CE(t,n,a,l){var h=B.T;B.T=null;var f=at.p;try{at.p=8,rd(t,n,a,l)}finally{at.p=f,B.T=h}}function rd(t,n,a,l){if(rc){var h=sd(l);if(h===null)Gf(t,n,l,sc,a),c0(t,l);else if(DE(h,t,n,a,l))l.stopPropagation();else if(c0(t,l),n&4&&-1<NE.indexOf(t)){for(;h!==null;){var f=Sn(h);if(f!==null)switch(f.tag){case 3:if(f=f.stateNode,f.current.memoizedState.isDehydrated){var _=ei(f.pendingLanes);if(_!==0){var T=f;for(T.pendingLanes|=2,T.entangledLanes|=2;_;){var D=1<<31-me(_);T.entanglements[1]|=D,_&=~D}bi(f),(Ft&6)===0&&(qu=Je()+500,Ql(0))}}break;case 31:case 13:T=dr(f,2),T!==null&&on(T,f,2),Fu(),ad(f,2)}if(f=sd(l),f===null&&Gf(t,n,l,sc,a),f===h)break;h=f}h!==null&&l.stopPropagation()}else Gf(t,n,l,null,a)}}function sd(t){return t=An(t),ld(t)}var sc=null;function ld(t){if(sc=null,t=si(t),t!==null){var n=c(t);if(n===null)t=null;else{var a=n.tag;if(a===13){if(t=d(n),t!==null)return t;t=null}else if(a===31){if(t=p(n),t!==null)return t;t=null}else if(a===3){if(n.stateNode.current.memoizedState.isDehydrated)return n.tag===3?n.stateNode.containerInfo:null;t=null}else n!==t&&(t=null)}}return sc=t,null}function u0(t){switch(t){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Za()){case el:return 2;case nl:return 8;case ia:case fh:return 32;case Lo:return 268435456;default:return 32}default:return 32}}var od=!1,Da=null,Ia=null,Va=null,Wl=new Map,to=new Map,ja=[],NE="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function c0(t,n){switch(t){case"focusin":case"focusout":Da=null;break;case"dragenter":case"dragleave":Ia=null;break;case"mouseover":case"mouseout":Va=null;break;case"pointerover":case"pointerout":Wl.delete(n.pointerId);break;case"gotpointercapture":case"lostpointercapture":to.delete(n.pointerId)}}function eo(t,n,a,l,h,f){return t===null||t.nativeEvent!==f?(t={blockedOn:n,domEventName:a,eventSystemFlags:l,nativeEvent:f,targetContainers:[h]},n!==null&&(n=Sn(n),n!==null&&l0(n)),t):(t.eventSystemFlags|=l,n=t.targetContainers,h!==null&&n.indexOf(h)===-1&&n.push(h),t)}function DE(t,n,a,l,h){switch(n){case"focusin":return Da=eo(Da,t,n,a,l,h),!0;case"dragenter":return Ia=eo(Ia,t,n,a,l,h),!0;case"mouseover":return Va=eo(Va,t,n,a,l,h),!0;case"pointerover":var f=h.pointerId;return Wl.set(f,eo(Wl.get(f)||null,t,n,a,l,h)),!0;case"gotpointercapture":return f=h.pointerId,to.set(f,eo(to.get(f)||null,t,n,a,l,h)),!0}return!1}function h0(t){var n=si(t.target);if(n!==null){var a=c(n);if(a!==null){if(n=a.tag,n===13){if(n=d(a),n!==null){t.blockedOn=n,qn(t.priority,function(){o0(a)});return}}else if(n===31){if(n=p(a),n!==null){t.blockedOn=n,qn(t.priority,function(){o0(a)});return}}else if(n===3&&a.stateNode.current.memoizedState.isDehydrated){t.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}t.blockedOn=null}function lc(t){if(t.blockedOn!==null)return!1;for(var n=t.targetContainers;0<n.length;){var a=sd(t.nativeEvent);if(a===null){a=t.nativeEvent;var l=new a.constructor(a.type,a);ml=l,a.target.dispatchEvent(l),ml=null}else return n=Sn(a),n!==null&&l0(n),t.blockedOn=a,!1;n.shift()}return!0}function f0(t,n,a){lc(t)&&a.delete(n)}function IE(){od=!1,Da!==null&&lc(Da)&&(Da=null),Ia!==null&&lc(Ia)&&(Ia=null),Va!==null&&lc(Va)&&(Va=null),Wl.forEach(f0),to.forEach(f0)}function oc(t,n){t.blockedOn===n&&(t.blockedOn=null,od||(od=!0,r.unstable_scheduleCallback(r.unstable_NormalPriority,IE)))}var uc=null;function d0(t){uc!==t&&(uc=t,r.unstable_scheduleCallback(r.unstable_NormalPriority,function(){uc===t&&(uc=null);for(var n=0;n<t.length;n+=3){var a=t[n],l=t[n+1],h=t[n+2];if(typeof l!="function"){if(ld(l||a)===null)continue;break}var f=Sn(a);f!==null&&(t.splice(n,3),n-=3,sf(f,{pending:!0,data:h,method:a.method,action:l},l,h))}}))}function Ns(t){function n(D){return oc(D,t)}Da!==null&&oc(Da,t),Ia!==null&&oc(Ia,t),Va!==null&&oc(Va,t),Wl.forEach(n),to.forEach(n);for(var a=0;a<ja.length;a++){var l=ja[a];l.blockedOn===t&&(l.blockedOn=null)}for(;0<ja.length&&(a=ja[0],a.blockedOn===null);)h0(a),a.blockedOn===null&&ja.shift();if(a=(t.ownerDocument||t).$$reactFormReplay,a!=null)for(l=0;l<a.length;l+=3){var h=a[l],f=a[l+1],_=h[Oe]||null;if(typeof f=="function")_||d0(a);else if(_){var T=null;if(f&&f.hasAttribute("formAction")){if(h=f,_=f[Oe]||null)T=_.formAction;else if(ld(h)!==null)continue}else T=_.action;typeof T=="function"?a[l+1]=T:(a.splice(l,3),l-=3),d0(a)}}}function m0(){function t(f){f.canIntercept&&f.info==="react-transition"&&f.intercept({handler:function(){return new Promise(function(_){return h=_})},focusReset:"manual",scroll:"manual"})}function n(){h!==null&&(h(),h=null),l||setTimeout(a,20)}function a(){if(!l&&!navigation.transition){var f=navigation.currentEntry;f&&f.url!=null&&navigation.navigate(f.url,{state:f.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var l=!1,h=null;return navigation.addEventListener("navigate",t),navigation.addEventListener("navigatesuccess",n),navigation.addEventListener("navigateerror",n),setTimeout(a,100),function(){l=!0,navigation.removeEventListener("navigate",t),navigation.removeEventListener("navigatesuccess",n),navigation.removeEventListener("navigateerror",n),h!==null&&(h(),h=null)}}}function ud(t){this._internalRoot=t}cc.prototype.render=ud.prototype.render=function(t){var n=this._internalRoot;if(n===null)throw Error(s(409));var a=n.current,l=bn();r0(a,l,t,n,null,null)},cc.prototype.unmount=ud.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var n=t.containerInfo;r0(t.current,2,null,t,null,null),Fu(),n[ai]=null}};function cc(t){this._internalRoot=t}cc.prototype.unstable_scheduleHydration=function(t){if(t){var n=Fo();t={blockedOn:null,target:t,priority:n};for(var a=0;a<ja.length&&n!==0&&n<ja[a].priority;a++);ja.splice(a,0,t),a===0&&h0(t)}};var p0=e.version;if(p0!=="19.2.3")throw Error(s(527,p0,"19.2.3"));at.findDOMNode=function(t){var n=t._reactInternals;if(n===void 0)throw typeof t.render=="function"?Error(s(188)):(t=Object.keys(t).join(","),Error(s(268,t)));return t=y(n),t=t!==null?E(t):null,t=t===null?null:t.stateNode,t};var VE={bundleType:0,version:"19.2.3",rendererPackageName:"react-dom",currentDispatcherRef:B,reconcilerVersion:"19.2.3"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var hc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!hc.isDisabled&&hc.supportsFiber)try{Pn=hc.inject(VE),ke=hc}catch{}}return io.createRoot=function(t,n){if(!o(t))throw Error(s(299));var a=!1,l="",h=Tg,f=xg,_=Sg;return n!=null&&(n.unstable_strictMode===!0&&(a=!0),n.identifierPrefix!==void 0&&(l=n.identifierPrefix),n.onUncaughtError!==void 0&&(h=n.onUncaughtError),n.onCaughtError!==void 0&&(f=n.onCaughtError),n.onRecoverableError!==void 0&&(_=n.onRecoverableError)),n=i0(t,1,!1,null,null,a,l,null,h,f,_,m0),t[ai]=n.current,Ff(t),new ud(n)},io.hydrateRoot=function(t,n,a){if(!o(t))throw Error(s(299));var l=!1,h="",f=Tg,_=xg,T=Sg,D=null;return a!=null&&(a.unstable_strictMode===!0&&(l=!0),a.identifierPrefix!==void 0&&(h=a.identifierPrefix),a.onUncaughtError!==void 0&&(f=a.onUncaughtError),a.onCaughtError!==void 0&&(_=a.onCaughtError),a.onRecoverableError!==void 0&&(T=a.onRecoverableError),a.formState!==void 0&&(D=a.formState)),n=i0(t,1,!0,n,a??null,l,h,D,f,_,T,m0),n.context=a0(null),a=n.current,l=bn(),l=er(l),h=va(l),h.callback=null,_a(a,h,l),a=l,n.current.lanes=a,Wa(n,a),bi(n),t[ai]=n.current,Ff(t),new cc(n)},io.version="19.2.3",io}var A0;function FE(){if(A0)return fd.exports;A0=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(e){console.error(e)}}return r(),fd.exports=HE(),fd.exports}var GE=FE();var w0="popstate";function QE(r={}){function e(o,c){let{pathname:d="/",search:p="",hash:g=""}=Or(o.location.hash.substring(1));return!d.startsWith("/")&&!d.startsWith(".")&&(d="/"+d),Rd("",{pathname:d,search:p,hash:g},c.state&&c.state.usr||null,c.state&&c.state.key||"default")}function i(o,c){let d=o.document.querySelector("base"),p="";if(d&&d.getAttribute("href")){let g=o.location.href,y=g.indexOf("#");p=y===-1?g:g.slice(0,y)}return p+"#"+(typeof c=="string"?c:vo(c))}function s(o,c){Tn(o.pathname.charAt(0)==="/",`relative pathnames are not supported in hash history.push(${JSON.stringify(c)})`)}return KE(e,i,s,r)}function ce(r,e){if(r===!1||r===null||typeof r>"u")throw new Error(e)}function Tn(r,e){if(!r){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function YE(){return Math.random().toString(36).substring(2,10)}function R0(r,e){return{usr:r.state,key:r.key,idx:e}}function Rd(r,e,i=null,s){return{pathname:typeof r=="string"?r:r.pathname,search:"",hash:"",...typeof e=="string"?Or(e):e,state:i,key:e&&e.key||s||YE()}}function vo({pathname:r="/",search:e="",hash:i=""}){return e&&e!=="?"&&(r+=e.charAt(0)==="?"?e:"?"+e),i&&i!=="#"&&(r+=i.charAt(0)==="#"?i:"#"+i),r}function Or(r){let e={};if(r){let i=r.indexOf("#");i>=0&&(e.hash=r.substring(i),r=r.substring(0,i));let s=r.indexOf("?");s>=0&&(e.search=r.substring(s),r=r.substring(0,s)),r&&(e.pathname=r)}return e}function KE(r,e,i,s={}){let{window:o=document.defaultView,v5Compat:c=!1}=s,d=o.history,p="POP",g=null,y=E();y==null&&(y=0,d.replaceState({...d.state,idx:y},""));function E(){return(d.state||{idx:null}).idx}function x(){p="POP";let k=E(),J=k==null?null:k-y;y=k,g&&g({action:p,location:X.location,delta:J})}function R(k,J){p="PUSH";let it=Rd(X.location,k,J);i&&i(it,k),y=E()+1;let $=R0(it,y),_t=X.createHref(it);try{d.pushState($,"",_t)}catch(xt){if(xt instanceof DOMException&&xt.name==="DataCloneError")throw xt;o.location.assign(_t)}c&&g&&g({action:p,location:X.location,delta:1})}function U(k,J){p="REPLACE";let it=Rd(X.location,k,J);i&&i(it,k),y=E();let $=R0(it,y),_t=X.createHref(it);d.replaceState($,"",_t),c&&g&&g({action:p,location:X.location,delta:0})}function Y(k){return XE(k)}let X={get action(){return p},get location(){return r(o,d)},listen(k){if(g)throw new Error("A history only accepts one active listener");return o.addEventListener(w0,x),g=k,()=>{o.removeEventListener(w0,x),g=null}},createHref(k){return e(o,k)},createURL:Y,encodeLocation(k){let J=Y(k);return{pathname:J.pathname,search:J.search,hash:J.hash}},push:R,replace:U,go(k){return d.go(k)}};return X}function XE(r,e=!1){let i="http://localhost";typeof window<"u"&&(i=window.location.origin!=="null"?window.location.origin:window.location.href),ce(i,"No window.location.(origin|href) available to create URL");let s=typeof r=="string"?r:vo(r);return s=s.replace(/ $/,"%20"),!e&&s.startsWith("//")&&(s=i+s),new URL(s,i)}function Xv(r,e,i="/"){return $E(r,e,i,!1)}function $E(r,e,i,s){let o=typeof e=="string"?Or(e):e,c=Zi(o.pathname||"/",i);if(c==null)return null;let d=$v(r);ZE(d);let p=null;for(let g=0;p==null&&g<d.length;++g){let y=oT(c);p=sT(d[g],y,s)}return p}function $v(r,e=[],i=[],s="",o=!1){let c=(d,p,g=o,y)=>{let E={relativePath:y===void 0?d.path||"":y,caseSensitive:d.caseSensitive===!0,childrenIndex:p,route:d};if(E.relativePath.startsWith("/")){if(!E.relativePath.startsWith(s)&&g)return;ce(E.relativePath.startsWith(s),`Absolute route path "${E.relativePath}" nested under path "${s}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),E.relativePath=E.relativePath.slice(s.length)}let x=$i([s,E.relativePath]),R=i.concat(E);d.children&&d.children.length>0&&(ce(d.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${x}".`),$v(d.children,e,R,x,g)),!(d.path==null&&!d.index)&&e.push({path:x,score:aT(x,d.index),routesMeta:R})};return r.forEach((d,p)=>{if(d.path===""||!d.path?.includes("?"))c(d,p);else for(let g of Zv(d.path))c(d,p,!0,g)}),e}function Zv(r){let e=r.split("/");if(e.length===0)return[];let[i,...s]=e,o=i.endsWith("?"),c=i.replace(/\?$/,"");if(s.length===0)return o?[c,""]:[c];let d=Zv(s.join("/")),p=[];return p.push(...d.map(g=>g===""?c:[c,g].join("/"))),o&&p.push(...d),p.map(g=>r.startsWith("/")&&g===""?"/":g)}function ZE(r){r.sort((e,i)=>e.score!==i.score?i.score-e.score:rT(e.routesMeta.map(s=>s.childrenIndex),i.routesMeta.map(s=>s.childrenIndex)))}var JE=/^:[\w-]+$/,WE=3,tT=2,eT=1,nT=10,iT=-2,C0=r=>r==="*";function aT(r,e){let i=r.split("/"),s=i.length;return i.some(C0)&&(s+=iT),e&&(s+=tT),i.filter(o=>!C0(o)).reduce((o,c)=>o+(JE.test(c)?WE:c===""?eT:nT),s)}function rT(r,e){return r.length===e.length&&r.slice(0,-1).every((s,o)=>s===e[o])?r[r.length-1]-e[e.length-1]:0}function sT(r,e,i=!1){let{routesMeta:s}=r,o={},c="/",d=[];for(let p=0;p<s.length;++p){let g=s[p],y=p===s.length-1,E=c==="/"?e:e.slice(c.length)||"/",x=wc({path:g.relativePath,caseSensitive:g.caseSensitive,end:y},E),R=g.route;if(!x&&y&&i&&!s[s.length-1].route.index&&(x=wc({path:g.relativePath,caseSensitive:g.caseSensitive,end:!1},E)),!x)return null;Object.assign(o,x.params),d.push({params:o,pathname:$i([c,x.pathname]),pathnameBase:dT($i([c,x.pathnameBase])),route:R}),x.pathnameBase!=="/"&&(c=$i([c,x.pathnameBase]))}return d}function wc(r,e){typeof r=="string"&&(r={path:r,caseSensitive:!1,end:!0});let[i,s]=lT(r.path,r.caseSensitive,r.end),o=e.match(i);if(!o)return null;let c=o[0],d=c.replace(/(.)\/+$/,"$1"),p=o.slice(1);return{params:s.reduce((y,{paramName:E,isOptional:x},R)=>{if(E==="*"){let Y=p[R]||"";d=c.slice(0,c.length-Y.length).replace(/(.)\/+$/,"$1")}const U=p[R];return x&&!U?y[E]=void 0:y[E]=(U||"").replace(/%2F/g,"/"),y},{}),pathname:c,pathnameBase:d,pattern:r}}function lT(r,e=!1,i=!0){Tn(r==="*"||!r.endsWith("*")||r.endsWith("/*"),`Route path "${r}" will be treated as if it were "${r.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${r.replace(/\*$/,"/*")}".`);let s=[],o="^"+r.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(d,p,g)=>(s.push({paramName:p,isOptional:g!=null}),g?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return r.endsWith("*")?(s.push({paramName:"*"}),o+=r==="*"||r==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):i?o+="\\/*$":r!==""&&r!=="/"&&(o+="(?:(?=\\/|$))"),[new RegExp(o,e?void 0:"i"),s]}function oT(r){try{return r.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return Tn(!1,`The URL path "${r}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),r}}function Zi(r,e){if(e==="/")return r;if(!r.toLowerCase().startsWith(e.toLowerCase()))return null;let i=e.endsWith("/")?e.length-1:e.length,s=r.charAt(i);return s&&s!=="/"?null:r.slice(i)||"/"}var uT=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,cT=r=>uT.test(r);function hT(r,e="/"){let{pathname:i,search:s="",hash:o=""}=typeof r=="string"?Or(r):r,c;if(i)if(cT(i))c=i;else{if(i.includes("//")){let d=i;i=i.replace(/\/\/+/g,"/"),Tn(!1,`Pathnames cannot have embedded double slashes - normalizing ${d} -> ${i}`)}i.startsWith("/")?c=N0(i.substring(1),"/"):c=N0(i,e)}else c=e;return{pathname:c,search:mT(s),hash:pT(o)}}function N0(r,e){let i=e.replace(/\/+$/,"").split("/");return r.split("/").forEach(o=>{o===".."?i.length>1&&i.pop():o!=="."&&i.push(o)}),i.length>1?i.join("/"):"/"}function gd(r,e,i,s){return`Cannot include a '${r}' character in a manually specified \`to.${e}\` field [${JSON.stringify(s)}].  Please separate it out to the \`to.${i}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function fT(r){return r.filter((e,i)=>i===0||e.route.path&&e.route.path.length>0)}function em(r){let e=fT(r);return e.map((i,s)=>s===e.length-1?i.pathname:i.pathnameBase)}function nm(r,e,i,s=!1){let o;typeof r=="string"?o=Or(r):(o={...r},ce(!o.pathname||!o.pathname.includes("?"),gd("?","pathname","search",o)),ce(!o.pathname||!o.pathname.includes("#"),gd("#","pathname","hash",o)),ce(!o.search||!o.search.includes("#"),gd("#","search","hash",o)));let c=r===""||o.pathname==="",d=c?"/":o.pathname,p;if(d==null)p=i;else{let x=e.length-1;if(!s&&d.startsWith("..")){let R=d.split("/");for(;R[0]==="..";)R.shift(),x-=1;o.pathname=R.join("/")}p=x>=0?e[x]:"/"}let g=hT(o,p),y=d&&d!=="/"&&d.endsWith("/"),E=(c||d===".")&&i.endsWith("/");return!g.pathname.endsWith("/")&&(y||E)&&(g.pathname+="/"),g}var $i=r=>r.join("/").replace(/\/\/+/g,"/"),dT=r=>r.replace(/\/+$/,"").replace(/^\/*/,"/"),mT=r=>!r||r==="?"?"":r.startsWith("?")?r:"?"+r,pT=r=>!r||r==="#"?"":r.startsWith("#")?r:"#"+r;function gT(r){return r!=null&&typeof r.status=="number"&&typeof r.statusText=="string"&&typeof r.internal=="boolean"&&"data"in r}function yT(r){return r.map(e=>e.route.path).filter(Boolean).join("/").replace(/\/\/*/g,"/")||"/"}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var Jv=["POST","PUT","PATCH","DELETE"];new Set(Jv);var vT=["GET",...Jv];new Set(vT);var Fs=L.createContext(null);Fs.displayName="DataRouter";var Fc=L.createContext(null);Fc.displayName="DataRouterState";L.createContext(!1);var Wv=L.createContext({isTransitioning:!1});Wv.displayName="ViewTransition";var _T=L.createContext(new Map);_T.displayName="Fetchers";var bT=L.createContext(null);bT.displayName="Await";var Ln=L.createContext(null);Ln.displayName="Navigation";var Co=L.createContext(null);Co.displayName="Location";var kn=L.createContext({outlet:null,matches:[],isDataRoute:!1});kn.displayName="Route";var im=L.createContext(null);im.displayName="RouteError";function ET(r,{relative:e}={}){ce(Gs(),"useHref() may be used only in the context of a <Router> component.");let{basename:i,navigator:s}=L.useContext(Ln),{hash:o,pathname:c,search:d}=Do(r,{relative:e}),p=c;return i!=="/"&&(p=c==="/"?i:$i([i,c])),s.createHref({pathname:p,search:d,hash:o})}function Gs(){return L.useContext(Co)!=null}function Qa(){return ce(Gs(),"useLocation() may be used only in the context of a <Router> component."),L.useContext(Co).location}var t_="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function e_(r){L.useContext(Ln).static||L.useLayoutEffect(r)}function No(){let{isDataRoute:r}=L.useContext(kn);return r?zT():TT()}function TT(){ce(Gs(),"useNavigate() may be used only in the context of a <Router> component.");let r=L.useContext(Fs),{basename:e,navigator:i}=L.useContext(Ln),{matches:s}=L.useContext(kn),{pathname:o}=Qa(),c=JSON.stringify(em(s)),d=L.useRef(!1);return e_(()=>{d.current=!0}),L.useCallback((g,y={})=>{if(Tn(d.current,t_),!d.current)return;if(typeof g=="number"){i.go(g);return}let E=nm(g,JSON.parse(c),o,y.relative==="path");r==null&&e!=="/"&&(E.pathname=E.pathname==="/"?e:$i([e,E.pathname])),(y.replace?i.replace:i.push)(E,y.state,y)},[e,i,c,o,r])}var xT=L.createContext(null);function ST(r){let e=L.useContext(kn).outlet;return L.useMemo(()=>e&&L.createElement(xT.Provider,{value:r},e),[e,r])}function am(){let{matches:r}=L.useContext(kn),e=r[r.length-1];return e?e.params:{}}function Do(r,{relative:e}={}){let{matches:i}=L.useContext(kn),{pathname:s}=Qa(),o=JSON.stringify(em(i));return L.useMemo(()=>nm(r,JSON.parse(o),s,e==="path"),[r,o,s,e])}function AT(r,e){return n_(r,e)}function n_(r,e,i,s,o){ce(Gs(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:c}=L.useContext(Ln),{matches:d}=L.useContext(kn),p=d[d.length-1],g=p?p.params:{},y=p?p.pathname:"/",E=p?p.pathnameBase:"/",x=p&&p.route;{let it=x&&x.path||"";i_(y,!x||it.endsWith("*")||it.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${y}" (under <Route path="${it}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${it}"> to <Route path="${it==="/"?"*":`${it}/*`}">.`)}let R=Qa(),U;if(e){let it=typeof e=="string"?Or(e):e;ce(E==="/"||it.pathname?.startsWith(E),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${E}" but pathname "${it.pathname}" was given in the \`location\` prop.`),U=it}else U=R;let Y=U.pathname||"/",X=Y;if(E!=="/"){let it=E.replace(/^\//,"").split("/");X="/"+Y.replace(/^\//,"").split("/").slice(it.length).join("/")}let k=Xv(r,{pathname:X});Tn(x||k!=null,`No routes matched location "${U.pathname}${U.search}${U.hash}" `),Tn(k==null||k[k.length-1].route.element!==void 0||k[k.length-1].route.Component!==void 0||k[k.length-1].route.lazy!==void 0,`Matched leaf route at location "${U.pathname}${U.search}${U.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let J=DT(k&&k.map(it=>Object.assign({},it,{params:Object.assign({},g,it.params),pathname:$i([E,c.encodeLocation?c.encodeLocation(it.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:it.pathname]),pathnameBase:it.pathnameBase==="/"?E:$i([E,c.encodeLocation?c.encodeLocation(it.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:it.pathnameBase])})),d,i,s,o);return e&&J?L.createElement(Co.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...U},navigationType:"POP"}},J):J}function wT(){let r=OT(),e=gT(r)?`${r.status} ${r.statusText}`:r instanceof Error?r.message:JSON.stringify(r),i=r instanceof Error?r.stack:null,s="rgba(200,200,200, 0.5)",o={padding:"0.5rem",backgroundColor:s},c={padding:"2px 4px",backgroundColor:s},d=null;return console.error("Error handled by React Router default ErrorBoundary:",r),d=L.createElement(L.Fragment,null,L.createElement("p",null," Hey developer "),L.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",L.createElement("code",{style:c},"ErrorBoundary")," or"," ",L.createElement("code",{style:c},"errorElement")," prop on your route.")),L.createElement(L.Fragment,null,L.createElement("h2",null,"Unexpected Application Error!"),L.createElement("h3",{style:{fontStyle:"italic"}},e),i?L.createElement("pre",{style:o},i):null,d)}var RT=L.createElement(wT,null),CT=class extends L.Component{constructor(r){super(r),this.state={location:r.location,revalidation:r.revalidation,error:r.error}}static getDerivedStateFromError(r){return{error:r}}static getDerivedStateFromProps(r,e){return e.location!==r.location||e.revalidation!=="idle"&&r.revalidation==="idle"?{error:r.error,location:r.location,revalidation:r.revalidation}:{error:r.error!==void 0?r.error:e.error,location:e.location,revalidation:r.revalidation||e.revalidation}}componentDidCatch(r,e){this.props.onError?this.props.onError(r,e):console.error("React Router caught the following error during render",r)}render(){return this.state.error!==void 0?L.createElement(kn.Provider,{value:this.props.routeContext},L.createElement(im.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function NT({routeContext:r,match:e,children:i}){let s=L.useContext(Fs);return s&&s.static&&s.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=e.route.id),L.createElement(kn.Provider,{value:r},i)}function DT(r,e=[],i=null,s=null,o=null){if(r==null){if(!i)return null;if(i.errors)r=i.matches;else if(e.length===0&&!i.initialized&&i.matches.length>0)r=i.matches;else return null}let c=r,d=i?.errors;if(d!=null){let E=c.findIndex(x=>x.route.id&&d?.[x.route.id]!==void 0);ce(E>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(d).join(",")}`),c=c.slice(0,Math.min(c.length,E+1))}let p=!1,g=-1;if(i)for(let E=0;E<c.length;E++){let x=c[E];if((x.route.HydrateFallback||x.route.hydrateFallbackElement)&&(g=E),x.route.id){let{loaderData:R,errors:U}=i,Y=x.route.loader&&!R.hasOwnProperty(x.route.id)&&(!U||U[x.route.id]===void 0);if(x.route.lazy||Y){p=!0,g>=0?c=c.slice(0,g+1):c=[c[0]];break}}}let y=i&&s?(E,x)=>{s(E,{location:i.location,params:i.matches?.[0]?.params??{},unstable_pattern:yT(i.matches),errorInfo:x})}:void 0;return c.reduceRight((E,x,R)=>{let U,Y=!1,X=null,k=null;i&&(U=d&&x.route.id?d[x.route.id]:void 0,X=x.route.errorElement||RT,p&&(g<0&&R===0?(i_("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),Y=!0,k=null):g===R&&(Y=!0,k=x.route.hydrateFallbackElement||null)));let J=e.concat(c.slice(0,R+1)),it=()=>{let $;return U?$=X:Y?$=k:x.route.Component?$=L.createElement(x.route.Component,null):x.route.element?$=x.route.element:$=E,L.createElement(NT,{match:x,routeContext:{outlet:E,matches:J,isDataRoute:i!=null},children:$})};return i&&(x.route.ErrorBoundary||x.route.errorElement||R===0)?L.createElement(CT,{location:i.location,revalidation:i.revalidation,component:X,error:U,children:it(),routeContext:{outlet:null,matches:J,isDataRoute:!0},onError:y}):it()},null)}function rm(r){return`${r} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function IT(r){let e=L.useContext(Fs);return ce(e,rm(r)),e}function VT(r){let e=L.useContext(Fc);return ce(e,rm(r)),e}function jT(r){let e=L.useContext(kn);return ce(e,rm(r)),e}function sm(r){let e=jT(r),i=e.matches[e.matches.length-1];return ce(i.route.id,`${r} can only be used on routes that contain a unique "id"`),i.route.id}function MT(){return sm("useRouteId")}function OT(){let r=L.useContext(im),e=VT("useRouteError"),i=sm("useRouteError");return r!==void 0?r:e.errors?.[i]}function zT(){let{router:r}=IT("useNavigate"),e=sm("useNavigate"),i=L.useRef(!1);return e_(()=>{i.current=!0}),L.useCallback(async(o,c={})=>{Tn(i.current,t_),i.current&&(typeof o=="number"?await r.navigate(o):await r.navigate(o,{fromRouteId:e,...c}))},[r,e])}var D0={};function i_(r,e,i){!e&&!D0[r]&&(D0[r]=!0,Tn(!1,i))}L.memo(UT);function UT({routes:r,future:e,state:i,unstable_onError:s}){return n_(r,void 0,i,s,e)}function LT({to:r,replace:e,state:i,relative:s}){ce(Gs(),"<Navigate> may be used only in the context of a <Router> component.");let{static:o}=L.useContext(Ln);Tn(!o,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:c}=L.useContext(kn),{pathname:d}=Qa(),p=No(),g=nm(r,em(c),d,s==="path"),y=JSON.stringify(g);return L.useEffect(()=>{p(JSON.parse(y),{replace:e,state:i,relative:s})},[p,y,s,e,i]),null}function a_(r){return ST(r.context)}function un(r){ce(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function kT({basename:r="/",children:e=null,location:i,navigationType:s="POP",navigator:o,static:c=!1,unstable_useTransitions:d}){ce(!Gs(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let p=r.replace(/^\/*/,"/"),g=L.useMemo(()=>({basename:p,navigator:o,static:c,unstable_useTransitions:d,future:{}}),[p,o,c,d]);typeof i=="string"&&(i=Or(i));let{pathname:y="/",search:E="",hash:x="",state:R=null,key:U="default"}=i,Y=L.useMemo(()=>{let X=Zi(y,p);return X==null?null:{location:{pathname:X,search:E,hash:x,state:R,key:U},navigationType:s}},[p,y,E,x,R,U,s]);return Tn(Y!=null,`<Router basename="${p}"> is not able to match the URL "${y}${E}${x}" because it does not start with the basename, so the <Router> won't render anything.`),Y==null?null:L.createElement(Ln.Provider,{value:g},L.createElement(Co.Provider,{children:e,value:Y}))}function PT({children:r,location:e}){return AT(Cd(r),e)}function Cd(r,e=[]){let i=[];return L.Children.forEach(r,(s,o)=>{if(!L.isValidElement(s))return;let c=[...e,o];if(s.type===L.Fragment){i.push.apply(i,Cd(s.props.children,c));return}ce(s.type===un,`[${typeof s.type=="string"?s.type:s.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),ce(!s.props.index||!s.props.children,"An index route cannot have child routes.");let d={id:s.props.id||c.join("-"),caseSensitive:s.props.caseSensitive,element:s.props.element,Component:s.props.Component,index:s.props.index,path:s.props.path,middleware:s.props.middleware,loader:s.props.loader,action:s.props.action,hydrateFallbackElement:s.props.hydrateFallbackElement,HydrateFallback:s.props.HydrateFallback,errorElement:s.props.errorElement,ErrorBoundary:s.props.ErrorBoundary,hasErrorBoundary:s.props.hasErrorBoundary===!0||s.props.ErrorBoundary!=null||s.props.errorElement!=null,shouldRevalidate:s.props.shouldRevalidate,handle:s.props.handle,lazy:s.props.lazy};s.props.children&&(d.children=Cd(s.props.children,c)),i.push(d)}),i}var vc="get",_c="application/x-www-form-urlencoded";function Gc(r){return typeof HTMLElement<"u"&&r instanceof HTMLElement}function BT(r){return Gc(r)&&r.tagName.toLowerCase()==="button"}function qT(r){return Gc(r)&&r.tagName.toLowerCase()==="form"}function HT(r){return Gc(r)&&r.tagName.toLowerCase()==="input"}function FT(r){return!!(r.metaKey||r.altKey||r.ctrlKey||r.shiftKey)}function GT(r,e){return r.button===0&&(!e||e==="_self")&&!FT(r)}var fc=null;function QT(){if(fc===null)try{new FormData(document.createElement("form"),0),fc=!1}catch{fc=!0}return fc}var YT=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function yd(r){return r!=null&&!YT.has(r)?(Tn(!1,`"${r}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${_c}"`),null):r}function KT(r,e){let i,s,o,c,d;if(qT(r)){let p=r.getAttribute("action");s=p?Zi(p,e):null,i=r.getAttribute("method")||vc,o=yd(r.getAttribute("enctype"))||_c,c=new FormData(r)}else if(BT(r)||HT(r)&&(r.type==="submit"||r.type==="image")){let p=r.form;if(p==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let g=r.getAttribute("formaction")||p.getAttribute("action");if(s=g?Zi(g,e):null,i=r.getAttribute("formmethod")||p.getAttribute("method")||vc,o=yd(r.getAttribute("formenctype"))||yd(p.getAttribute("enctype"))||_c,c=new FormData(p,r),!QT()){let{name:y,type:E,value:x}=r;if(E==="image"){let R=y?`${y}.`:"";c.append(`${R}x`,"0"),c.append(`${R}y`,"0")}else y&&c.append(y,x)}}else{if(Gc(r))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');i=vc,s=null,o=_c,d=r}return c&&o==="text/plain"&&(d=c,c=void 0),{action:s,method:i.toLowerCase(),encType:o,formData:c,body:d}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function lm(r,e){if(r===!1||r===null||typeof r>"u")throw new Error(e)}function XT(r,e,i){let s=typeof r=="string"?new URL(r,typeof window>"u"?"server://singlefetch/":window.location.origin):r;return s.pathname==="/"?s.pathname=`_root.${i}`:e&&Zi(s.pathname,e)==="/"?s.pathname=`${e.replace(/\/$/,"")}/_root.${i}`:s.pathname=`${s.pathname.replace(/\/$/,"")}.${i}`,s}async function $T(r,e){if(r.id in e)return e[r.id];try{let i=await import(r.module);return e[r.id]=i,i}catch(i){return console.error(`Error loading route module \`${r.module}\`, reloading page...`),console.error(i),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function ZT(r){return r==null?!1:r.href==null?r.rel==="preload"&&typeof r.imageSrcSet=="string"&&typeof r.imageSizes=="string":typeof r.rel=="string"&&typeof r.href=="string"}async function JT(r,e,i){let s=await Promise.all(r.map(async o=>{let c=e.routes[o.route.id];if(c){let d=await $T(c,i);return d.links?d.links():[]}return[]}));return n2(s.flat(1).filter(ZT).filter(o=>o.rel==="stylesheet"||o.rel==="preload").map(o=>o.rel==="stylesheet"?{...o,rel:"prefetch",as:"style"}:{...o,rel:"prefetch"}))}function I0(r,e,i,s,o,c){let d=(g,y)=>i[y]?g.route.id!==i[y].route.id:!0,p=(g,y)=>i[y].pathname!==g.pathname||i[y].route.path?.endsWith("*")&&i[y].params["*"]!==g.params["*"];return c==="assets"?e.filter((g,y)=>d(g,y)||p(g,y)):c==="data"?e.filter((g,y)=>{let E=s.routes[g.route.id];if(!E||!E.hasLoader)return!1;if(d(g,y)||p(g,y))return!0;if(g.route.shouldRevalidate){let x=g.route.shouldRevalidate({currentUrl:new URL(o.pathname+o.search+o.hash,window.origin),currentParams:i[0]?.params||{},nextUrl:new URL(r,window.origin),nextParams:g.params,defaultShouldRevalidate:!0});if(typeof x=="boolean")return x}return!0}):[]}function WT(r,e,{includeHydrateFallback:i}={}){return t2(r.map(s=>{let o=e.routes[s.route.id];if(!o)return[];let c=[o.module];return o.clientActionModule&&(c=c.concat(o.clientActionModule)),o.clientLoaderModule&&(c=c.concat(o.clientLoaderModule)),i&&o.hydrateFallbackModule&&(c=c.concat(o.hydrateFallbackModule)),o.imports&&(c=c.concat(o.imports)),c}).flat(1))}function t2(r){return[...new Set(r)]}function e2(r){let e={},i=Object.keys(r).sort();for(let s of i)e[s]=r[s];return e}function n2(r,e){let i=new Set;return new Set(e),r.reduce((s,o)=>{let c=JSON.stringify(e2(o));return i.has(c)||(i.add(c),s.push({key:c,link:o})),s},[])}function r_(){let r=L.useContext(Fs);return lm(r,"You must render this element inside a <DataRouterContext.Provider> element"),r}function i2(){let r=L.useContext(Fc);return lm(r,"You must render this element inside a <DataRouterStateContext.Provider> element"),r}var om=L.createContext(void 0);om.displayName="FrameworkContext";function s_(){let r=L.useContext(om);return lm(r,"You must render this element inside a <HydratedRouter> element"),r}function a2(r,e){let i=L.useContext(om),[s,o]=L.useState(!1),[c,d]=L.useState(!1),{onFocus:p,onBlur:g,onMouseEnter:y,onMouseLeave:E,onTouchStart:x}=e,R=L.useRef(null);L.useEffect(()=>{if(r==="render"&&d(!0),r==="viewport"){let X=J=>{J.forEach(it=>{d(it.isIntersecting)})},k=new IntersectionObserver(X,{threshold:.5});return R.current&&k.observe(R.current),()=>{k.disconnect()}}},[r]),L.useEffect(()=>{if(s){let X=setTimeout(()=>{d(!0)},100);return()=>{clearTimeout(X)}}},[s]);let U=()=>{o(!0)},Y=()=>{o(!1),d(!1)};return i?r!=="intent"?[c,R,{}]:[c,R,{onFocus:ao(p,U),onBlur:ao(g,Y),onMouseEnter:ao(y,U),onMouseLeave:ao(E,Y),onTouchStart:ao(x,U)}]:[!1,R,{}]}function ao(r,e){return i=>{r&&r(i),i.defaultPrevented||e(i)}}function r2({page:r,...e}){let{router:i}=r_(),s=L.useMemo(()=>Xv(i.routes,r,i.basename),[i.routes,r,i.basename]);return s?L.createElement(l2,{page:r,matches:s,...e}):null}function s2(r){let{manifest:e,routeModules:i}=s_(),[s,o]=L.useState([]);return L.useEffect(()=>{let c=!1;return JT(r,e,i).then(d=>{c||o(d)}),()=>{c=!0}},[r,e,i]),s}function l2({page:r,matches:e,...i}){let s=Qa(),{manifest:o,routeModules:c}=s_(),{basename:d}=r_(),{loaderData:p,matches:g}=i2(),y=L.useMemo(()=>I0(r,e,g,o,s,"data"),[r,e,g,o,s]),E=L.useMemo(()=>I0(r,e,g,o,s,"assets"),[r,e,g,o,s]),x=L.useMemo(()=>{if(r===s.pathname+s.search+s.hash)return[];let Y=new Set,X=!1;if(e.forEach(J=>{let it=o.routes[J.route.id];!it||!it.hasLoader||(!y.some($=>$.route.id===J.route.id)&&J.route.id in p&&c[J.route.id]?.shouldRevalidate||it.hasClientLoader?X=!0:Y.add(J.route.id))}),Y.size===0)return[];let k=XT(r,d,"data");return X&&Y.size>0&&k.searchParams.set("_routes",e.filter(J=>Y.has(J.route.id)).map(J=>J.route.id).join(",")),[k.pathname+k.search]},[d,p,s,o,y,e,r,c]),R=L.useMemo(()=>WT(E,o),[E,o]),U=s2(E);return L.createElement(L.Fragment,null,x.map(Y=>L.createElement("link",{key:Y,rel:"prefetch",as:"fetch",href:Y,...i})),R.map(Y=>L.createElement("link",{key:Y,rel:"modulepreload",href:Y,...i})),U.map(({key:Y,link:X})=>L.createElement("link",{key:Y,nonce:i.nonce,...X})))}function o2(...r){return e=>{r.forEach(i=>{typeof i=="function"?i(e):i!=null&&(i.current=e)})}}var l_=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{l_&&(window.__reactRouterVersion="7.10.1")}catch{}function u2({basename:r,children:e,unstable_useTransitions:i,window:s}){let o=L.useRef();o.current==null&&(o.current=QE({window:s,v5Compat:!0}));let c=o.current,[d,p]=L.useState({action:c.action,location:c.location}),g=L.useCallback(y=>{i===!1?p(y):L.startTransition(()=>p(y))},[i]);return L.useLayoutEffect(()=>c.listen(g),[c,g]),L.createElement(kT,{basename:r,children:e,location:d.location,navigationType:d.action,navigator:c,unstable_useTransitions:i===!0})}var o_=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Qc=L.forwardRef(function({onClick:e,discover:i="render",prefetch:s="none",relative:o,reloadDocument:c,replace:d,state:p,target:g,to:y,preventScrollReset:E,viewTransition:x,...R},U){let{basename:Y,unstable_useTransitions:X}=L.useContext(Ln),k=typeof y=="string"&&o_.test(y),J,it=!1;if(typeof y=="string"&&k&&(J=y,l_))try{let V=new URL(window.location.href),I=y.startsWith("//")?new URL(V.protocol+y):new URL(y),O=Zi(I.pathname,Y);I.origin===V.origin&&O!=null?y=O+I.search+I.hash:it=!0}catch{Tn(!1,`<Link to="${y}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let $=ET(y,{relative:o}),[_t,xt,rt]=a2(s,R),w=f2(y,{replace:d,state:p,target:g,preventScrollReset:E,relative:o,viewTransition:x,unstable_useTransitions:X});function A(V){e&&e(V),V.defaultPrevented||w(V)}let C=L.createElement("a",{...R,...rt,href:J||$,onClick:it||c?e:A,ref:o2(U,xt),target:g,"data-discover":!k&&i==="render"?"true":void 0});return _t&&!k?L.createElement(L.Fragment,null,C,L.createElement(r2,{page:$})):C});Qc.displayName="Link";var Rc=L.forwardRef(function({"aria-current":e="page",caseSensitive:i=!1,className:s="",end:o=!1,style:c,to:d,viewTransition:p,children:g,...y},E){let x=Do(d,{relative:y.relative}),R=Qa(),U=L.useContext(Fc),{navigator:Y,basename:X}=L.useContext(Ln),k=U!=null&&y2(x)&&p===!0,J=Y.encodeLocation?Y.encodeLocation(x).pathname:x.pathname,it=R.pathname,$=U&&U.navigation&&U.navigation.location?U.navigation.location.pathname:null;i||(it=it.toLowerCase(),$=$?$.toLowerCase():null,J=J.toLowerCase()),$&&X&&($=Zi($,X)||$);const _t=J!=="/"&&J.endsWith("/")?J.length-1:J.length;let xt=it===J||!o&&it.startsWith(J)&&it.charAt(_t)==="/",rt=$!=null&&($===J||!o&&$.startsWith(J)&&$.charAt(J.length)==="/"),w={isActive:xt,isPending:rt,isTransitioning:k},A=xt?e:void 0,C;typeof s=="function"?C=s(w):C=[s,xt?"active":null,rt?"pending":null,k?"transitioning":null].filter(Boolean).join(" ");let V=typeof c=="function"?c(w):c;return L.createElement(Qc,{...y,"aria-current":A,className:C,ref:E,style:V,to:d,viewTransition:p},typeof g=="function"?g(w):g)});Rc.displayName="NavLink";var c2=L.forwardRef(({discover:r="render",fetcherKey:e,navigate:i,reloadDocument:s,replace:o,state:c,method:d=vc,action:p,onSubmit:g,relative:y,preventScrollReset:E,viewTransition:x,...R},U)=>{let{unstable_useTransitions:Y}=L.useContext(Ln),X=p2(),k=g2(p,{relative:y}),J=d.toLowerCase()==="get"?"get":"post",it=typeof p=="string"&&o_.test(p),$=_t=>{if(g&&g(_t),_t.defaultPrevented)return;_t.preventDefault();let xt=_t.nativeEvent.submitter,rt=xt?.getAttribute("formmethod")||d,w=()=>X(xt||_t.currentTarget,{fetcherKey:e,method:rt,navigate:i,replace:o,state:c,relative:y,preventScrollReset:E,viewTransition:x});Y&&i!==!1?L.startTransition(()=>w()):w()};return L.createElement("form",{ref:U,method:J,action:k,onSubmit:s?g:$,...R,"data-discover":!it&&r==="render"?"true":void 0})});c2.displayName="Form";function h2(r){return`${r} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function u_(r){let e=L.useContext(Fs);return ce(e,h2(r)),e}function f2(r,{target:e,replace:i,state:s,preventScrollReset:o,relative:c,viewTransition:d,unstable_useTransitions:p}={}){let g=No(),y=Qa(),E=Do(r,{relative:c});return L.useCallback(x=>{if(GT(x,e)){x.preventDefault();let R=i!==void 0?i:vo(y)===vo(E),U=()=>g(r,{replace:R,state:s,preventScrollReset:o,relative:c,viewTransition:d});p?L.startTransition(()=>U()):U()}},[y,g,E,i,s,e,r,o,c,d,p])}var d2=0,m2=()=>`__${String(++d2)}__`;function p2(){let{router:r}=u_("useSubmit"),{basename:e}=L.useContext(Ln),i=MT(),s=r.fetch,o=r.navigate;return L.useCallback(async(c,d={})=>{let{action:p,method:g,encType:y,formData:E,body:x}=KT(c,e);if(d.navigate===!1){let R=d.fetcherKey||m2();await s(R,i,d.action||p,{preventScrollReset:d.preventScrollReset,formData:E,body:x,formMethod:d.method||g,formEncType:d.encType||y,flushSync:d.flushSync})}else await o(d.action||p,{preventScrollReset:d.preventScrollReset,formData:E,body:x,formMethod:d.method||g,formEncType:d.encType||y,replace:d.replace,state:d.state,fromRouteId:i,flushSync:d.flushSync,viewTransition:d.viewTransition})},[s,o,e,i])}function g2(r,{relative:e}={}){let{basename:i}=L.useContext(Ln),s=L.useContext(kn);ce(s,"useFormAction must be used inside a RouteContext");let[o]=s.matches.slice(-1),c={...Do(r||".",{relative:e})},d=Qa();if(r==null){c.search=d.search;let p=new URLSearchParams(c.search),g=p.getAll("index");if(g.some(E=>E==="")){p.delete("index"),g.filter(x=>x).forEach(x=>p.append("index",x));let E=p.toString();c.search=E?`?${E}`:""}}return(!r||r===".")&&o.route.index&&(c.search=c.search?c.search.replace(/^\?/,"?index&"):"?index"),i!=="/"&&(c.pathname=c.pathname==="/"?i:$i([i,c.pathname])),vo(c)}function y2(r,{relative:e}={}){let i=L.useContext(Wv);ce(i!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:s}=u_("useViewTransitionState"),o=Do(r,{relative:e});if(!i.isTransitioning)return!1;let c=Zi(i.currentLocation.pathname,s)||i.currentLocation.pathname,d=Zi(i.nextLocation.pathname,s)||i.nextLocation.pathname;return wc(o.pathname,d)!=null||wc(o.pathname,c)!=null}const c_=L.createContext(),ea=()=>L.useContext(c_),v2=({children:r})=>{const[e,i]=L.useState(null),s=c=>{const d=c.toLowerCase()==="christo@emgroup.co.nz";i({email:c,name:d?"Christo (Admin)":c.split("@")[0],role:d?"admin":"stakeholder"})},o=()=>{i(null)};return v.jsx(c_.Provider,{value:{user:e,login:s,logout:o,isAdmin:e?.role==="admin"},children:r})},Dr=[{id:"south-mall",name:"South Mall New World",status:"In Progress",lastUpdated:"2025-12-15",location:"Manurewa, Auckland",image:"https://images.unsplash.com/photo-1578575437130-527eed3abbec?auto=format&fit=crop&q=80&w=2070",summary:"Main refurbishment of the South Mall New World including new bakery fit-out and seismic strengthening.",focus:"Internal fit-out and bakery flooring.",coordination:"Public access to mall entrance to be maintained at all times."},{id:"retail-facilities",name:"Retail Facilities Programme",status:"In Progress",lastUpdated:"2025-12-10"},{id:"civil-drainage",name:"Civil Drainage Remediation",status:"Planning",lastUpdated:"2025-12-01"},{id:"planned-maintenance",name:"Planned Maintenance  Auckland",status:"Ongoing",lastUpdated:"2025-12-12"},{id:"emergency-works",name:"Emergency Works Programme",status:"On Hold",lastUpdated:"2025-11-20"}],_2=[{id:1,projectId:"south-mall",date:"14 Dec 2025",author:"Sarah Jenkins (EMG)",content:"Bakery flooring preparation complete. Epoxy coating scheduled for Tuesday.",tag:"Progress"},{id:2,projectId:"south-mall",date:"10 Dec 2025",author:"Mike Ross (EMG)",content:"Seismic bracing in the main aisle has been signed off by the engineer.",tag:"Compliance"},{id:3,projectId:"south-mall",date:"08 Dec 2025",author:"Sarah Jenkins (EMG)",content:"Hoardings moved to Zone 2. Public access path rerouted safely.",tag:"Safety"}],b2=[{id:1,task:"Approve final electrical layout for Cold Store",assignedTo:"Consultant (Elec)",status:"Open",dueDate:"20 Dec 2025"},{id:2,task:"Submit updated Health & Safety Plan",assignedTo:"Contractor",status:"Closed",dueDate:"10 Dec 2025"},{id:3,task:"Review Zone C variation cost",assignedTo:"EMG",status:"Open",dueDate:"18 Dec 2025"},{id:4,task:"Confirm site access for crane lift",assignedTo:"Contractor",status:"Open",dueDate:"16 Dec 2025"}],E2=[{id:1,title:"Clarification on Fire Door Specs",category:"RFI",status:"Answered",date:"12 Dec 2025",context:"Regarding the fire doors in Corridor 3, are we sticking to the original spec or the alternative submitted last week?",replies:[{author:"David Chen (Architect)",date:"13 Dec 2025",content:"We have approved the alternative spec provided it meets the 60min FRR. Please proceed."}]},{id:2,title:"Loading Bay Height Restrictions",category:"Access",status:"Open",date:"14 Dec 2025",context:"Can we confirm the max clearance for the temporary loading bay? Transport company asking.",replies:[]}],V0=[{id:"folder-1",name:"Drawings",type:"folder",items:[{id:"f1-1",name:"Drawing_A101_RevC.pdf",type:"PDF",author:"Consultant (Arch)",date:"10 Dec 2025"},{id:"f1-2",name:"Drawing_S204_RevB.pdf",type:"PDF",author:"Consultant (Struct)",date:"08 Dec 2025"},{id:"f1-3",name:"Layout_Plan_Ground.dwg",type:"DWG",author:"Consultant (Arch)",date:"01 Dec 2025"}]},{id:"folder-2",name:"RFIs & Technical Queries",type:"folder",items:[{id:"f2-1",name:"RFI_012_BakeryFloorLevels.pdf",type:"PDF",author:"EMG (Christo)",date:"12 Dec 2025"},{id:"f2-2",name:"TQ_004_SteelConnection.pdf",type:"PDF",author:"Contractor",date:"05 Dec 2025"}]},{id:"folder-3",name:"Reports & Inspections",type:"folder",items:[{id:"f3-1",name:"Weekly_Site_Report_2025-12-08.pdf",type:"PDF",author:"EMG",date:"08 Dec 2025"},{id:"f3-2",name:"Safety_Audit_Nov25.pdf",type:"PDF",author:"Safety Officer",date:"30 Nov 2025"}]},{id:"folder-4",name:"Site Instructions",type:"folder",items:[{id:"f4-1",name:"SI_003_PaintSpecChange.pdf",type:"PDF",author:"Client",date:"03 Dec 2025"}]}],T2=()=>{};var j0={};const h_=function(r){const e=[];let i=0;for(let s=0;s<r.length;s++){let o=r.charCodeAt(s);o<128?e[i++]=o:o<2048?(e[i++]=o>>6|192,e[i++]=o&63|128):(o&64512)===55296&&s+1<r.length&&(r.charCodeAt(s+1)&64512)===56320?(o=65536+((o&1023)<<10)+(r.charCodeAt(++s)&1023),e[i++]=o>>18|240,e[i++]=o>>12&63|128,e[i++]=o>>6&63|128,e[i++]=o&63|128):(e[i++]=o>>12|224,e[i++]=o>>6&63|128,e[i++]=o&63|128)}return e},x2=function(r){const e=[];let i=0,s=0;for(;i<r.length;){const o=r[i++];if(o<128)e[s++]=String.fromCharCode(o);else if(o>191&&o<224){const c=r[i++];e[s++]=String.fromCharCode((o&31)<<6|c&63)}else if(o>239&&o<365){const c=r[i++],d=r[i++],p=r[i++],g=((o&7)<<18|(c&63)<<12|(d&63)<<6|p&63)-65536;e[s++]=String.fromCharCode(55296+(g>>10)),e[s++]=String.fromCharCode(56320+(g&1023))}else{const c=r[i++],d=r[i++];e[s++]=String.fromCharCode((o&15)<<12|(c&63)<<6|d&63)}}return e.join("")},f_={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(r,e){if(!Array.isArray(r))throw Error("encodeByteArray takes an array as a parameter");this.init_();const i=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,s=[];for(let o=0;o<r.length;o+=3){const c=r[o],d=o+1<r.length,p=d?r[o+1]:0,g=o+2<r.length,y=g?r[o+2]:0,E=c>>2,x=(c&3)<<4|p>>4;let R=(p&15)<<2|y>>6,U=y&63;g||(U=64,d||(R=64)),s.push(i[E],i[x],i[R],i[U])}return s.join("")},encodeString(r,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(r):this.encodeByteArray(h_(r),e)},decodeString(r,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(r):x2(this.decodeStringToByteArray(r,e))},decodeStringToByteArray(r,e){this.init_();const i=e?this.charToByteMapWebSafe_:this.charToByteMap_,s=[];for(let o=0;o<r.length;){const c=i[r.charAt(o++)],p=o<r.length?i[r.charAt(o)]:0;++o;const y=o<r.length?i[r.charAt(o)]:64;++o;const x=o<r.length?i[r.charAt(o)]:64;if(++o,c==null||p==null||y==null||x==null)throw new S2;const R=c<<2|p>>4;if(s.push(R),y!==64){const U=p<<4&240|y>>2;if(s.push(U),x!==64){const Y=y<<6&192|x;s.push(Y)}}}return s},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let r=0;r<this.ENCODED_VALS.length;r++)this.byteToCharMap_[r]=this.ENCODED_VALS.charAt(r),this.charToByteMap_[this.byteToCharMap_[r]]=r,this.byteToCharMapWebSafe_[r]=this.ENCODED_VALS_WEBSAFE.charAt(r),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[r]]=r,r>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(r)]=r,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(r)]=r)}}};class S2 extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const A2=function(r){const e=h_(r);return f_.encodeByteArray(e,!0)},Cc=function(r){return A2(r).replace(/\./g,"")},w2=function(r){try{return f_.decodeString(r,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function R2(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}const C2=()=>R2().__FIREBASE_DEFAULTS__,N2=()=>{if(typeof process>"u"||typeof j0>"u")return;const r=j0.__FIREBASE_DEFAULTS__;if(r)return JSON.parse(r)},D2=()=>{if(typeof document>"u")return;let r;try{r=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=r&&w2(r[1]);return e&&JSON.parse(e)},um=()=>{try{return T2()||C2()||N2()||D2()}catch(r){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${r}`);return}},I2=r=>um()?.emulatorHosts?.[r],V2=r=>{const e=I2(r);if(!e)return;const i=e.lastIndexOf(":");if(i<=0||i+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const s=parseInt(e.substring(i+1),10);return e[0]==="["?[e.substring(1,i-1),s]:[e.substring(0,i),s]},d_=()=>um()?.config;class j2{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,i)=>{this.resolve=e,this.reject=i})}wrapCallback(e){return(i,s)=>{i?this.reject(i):this.resolve(s),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(i):e(i,s))}}}function cm(r){try{return(r.startsWith("http://")||r.startsWith("https://")?new URL(r).hostname:r).endsWith(".cloudworkstations.dev")}catch{return!1}}async function M2(r){return(await fetch(r,{credentials:"include"})).ok}function O2(r,e){if(r.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const i={alg:"none",type:"JWT"},s=e||"demo-project",o=r.iat||0,c=r.sub||r.user_id;if(!c)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const d={iss:`https://securetoken.google.com/${s}`,aud:s,iat:o,exp:o+3600,auth_time:o,sub:c,user_id:c,firebase:{sign_in_provider:"custom",identities:{}},...r};return[Cc(JSON.stringify(i)),Cc(JSON.stringify(d)),""].join(".")}const fo={};function z2(){const r={prod:[],emulator:[]};for(const e of Object.keys(fo))fo[e]?r.emulator.push(e):r.prod.push(e);return r}function U2(r){let e=document.getElementById(r),i=!1;return e||(e=document.createElement("div"),e.setAttribute("id",r),i=!0),{created:i,element:e}}let M0=!1;function L2(r,e){if(typeof window>"u"||typeof document>"u"||!cm(window.location.host)||fo[r]===e||fo[r]||M0)return;fo[r]=e;function i(R){return`__firebase__banner__${R}`}const s="__firebase__banner",c=z2().prod.length>0;function d(){const R=document.getElementById(s);R&&R.remove()}function p(R){R.style.display="flex",R.style.background="#7faaf0",R.style.position="fixed",R.style.bottom="5px",R.style.left="5px",R.style.padding=".5em",R.style.borderRadius="5px",R.style.alignItems="center"}function g(R,U){R.setAttribute("width","24"),R.setAttribute("id",U),R.setAttribute("height","24"),R.setAttribute("viewBox","0 0 24 24"),R.setAttribute("fill","none"),R.style.marginLeft="-6px"}function y(){const R=document.createElement("span");return R.style.cursor="pointer",R.style.marginLeft="16px",R.style.fontSize="24px",R.innerHTML=" &times;",R.onclick=()=>{M0=!0,d()},R}function E(R,U){R.setAttribute("id",U),R.innerText="Learn more",R.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",R.setAttribute("target","__blank"),R.style.paddingLeft="5px",R.style.textDecoration="underline"}function x(){const R=U2(s),U=i("text"),Y=document.getElementById(U)||document.createElement("span"),X=i("learnmore"),k=document.getElementById(X)||document.createElement("a"),J=i("preprendIcon"),it=document.getElementById(J)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(R.created){const $=R.element;p($),E(k,X);const _t=y();g(it,J),$.append(it,Y,k,_t),document.body.appendChild($)}c?(Y.innerText="Preview backend disconnected.",it.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(it.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,Y.innerText="Preview backend running in this workspace."),Y.setAttribute("id",U)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",x):x()}function k2(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function P2(){const r=um()?.forceEnvironment;if(r==="node")return!0;if(r==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function B2(){return!P2()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function q2(){try{return typeof indexedDB=="object"}catch{return!1}}function H2(){return new Promise((r,e)=>{try{let i=!0;const s="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(s);o.onsuccess=()=>{o.result.close(),i||self.indexedDB.deleteDatabase(s),r(!0)},o.onupgradeneeded=()=>{i=!1},o.onerror=()=>{e(o.error?.message||"")}}catch(i){e(i)}})}const F2="FirebaseError";class Qs extends Error{constructor(e,i,s){super(i),this.code=e,this.customData=s,this.name=F2,Object.setPrototypeOf(this,Qs.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,m_.prototype.create)}}class m_{constructor(e,i,s){this.service=e,this.serviceName=i,this.errors=s}create(e,...i){const s=i[0]||{},o=`${this.service}/${e}`,c=this.errors[e],d=c?G2(c,s):"Error",p=`${this.serviceName}: ${d} (${o}).`;return new Qs(o,p,s)}}function G2(r,e){return r.replace(Q2,(i,s)=>{const o=e[s];return o!=null?String(o):`<${s}?>`})}const Q2=/\{\$([^}]+)}/g;function Nc(r,e){if(r===e)return!0;const i=Object.keys(r),s=Object.keys(e);for(const o of i){if(!s.includes(o))return!1;const c=r[o],d=e[o];if(O0(c)&&O0(d)){if(!Nc(c,d))return!1}else if(c!==d)return!1}for(const o of s)if(!i.includes(o))return!1;return!0}function O0(r){return r!==null&&typeof r=="object"}function Ci(r){return r&&r._delegate?r._delegate:r}class _o{constructor(e,i,s){this.name=e,this.instanceFactory=i,this.type=s,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}const wr="[DEFAULT]";class Y2{constructor(e,i){this.name=e,this.container=i,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const i=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(i)){const s=new j2;if(this.instancesDeferred.set(i,s),this.isInitialized(i)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:i});o&&s.resolve(o)}catch{}}return this.instancesDeferred.get(i).promise}getImmediate(e){const i=this.normalizeInstanceIdentifier(e?.identifier),s=e?.optional??!1;if(this.isInitialized(i)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:i})}catch(o){if(s)return null;throw o}else{if(s)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(X2(e))try{this.getOrInitializeService({instanceIdentifier:wr})}catch{}for(const[i,s]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(i);try{const c=this.getOrInitializeService({instanceIdentifier:o});s.resolve(c)}catch{}}}}clearInstance(e=wr){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(i=>"INTERNAL"in i).map(i=>i.INTERNAL.delete()),...e.filter(i=>"_delete"in i).map(i=>i._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=wr){return this.instances.has(e)}getOptions(e=wr){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:i={}}=e,s=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(s))throw Error(`${this.name}(${s}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:s,options:i});for(const[c,d]of this.instancesDeferred.entries()){const p=this.normalizeInstanceIdentifier(c);s===p&&d.resolve(o)}return o}onInit(e,i){const s=this.normalizeInstanceIdentifier(i),o=this.onInitCallbacks.get(s)??new Set;o.add(e),this.onInitCallbacks.set(s,o);const c=this.instances.get(s);return c&&e(c,s),()=>{o.delete(e)}}invokeOnInitCallbacks(e,i){const s=this.onInitCallbacks.get(i);if(s)for(const o of s)try{o(e,i)}catch{}}getOrInitializeService({instanceIdentifier:e,options:i={}}){let s=this.instances.get(e);if(!s&&this.component&&(s=this.component.instanceFactory(this.container,{instanceIdentifier:K2(e),options:i}),this.instances.set(e,s),this.instancesOptions.set(e,i),this.invokeOnInitCallbacks(s,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,s)}catch{}return s||null}normalizeInstanceIdentifier(e=wr){return this.component?this.component.multipleInstances?e:wr:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function K2(r){return r===wr?void 0:r}function X2(r){return r.instantiationMode==="EAGER"}class $2{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const i=this.getProvider(e.name);if(i.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);i.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const i=new Y2(e,this);return this.providers.set(e,i),i}getProviders(){return Array.from(this.providers.values())}}var Pt;(function(r){r[r.DEBUG=0]="DEBUG",r[r.VERBOSE=1]="VERBOSE",r[r.INFO=2]="INFO",r[r.WARN=3]="WARN",r[r.ERROR=4]="ERROR",r[r.SILENT=5]="SILENT"})(Pt||(Pt={}));const Z2={debug:Pt.DEBUG,verbose:Pt.VERBOSE,info:Pt.INFO,warn:Pt.WARN,error:Pt.ERROR,silent:Pt.SILENT},J2=Pt.INFO,W2={[Pt.DEBUG]:"log",[Pt.VERBOSE]:"log",[Pt.INFO]:"info",[Pt.WARN]:"warn",[Pt.ERROR]:"error"},tx=(r,e,...i)=>{if(e<r.logLevel)return;const s=new Date().toISOString(),o=W2[e];if(o)console[o](`[${s}]  ${r.name}:`,...i);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class p_{constructor(e){this.name=e,this._logLevel=J2,this._logHandler=tx,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Pt))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?Z2[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Pt.DEBUG,...e),this._logHandler(this,Pt.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Pt.VERBOSE,...e),this._logHandler(this,Pt.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Pt.INFO,...e),this._logHandler(this,Pt.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Pt.WARN,...e),this._logHandler(this,Pt.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Pt.ERROR,...e),this._logHandler(this,Pt.ERROR,...e)}}const ex=(r,e)=>e.some(i=>r instanceof i);let z0,U0;function nx(){return z0||(z0=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function ix(){return U0||(U0=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const g_=new WeakMap,Nd=new WeakMap,y_=new WeakMap,vd=new WeakMap,hm=new WeakMap;function ax(r){const e=new Promise((i,s)=>{const o=()=>{r.removeEventListener("success",c),r.removeEventListener("error",d)},c=()=>{i(za(r.result)),o()},d=()=>{s(r.error),o()};r.addEventListener("success",c),r.addEventListener("error",d)});return e.then(i=>{i instanceof IDBCursor&&g_.set(i,r)}).catch(()=>{}),hm.set(e,r),e}function rx(r){if(Nd.has(r))return;const e=new Promise((i,s)=>{const o=()=>{r.removeEventListener("complete",c),r.removeEventListener("error",d),r.removeEventListener("abort",d)},c=()=>{i(),o()},d=()=>{s(r.error||new DOMException("AbortError","AbortError")),o()};r.addEventListener("complete",c),r.addEventListener("error",d),r.addEventListener("abort",d)});Nd.set(r,e)}let Dd={get(r,e,i){if(r instanceof IDBTransaction){if(e==="done")return Nd.get(r);if(e==="objectStoreNames")return r.objectStoreNames||y_.get(r);if(e==="store")return i.objectStoreNames[1]?void 0:i.objectStore(i.objectStoreNames[0])}return za(r[e])},set(r,e,i){return r[e]=i,!0},has(r,e){return r instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in r}};function sx(r){Dd=r(Dd)}function lx(r){return r===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...i){const s=r.call(_d(this),e,...i);return y_.set(s,e.sort?e.sort():[e]),za(s)}:ix().includes(r)?function(...e){return r.apply(_d(this),e),za(g_.get(this))}:function(...e){return za(r.apply(_d(this),e))}}function ox(r){return typeof r=="function"?lx(r):(r instanceof IDBTransaction&&rx(r),ex(r,nx())?new Proxy(r,Dd):r)}function za(r){if(r instanceof IDBRequest)return ax(r);if(vd.has(r))return vd.get(r);const e=ox(r);return e!==r&&(vd.set(r,e),hm.set(e,r)),e}const _d=r=>hm.get(r);function ux(r,e,{blocked:i,upgrade:s,blocking:o,terminated:c}={}){const d=indexedDB.open(r,e),p=za(d);return s&&d.addEventListener("upgradeneeded",g=>{s(za(d.result),g.oldVersion,g.newVersion,za(d.transaction),g)}),i&&d.addEventListener("blocked",g=>i(g.oldVersion,g.newVersion,g)),p.then(g=>{c&&g.addEventListener("close",()=>c()),o&&g.addEventListener("versionchange",y=>o(y.oldVersion,y.newVersion,y))}).catch(()=>{}),p}const cx=["get","getKey","getAll","getAllKeys","count"],hx=["put","add","delete","clear"],bd=new Map;function L0(r,e){if(!(r instanceof IDBDatabase&&!(e in r)&&typeof e=="string"))return;if(bd.get(e))return bd.get(e);const i=e.replace(/FromIndex$/,""),s=e!==i,o=hx.includes(i);if(!(i in(s?IDBIndex:IDBObjectStore).prototype)||!(o||cx.includes(i)))return;const c=async function(d,...p){const g=this.transaction(d,o?"readwrite":"readonly");let y=g.store;return s&&(y=y.index(p.shift())),(await Promise.all([y[i](...p),o&&g.done]))[0]};return bd.set(e,c),c}sx(r=>({...r,get:(e,i,s)=>L0(e,i)||r.get(e,i,s),has:(e,i)=>!!L0(e,i)||r.has(e,i)}));class fx{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(i=>{if(dx(i)){const s=i.getImmediate();return`${s.library}/${s.version}`}else return null}).filter(i=>i).join(" ")}}function dx(r){return r.getComponent()?.type==="VERSION"}const Id="@firebase/app",k0="0.14.6";const Ji=new p_("@firebase/app"),mx="@firebase/app-compat",px="@firebase/analytics-compat",gx="@firebase/analytics",yx="@firebase/app-check-compat",vx="@firebase/app-check",_x="@firebase/auth",bx="@firebase/auth-compat",Ex="@firebase/database",Tx="@firebase/data-connect",xx="@firebase/database-compat",Sx="@firebase/functions",Ax="@firebase/functions-compat",wx="@firebase/installations",Rx="@firebase/installations-compat",Cx="@firebase/messaging",Nx="@firebase/messaging-compat",Dx="@firebase/performance",Ix="@firebase/performance-compat",Vx="@firebase/remote-config",jx="@firebase/remote-config-compat",Mx="@firebase/storage",Ox="@firebase/storage-compat",zx="@firebase/firestore",Ux="@firebase/ai",Lx="@firebase/firestore-compat",kx="firebase",Px="12.6.0";const Vd="[DEFAULT]",Bx={[Id]:"fire-core",[mx]:"fire-core-compat",[gx]:"fire-analytics",[px]:"fire-analytics-compat",[vx]:"fire-app-check",[yx]:"fire-app-check-compat",[_x]:"fire-auth",[bx]:"fire-auth-compat",[Ex]:"fire-rtdb",[Tx]:"fire-data-connect",[xx]:"fire-rtdb-compat",[Sx]:"fire-fn",[Ax]:"fire-fn-compat",[wx]:"fire-iid",[Rx]:"fire-iid-compat",[Cx]:"fire-fcm",[Nx]:"fire-fcm-compat",[Dx]:"fire-perf",[Ix]:"fire-perf-compat",[Vx]:"fire-rc",[jx]:"fire-rc-compat",[Mx]:"fire-gcs",[Ox]:"fire-gcs-compat",[zx]:"fire-fst",[Lx]:"fire-fst-compat",[Ux]:"fire-vertex","fire-js":"fire-js",[kx]:"fire-js-all"};const Dc=new Map,qx=new Map,jd=new Map;function P0(r,e){try{r.container.addComponent(e)}catch(i){Ji.debug(`Component ${e.name} failed to register with FirebaseApp ${r.name}`,i)}}function Ic(r){const e=r.name;if(jd.has(e))return Ji.debug(`There were multiple attempts to register component ${e}.`),!1;jd.set(e,r);for(const i of Dc.values())P0(i,r);for(const i of qx.values())P0(i,r);return!0}function Hx(r,e){const i=r.container.getProvider("heartbeat").getImmediate({optional:!0});return i&&i.triggerHeartbeat(),r.container.getProvider(e)}function Fx(r){return r==null?!1:r.settings!==void 0}const Gx={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Ua=new m_("app","Firebase",Gx);class Qx{constructor(e,i,s){this._isDeleted=!1,this._options={...e},this._config={...i},this._name=i.name,this._automaticDataCollectionEnabled=i.automaticDataCollectionEnabled,this._container=s,this.container.addComponent(new _o("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Ua.create("app-deleted",{appName:this._name})}}const Yx=Px;function v_(r,e={}){let i=r;typeof e!="object"&&(e={name:e});const s={name:Vd,automaticDataCollectionEnabled:!0,...e},o=s.name;if(typeof o!="string"||!o)throw Ua.create("bad-app-name",{appName:String(o)});if(i||(i=d_()),!i)throw Ua.create("no-options");const c=Dc.get(o);if(c){if(Nc(i,c.options)&&Nc(s,c.config))return c;throw Ua.create("duplicate-app",{appName:o})}const d=new $2(o);for(const g of jd.values())d.addComponent(g);const p=new Qx(i,s,d);return Dc.set(o,p),p}function Kx(r=Vd){const e=Dc.get(r);if(!e&&r===Vd&&d_())return v_();if(!e)throw Ua.create("no-app",{appName:r});return e}function Ms(r,e,i){let s=Bx[r]??r;i&&(s+=`-${i}`);const o=s.match(/\s|\//),c=e.match(/\s|\//);if(o||c){const d=[`Unable to register library "${s}" with version "${e}":`];o&&d.push(`library name "${s}" contains illegal characters (whitespace or "/")`),o&&c&&d.push("and"),c&&d.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Ji.warn(d.join(" "));return}Ic(new _o(`${s}-version`,()=>({library:s,version:e}),"VERSION"))}const Xx="firebase-heartbeat-database",$x=1,bo="firebase-heartbeat-store";let Ed=null;function __(){return Ed||(Ed=ux(Xx,$x,{upgrade:(r,e)=>{switch(e){case 0:try{r.createObjectStore(bo)}catch(i){console.warn(i)}}}}).catch(r=>{throw Ua.create("idb-open",{originalErrorMessage:r.message})})),Ed}async function Zx(r){try{const i=(await __()).transaction(bo),s=await i.objectStore(bo).get(b_(r));return await i.done,s}catch(e){if(e instanceof Qs)Ji.warn(e.message);else{const i=Ua.create("idb-get",{originalErrorMessage:e?.message});Ji.warn(i.message)}}}async function B0(r,e){try{const s=(await __()).transaction(bo,"readwrite");await s.objectStore(bo).put(e,b_(r)),await s.done}catch(i){if(i instanceof Qs)Ji.warn(i.message);else{const s=Ua.create("idb-set",{originalErrorMessage:i?.message});Ji.warn(s.message)}}}function b_(r){return`${r.name}!${r.options.appId}`}const Jx=1024,Wx=30;class tS{constructor(e){this.container=e,this._heartbeatsCache=null;const i=this.container.getProvider("app").getImmediate();this._storage=new nS(i),this._heartbeatsCachePromise=this._storage.read().then(s=>(this._heartbeatsCache=s,s))}async triggerHeartbeat(){try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=q0();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(o=>o.date===s))return;if(this._heartbeatsCache.heartbeats.push({date:s,agent:i}),this._heartbeatsCache.heartbeats.length>Wx){const o=iS(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(o,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(e){Ji.warn(e)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const e=q0(),{heartbeatsToSend:i,unsentEntries:s}=eS(this._heartbeatsCache.heartbeats),o=Cc(JSON.stringify({version:2,heartbeats:i}));return this._heartbeatsCache.lastSentHeartbeatDate=e,s.length>0?(this._heartbeatsCache.heartbeats=s,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(e){return Ji.warn(e),""}}}function q0(){return new Date().toISOString().substring(0,10)}function eS(r,e=Jx){const i=[];let s=r.slice();for(const o of r){const c=i.find(d=>d.agent===o.agent);if(c){if(c.dates.push(o.date),H0(i)>e){c.dates.pop();break}}else if(i.push({agent:o.agent,dates:[o.date]}),H0(i)>e){i.pop();break}s=s.slice(1)}return{heartbeatsToSend:i,unsentEntries:s}}class nS{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return q2()?H2().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const i=await Zx(this.app);return i?.heartbeats?i:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const s=await this.read();return B0(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??s.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const s=await this.read();return B0(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??s.lastSentHeartbeatDate,heartbeats:[...s.heartbeats,...e.heartbeats]})}else return}}function H0(r){return Cc(JSON.stringify({version:2,heartbeats:r})).length}function iS(r){if(r.length===0)return-1;let e=0,i=r[0].date;for(let s=1;s<r.length;s++)r[s].date<i&&(i=r[s].date,e=s);return e}function aS(r){Ic(new _o("platform-logger",e=>new fx(e),"PRIVATE")),Ic(new _o("heartbeat",e=>new tS(e),"PRIVATE")),Ms(Id,k0,r),Ms(Id,k0,"esm2020"),Ms("fire-js","")}aS("");var rS="firebase",sS="12.6.0";Ms(rS,sS,"app");var F0=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var La,E_;(function(){var r;function e(w,A){function C(){}C.prototype=A.prototype,w.F=A.prototype,w.prototype=new C,w.prototype.constructor=w,w.D=function(V,I,O){for(var N=Array(arguments.length-2),Yt=2;Yt<arguments.length;Yt++)N[Yt-2]=arguments[Yt];return A.prototype[I].apply(V,N)}}function i(){this.blockSize=-1}function s(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(s,i),s.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function o(w,A,C){C||(C=0);const V=Array(16);if(typeof A=="string")for(var I=0;I<16;++I)V[I]=A.charCodeAt(C++)|A.charCodeAt(C++)<<8|A.charCodeAt(C++)<<16|A.charCodeAt(C++)<<24;else for(I=0;I<16;++I)V[I]=A[C++]|A[C++]<<8|A[C++]<<16|A[C++]<<24;A=w.g[0],C=w.g[1],I=w.g[2];let O=w.g[3],N;N=A+(O^C&(I^O))+V[0]+3614090360&4294967295,A=C+(N<<7&4294967295|N>>>25),N=O+(I^A&(C^I))+V[1]+3905402710&4294967295,O=A+(N<<12&4294967295|N>>>20),N=I+(C^O&(A^C))+V[2]+606105819&4294967295,I=O+(N<<17&4294967295|N>>>15),N=C+(A^I&(O^A))+V[3]+3250441966&4294967295,C=I+(N<<22&4294967295|N>>>10),N=A+(O^C&(I^O))+V[4]+4118548399&4294967295,A=C+(N<<7&4294967295|N>>>25),N=O+(I^A&(C^I))+V[5]+1200080426&4294967295,O=A+(N<<12&4294967295|N>>>20),N=I+(C^O&(A^C))+V[6]+2821735955&4294967295,I=O+(N<<17&4294967295|N>>>15),N=C+(A^I&(O^A))+V[7]+4249261313&4294967295,C=I+(N<<22&4294967295|N>>>10),N=A+(O^C&(I^O))+V[8]+1770035416&4294967295,A=C+(N<<7&4294967295|N>>>25),N=O+(I^A&(C^I))+V[9]+2336552879&4294967295,O=A+(N<<12&4294967295|N>>>20),N=I+(C^O&(A^C))+V[10]+4294925233&4294967295,I=O+(N<<17&4294967295|N>>>15),N=C+(A^I&(O^A))+V[11]+2304563134&4294967295,C=I+(N<<22&4294967295|N>>>10),N=A+(O^C&(I^O))+V[12]+1804603682&4294967295,A=C+(N<<7&4294967295|N>>>25),N=O+(I^A&(C^I))+V[13]+4254626195&4294967295,O=A+(N<<12&4294967295|N>>>20),N=I+(C^O&(A^C))+V[14]+2792965006&4294967295,I=O+(N<<17&4294967295|N>>>15),N=C+(A^I&(O^A))+V[15]+1236535329&4294967295,C=I+(N<<22&4294967295|N>>>10),N=A+(I^O&(C^I))+V[1]+4129170786&4294967295,A=C+(N<<5&4294967295|N>>>27),N=O+(C^I&(A^C))+V[6]+3225465664&4294967295,O=A+(N<<9&4294967295|N>>>23),N=I+(A^C&(O^A))+V[11]+643717713&4294967295,I=O+(N<<14&4294967295|N>>>18),N=C+(O^A&(I^O))+V[0]+3921069994&4294967295,C=I+(N<<20&4294967295|N>>>12),N=A+(I^O&(C^I))+V[5]+3593408605&4294967295,A=C+(N<<5&4294967295|N>>>27),N=O+(C^I&(A^C))+V[10]+38016083&4294967295,O=A+(N<<9&4294967295|N>>>23),N=I+(A^C&(O^A))+V[15]+3634488961&4294967295,I=O+(N<<14&4294967295|N>>>18),N=C+(O^A&(I^O))+V[4]+3889429448&4294967295,C=I+(N<<20&4294967295|N>>>12),N=A+(I^O&(C^I))+V[9]+568446438&4294967295,A=C+(N<<5&4294967295|N>>>27),N=O+(C^I&(A^C))+V[14]+3275163606&4294967295,O=A+(N<<9&4294967295|N>>>23),N=I+(A^C&(O^A))+V[3]+4107603335&4294967295,I=O+(N<<14&4294967295|N>>>18),N=C+(O^A&(I^O))+V[8]+1163531501&4294967295,C=I+(N<<20&4294967295|N>>>12),N=A+(I^O&(C^I))+V[13]+2850285829&4294967295,A=C+(N<<5&4294967295|N>>>27),N=O+(C^I&(A^C))+V[2]+4243563512&4294967295,O=A+(N<<9&4294967295|N>>>23),N=I+(A^C&(O^A))+V[7]+1735328473&4294967295,I=O+(N<<14&4294967295|N>>>18),N=C+(O^A&(I^O))+V[12]+2368359562&4294967295,C=I+(N<<20&4294967295|N>>>12),N=A+(C^I^O)+V[5]+4294588738&4294967295,A=C+(N<<4&4294967295|N>>>28),N=O+(A^C^I)+V[8]+2272392833&4294967295,O=A+(N<<11&4294967295|N>>>21),N=I+(O^A^C)+V[11]+1839030562&4294967295,I=O+(N<<16&4294967295|N>>>16),N=C+(I^O^A)+V[14]+4259657740&4294967295,C=I+(N<<23&4294967295|N>>>9),N=A+(C^I^O)+V[1]+2763975236&4294967295,A=C+(N<<4&4294967295|N>>>28),N=O+(A^C^I)+V[4]+1272893353&4294967295,O=A+(N<<11&4294967295|N>>>21),N=I+(O^A^C)+V[7]+4139469664&4294967295,I=O+(N<<16&4294967295|N>>>16),N=C+(I^O^A)+V[10]+3200236656&4294967295,C=I+(N<<23&4294967295|N>>>9),N=A+(C^I^O)+V[13]+681279174&4294967295,A=C+(N<<4&4294967295|N>>>28),N=O+(A^C^I)+V[0]+3936430074&4294967295,O=A+(N<<11&4294967295|N>>>21),N=I+(O^A^C)+V[3]+3572445317&4294967295,I=O+(N<<16&4294967295|N>>>16),N=C+(I^O^A)+V[6]+76029189&4294967295,C=I+(N<<23&4294967295|N>>>9),N=A+(C^I^O)+V[9]+3654602809&4294967295,A=C+(N<<4&4294967295|N>>>28),N=O+(A^C^I)+V[12]+3873151461&4294967295,O=A+(N<<11&4294967295|N>>>21),N=I+(O^A^C)+V[15]+530742520&4294967295,I=O+(N<<16&4294967295|N>>>16),N=C+(I^O^A)+V[2]+3299628645&4294967295,C=I+(N<<23&4294967295|N>>>9),N=A+(I^(C|~O))+V[0]+4096336452&4294967295,A=C+(N<<6&4294967295|N>>>26),N=O+(C^(A|~I))+V[7]+1126891415&4294967295,O=A+(N<<10&4294967295|N>>>22),N=I+(A^(O|~C))+V[14]+2878612391&4294967295,I=O+(N<<15&4294967295|N>>>17),N=C+(O^(I|~A))+V[5]+4237533241&4294967295,C=I+(N<<21&4294967295|N>>>11),N=A+(I^(C|~O))+V[12]+1700485571&4294967295,A=C+(N<<6&4294967295|N>>>26),N=O+(C^(A|~I))+V[3]+2399980690&4294967295,O=A+(N<<10&4294967295|N>>>22),N=I+(A^(O|~C))+V[10]+4293915773&4294967295,I=O+(N<<15&4294967295|N>>>17),N=C+(O^(I|~A))+V[1]+2240044497&4294967295,C=I+(N<<21&4294967295|N>>>11),N=A+(I^(C|~O))+V[8]+1873313359&4294967295,A=C+(N<<6&4294967295|N>>>26),N=O+(C^(A|~I))+V[15]+4264355552&4294967295,O=A+(N<<10&4294967295|N>>>22),N=I+(A^(O|~C))+V[6]+2734768916&4294967295,I=O+(N<<15&4294967295|N>>>17),N=C+(O^(I|~A))+V[13]+1309151649&4294967295,C=I+(N<<21&4294967295|N>>>11),N=A+(I^(C|~O))+V[4]+4149444226&4294967295,A=C+(N<<6&4294967295|N>>>26),N=O+(C^(A|~I))+V[11]+3174756917&4294967295,O=A+(N<<10&4294967295|N>>>22),N=I+(A^(O|~C))+V[2]+718787259&4294967295,I=O+(N<<15&4294967295|N>>>17),N=C+(O^(I|~A))+V[9]+3951481745&4294967295,w.g[0]=w.g[0]+A&4294967295,w.g[1]=w.g[1]+(I+(N<<21&4294967295|N>>>11))&4294967295,w.g[2]=w.g[2]+I&4294967295,w.g[3]=w.g[3]+O&4294967295}s.prototype.v=function(w,A){A===void 0&&(A=w.length);const C=A-this.blockSize,V=this.C;let I=this.h,O=0;for(;O<A;){if(I==0)for(;O<=C;)o(this,w,O),O+=this.blockSize;if(typeof w=="string"){for(;O<A;)if(V[I++]=w.charCodeAt(O++),I==this.blockSize){o(this,V),I=0;break}}else for(;O<A;)if(V[I++]=w[O++],I==this.blockSize){o(this,V),I=0;break}}this.h=I,this.o+=A},s.prototype.A=function(){var w=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);w[0]=128;for(var A=1;A<w.length-8;++A)w[A]=0;A=this.o*8;for(var C=w.length-8;C<w.length;++C)w[C]=A&255,A/=256;for(this.v(w),w=Array(16),A=0,C=0;C<4;++C)for(let V=0;V<32;V+=8)w[A++]=this.g[C]>>>V&255;return w};function c(w,A){var C=p;return Object.prototype.hasOwnProperty.call(C,w)?C[w]:C[w]=A(w)}function d(w,A){this.h=A;const C=[];let V=!0;for(let I=w.length-1;I>=0;I--){const O=w[I]|0;V&&O==A||(C[I]=O,V=!1)}this.g=C}var p={};function g(w){return-128<=w&&w<128?c(w,function(A){return new d([A|0],A<0?-1:0)}):new d([w|0],w<0?-1:0)}function y(w){if(isNaN(w)||!isFinite(w))return x;if(w<0)return k(y(-w));const A=[];let C=1;for(let V=0;w>=C;V++)A[V]=w/C|0,C*=4294967296;return new d(A,0)}function E(w,A){if(w.length==0)throw Error("number format error: empty string");if(A=A||10,A<2||36<A)throw Error("radix out of range: "+A);if(w.charAt(0)=="-")return k(E(w.substring(1),A));if(w.indexOf("-")>=0)throw Error('number format error: interior "-" character');const C=y(Math.pow(A,8));let V=x;for(let O=0;O<w.length;O+=8){var I=Math.min(8,w.length-O);const N=parseInt(w.substring(O,O+I),A);I<8?(I=y(Math.pow(A,I)),V=V.j(I).add(y(N))):(V=V.j(C),V=V.add(y(N)))}return V}var x=g(0),R=g(1),U=g(16777216);r=d.prototype,r.m=function(){if(X(this))return-k(this).m();let w=0,A=1;for(let C=0;C<this.g.length;C++){const V=this.i(C);w+=(V>=0?V:4294967296+V)*A,A*=4294967296}return w},r.toString=function(w){if(w=w||10,w<2||36<w)throw Error("radix out of range: "+w);if(Y(this))return"0";if(X(this))return"-"+k(this).toString(w);const A=y(Math.pow(w,6));var C=this;let V="";for(;;){const I=_t(C,A).g;C=J(C,I.j(A));let O=((C.g.length>0?C.g[0]:C.h)>>>0).toString(w);if(C=I,Y(C))return O+V;for(;O.length<6;)O="0"+O;V=O+V}},r.i=function(w){return w<0?0:w<this.g.length?this.g[w]:this.h};function Y(w){if(w.h!=0)return!1;for(let A=0;A<w.g.length;A++)if(w.g[A]!=0)return!1;return!0}function X(w){return w.h==-1}r.l=function(w){return w=J(this,w),X(w)?-1:Y(w)?0:1};function k(w){const A=w.g.length,C=[];for(let V=0;V<A;V++)C[V]=~w.g[V];return new d(C,~w.h).add(R)}r.abs=function(){return X(this)?k(this):this},r.add=function(w){const A=Math.max(this.g.length,w.g.length),C=[];let V=0;for(let I=0;I<=A;I++){let O=V+(this.i(I)&65535)+(w.i(I)&65535),N=(O>>>16)+(this.i(I)>>>16)+(w.i(I)>>>16);V=N>>>16,O&=65535,N&=65535,C[I]=N<<16|O}return new d(C,C[C.length-1]&-2147483648?-1:0)};function J(w,A){return w.add(k(A))}r.j=function(w){if(Y(this)||Y(w))return x;if(X(this))return X(w)?k(this).j(k(w)):k(k(this).j(w));if(X(w))return k(this.j(k(w)));if(this.l(U)<0&&w.l(U)<0)return y(this.m()*w.m());const A=this.g.length+w.g.length,C=[];for(var V=0;V<2*A;V++)C[V]=0;for(V=0;V<this.g.length;V++)for(let I=0;I<w.g.length;I++){const O=this.i(V)>>>16,N=this.i(V)&65535,Yt=w.i(I)>>>16,ft=w.i(I)&65535;C[2*V+2*I]+=N*ft,it(C,2*V+2*I),C[2*V+2*I+1]+=O*ft,it(C,2*V+2*I+1),C[2*V+2*I+1]+=N*Yt,it(C,2*V+2*I+1),C[2*V+2*I+2]+=O*Yt,it(C,2*V+2*I+2)}for(w=0;w<A;w++)C[w]=C[2*w+1]<<16|C[2*w];for(w=A;w<2*A;w++)C[w]=0;return new d(C,0)};function it(w,A){for(;(w[A]&65535)!=w[A];)w[A+1]+=w[A]>>>16,w[A]&=65535,A++}function $(w,A){this.g=w,this.h=A}function _t(w,A){if(Y(A))throw Error("division by zero");if(Y(w))return new $(x,x);if(X(w))return A=_t(k(w),A),new $(k(A.g),k(A.h));if(X(A))return A=_t(w,k(A)),new $(k(A.g),A.h);if(w.g.length>30){if(X(w)||X(A))throw Error("slowDivide_ only works with positive integers.");for(var C=R,V=A;V.l(w)<=0;)C=xt(C),V=xt(V);var I=rt(C,1),O=rt(V,1);for(V=rt(V,2),C=rt(C,2);!Y(V);){var N=O.add(V);N.l(w)<=0&&(I=I.add(C),O=N),V=rt(V,1),C=rt(C,1)}return A=J(w,I.j(A)),new $(I,A)}for(I=x;w.l(A)>=0;){for(C=Math.max(1,Math.floor(w.m()/A.m())),V=Math.ceil(Math.log(C)/Math.LN2),V=V<=48?1:Math.pow(2,V-48),O=y(C),N=O.j(A);X(N)||N.l(w)>0;)C-=V,O=y(C),N=O.j(A);Y(O)&&(O=R),I=I.add(O),w=J(w,N)}return new $(I,w)}r.B=function(w){return _t(this,w).h},r.and=function(w){const A=Math.max(this.g.length,w.g.length),C=[];for(let V=0;V<A;V++)C[V]=this.i(V)&w.i(V);return new d(C,this.h&w.h)},r.or=function(w){const A=Math.max(this.g.length,w.g.length),C=[];for(let V=0;V<A;V++)C[V]=this.i(V)|w.i(V);return new d(C,this.h|w.h)},r.xor=function(w){const A=Math.max(this.g.length,w.g.length),C=[];for(let V=0;V<A;V++)C[V]=this.i(V)^w.i(V);return new d(C,this.h^w.h)};function xt(w){const A=w.g.length+1,C=[];for(let V=0;V<A;V++)C[V]=w.i(V)<<1|w.i(V-1)>>>31;return new d(C,w.h)}function rt(w,A){const C=A>>5;A%=32;const V=w.g.length-C,I=[];for(let O=0;O<V;O++)I[O]=A>0?w.i(O+C)>>>A|w.i(O+C+1)<<32-A:w.i(O+C);return new d(I,w.h)}s.prototype.digest=s.prototype.A,s.prototype.reset=s.prototype.u,s.prototype.update=s.prototype.v,E_=s,d.prototype.add=d.prototype.add,d.prototype.multiply=d.prototype.j,d.prototype.modulo=d.prototype.B,d.prototype.compare=d.prototype.l,d.prototype.toNumber=d.prototype.m,d.prototype.toString=d.prototype.toString,d.prototype.getBits=d.prototype.i,d.fromNumber=y,d.fromString=E,La=d}).apply(typeof F0<"u"?F0:typeof self<"u"?self:typeof window<"u"?window:{});var dc=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var T_,lo,x_,bc,Md,S_,A_,w_;(function(){var r,e=Object.defineProperty;function i(u){u=[typeof globalThis=="object"&&globalThis,u,typeof window=="object"&&window,typeof self=="object"&&self,typeof dc=="object"&&dc];for(var m=0;m<u.length;++m){var b=u[m];if(b&&b.Math==Math)return b}throw Error("Cannot find global object")}var s=i(this);function o(u,m){if(m)t:{var b=s;u=u.split(".");for(var S=0;S<u.length-1;S++){var P=u[S];if(!(P in b))break t;b=b[P]}u=u[u.length-1],S=b[u],m=m(S),m!=S&&m!=null&&e(b,u,{configurable:!0,writable:!0,value:m})}}o("Symbol.dispose",function(u){return u||Symbol("Symbol.dispose")}),o("Array.prototype.values",function(u){return u||function(){return this[Symbol.iterator]()}}),o("Object.entries",function(u){return u||function(m){var b=[],S;for(S in m)Object.prototype.hasOwnProperty.call(m,S)&&b.push([S,m[S]]);return b}});var c=c||{},d=this||self;function p(u){var m=typeof u;return m=="object"&&u!=null||m=="function"}function g(u,m,b){return u.call.apply(u.bind,arguments)}function y(u,m,b){return y=g,y.apply(null,arguments)}function E(u,m){var b=Array.prototype.slice.call(arguments,1);return function(){var S=b.slice();return S.push.apply(S,arguments),u.apply(this,S)}}function x(u,m){function b(){}b.prototype=m.prototype,u.Z=m.prototype,u.prototype=new b,u.prototype.constructor=u,u.Ob=function(S,P,G){for(var st=Array(arguments.length-2),Ct=2;Ct<arguments.length;Ct++)st[Ct-2]=arguments[Ct];return m.prototype[P].apply(S,st)}}var R=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?u=>u&&AsyncContext.Snapshot.wrap(u):u=>u;function U(u){const m=u.length;if(m>0){const b=Array(m);for(let S=0;S<m;S++)b[S]=u[S];return b}return[]}function Y(u,m){for(let S=1;S<arguments.length;S++){const P=arguments[S];var b=typeof P;if(b=b!="object"?b:P?Array.isArray(P)?"array":b:"null",b=="array"||b=="object"&&typeof P.length=="number"){b=u.length||0;const G=P.length||0;u.length=b+G;for(let st=0;st<G;st++)u[b+st]=P[st]}else u.push(P)}}class X{constructor(m,b){this.i=m,this.j=b,this.h=0,this.g=null}get(){let m;return this.h>0?(this.h--,m=this.g,this.g=m.next,m.next=null):m=this.i(),m}}function k(u){d.setTimeout(()=>{throw u},0)}function J(){var u=w;let m=null;return u.g&&(m=u.g,u.g=u.g.next,u.g||(u.h=null),m.next=null),m}class it{constructor(){this.h=this.g=null}add(m,b){const S=$.get();S.set(m,b),this.h?this.h.next=S:this.g=S,this.h=S}}var $=new X(()=>new _t,u=>u.reset());class _t{constructor(){this.next=this.g=this.h=null}set(m,b){this.h=m,this.g=b,this.next=null}reset(){this.next=this.g=this.h=null}}let xt,rt=!1,w=new it,A=()=>{const u=Promise.resolve(void 0);xt=()=>{u.then(C)}};function C(){for(var u;u=J();){try{u.h.call(u.g)}catch(b){k(b)}var m=$;m.j(u),m.h<100&&(m.h++,u.next=m.g,m.g=u)}rt=!1}function V(){this.u=this.u,this.C=this.C}V.prototype.u=!1,V.prototype.dispose=function(){this.u||(this.u=!0,this.N())},V.prototype[Symbol.dispose]=function(){this.dispose()},V.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function I(u,m){this.type=u,this.g=this.target=m,this.defaultPrevented=!1}I.prototype.h=function(){this.defaultPrevented=!0};var O=(function(){if(!d.addEventListener||!Object.defineProperty)return!1;var u=!1,m=Object.defineProperty({},"passive",{get:function(){u=!0}});try{const b=()=>{};d.addEventListener("test",b,m),d.removeEventListener("test",b,m)}catch{}return u})();function N(u){return/^[\s\xa0]*$/.test(u)}function Yt(u,m){I.call(this,u?u.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,u&&this.init(u,m)}x(Yt,I),Yt.prototype.init=function(u,m){const b=this.type=u.type,S=u.changedTouches&&u.changedTouches.length?u.changedTouches[0]:null;this.target=u.target||u.srcElement,this.g=m,m=u.relatedTarget,m||(b=="mouseover"?m=u.fromElement:b=="mouseout"&&(m=u.toElement)),this.relatedTarget=m,S?(this.clientX=S.clientX!==void 0?S.clientX:S.pageX,this.clientY=S.clientY!==void 0?S.clientY:S.pageY,this.screenX=S.screenX||0,this.screenY=S.screenY||0):(this.clientX=u.clientX!==void 0?u.clientX:u.pageX,this.clientY=u.clientY!==void 0?u.clientY:u.pageY,this.screenX=u.screenX||0,this.screenY=u.screenY||0),this.button=u.button,this.key=u.key||"",this.ctrlKey=u.ctrlKey,this.altKey=u.altKey,this.shiftKey=u.shiftKey,this.metaKey=u.metaKey,this.pointerId=u.pointerId||0,this.pointerType=u.pointerType,this.state=u.state,this.i=u,u.defaultPrevented&&Yt.Z.h.call(this)},Yt.prototype.h=function(){Yt.Z.h.call(this);const u=this.i;u.preventDefault?u.preventDefault():u.returnValue=!1};var ft="closure_listenable_"+(Math.random()*1e6|0),B=0;function at(u,m,b,S,P){this.listener=u,this.proxy=null,this.src=m,this.type=b,this.capture=!!S,this.ha=P,this.key=++B,this.da=this.fa=!1}function ot(u){u.da=!0,u.listener=null,u.proxy=null,u.src=null,u.ha=null}function Rt(u,m,b){for(const S in u)m.call(b,u[S],S,u)}function It(u,m){for(const b in u)m.call(void 0,u[b],b,u)}function M(u){const m={};for(const b in u)m[b]=u[b];return m}const W="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function lt(u,m){let b,S;for(let P=1;P<arguments.length;P++){S=arguments[P];for(b in S)u[b]=S[b];for(let G=0;G<W.length;G++)b=W[G],Object.prototype.hasOwnProperty.call(S,b)&&(u[b]=S[b])}}function ct(u){this.src=u,this.g={},this.h=0}ct.prototype.add=function(u,m,b,S,P){const G=u.toString();u=this.g[G],u||(u=this.g[G]=[],this.h++);const st=gt(u,m,S,P);return st>-1?(m=u[st],b||(m.fa=!1)):(m=new at(m,this.src,G,!!S,P),m.fa=b,u.push(m)),m};function pt(u,m){const b=m.type;if(b in u.g){var S=u.g[b],P=Array.prototype.indexOf.call(S,m,void 0),G;(G=P>=0)&&Array.prototype.splice.call(S,P,1),G&&(ot(m),u.g[b].length==0&&(delete u.g[b],u.h--))}}function gt(u,m,b,S){for(let P=0;P<u.length;++P){const G=u[P];if(!G.da&&G.listener==m&&G.capture==!!b&&G.ha==S)return P}return-1}var bt="closure_lm_"+(Math.random()*1e6|0),ie={};function le(u,m,b,S,P){if(Array.isArray(m)){for(let G=0;G<m.length;G++)le(u,m[G],b,S,P);return null}return b=tl(b),u&&u[ft]?u.J(m,b,p(S)?!!S.capture:!1,P):Xa(u,m,b,!1,S,P)}function Xa(u,m,b,S,P,G){if(!m)throw Error("Invalid event type");const st=p(P)?!!P.capture:!!P;let Ct=$a(u);if(Ct||(u[bt]=Ct=new ct(u)),b=Ct.add(m,b,S,st,G),b.proxy)return b;if(S=Pr(),b.proxy=S,S.src=u,S.listener=b,u.addEventListener)O||(P=st),P===void 0&&(P=!1),u.addEventListener(m.toString(),S,P);else if(u.attachEvent)u.attachEvent(Wn(m.toString()),S);else if(u.addListener&&u.removeListener)u.addListener(S);else throw Error("addEventListener and attachEvent are unavailable.");return b}function Pr(){function u(b){return m.call(u.src,u.listener,b)}const m=Js;return u}function Br(u,m,b,S,P){if(Array.isArray(m))for(var G=0;G<m.length;G++)Br(u,m[G],b,S,P);else S=p(S)?!!S.capture:!!S,b=tl(b),u&&u[ft]?(u=u.i,G=String(m).toString(),G in u.g&&(m=u.g[G],b=gt(m,b,S,P),b>-1&&(ot(m[b]),Array.prototype.splice.call(m,b,1),m.length==0&&(delete u.g[G],u.h--)))):u&&(u=$a(u))&&(m=u.g[m.toString()],u=-1,m&&(u=gt(m,b,S,P)),(b=u>-1?m[u]:null)&&qr(b))}function qr(u){if(typeof u!="number"&&u&&!u.da){var m=u.src;if(m&&m[ft])pt(m.i,u);else{var b=u.type,S=u.proxy;m.removeEventListener?m.removeEventListener(b,S,u.capture):m.detachEvent?m.detachEvent(Wn(b),S):m.addListener&&m.removeListener&&m.removeListener(S),(b=$a(m))?(pt(b,u),b.h==0&&(b.src=null,m[bt]=null)):ot(u)}}}function Wn(u){return u in ie?ie[u]:ie[u]="on"+u}function Js(u,m){if(u.da)u=!0;else{m=new Yt(m,this);const b=u.listener,S=u.ha||u.src;u.fa&&qr(u),u=b.call(S,m)}return u}function $a(u){return u=u[bt],u instanceof ct?u:null}var Ws="__closure_events_fn_"+(Math.random()*1e9>>>0);function tl(u){return typeof u=="function"?u:(u[Ws]||(u[Ws]=function(m){return u.handleEvent(m)}),u[Ws])}function be(){V.call(this),this.i=new ct(this),this.M=this,this.G=null}x(be,V),be.prototype[ft]=!0,be.prototype.removeEventListener=function(u,m,b,S){Br(this,u,m,b,S)};function Ve(u,m){var b,S=u.G;if(S)for(b=[];S;S=S.G)b.push(S);if(u=u.M,S=m.type||m,typeof m=="string")m=new I(m,u);else if(m instanceof I)m.target=m.target||u;else{var P=m;m=new I(S,u),lt(m,P)}P=!0;let G,st;if(b)for(st=b.length-1;st>=0;st--)G=m.g=b[st],P=na(G,S,!0,m)&&P;if(G=m.g=u,P=na(G,S,!0,m)&&P,P=na(G,S,!1,m)&&P,b)for(st=0;st<b.length;st++)G=m.g=b[st],P=na(G,S,!1,m)&&P}be.prototype.N=function(){if(be.Z.N.call(this),this.i){var u=this.i;for(const m in u.g){const b=u.g[m];for(let S=0;S<b.length;S++)ot(b[S]);delete u.g[m],u.h--}}this.G=null},be.prototype.J=function(u,m,b,S){return this.i.add(String(u),m,!1,b,S)},be.prototype.K=function(u,m,b,S){return this.i.add(String(u),m,!0,b,S)};function na(u,m,b,S){if(m=u.i.g[String(m)],!m)return!0;m=m.concat();let P=!0;for(let G=0;G<m.length;++G){const st=m[G];if(st&&!st.da&&st.capture==b){const Ct=st.listener,pe=st.ha||st.src;st.fa&&pt(u.i,st),P=Ct.call(pe,S)!==!1&&P}}return P&&!S.defaultPrevented}function hh(u,m){if(typeof u!="function")if(u&&typeof u.handleEvent=="function")u=y(u.handleEvent,u);else throw Error("Invalid listener argument");return Number(m)>2147483647?-1:d.setTimeout(u,m||0)}function Uo(u){u.g=hh(()=>{u.g=null,u.i&&(u.i=!1,Uo(u))},u.l);const m=u.h;u.h=null,u.m.apply(null,m)}class Je extends V{constructor(m,b){super(),this.m=m,this.l=b,this.h=null,this.i=!1,this.g=null}j(m){this.h=arguments,this.g?this.i=!0:Uo(this)}N(){super.N(),this.g&&(d.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Za(u){V.call(this),this.h=u,this.g={}}x(Za,V);var el=[];function nl(u){Rt(u.g,function(m,b){this.g.hasOwnProperty(b)&&qr(m)},u),u.g={}}Za.prototype.N=function(){Za.Z.N.call(this),nl(this)},Za.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var ia=d.JSON.stringify,fh=d.JSON.parse,Lo=class{stringify(u){return d.JSON.stringify(u,void 0)}parse(u){return d.JSON.parse(u,void 0)}};function ko(){}function Po(){}var Pn={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function ke(){I.call(this,"d")}x(ke,I);function xn(){I.call(this,"c")}x(xn,I);var me={},Bo=null;function Hr(){return Bo=Bo||new be}me.Ia="serverreachability";function qo(u){I.call(this,me.Ia,u)}x(qo,I);function ti(u){const m=Hr();Ve(m,new qo(m))}me.STAT_EVENT="statevent";function Ja(u,m){I.call(this,me.STAT_EVENT,u),this.stat=m}x(Ja,I);function Ee(u){const m=Hr();Ve(m,new Ja(m,u))}me.Ja="timingevent";function ei(u,m){I.call(this,me.Ja,u),this.size=m}x(ei,I);function ni(u,m){if(typeof u!="function")throw Error("Fn must not be null and must be a function");return d.setTimeout(function(){u()},m)}function Bn(){this.g=!0}Bn.prototype.ua=function(){this.g=!1};function dh(u,m,b,S,P,G){u.info(function(){if(u.g)if(G){var st="",Ct=G.split("&");for(let Ht=0;Ht<Ct.length;Ht++){var pe=Ct[Ht].split("=");if(pe.length>1){const oe=pe[0];pe=pe[1];const Rn=oe.split("_");st=Rn.length>=2&&Rn[1]=="type"?st+(oe+"="+pe+"&"):st+(oe+"=redacted&")}}}else st=null;else st=G;return"XMLHTTP REQ ("+S+") [attempt "+P+"]: "+m+`
`+b+`
`+st})}function Ho(u,m,b,S,P,G,st){u.info(function(){return"XMLHTTP RESP ("+S+") [ attempt "+P+"]: "+m+`
`+b+`
`+G+" "+st})}function ii(u,m,b,S){u.info(function(){return"XMLHTTP TEXT ("+m+"): "+mh(u,b)+(S?" "+S:"")})}function Wa(u,m){u.info(function(){return"TIMEOUT: "+m})}Bn.prototype.info=function(){};function mh(u,m){if(!u.g)return m;if(!m)return null;try{const G=JSON.parse(m);if(G){for(u=0;u<G.length;u++)if(Array.isArray(G[u])){var b=G[u];if(!(b.length<2)){var S=b[1];if(Array.isArray(S)&&!(S.length<1)){var P=S[0];if(P!="noop"&&P!="stop"&&P!="close")for(let st=1;st<S.length;st++)S[st]=""}}}}return ia(G)}catch{return m}}var tr={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},il={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},al;function er(){}x(er,ko),er.prototype.g=function(){return new XMLHttpRequest},al=new er;function Di(u){return encodeURIComponent(String(u))}function Fo(u){var m=1;u=u.split(":");const b=[];for(;m>0&&u.length;)b.push(u.shift()),m--;return u.length&&b.push(u.join(":")),b}function qn(u,m,b,S){this.j=u,this.i=m,this.l=b,this.S=S||1,this.V=new Za(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new Hn}function Hn(){this.i=null,this.g="",this.h=!1}var Te={},Oe={};function ai(u,m,b){u.M=1,u.A=nr(Se(m)),u.u=b,u.R=!0,Fr(u,null)}function Fr(u,m){u.F=Date.now(),ri(u),u.B=Se(u.A);var b=u.B,S=u.S;Array.isArray(S)||(S=[String(S)]),Kr(b.i,"t",S),u.C=0,b=u.j.L,u.h=new Hn,u.g=ru(u.j,b?m:null,!u.u),u.P>0&&(u.O=new Je(y(u.Y,u,u.g),u.P)),m=u.V,b=u.g,S=u.ba;var P="readystatechange";Array.isArray(P)||(P&&(el[0]=P.toString()),P=el);for(let G=0;G<P.length;G++){const st=le(b,P[G],S||m.handleEvent,!1,m.h||m);if(!st)break;m.g[st.key]=st}m=u.J?M(u.J):{},u.u?(u.v||(u.v="POST"),m["Content-Type"]="application/x-www-form-urlencoded",u.g.ea(u.B,u.v,u.u,m)):(u.v="GET",u.g.ea(u.B,u.v,null,m)),ti(),dh(u.i,u.v,u.B,u.l,u.S,u.u)}qn.prototype.ba=function(u){u=u.target;const m=this.O;m&&Qn(u)==3?m.j():this.Y(u)},qn.prototype.Y=function(u){try{if(u==this.g)t:{const Ct=Qn(this.g),pe=this.g.ya(),Ht=this.g.ca();if(!(Ct<3)&&(Ct!=3||this.g&&(this.h.h||this.g.la()||Pe(this.g)))){this.K||Ct!=4||pe==7||(pe==8||Ht<=0?ti(3):ti(2)),si(this);var m=this.g.ca();this.X=m;var b=ph(this);if(this.o=m==200,Ho(this.i,this.v,this.B,this.l,this.S,Ct,m),this.o){if(this.U&&!this.L){e:{if(this.g){var S,P=this.g;if((S=P.g?P.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!N(S)){var G=S;break e}}G=null}if(u=G)ii(this.i,this.l,u,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,li(this,u);else{this.o=!1,this.m=3,Ee(12),fn(this),Sn(this);break t}}if(this.R){u=!0;let oe;for(;!this.K&&this.C<b.length;)if(oe=Qo(this,b),oe==Oe){Ct==4&&(this.m=4,Ee(14),u=!1),ii(this.i,this.l,null,"[Incomplete Response]");break}else if(oe==Te){this.m=4,Ee(15),ii(this.i,this.l,b,"[Invalid Chunk]"),u=!1;break}else ii(this.i,this.l,oe,null),li(this,oe);if(Go(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Ct!=4||b.length!=0||this.h.h||(this.m=1,Ee(16),u=!1),this.o=this.o&&u,!u)ii(this.i,this.l,b,"[Invalid Chunked Response]"),fn(this),Sn(this);else if(b.length>0&&!this.W){this.W=!0;var st=this.j;st.g==this&&st.aa&&!st.P&&(st.j.info("Great, no buffering proxy detected. Bytes received: "+b.length),_l(st),st.P=!0,Ee(11))}}else ii(this.i,this.l,b,null),li(this,b);Ct==4&&fn(this),this.o&&!this.K&&(Ct==4?eu(this.j,this):(this.o=!1,ri(this)))}else Vi(this.g),m==400&&b.indexOf("Unknown SID")>0?(this.m=3,Ee(12)):(this.m=0,Ee(13)),fn(this),Sn(this)}}}catch{}finally{}};function ph(u){if(!Go(u))return u.g.la();const m=Pe(u.g);if(m==="")return"";let b="";const S=m.length,P=Qn(u.g)==4;if(!u.h.i){if(typeof TextDecoder>"u")return fn(u),Sn(u),"";u.h.i=new d.TextDecoder}for(let G=0;G<S;G++)u.h.h=!0,b+=u.h.i.decode(m[G],{stream:!(P&&G==S-1)});return m.length=0,u.h.g+=b,u.C=0,u.h.g}function Go(u){return u.g?u.v=="GET"&&u.M!=2&&u.j.Aa:!1}function Qo(u,m){var b=u.C,S=m.indexOf(`
`,b);return S==-1?Oe:(b=Number(m.substring(b,S)),isNaN(b)?Te:(S+=1,S+b>m.length?Oe:(m=m.slice(S,S+b),u.C=S+b,m)))}qn.prototype.cancel=function(){this.K=!0,fn(this)};function ri(u){u.T=Date.now()+u.H,Gr(u,u.H)}function Gr(u,m){if(u.D!=null)throw Error("WatchDog timer not null");u.D=ni(y(u.aa,u),m)}function si(u){u.D&&(d.clearTimeout(u.D),u.D=null)}qn.prototype.aa=function(){this.D=null;const u=Date.now();u-this.T>=0?(Wa(this.i,this.B),this.M!=2&&(ti(),Ee(17)),fn(this),this.m=2,Sn(this)):Gr(this,this.T-u)};function Sn(u){u.j.I==0||u.K||eu(u.j,u)}function fn(u){si(u);var m=u.O;m&&typeof m.dispose=="function"&&m.dispose(),u.O=null,nl(u.V),u.g&&(m=u.g,u.g=null,m.abort(),m.dispose())}function li(u,m){try{var b=u.j;if(b.I!=0&&(b.g==u||ui(b.h,u))){if(!u.L&&ui(b.h,u)&&b.I==3){try{var S=b.Ba.g.parse(m)}catch{S=null}if(Array.isArray(S)&&S.length==3){var P=S;if(P[0]==0){t:if(!b.v){if(b.g)if(b.g.F+3e3<u.F)Wr(b),ha(b);else break t;ur(b),Ee(18)}}else b.xa=P[1],0<b.xa-b.K&&P[2]<37500&&b.F&&b.A==0&&!b.C&&(b.C=ni(y(b.Va,b),6e3));oi(b.h)<=1&&b.ta&&(b.ta=void 0)}else pi(b,11)}else if((u.L||b.g==u)&&Wr(b),!N(m))for(P=b.Ba.g.parse(m),m=0;m<P.length;m++){let Ht=P[m];const oe=Ht[0];if(!(oe<=b.K))if(b.K=oe,Ht=Ht[1],b.I==2)if(Ht[0]=="c"){b.M=Ht[1],b.ba=Ht[2];const Rn=Ht[3];Rn!=null&&(b.ka=Rn,b.j.info("VER="+b.ka));const gi=Ht[4];gi!=null&&(b.za=gi,b.j.info("SVER="+b.za));const Yn=Ht[5];Yn!=null&&typeof Yn=="number"&&Yn>0&&(S=1.5*Yn,b.O=S,b.j.info("backChannelRequestTimeoutMs_="+S)),S=b;const Kn=u.g;if(Kn){const cr=Kn.g?Kn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(cr){var G=S.h;G.g||cr.indexOf("spdy")==-1&&cr.indexOf("quic")==-1&&cr.indexOf("h2")==-1||(G.j=G.l,G.g=new Set,G.h&&(ll(G,G.h),G.h=null))}if(S.G){const ts=Kn.g?Kn.g.getResponseHeader("X-HTTP-Session-Id"):null;ts&&(S.wa=ts,Kt(S.J,S.G,ts))}}b.I=3,b.l&&b.l.ra(),b.aa&&(b.T=Date.now()-u.F,b.j.info("Handshake RTT: "+b.T+"ms")),S=b;var st=u;if(S.na=au(S,S.L?S.ba:null,S.W),st.L){ol(S.h,st);var Ct=st,pe=S.O;pe&&(Ct.H=pe),Ct.D&&(si(Ct),ri(Ct)),S.g=st}else Wo(S);b.i.length>0&&mi(b)}else Ht[0]!="stop"&&Ht[0]!="close"||pi(b,7);else b.I==3&&(Ht[0]=="stop"||Ht[0]=="close"?Ht[0]=="stop"?pi(b,7):yl(b):Ht[0]!="noop"&&b.l&&b.l.qa(Ht),b.A=0)}}ti(4)}catch{}}var xe=class{constructor(u,m){this.g=u,this.map=m}};function rl(u){this.l=u||10,d.PerformanceNavigationTiming?(u=d.performance.getEntriesByType("navigation"),u=u.length>0&&(u[0].nextHopProtocol=="hq"||u[0].nextHopProtocol=="h2")):u=!!(d.chrome&&d.chrome.loadTimes&&d.chrome.loadTimes()&&d.chrome.loadTimes().wasFetchedViaSpdy),this.j=u?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function sl(u){return u.h?!0:u.g?u.g.size>=u.j:!1}function oi(u){return u.h?1:u.g?u.g.size:0}function ui(u,m){return u.h?u.h==m:u.g?u.g.has(m):!1}function ll(u,m){u.g?u.g.add(m):u.h=m}function ol(u,m){u.h&&u.h==m?u.h=null:u.g&&u.g.has(m)&&u.g.delete(m)}rl.prototype.cancel=function(){if(this.i=ul(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const u of this.g.values())u.cancel();this.g.clear()}};function ul(u){if(u.h!=null)return u.i.concat(u.h.G);if(u.g!=null&&u.g.size!==0){let m=u.i;for(const b of u.g.values())m=m.concat(b.G);return m}return U(u.i)}var Yo=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Qr(u,m){if(u){u=u.split("&");for(let b=0;b<u.length;b++){const S=u[b].indexOf("=");let P,G=null;S>=0?(P=u[b].substring(0,S),G=u[b].substring(S+1)):P=u[b],m(P,G?decodeURIComponent(G.replace(/\+/g," ")):"")}}}function dn(u){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let m;u instanceof dn?(this.l=u.l,ze(this,u.j),this.o=u.o,this.g=u.g,aa(this,u.u),this.h=u.h,cl(this,Zo(u.i)),this.m=u.m):u&&(m=String(u).match(Yo))?(this.l=!1,ze(this,m[1]||"",!0),this.o=ci(m[2]||""),this.g=ci(m[3]||"",!0),aa(this,m[4]),this.h=ci(m[5]||"",!0),cl(this,m[6]||"",!0),this.m=ci(m[7]||"")):(this.l=!1,this.i=new sa(null,this.l))}dn.prototype.toString=function(){const u=[];var m=this.j;m&&u.push(ir(m,Yr,!0),":");var b=this.g;return(b||m=="file")&&(u.push("//"),(m=this.o)&&u.push(ir(m,Yr,!0),"@"),u.push(Di(b).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),b=this.u,b!=null&&u.push(":",String(b))),(b=this.h)&&(this.g&&b.charAt(0)!="/"&&u.push("/"),u.push(ir(b,b.charAt(0)=="/"?hl:Ko,!0))),(b=this.i.toString())&&u.push("?",b),(b=this.m)&&u.push("#",ir(b,Xo)),u.join("")},dn.prototype.resolve=function(u){const m=Se(this);let b=!!u.j;b?ze(m,u.j):b=!!u.o,b?m.o=u.o:b=!!u.g,b?m.g=u.g:b=u.u!=null;var S=u.h;if(b)aa(m,u.u);else if(b=!!u.h){if(S.charAt(0)!="/")if(this.g&&!this.h)S="/"+S;else{var P=m.h.lastIndexOf("/");P!=-1&&(S=m.h.slice(0,P+1)+S)}if(P=S,P==".."||P==".")S="";else if(P.indexOf("./")!=-1||P.indexOf("/.")!=-1){S=P.lastIndexOf("/",0)==0,P=P.split("/");const G=[];for(let st=0;st<P.length;){const Ct=P[st++];Ct=="."?S&&st==P.length&&G.push(""):Ct==".."?((G.length>1||G.length==1&&G[0]!="")&&G.pop(),S&&st==P.length&&G.push("")):(G.push(Ct),S=!0)}S=G.join("/")}else S=P}return b?m.h=S:b=u.i.toString()!=="",b?cl(m,Zo(u.i)):b=!!u.m,b&&(m.m=u.m),m};function Se(u){return new dn(u)}function ze(u,m,b){u.j=b?ci(m,!0):m,u.j&&(u.j=u.j.replace(/:$/,""))}function aa(u,m){if(m){if(m=Number(m),isNaN(m)||m<0)throw Error("Bad port number "+m);u.u=m}else u.u=null}function cl(u,m,b){m instanceof sa?(u.i=m,Xr(u.i,u.l)):(b||(m=ir(m,ra)),u.i=new sa(m,u.l))}function Kt(u,m,b){u.i.set(m,b)}function nr(u){return Kt(u,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),u}function ci(u,m){return u?m?decodeURI(u.replace(/%25/g,"%2525")):decodeURIComponent(u):""}function ir(u,m,b){return typeof u=="string"?(u=encodeURI(u).replace(m,en),b&&(u=u.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),u):null}function en(u){return u=u.charCodeAt(0),"%"+(u>>4&15).toString(16)+(u&15).toString(16)}var Yr=/[#\/\?@]/g,Ko=/[#\?:]/g,hl=/[#\?]/g,ra=/[#\?@]/g,Xo=/#/g;function sa(u,m){this.h=this.g=null,this.i=u||null,this.j=!!m}function nn(u){u.g||(u.g=new Map,u.h=0,u.i&&Qr(u.i,function(m,b){u.add(decodeURIComponent(m.replace(/\+/g," ")),b)}))}r=sa.prototype,r.add=function(u,m){nn(this),this.i=null,u=la(this,u);let b=this.g.get(u);return b||this.g.set(u,b=[]),b.push(m),this.h+=1,this};function $o(u,m){nn(u),m=la(u,m),u.g.has(m)&&(u.i=null,u.h-=u.g.get(m).length,u.g.delete(m))}function fl(u,m){return nn(u),m=la(u,m),u.g.has(m)}r.forEach=function(u,m){nn(this),this.g.forEach(function(b,S){b.forEach(function(P){u.call(m,P,S,this)},this)},this)};function dl(u,m){nn(u);let b=[];if(typeof m=="string")fl(u,m)&&(b=b.concat(u.g.get(la(u,m))));else for(u=Array.from(u.g.values()),m=0;m<u.length;m++)b=b.concat(u[m]);return b}r.set=function(u,m){return nn(this),this.i=null,u=la(this,u),fl(this,u)&&(this.h-=this.g.get(u).length),this.g.set(u,[m]),this.h+=1,this},r.get=function(u,m){return u?(u=dl(this,u),u.length>0?String(u[0]):m):m};function Kr(u,m,b){$o(u,m),b.length>0&&(u.i=null,u.g.set(la(u,m),U(b)),u.h+=b.length)}r.toString=function(){if(this.i)return this.i;if(!this.g)return"";const u=[],m=Array.from(this.g.keys());for(let S=0;S<m.length;S++){var b=m[S];const P=Di(b);b=dl(this,b);for(let G=0;G<b.length;G++){let st=P;b[G]!==""&&(st+="="+Di(b[G])),u.push(st)}}return this.i=u.join("&")};function Zo(u){const m=new sa;return m.i=u.i,u.g&&(m.g=new Map(u.g),m.h=u.h),m}function la(u,m){return m=String(m),u.j&&(m=m.toLowerCase()),m}function Xr(u,m){m&&!u.j&&(nn(u),u.i=null,u.g.forEach(function(b,S){const P=S.toLowerCase();S!=P&&($o(this,S),Kr(this,P,b))},u)),u.j=m}function Fn(u,m){const b=new Bn;if(d.Image){const S=new Image;S.onload=E(An,b,"TestLoadImage: loaded",!0,m,S),S.onerror=E(An,b,"TestLoadImage: error",!1,m,S),S.onabort=E(An,b,"TestLoadImage: abort",!1,m,S),S.ontimeout=E(An,b,"TestLoadImage: timeout",!1,m,S),d.setTimeout(function(){S.ontimeout&&S.ontimeout()},1e4),S.src=u}else m(!1)}function ml(u,m){const b=new Bn,S=new AbortController,P=setTimeout(()=>{S.abort(),An(b,"TestPingServer: timeout",!1,m)},1e4);fetch(u,{signal:S.signal}).then(G=>{clearTimeout(P),G.ok?An(b,"TestPingServer: ok",!0,m):An(b,"TestPingServer: server error",!1,m)}).catch(()=>{clearTimeout(P),An(b,"TestPingServer: error",!1,m)})}function An(u,m,b,S,P){try{P&&(P.onload=null,P.onerror=null,P.onabort=null,P.ontimeout=null),S(b)}catch{}}function oa(){this.g=new Lo}function hi(u){this.i=u.Sb||null,this.h=u.ab||!1}x(hi,ko),hi.prototype.g=function(){return new ar(this.i,this.h)};function ar(u,m){be.call(this),this.H=u,this.o=m,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}x(ar,be),r=ar.prototype,r.open=function(u,m){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=u,this.D=m,this.readyState=1,Gn(this)},r.send=function(u){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const m={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};u&&(m.body=u),(this.H||d).fetch(new Request(this.D,m)).then(this.Pa.bind(this),this.ga.bind(this))},r.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,ua(this)),this.readyState=0},r.Pa=function(u){if(this.g&&(this.l=u,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=u.headers,this.readyState=2,Gn(this)),this.g&&(this.readyState=3,Gn(this),this.g)))if(this.responseType==="arraybuffer")u.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof d.ReadableStream<"u"&&"body"in u){if(this.j=u.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;$r(this)}else u.text().then(this.Oa.bind(this),this.ga.bind(this))};function $r(u){u.j.read().then(u.Ma.bind(u)).catch(u.ga.bind(u))}r.Ma=function(u){if(this.g){if(this.o&&u.value)this.response.push(u.value);else if(!this.o){var m=u.value?u.value:new Uint8Array(0);(m=this.B.decode(m,{stream:!u.done}))&&(this.response=this.responseText+=m)}u.done?ua(this):Gn(this),this.readyState==3&&$r(this)}},r.Oa=function(u){this.g&&(this.response=this.responseText=u,ua(this))},r.Na=function(u){this.g&&(this.response=u,ua(this))},r.ga=function(){this.g&&ua(this)};function ua(u){u.readyState=4,u.l=null,u.j=null,u.B=null,Gn(u)}r.setRequestHeader=function(u,m){this.A.append(u,m)},r.getResponseHeader=function(u){return this.h&&this.h.get(u.toLowerCase())||""},r.getAllResponseHeaders=function(){if(!this.h)return"";const u=[],m=this.h.entries();for(var b=m.next();!b.done;)b=b.value,u.push(b[0]+": "+b[1]),b=m.next();return u.join(`\r
`)};function Gn(u){u.onreadystatechange&&u.onreadystatechange.call(u)}Object.defineProperty(ar.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(u){this.m=u?"include":"same-origin"}});function wn(u){let m="";return Rt(u,function(b,S){m+=S,m+=":",m+=b,m+=`\r
`}),m}function rr(u,m,b){t:{for(S in b){var S=!1;break t}S=!0}S||(b=wn(b),typeof u=="string"?b!=null&&Di(b):Kt(u,m,b))}function Zt(u){be.call(this),this.headers=new Map,this.L=u||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}x(Zt,be);var fi=/^https?$/i,pl=["POST","PUT"];r=Zt.prototype,r.Fa=function(u){this.H=u},r.ea=function(u,m,b,S){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+u);m=m?m.toUpperCase():"GET",this.D=u,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():al.g(),this.g.onreadystatechange=R(y(this.Ca,this));try{this.B=!0,this.g.open(m,String(u),!0),this.B=!1}catch(G){sr(this,G);return}if(u=b||"",b=new Map(this.headers),S)if(Object.getPrototypeOf(S)===Object.prototype)for(var P in S)b.set(P,S[P]);else if(typeof S.keys=="function"&&typeof S.get=="function")for(const G of S.keys())b.set(G,S.get(G));else throw Error("Unknown input type for opt_headers: "+String(S));S=Array.from(b.keys()).find(G=>G.toLowerCase()=="content-type"),P=d.FormData&&u instanceof d.FormData,!(Array.prototype.indexOf.call(pl,m,void 0)>=0)||S||P||b.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[G,st]of b)this.g.setRequestHeader(G,st);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(u),this.v=!1}catch(G){sr(this,G)}};function sr(u,m){u.h=!1,u.g&&(u.j=!0,u.g.abort(),u.j=!1),u.l=m,u.o=5,gl(u),Ii(u)}function gl(u){u.A||(u.A=!0,Ve(u,"complete"),Ve(u,"error"))}r.abort=function(u){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=u||7,Ve(this,"complete"),Ve(this,"abort"),Ii(this))},r.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Ii(this,!0)),Zt.Z.N.call(this)},r.Ca=function(){this.u||(this.B||this.v||this.j?lr(this):this.Xa())},r.Xa=function(){lr(this)};function lr(u){if(u.h&&typeof c<"u"){if(u.v&&Qn(u)==4)setTimeout(u.Ca.bind(u),0);else if(Ve(u,"readystatechange"),Qn(u)==4){u.h=!1;try{const G=u.ca();t:switch(G){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var m=!0;break t;default:m=!1}var b;if(!(b=m)){var S;if(S=G===0){let st=String(u.D).match(Yo)[1]||null;!st&&d.self&&d.self.location&&(st=d.self.location.protocol.slice(0,-1)),S=!fi.test(st?st.toLowerCase():"")}b=S}if(b)Ve(u,"complete"),Ve(u,"success");else{u.o=6;try{var P=Qn(u)>2?u.g.statusText:""}catch{P=""}u.l=P+" ["+u.ca()+"]",gl(u)}}finally{Ii(u)}}}}function Ii(u,m){if(u.g){u.m&&(clearTimeout(u.m),u.m=null);const b=u.g;u.g=null,m||Ve(u,"ready");try{b.onreadystatechange=null}catch{}}}r.isActive=function(){return!!this.g};function Qn(u){return u.g?u.g.readyState:0}r.ca=function(){try{return Qn(this)>2?this.g.status:-1}catch{return-1}},r.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},r.La=function(u){if(this.g){var m=this.g.responseText;return u&&m.indexOf(u)==0&&(m=m.substring(u.length)),fh(m)}};function Pe(u){try{if(!u.g)return null;if("response"in u.g)return u.g.response;switch(u.F){case"":case"text":return u.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in u.g)return u.g.mozResponseArrayBuffer}return null}catch{return null}}function Vi(u){const m={};u=(u.g&&Qn(u)>=2&&u.g.getAllResponseHeaders()||"").split(`\r
`);for(let S=0;S<u.length;S++){if(N(u[S]))continue;var b=Fo(u[S]);const P=b[0];if(b=b[1],typeof b!="string")continue;b=b.trim();const G=m[P]||[];m[P]=G,G.push(b)}It(m,function(S){return S.join(", ")})}r.ya=function(){return this.o},r.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function di(u,m,b){return b&&b.internalChannelParams&&b.internalChannelParams[u]||m}function ca(u){this.za=0,this.i=[],this.j=new Bn,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=di("failFast",!1,u),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=di("baseRetryDelayMs",5e3,u),this.Za=di("retryDelaySeedMs",1e4,u),this.Ta=di("forwardChannelMaxRetries",2,u),this.va=di("forwardChannelRequestTimeoutMs",2e4,u),this.ma=u&&u.xmlHttpFactory||void 0,this.Ua=u&&u.Rb||void 0,this.Aa=u&&u.useFetchStreams||!1,this.O=void 0,this.L=u&&u.supportsCrossDomainXhr||!1,this.M="",this.h=new rl(u&&u.concurrentRequestLimit),this.Ba=new oa,this.S=u&&u.fastHandshake||!1,this.R=u&&u.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=u&&u.Pb||!1,u&&u.ua&&this.j.ua(),u&&u.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&u&&u.detectBufferingProxy||!1,this.ia=void 0,u&&u.longPollingTimeout&&u.longPollingTimeout>0&&(this.ia=u.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}r=ca.prototype,r.ka=8,r.I=1,r.connect=function(u,m,b,S){Ee(0),this.W=u,this.H=m||{},b&&S!==void 0&&(this.H.OSID=b,this.H.OAID=S),this.F=this.X,this.J=au(this,null,this.W),mi(this)};function yl(u){if(Zr(u),u.I==3){var m=u.V++,b=Se(u.J);if(Kt(b,"SID",u.M),Kt(b,"RID",m),Kt(b,"TYPE","terminate"),or(u,b),m=new qn(u,u.j,m),m.M=2,m.A=nr(Se(b)),b=!1,d.navigator&&d.navigator.sendBeacon)try{b=d.navigator.sendBeacon(m.A.toString(),"")}catch{}!b&&d.Image&&(new Image().src=m.A,b=!0),b||(m.g=ru(m.j,null),m.g.ea(m.A)),m.F=Date.now(),ri(m)}iu(u)}function ha(u){u.g&&(_l(u),u.g.cancel(),u.g=null)}function Zr(u){ha(u),u.v&&(d.clearTimeout(u.v),u.v=null),Wr(u),u.h.cancel(),u.m&&(typeof u.m=="number"&&d.clearTimeout(u.m),u.m=null)}function mi(u){if(!sl(u.h)&&!u.m){u.m=!0;var m=u.Ea;xt||A(),rt||(xt(),rt=!0),w.add(m,u),u.D=0}}function Jr(u,m){return oi(u.h)>=u.h.j-(u.m?1:0)?!1:u.m?(u.i=m.G.concat(u.i),!0):u.I==1||u.I==2||u.D>=(u.Sa?0:u.Ta)?!1:(u.m=ni(y(u.Ea,u,m),nu(u,u.D)),u.D++,!0)}r.Ea=function(u){if(this.m)if(this.m=null,this.I==1){if(!u){this.V=Math.floor(Math.random()*1e5),u=this.V++;const P=new qn(this,this.j,u);let G=this.o;if(this.U&&(G?(G=M(G),lt(G,this.U)):G=this.U),this.u!==null||this.R||(P.J=G,G=null),this.S)t:{for(var m=0,b=0;b<this.i.length;b++){e:{var S=this.i[b];if("__data__"in S.map&&(S=S.map.__data__,typeof S=="string")){S=S.length;break e}S=void 0}if(S===void 0)break;if(m+=S,m>4096){m=b;break t}if(m===4096||b===this.i.length-1){m=b+1;break t}}m=1e3}else m=1e3;m=Jo(this,P,m),b=Se(this.J),Kt(b,"RID",u),Kt(b,"CVER",22),this.G&&Kt(b,"X-HTTP-Session-Id",this.G),or(this,b),G&&(this.R?m="headers="+Di(wn(G))+"&"+m:this.u&&rr(b,this.u,G)),ll(this.h,P),this.Ra&&Kt(b,"TYPE","init"),this.S?(Kt(b,"$req",m),Kt(b,"SID","null"),P.U=!0,ai(P,b,null)):ai(P,b,m),this.I=2}}else this.I==3&&(u?vl(this,u):this.i.length==0||sl(this.h)||vl(this))};function vl(u,m){var b;m?b=m.l:b=u.V++;const S=Se(u.J);Kt(S,"SID",u.M),Kt(S,"RID",b),Kt(S,"AID",u.K),or(u,S),u.u&&u.o&&rr(S,u.u,u.o),b=new qn(u,u.j,b,u.D+1),u.u===null&&(b.J=u.o),m&&(u.i=m.G.concat(u.i)),m=Jo(u,b,1e3),b.H=Math.round(u.va*.5)+Math.round(u.va*.5*Math.random()),ll(u.h,b),ai(b,S,m)}function or(u,m){u.H&&Rt(u.H,function(b,S){Kt(m,S,b)}),u.l&&Rt({},function(b,S){Kt(m,S,b)})}function Jo(u,m,b){b=Math.min(u.i.length,b);const S=u.l?y(u.l.Ka,u.l,u):null;t:{var P=u.i;let Ct=-1;for(;;){const pe=["count="+b];Ct==-1?b>0?(Ct=P[0].g,pe.push("ofs="+Ct)):Ct=0:pe.push("ofs="+Ct);let Ht=!0;for(let oe=0;oe<b;oe++){var G=P[oe].g;const Rn=P[oe].map;if(G-=Ct,G<0)Ct=Math.max(0,P[oe].g-100),Ht=!1;else try{G="req"+G+"_"||"";try{var st=Rn instanceof Map?Rn:Object.entries(Rn);for(const[gi,Yn]of st){let Kn=Yn;p(Yn)&&(Kn=ia(Yn)),pe.push(G+gi+"="+encodeURIComponent(Kn))}}catch(gi){throw pe.push(G+"type="+encodeURIComponent("_badmap")),gi}}catch{S&&S(Rn)}}if(Ht){st=pe.join("&");break t}}st=void 0}return u=u.i.splice(0,b),m.G=u,st}function Wo(u){if(!u.g&&!u.v){u.Y=1;var m=u.Da;xt||A(),rt||(xt(),rt=!0),w.add(m,u),u.A=0}}function ur(u){return u.g||u.v||u.A>=3?!1:(u.Y++,u.v=ni(y(u.Da,u),nu(u,u.A)),u.A++,!0)}r.Da=function(){if(this.v=null,tu(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var u=4*this.T;this.j.info("BP detection timer enabled: "+u),this.B=ni(y(this.Wa,this),u)}},r.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,Ee(10),ha(this),tu(this))};function _l(u){u.B!=null&&(d.clearTimeout(u.B),u.B=null)}function tu(u){u.g=new qn(u,u.j,"rpc",u.Y),u.u===null&&(u.g.J=u.o),u.g.P=0;var m=Se(u.na);Kt(m,"RID","rpc"),Kt(m,"SID",u.M),Kt(m,"AID",u.K),Kt(m,"CI",u.F?"0":"1"),!u.F&&u.ia&&Kt(m,"TO",u.ia),Kt(m,"TYPE","xmlhttp"),or(u,m),u.u&&u.o&&rr(m,u.u,u.o),u.O&&(u.g.H=u.O);var b=u.g;u=u.ba,b.M=1,b.A=nr(Se(m)),b.u=null,b.R=!0,Fr(b,u)}r.Va=function(){this.C!=null&&(this.C=null,ha(this),ur(this),Ee(19))};function Wr(u){u.C!=null&&(d.clearTimeout(u.C),u.C=null)}function eu(u,m){var b=null;if(u.g==m){Wr(u),_l(u),u.g=null;var S=2}else if(ui(u.h,m))b=m.G,ol(u.h,m),S=1;else return;if(u.I!=0){if(m.o)if(S==1){b=m.u?m.u.length:0,m=Date.now()-m.F;var P=u.D;S=Hr(),Ve(S,new ei(S,b)),mi(u)}else Wo(u);else if(P=m.m,P==3||P==0&&m.X>0||!(S==1&&Jr(u,m)||S==2&&ur(u)))switch(b&&b.length>0&&(m=u.h,m.i=m.i.concat(b)),P){case 1:pi(u,5);break;case 4:pi(u,10);break;case 3:pi(u,6);break;default:pi(u,2)}}}function nu(u,m){let b=u.Qa+Math.floor(Math.random()*u.Za);return u.isActive()||(b*=2),b*m}function pi(u,m){if(u.j.info("Error code "+m),m==2){var b=y(u.bb,u),S=u.Ua;const P=!S;S=new dn(S||"//www.google.com/images/cleardot.gif"),d.location&&d.location.protocol=="http"||ze(S,"https"),nr(S),P?Fn(S.toString(),b):ml(S.toString(),b)}else Ee(2);u.I=0,u.l&&u.l.pa(m),iu(u),Zr(u)}r.bb=function(u){u?(this.j.info("Successfully pinged google.com"),Ee(2)):(this.j.info("Failed to ping google.com"),Ee(1))};function iu(u){if(u.I=0,u.ja=[],u.l){const m=ul(u.h);(m.length!=0||u.i.length!=0)&&(Y(u.ja,m),Y(u.ja,u.i),u.h.i.length=0,U(u.i),u.i.length=0),u.l.oa()}}function au(u,m,b){var S=b instanceof dn?Se(b):new dn(b);if(S.g!="")m&&(S.g=m+"."+S.g),aa(S,S.u);else{var P=d.location;S=P.protocol,m=m?m+"."+P.hostname:P.hostname,P=+P.port;const G=new dn(null);S&&ze(G,S),m&&(G.g=m),P&&aa(G,P),b&&(G.h=b),S=G}return b=u.G,m=u.wa,b&&m&&Kt(S,b,m),Kt(S,"VER",u.ka),or(u,S),S}function ru(u,m,b){if(m&&!u.L)throw Error("Can't create secondary domain capable XhrIo object.");return m=u.Aa&&!u.ma?new Zt(new hi({ab:b})):new Zt(u.ma),m.Fa(u.L),m}r.isActive=function(){return!!this.l&&this.l.isActive(this)};function su(){}r=su.prototype,r.ra=function(){},r.qa=function(){},r.pa=function(){},r.oa=function(){},r.isActive=function(){return!0},r.Ka=function(){};function fa(){}fa.prototype.g=function(u,m){return new We(u,m)};function We(u,m){be.call(this),this.g=new ca(m),this.l=u,this.h=m&&m.messageUrlParams||null,u=m&&m.messageHeaders||null,m&&m.clientProtocolHeaderRequired&&(u?u["X-Client-Protocol"]="webchannel":u={"X-Client-Protocol":"webchannel"}),this.g.o=u,u=m&&m.initMessageHeaders||null,m&&m.messageContentType&&(u?u["X-WebChannel-Content-Type"]=m.messageContentType:u={"X-WebChannel-Content-Type":m.messageContentType}),m&&m.sa&&(u?u["X-WebChannel-Client-Profile"]=m.sa:u={"X-WebChannel-Client-Profile":m.sa}),this.g.U=u,(u=m&&m.Qb)&&!N(u)&&(this.g.u=u),this.A=m&&m.supportsCrossDomainXhr||!1,this.v=m&&m.sendRawJson||!1,(m=m&&m.httpSessionIdParam)&&!N(m)&&(this.g.G=m,u=this.h,u!==null&&m in u&&(u=this.h,m in u&&delete u[m])),this.j=new ji(this)}x(We,be),We.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},We.prototype.close=function(){yl(this.g)},We.prototype.o=function(u){var m=this.g;if(typeof u=="string"){var b={};b.__data__=u,u=b}else this.v&&(b={},b.__data__=ia(u),u=b);m.i.push(new xe(m.Ya++,u)),m.I==3&&mi(m)},We.prototype.N=function(){this.g.l=null,delete this.j,yl(this.g),delete this.g,We.Z.N.call(this)};function lu(u){ke.call(this),u.__headers__&&(this.headers=u.__headers__,this.statusCode=u.__status__,delete u.__headers__,delete u.__status__);var m=u.__sm__;if(m){t:{for(const b in m){u=b;break t}u=void 0}(this.i=u)&&(u=this.i,m=m!==null&&u in m?m[u]:void 0),this.data=m}else this.data=u}x(lu,ke);function ou(){xn.call(this),this.status=1}x(ou,xn);function ji(u){this.g=u}x(ji,su),ji.prototype.ra=function(){Ve(this.g,"a")},ji.prototype.qa=function(u){Ve(this.g,new lu(u))},ji.prototype.pa=function(u){Ve(this.g,new ou)},ji.prototype.oa=function(){Ve(this.g,"b")},fa.prototype.createWebChannel=fa.prototype.g,We.prototype.send=We.prototype.o,We.prototype.open=We.prototype.m,We.prototype.close=We.prototype.close,w_=function(){return new fa},A_=function(){return Hr()},S_=me,Md={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},tr.NO_ERROR=0,tr.TIMEOUT=8,tr.HTTP_ERROR=6,bc=tr,il.COMPLETE="complete",x_=il,Po.EventType=Pn,Pn.OPEN="a",Pn.CLOSE="b",Pn.ERROR="c",Pn.MESSAGE="d",be.prototype.listen=be.prototype.J,lo=Po,Zt.prototype.listenOnce=Zt.prototype.K,Zt.prototype.getLastError=Zt.prototype.Ha,Zt.prototype.getLastErrorCode=Zt.prototype.ya,Zt.prototype.getStatus=Zt.prototype.ca,Zt.prototype.getResponseJson=Zt.prototype.La,Zt.prototype.getResponseText=Zt.prototype.la,Zt.prototype.send=Zt.prototype.ea,Zt.prototype.setWithCredentials=Zt.prototype.Fa,T_=Zt}).apply(typeof dc<"u"?dc:typeof self<"u"?self:typeof window<"u"?window:{});const G0="@firebase/firestore",Q0="4.9.2";let $e=class{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}};$e.UNAUTHENTICATED=new $e(null),$e.GOOGLE_CREDENTIALS=new $e("google-credentials-uid"),$e.FIRST_PARTY=new $e("first-party-uid"),$e.MOCK_USER=new $e("mock-user");let Ys="12.3.0";const Ir=new p_("@firebase/firestore");function Ds(){return Ir.logLevel}function ht(r,...e){if(Ir.logLevel<=Pt.DEBUG){const i=e.map(fm);Ir.debug(`Firestore (${Ys}): ${r}`,...i)}}function Wi(r,...e){if(Ir.logLevel<=Pt.ERROR){const i=e.map(fm);Ir.error(`Firestore (${Ys}): ${r}`,...i)}}function Us(r,...e){if(Ir.logLevel<=Pt.WARN){const i=e.map(fm);Ir.warn(`Firestore (${Ys}): ${r}`,...i)}}function fm(r){if(typeof r=="string")return r;try{return(function(i){return JSON.stringify(i)})(r)}catch{return r}}function Tt(r,e,i){let s="Unexpected state";typeof e=="string"?s=e:i=e,R_(r,s,i)}function R_(r,e,i){let s=`FIRESTORE (${Ys}) INTERNAL ASSERTION FAILED: ${e} (ID: ${r.toString(16)})`;if(i!==void 0)try{s+=" CONTEXT: "+JSON.stringify(i)}catch{s+=" CONTEXT: "+i}throw Wi(s),new Error(s)}function Gt(r,e,i,s){let o="Unexpected state";typeof i=="string"?o=i:s=i,r||R_(e,o,s)}function wt(r,e){return r}const et={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class ut extends Qs{constructor(e,i){super(e,i),this.code=e,this.message=i,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class Cr{constructor(){this.promise=new Promise(((e,i)=>{this.resolve=e,this.reject=i}))}}class C_{constructor(e,i){this.user=i,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class lS{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,i){e.enqueueRetryable((()=>i($e.UNAUTHENTICATED)))}shutdown(){}}class oS{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,i){this.changeListener=i,e.enqueueRetryable((()=>i(this.token.user)))}shutdown(){this.changeListener=null}}class uS{constructor(e){this.t=e,this.currentUser=$e.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,i){Gt(this.o===void 0,42304);let s=this.i;const o=g=>this.i!==s?(s=this.i,i(g)):Promise.resolve();let c=new Cr;this.o=()=>{this.i++,this.currentUser=this.u(),c.resolve(),c=new Cr,e.enqueueRetryable((()=>o(this.currentUser)))};const d=()=>{const g=c;e.enqueueRetryable((async()=>{await g.promise,await o(this.currentUser)}))},p=g=>{ht("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=g,this.o&&(this.auth.addAuthTokenListener(this.o),d())};this.t.onInit((g=>p(g))),setTimeout((()=>{if(!this.auth){const g=this.t.getImmediate({optional:!0});g?p(g):(ht("FirebaseAuthCredentialsProvider","Auth not yet detected"),c.resolve(),c=new Cr)}}),0),d()}getToken(){const e=this.i,i=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(i).then((s=>this.i!==e?(ht("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):s?(Gt(typeof s.accessToken=="string",31837,{l:s}),new C_(s.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Gt(e===null||typeof e=="string",2055,{h:e}),new $e(e)}}class cS{constructor(e,i,s){this.P=e,this.T=i,this.I=s,this.type="FirstParty",this.user=$e.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class hS{constructor(e,i,s){this.P=e,this.T=i,this.I=s}getToken(){return Promise.resolve(new cS(this.P,this.T,this.I))}start(e,i){e.enqueueRetryable((()=>i($e.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class Y0{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class fS{constructor(e,i){this.V=i,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,Fx(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,i){Gt(this.o===void 0,3512);const s=c=>{c.error!=null&&ht("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${c.error.message}`);const d=c.token!==this.m;return this.m=c.token,ht("FirebaseAppCheckTokenProvider",`Received ${d?"new":"existing"} token.`),d?i(c.token):Promise.resolve()};this.o=c=>{e.enqueueRetryable((()=>s(c)))};const o=c=>{ht("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=c,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((c=>o(c))),setTimeout((()=>{if(!this.appCheck){const c=this.V.getImmediate({optional:!0});c?o(c):ht("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new Y0(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((i=>i?(Gt(typeof i.token=="string",44558,{tokenResult:i}),this.m=i.token,new Y0(i.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}function dS(r){const e=typeof self<"u"&&(self.crypto||self.msCrypto),i=new Uint8Array(r);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(i);else for(let s=0;s<r;s++)i[s]=Math.floor(256*Math.random());return i}class dm{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",i=62*Math.floor(4.129032258064516);let s="";for(;s.length<20;){const o=dS(40);for(let c=0;c<o.length;++c)s.length<20&&o[c]<i&&(s+=e.charAt(o[c]%62))}return s}}function zt(r,e){return r<e?-1:r>e?1:0}function Od(r,e){const i=Math.min(r.length,e.length);for(let s=0;s<i;s++){const o=r.charAt(s),c=e.charAt(s);if(o!==c)return Td(o)===Td(c)?zt(o,c):Td(o)?1:-1}return zt(r.length,e.length)}const mS=55296,pS=57343;function Td(r){const e=r.charCodeAt(0);return e>=mS&&e<=pS}function Ls(r,e,i){return r.length===e.length&&r.every(((s,o)=>i(s,e[o])))}const K0="__name__";class Ti{constructor(e,i,s){i===void 0?i=0:i>e.length&&Tt(637,{offset:i,range:e.length}),s===void 0?s=e.length-i:s>e.length-i&&Tt(1746,{length:s,range:e.length-i}),this.segments=e,this.offset=i,this.len=s}get length(){return this.len}isEqual(e){return Ti.comparator(this,e)===0}child(e){const i=this.segments.slice(this.offset,this.limit());return e instanceof Ti?e.forEach((s=>{i.push(s)})):i.push(e),this.construct(i)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==e.get(i))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==e.get(i))return!1;return!0}forEach(e){for(let i=this.offset,s=this.limit();i<s;i++)e(this.segments[i])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,i){const s=Math.min(e.length,i.length);for(let o=0;o<s;o++){const c=Ti.compareSegments(e.get(o),i.get(o));if(c!==0)return c}return zt(e.length,i.length)}static compareSegments(e,i){const s=Ti.isNumericId(e),o=Ti.isNumericId(i);return s&&!o?-1:!s&&o?1:s&&o?Ti.extractNumericId(e).compare(Ti.extractNumericId(i)):Od(e,i)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return La.fromString(e.substring(4,e.length-2))}}class ne extends Ti{construct(e,i,s){return new ne(e,i,s)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const i=[];for(const s of e){if(s.indexOf("//")>=0)throw new ut(et.INVALID_ARGUMENT,`Invalid segment (${s}). Paths must not contain // in them.`);i.push(...s.split("/").filter((o=>o.length>0)))}return new ne(i)}static emptyPath(){return new ne([])}}const gS=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Qe extends Ti{construct(e,i,s){return new Qe(e,i,s)}static isValidIdentifier(e){return gS.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Qe.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===K0}static keyField(){return new Qe([K0])}static fromServerFormat(e){const i=[];let s="",o=0;const c=()=>{if(s.length===0)throw new ut(et.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);i.push(s),s=""};let d=!1;for(;o<e.length;){const p=e[o];if(p==="\\"){if(o+1===e.length)throw new ut(et.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const g=e[o+1];if(g!=="\\"&&g!=="."&&g!=="`")throw new ut(et.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);s+=g,o+=2}else p==="`"?(d=!d,o++):p!=="."||d?(s+=p,o++):(c(),o++)}if(c(),d)throw new ut(et.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Qe(i)}static emptyPath(){return new Qe([])}}class vt{constructor(e){this.path=e}static fromPath(e){return new vt(ne.fromString(e))}static fromName(e){return new vt(ne.fromString(e).popFirst(5))}static empty(){return new vt(ne.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&ne.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,i){return ne.comparator(e.path,i.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new vt(new ne(e.slice()))}}function N_(r,e,i){if(!i)throw new ut(et.INVALID_ARGUMENT,`Function ${r}() cannot be called with an empty ${e}.`)}function yS(r,e,i,s){if(e===!0&&s===!0)throw new ut(et.INVALID_ARGUMENT,`${r} and ${i} cannot be used together.`)}function X0(r){if(!vt.isDocumentKey(r))throw new ut(et.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${r} has ${r.length}.`)}function $0(r){if(vt.isDocumentKey(r))throw new ut(et.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${r} has ${r.length}.`)}function D_(r){return typeof r=="object"&&r!==null&&(Object.getPrototypeOf(r)===Object.prototype||Object.getPrototypeOf(r)===null)}function Yc(r){if(r===void 0)return"undefined";if(r===null)return"null";if(typeof r=="string")return r.length>20&&(r=`${r.substring(0,20)}...`),JSON.stringify(r);if(typeof r=="number"||typeof r=="boolean")return""+r;if(typeof r=="object"){if(r instanceof Array)return"an array";{const e=(function(s){return s.constructor?s.constructor.name:null})(r);return e?`a custom ${e} object`:"an object"}}return typeof r=="function"?"a function":Tt(12329,{type:typeof r})}function xi(r,e){if("_delegate"in r&&(r=r._delegate),!(r instanceof e)){if(e.name===r.constructor.name)throw new ut(et.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const i=Yc(r);throw new ut(et.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${i}`)}}return r}function Ie(r,e){const i={typeString:r};return e&&(i.value=e),i}function Io(r,e){if(!D_(r))throw new ut(et.INVALID_ARGUMENT,"JSON must be an object");let i;for(const s in e)if(e[s]){const o=e[s].typeString,c="value"in e[s]?{value:e[s].value}:void 0;if(!(s in r)){i=`JSON missing required field: '${s}'`;break}const d=r[s];if(o&&typeof d!==o){i=`JSON field '${s}' must be a ${o}.`;break}if(c!==void 0&&d!==c.value){i=`Expected '${s}' field to equal '${c.value}'`;break}}if(i)throw new ut(et.INVALID_ARGUMENT,i);return!0}const Z0=-62135596800,J0=1e6;class se{static now(){return se.fromMillis(Date.now())}static fromDate(e){return se.fromMillis(e.getTime())}static fromMillis(e){const i=Math.floor(e/1e3),s=Math.floor((e-1e3*i)*J0);return new se(i,s)}constructor(e,i){if(this.seconds=e,this.nanoseconds=i,i<0)throw new ut(et.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(i>=1e9)throw new ut(et.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(e<Z0)throw new ut(et.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new ut(et.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/J0}_compareTo(e){return this.seconds===e.seconds?zt(this.nanoseconds,e.nanoseconds):zt(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:se._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(Io(e,se._jsonSchema))return new se(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-Z0;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}se._jsonSchemaVersion="firestore/timestamp/1.0",se._jsonSchema={type:Ie("string",se._jsonSchemaVersion),seconds:Ie("number"),nanoseconds:Ie("number")};class St{static fromTimestamp(e){return new St(e)}static min(){return new St(new se(0,0))}static max(){return new St(new se(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}const Eo=-1;function vS(r,e){const i=r.toTimestamp().seconds,s=r.toTimestamp().nanoseconds+1,o=St.fromTimestamp(s===1e9?new se(i+1,0):new se(i,s));return new Pa(o,vt.empty(),e)}function _S(r){return new Pa(r.readTime,r.key,Eo)}class Pa{constructor(e,i,s){this.readTime=e,this.documentKey=i,this.largestBatchId=s}static min(){return new Pa(St.min(),vt.empty(),Eo)}static max(){return new Pa(St.max(),vt.empty(),Eo)}}function bS(r,e){let i=r.readTime.compareTo(e.readTime);return i!==0?i:(i=vt.comparator(r.documentKey,e.documentKey),i!==0?i:zt(r.largestBatchId,e.largestBatchId))}const ES="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class TS{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}async function Ks(r){if(r.code!==et.FAILED_PRECONDITION||r.message!==ES)throw r;ht("LocalStore","Unexpectedly lost primary lease")}class nt{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((i=>{this.isDone=!0,this.result=i,this.nextCallback&&this.nextCallback(i)}),(i=>{this.isDone=!0,this.error=i,this.catchCallback&&this.catchCallback(i)}))}catch(e){return this.next(void 0,e)}next(e,i){return this.callbackAttached&&Tt(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(i,this.error):this.wrapSuccess(e,this.result):new nt(((s,o)=>{this.nextCallback=c=>{this.wrapSuccess(e,c).next(s,o)},this.catchCallback=c=>{this.wrapFailure(i,c).next(s,o)}}))}toPromise(){return new Promise(((e,i)=>{this.next(e,i)}))}wrapUserFunction(e){try{const i=e();return i instanceof nt?i:nt.resolve(i)}catch(i){return nt.reject(i)}}wrapSuccess(e,i){return e?this.wrapUserFunction((()=>e(i))):nt.resolve(i)}wrapFailure(e,i){return e?this.wrapUserFunction((()=>e(i))):nt.reject(i)}static resolve(e){return new nt(((i,s)=>{i(e)}))}static reject(e){return new nt(((i,s)=>{s(e)}))}static waitFor(e){return new nt(((i,s)=>{let o=0,c=0,d=!1;e.forEach((p=>{++o,p.next((()=>{++c,d&&c===o&&i()}),(g=>s(g)))})),d=!0,c===o&&i()}))}static or(e){let i=nt.resolve(!1);for(const s of e)i=i.next((o=>o?nt.resolve(o):s()));return i}static forEach(e,i){const s=[];return e.forEach(((o,c)=>{s.push(i.call(this,o,c))})),this.waitFor(s)}static mapArray(e,i){return new nt(((s,o)=>{const c=e.length,d=new Array(c);let p=0;for(let g=0;g<c;g++){const y=g;i(e[y]).next((E=>{d[y]=E,++p,p===c&&s(d)}),(E=>o(E)))}}))}static doWhile(e,i){return new nt(((s,o)=>{const c=()=>{e()===!0?i().next((()=>{c()}),o):s()};c()}))}}function xS(r){const e=r.match(/Android ([\d.]+)/i),i=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(i)}function Xs(r){return r.name==="IndexedDbTransactionError"}class Kc{constructor(e,i){this.previousValue=e,i&&(i.sequenceNumberHandler=s=>this.ae(s),this.ue=s=>i.writeSequenceNumber(s))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}Kc.ce=-1;const mm=-1;function Xc(r){return r==null}function Vc(r){return r===0&&1/r==-1/0}function SS(r){return typeof r=="number"&&Number.isInteger(r)&&!Vc(r)&&r<=Number.MAX_SAFE_INTEGER&&r>=Number.MIN_SAFE_INTEGER}const I_="";function AS(r){let e="";for(let i=0;i<r.length;i++)e.length>0&&(e=W0(e)),e=wS(r.get(i),e);return W0(e)}function wS(r,e){let i=e;const s=r.length;for(let o=0;o<s;o++){const c=r.charAt(o);switch(c){case"\0":i+="";break;case I_:i+="";break;default:i+=c}}return i}function W0(r){return r+I_+""}function tv(r){let e=0;for(const i in r)Object.prototype.hasOwnProperty.call(r,i)&&e++;return e}function Ya(r,e){for(const i in r)Object.prototype.hasOwnProperty.call(r,i)&&e(i,r[i])}function V_(r){for(const e in r)if(Object.prototype.hasOwnProperty.call(r,e))return!1;return!0}class he{constructor(e,i){this.comparator=e,this.root=i||Ge.EMPTY}insert(e,i){return new he(this.comparator,this.root.insert(e,i,this.comparator).copy(null,null,Ge.BLACK,null,null))}remove(e){return new he(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Ge.BLACK,null,null))}get(e){let i=this.root;for(;!i.isEmpty();){const s=this.comparator(e,i.key);if(s===0)return i.value;s<0?i=i.left:s>0&&(i=i.right)}return null}indexOf(e){let i=0,s=this.root;for(;!s.isEmpty();){const o=this.comparator(e,s.key);if(o===0)return i+s.left.size;o<0?s=s.left:(i+=s.left.size+1,s=s.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((i,s)=>(e(i,s),!1)))}toString(){const e=[];return this.inorderTraversal(((i,s)=>(e.push(`${i}:${s}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new mc(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new mc(this.root,e,this.comparator,!1)}getReverseIterator(){return new mc(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new mc(this.root,e,this.comparator,!0)}}class mc{constructor(e,i,s,o){this.isReverse=o,this.nodeStack=[];let c=1;for(;!e.isEmpty();)if(c=i?s(e.key,i):1,i&&o&&(c*=-1),c<0)e=this.isReverse?e.left:e.right;else{if(c===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const i={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return i}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Ge{constructor(e,i,s,o,c){this.key=e,this.value=i,this.color=s??Ge.RED,this.left=o??Ge.EMPTY,this.right=c??Ge.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,i,s,o,c){return new Ge(e??this.key,i??this.value,s??this.color,o??this.left,c??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,i,s){let o=this;const c=s(e,o.key);return o=c<0?o.copy(null,null,null,o.left.insert(e,i,s),null):c===0?o.copy(null,i,null,null,null):o.copy(null,null,null,null,o.right.insert(e,i,s)),o.fixUp()}removeMin(){if(this.left.isEmpty())return Ge.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,i){let s,o=this;if(i(e,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(e,i),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),i(e,o.key)===0){if(o.right.isEmpty())return Ge.EMPTY;s=o.right.min(),o=o.copy(s.key,s.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(e,i))}return o.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Ge.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Ge.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),i=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,i)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Tt(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Tt(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw Tt(27949);return e+(this.isRed()?0:1)}}Ge.EMPTY=null,Ge.RED=!0,Ge.BLACK=!1;Ge.EMPTY=new class{constructor(){this.size=0}get key(){throw Tt(57766)}get value(){throw Tt(16141)}get color(){throw Tt(16727)}get left(){throw Tt(29726)}get right(){throw Tt(36894)}copy(e,i,s,o,c){return this}insert(e,i,s){return new Ge(e,i)}remove(e,i){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Me{constructor(e){this.comparator=e,this.data=new he(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((i,s)=>(e(i),!1)))}forEachInRange(e,i){const s=this.data.getIteratorFrom(e[0]);for(;s.hasNext();){const o=s.getNext();if(this.comparator(o.key,e[1])>=0)return;i(o.key)}}forEachWhile(e,i){let s;for(s=i!==void 0?this.data.getIteratorFrom(i):this.data.getIterator();s.hasNext();)if(!e(s.getNext().key))return}firstAfterOrEqual(e){const i=this.data.getIteratorFrom(e);return i.hasNext()?i.getNext().key:null}getIterator(){return new ev(this.data.getIterator())}getIteratorFrom(e){return new ev(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let i=this;return i.size<e.size&&(i=e,e=this),e.forEach((s=>{i=i.add(s)})),i}isEqual(e){if(!(e instanceof Me)||this.size!==e.size)return!1;const i=this.data.getIterator(),s=e.data.getIterator();for(;i.hasNext();){const o=i.getNext().key,c=s.getNext().key;if(this.comparator(o,c)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((i=>{e.push(i)})),e}toString(){const e=[];return this.forEach((i=>e.push(i))),"SortedSet("+e.toString()+")"}copy(e){const i=new Me(this.comparator);return i.data=e,i}}class ev{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class En{constructor(e){this.fields=e,e.sort(Qe.comparator)}static empty(){return new En([])}unionWith(e){let i=new Me(Qe.comparator);for(const s of this.fields)i=i.add(s);for(const s of e)i=i.add(s);return new En(i.toArray())}covers(e){for(const i of this.fields)if(i.isPrefixOf(e))return!0;return!1}isEqual(e){return Ls(this.fields,e.fields,((i,s)=>i.isEqual(s)))}}class j_ extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class Ye{constructor(e){this.binaryString=e}static fromBase64String(e){const i=(function(o){try{return atob(o)}catch(c){throw typeof DOMException<"u"&&c instanceof DOMException?new j_("Invalid base64 string: "+c):c}})(e);return new Ye(i)}static fromUint8Array(e){const i=(function(o){let c="";for(let d=0;d<o.length;++d)c+=String.fromCharCode(o[d]);return c})(e);return new Ye(i)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(i){return btoa(i)})(this.binaryString)}toUint8Array(){return(function(i){const s=new Uint8Array(i.length);for(let o=0;o<i.length;o++)s[o]=i.charCodeAt(o);return s})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return zt(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Ye.EMPTY_BYTE_STRING=new Ye("");const RS=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Ba(r){if(Gt(!!r,39018),typeof r=="string"){let e=0;const i=RS.exec(r);if(Gt(!!i,46558,{timestamp:r}),i[1]){let o=i[1];o=(o+"000000000").substr(0,9),e=Number(o)}const s=new Date(r);return{seconds:Math.floor(s.getTime()/1e3),nanos:e}}return{seconds:ve(r.seconds),nanos:ve(r.nanos)}}function ve(r){return typeof r=="number"?r:typeof r=="string"?Number(r):0}function qa(r){return typeof r=="string"?Ye.fromBase64String(r):Ye.fromUint8Array(r)}const M_="server_timestamp",O_="__type__",z_="__previous_value__",U_="__local_write_time__";function pm(r){return(r?.mapValue?.fields||{})[O_]?.stringValue===M_}function $c(r){const e=r.mapValue.fields[z_];return pm(e)?$c(e):e}function To(r){const e=Ba(r.mapValue.fields[U_].timestampValue);return new se(e.seconds,e.nanos)}class CS{constructor(e,i,s,o,c,d,p,g,y,E){this.databaseId=e,this.appId=i,this.persistenceKey=s,this.host=o,this.ssl=c,this.forceLongPolling=d,this.autoDetectLongPolling=p,this.longPollingOptions=g,this.useFetchStreams=y,this.isUsingEmulator=E}}const jc="(default)";class xo{constructor(e,i){this.projectId=e,this.database=i||jc}static empty(){return new xo("","")}get isDefaultDatabase(){return this.database===jc}isEqual(e){return e instanceof xo&&e.projectId===this.projectId&&e.database===this.database}}const L_="__type__",NS="__max__",pc={mapValue:{}},k_="__vector__",Mc="value";function Ha(r){return"nullValue"in r?0:"booleanValue"in r?1:"integerValue"in r||"doubleValue"in r?2:"timestampValue"in r?3:"stringValue"in r?5:"bytesValue"in r?6:"referenceValue"in r?7:"geoPointValue"in r?8:"arrayValue"in r?9:"mapValue"in r?pm(r)?4:IS(r)?9007199254740991:DS(r)?10:11:Tt(28295,{value:r})}function Ni(r,e){if(r===e)return!0;const i=Ha(r);if(i!==Ha(e))return!1;switch(i){case 0:case 9007199254740991:return!0;case 1:return r.booleanValue===e.booleanValue;case 4:return To(r).isEqual(To(e));case 3:return(function(o,c){if(typeof o.timestampValue=="string"&&typeof c.timestampValue=="string"&&o.timestampValue.length===c.timestampValue.length)return o.timestampValue===c.timestampValue;const d=Ba(o.timestampValue),p=Ba(c.timestampValue);return d.seconds===p.seconds&&d.nanos===p.nanos})(r,e);case 5:return r.stringValue===e.stringValue;case 6:return(function(o,c){return qa(o.bytesValue).isEqual(qa(c.bytesValue))})(r,e);case 7:return r.referenceValue===e.referenceValue;case 8:return(function(o,c){return ve(o.geoPointValue.latitude)===ve(c.geoPointValue.latitude)&&ve(o.geoPointValue.longitude)===ve(c.geoPointValue.longitude)})(r,e);case 2:return(function(o,c){if("integerValue"in o&&"integerValue"in c)return ve(o.integerValue)===ve(c.integerValue);if("doubleValue"in o&&"doubleValue"in c){const d=ve(o.doubleValue),p=ve(c.doubleValue);return d===p?Vc(d)===Vc(p):isNaN(d)&&isNaN(p)}return!1})(r,e);case 9:return Ls(r.arrayValue.values||[],e.arrayValue.values||[],Ni);case 10:case 11:return(function(o,c){const d=o.mapValue.fields||{},p=c.mapValue.fields||{};if(tv(d)!==tv(p))return!1;for(const g in d)if(d.hasOwnProperty(g)&&(p[g]===void 0||!Ni(d[g],p[g])))return!1;return!0})(r,e);default:return Tt(52216,{left:r})}}function So(r,e){return(r.values||[]).find((i=>Ni(i,e)))!==void 0}function ks(r,e){if(r===e)return 0;const i=Ha(r),s=Ha(e);if(i!==s)return zt(i,s);switch(i){case 0:case 9007199254740991:return 0;case 1:return zt(r.booleanValue,e.booleanValue);case 2:return(function(c,d){const p=ve(c.integerValue||c.doubleValue),g=ve(d.integerValue||d.doubleValue);return p<g?-1:p>g?1:p===g?0:isNaN(p)?isNaN(g)?0:-1:1})(r,e);case 3:return nv(r.timestampValue,e.timestampValue);case 4:return nv(To(r),To(e));case 5:return Od(r.stringValue,e.stringValue);case 6:return(function(c,d){const p=qa(c),g=qa(d);return p.compareTo(g)})(r.bytesValue,e.bytesValue);case 7:return(function(c,d){const p=c.split("/"),g=d.split("/");for(let y=0;y<p.length&&y<g.length;y++){const E=zt(p[y],g[y]);if(E!==0)return E}return zt(p.length,g.length)})(r.referenceValue,e.referenceValue);case 8:return(function(c,d){const p=zt(ve(c.latitude),ve(d.latitude));return p!==0?p:zt(ve(c.longitude),ve(d.longitude))})(r.geoPointValue,e.geoPointValue);case 9:return iv(r.arrayValue,e.arrayValue);case 10:return(function(c,d){const p=c.fields||{},g=d.fields||{},y=p[Mc]?.arrayValue,E=g[Mc]?.arrayValue,x=zt(y?.values?.length||0,E?.values?.length||0);return x!==0?x:iv(y,E)})(r.mapValue,e.mapValue);case 11:return(function(c,d){if(c===pc.mapValue&&d===pc.mapValue)return 0;if(c===pc.mapValue)return 1;if(d===pc.mapValue)return-1;const p=c.fields||{},g=Object.keys(p),y=d.fields||{},E=Object.keys(y);g.sort(),E.sort();for(let x=0;x<g.length&&x<E.length;++x){const R=Od(g[x],E[x]);if(R!==0)return R;const U=ks(p[g[x]],y[E[x]]);if(U!==0)return U}return zt(g.length,E.length)})(r.mapValue,e.mapValue);default:throw Tt(23264,{he:i})}}function nv(r,e){if(typeof r=="string"&&typeof e=="string"&&r.length===e.length)return zt(r,e);const i=Ba(r),s=Ba(e),o=zt(i.seconds,s.seconds);return o!==0?o:zt(i.nanos,s.nanos)}function iv(r,e){const i=r.values||[],s=e.values||[];for(let o=0;o<i.length&&o<s.length;++o){const c=ks(i[o],s[o]);if(c)return c}return zt(i.length,s.length)}function Ps(r){return zd(r)}function zd(r){return"nullValue"in r?"null":"booleanValue"in r?""+r.booleanValue:"integerValue"in r?""+r.integerValue:"doubleValue"in r?""+r.doubleValue:"timestampValue"in r?(function(i){const s=Ba(i);return`time(${s.seconds},${s.nanos})`})(r.timestampValue):"stringValue"in r?r.stringValue:"bytesValue"in r?(function(i){return qa(i).toBase64()})(r.bytesValue):"referenceValue"in r?(function(i){return vt.fromName(i).toString()})(r.referenceValue):"geoPointValue"in r?(function(i){return`geo(${i.latitude},${i.longitude})`})(r.geoPointValue):"arrayValue"in r?(function(i){let s="[",o=!0;for(const c of i.values||[])o?o=!1:s+=",",s+=zd(c);return s+"]"})(r.arrayValue):"mapValue"in r?(function(i){const s=Object.keys(i.fields||{}).sort();let o="{",c=!0;for(const d of s)c?c=!1:o+=",",o+=`${d}:${zd(i.fields[d])}`;return o+"}"})(r.mapValue):Tt(61005,{value:r})}function Ec(r){switch(Ha(r)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=$c(r);return e?16+Ec(e):16;case 5:return 2*r.stringValue.length;case 6:return qa(r.bytesValue).approximateByteSize();case 7:return r.referenceValue.length;case 9:return(function(s){return(s.values||[]).reduce(((o,c)=>o+Ec(c)),0)})(r.arrayValue);case 10:case 11:return(function(s){let o=0;return Ya(s.fields,((c,d)=>{o+=c.length+Ec(d)})),o})(r.mapValue);default:throw Tt(13486,{value:r})}}function av(r,e){return{referenceValue:`projects/${r.projectId}/databases/${r.database}/documents/${e.path.canonicalString()}`}}function Ud(r){return!!r&&"integerValue"in r}function gm(r){return!!r&&"arrayValue"in r}function rv(r){return!!r&&"nullValue"in r}function sv(r){return!!r&&"doubleValue"in r&&isNaN(Number(r.doubleValue))}function Tc(r){return!!r&&"mapValue"in r}function DS(r){return(r?.mapValue?.fields||{})[L_]?.stringValue===k_}function mo(r){if(r.geoPointValue)return{geoPointValue:{...r.geoPointValue}};if(r.timestampValue&&typeof r.timestampValue=="object")return{timestampValue:{...r.timestampValue}};if(r.mapValue){const e={mapValue:{fields:{}}};return Ya(r.mapValue.fields,((i,s)=>e.mapValue.fields[i]=mo(s))),e}if(r.arrayValue){const e={arrayValue:{values:[]}};for(let i=0;i<(r.arrayValue.values||[]).length;++i)e.arrayValue.values[i]=mo(r.arrayValue.values[i]);return e}return{...r}}function IS(r){return(((r.mapValue||{}).fields||{}).__type__||{}).stringValue===NS}class hn{constructor(e){this.value=e}static empty(){return new hn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let i=this.value;for(let s=0;s<e.length-1;++s)if(i=(i.mapValue.fields||{})[e.get(s)],!Tc(i))return null;return i=(i.mapValue.fields||{})[e.lastSegment()],i||null}}set(e,i){this.getFieldsMap(e.popLast())[e.lastSegment()]=mo(i)}setAll(e){let i=Qe.emptyPath(),s={},o=[];e.forEach(((d,p)=>{if(!i.isImmediateParentOf(p)){const g=this.getFieldsMap(i);this.applyChanges(g,s,o),s={},o=[],i=p.popLast()}d?s[p.lastSegment()]=mo(d):o.push(p.lastSegment())}));const c=this.getFieldsMap(i);this.applyChanges(c,s,o)}delete(e){const i=this.field(e.popLast());Tc(i)&&i.mapValue.fields&&delete i.mapValue.fields[e.lastSegment()]}isEqual(e){return Ni(this.value,e.value)}getFieldsMap(e){let i=this.value;i.mapValue.fields||(i.mapValue={fields:{}});for(let s=0;s<e.length;++s){let o=i.mapValue.fields[e.get(s)];Tc(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},i.mapValue.fields[e.get(s)]=o),i=o}return i.mapValue.fields}applyChanges(e,i,s){Ya(i,((o,c)=>e[o]=c));for(const o of s)delete e[o]}clone(){return new hn(mo(this.value))}}function P_(r){const e=[];return Ya(r.fields,((i,s)=>{const o=new Qe([i]);if(Tc(s)){const c=P_(s.mapValue).fields;if(c.length===0)e.push(o);else for(const d of c)e.push(o.child(d))}else e.push(o)})),new En(e)}class Ze{constructor(e,i,s,o,c,d,p){this.key=e,this.documentType=i,this.version=s,this.readTime=o,this.createTime=c,this.data=d,this.documentState=p}static newInvalidDocument(e){return new Ze(e,0,St.min(),St.min(),St.min(),hn.empty(),0)}static newFoundDocument(e,i,s,o){return new Ze(e,1,i,St.min(),s,o,0)}static newNoDocument(e,i){return new Ze(e,2,i,St.min(),St.min(),hn.empty(),0)}static newUnknownDocument(e,i){return new Ze(e,3,i,St.min(),St.min(),hn.empty(),2)}convertToFoundDocument(e,i){return!this.createTime.isEqual(St.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=i,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=hn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=hn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=St.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Ze&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Ze(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class Oc{constructor(e,i){this.position=e,this.inclusive=i}}function lv(r,e,i){let s=0;for(let o=0;o<r.position.length;o++){const c=e[o],d=r.position[o];if(c.field.isKeyField()?s=vt.comparator(vt.fromName(d.referenceValue),i.key):s=ks(d,i.data.field(c.field)),c.dir==="desc"&&(s*=-1),s!==0)break}return s}function ov(r,e){if(r===null)return e===null;if(e===null||r.inclusive!==e.inclusive||r.position.length!==e.position.length)return!1;for(let i=0;i<r.position.length;i++)if(!Ni(r.position[i],e.position[i]))return!1;return!0}class Ao{constructor(e,i="asc"){this.field=e,this.dir=i}}function VS(r,e){return r.dir===e.dir&&r.field.isEqual(e.field)}class B_{}class De extends B_{constructor(e,i,s){super(),this.field=e,this.op=i,this.value=s}static create(e,i,s){return e.isKeyField()?i==="in"||i==="not-in"?this.createKeyFieldInFilter(e,i,s):new MS(e,i,s):i==="array-contains"?new US(e,s):i==="in"?new LS(e,s):i==="not-in"?new kS(e,s):i==="array-contains-any"?new PS(e,s):new De(e,i,s)}static createKeyFieldInFilter(e,i,s){return i==="in"?new OS(e,s):new zS(e,s)}matches(e){const i=e.data.field(this.field);return this.op==="!="?i!==null&&i.nullValue===void 0&&this.matchesComparison(ks(i,this.value)):i!==null&&Ha(this.value)===Ha(i)&&this.matchesComparison(ks(i,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Tt(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Jn extends B_{constructor(e,i){super(),this.filters=e,this.op=i,this.Pe=null}static create(e,i){return new Jn(e,i)}matches(e){return q_(this)?this.filters.find((i=>!i.matches(e)))===void 0:this.filters.find((i=>i.matches(e)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((e,i)=>e.concat(i.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function q_(r){return r.op==="and"}function H_(r){return jS(r)&&q_(r)}function jS(r){for(const e of r.filters)if(e instanceof Jn)return!1;return!0}function Ld(r){if(r instanceof De)return r.field.canonicalString()+r.op.toString()+Ps(r.value);if(H_(r))return r.filters.map((e=>Ld(e))).join(",");{const e=r.filters.map((i=>Ld(i))).join(",");return`${r.op}(${e})`}}function F_(r,e){return r instanceof De?(function(s,o){return o instanceof De&&s.op===o.op&&s.field.isEqual(o.field)&&Ni(s.value,o.value)})(r,e):r instanceof Jn?(function(s,o){return o instanceof Jn&&s.op===o.op&&s.filters.length===o.filters.length?s.filters.reduce(((c,d,p)=>c&&F_(d,o.filters[p])),!0):!1})(r,e):void Tt(19439)}function G_(r){return r instanceof De?(function(i){return`${i.field.canonicalString()} ${i.op} ${Ps(i.value)}`})(r):r instanceof Jn?(function(i){return i.op.toString()+" {"+i.getFilters().map(G_).join(" ,")+"}"})(r):"Filter"}class MS extends De{constructor(e,i,s){super(e,i,s),this.key=vt.fromName(s.referenceValue)}matches(e){const i=vt.comparator(e.key,this.key);return this.matchesComparison(i)}}class OS extends De{constructor(e,i){super(e,"in",i),this.keys=Q_("in",i)}matches(e){return this.keys.some((i=>i.isEqual(e.key)))}}class zS extends De{constructor(e,i){super(e,"not-in",i),this.keys=Q_("not-in",i)}matches(e){return!this.keys.some((i=>i.isEqual(e.key)))}}function Q_(r,e){return(e.arrayValue?.values||[]).map((i=>vt.fromName(i.referenceValue)))}class US extends De{constructor(e,i){super(e,"array-contains",i)}matches(e){const i=e.data.field(this.field);return gm(i)&&So(i.arrayValue,this.value)}}class LS extends De{constructor(e,i){super(e,"in",i)}matches(e){const i=e.data.field(this.field);return i!==null&&So(this.value.arrayValue,i)}}class kS extends De{constructor(e,i){super(e,"not-in",i)}matches(e){if(So(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const i=e.data.field(this.field);return i!==null&&i.nullValue===void 0&&!So(this.value.arrayValue,i)}}class PS extends De{constructor(e,i){super(e,"array-contains-any",i)}matches(e){const i=e.data.field(this.field);return!(!gm(i)||!i.arrayValue.values)&&i.arrayValue.values.some((s=>So(this.value.arrayValue,s)))}}class BS{constructor(e,i=null,s=[],o=[],c=null,d=null,p=null){this.path=e,this.collectionGroup=i,this.orderBy=s,this.filters=o,this.limit=c,this.startAt=d,this.endAt=p,this.Te=null}}function uv(r,e=null,i=[],s=[],o=null,c=null,d=null){return new BS(r,e,i,s,o,c,d)}function ym(r){const e=wt(r);if(e.Te===null){let i=e.path.canonicalString();e.collectionGroup!==null&&(i+="|cg:"+e.collectionGroup),i+="|f:",i+=e.filters.map((s=>Ld(s))).join(","),i+="|ob:",i+=e.orderBy.map((s=>(function(c){return c.field.canonicalString()+c.dir})(s))).join(","),Xc(e.limit)||(i+="|l:",i+=e.limit),e.startAt&&(i+="|lb:",i+=e.startAt.inclusive?"b:":"a:",i+=e.startAt.position.map((s=>Ps(s))).join(",")),e.endAt&&(i+="|ub:",i+=e.endAt.inclusive?"a:":"b:",i+=e.endAt.position.map((s=>Ps(s))).join(",")),e.Te=i}return e.Te}function vm(r,e){if(r.limit!==e.limit||r.orderBy.length!==e.orderBy.length)return!1;for(let i=0;i<r.orderBy.length;i++)if(!VS(r.orderBy[i],e.orderBy[i]))return!1;if(r.filters.length!==e.filters.length)return!1;for(let i=0;i<r.filters.length;i++)if(!F_(r.filters[i],e.filters[i]))return!1;return r.collectionGroup===e.collectionGroup&&!!r.path.isEqual(e.path)&&!!ov(r.startAt,e.startAt)&&ov(r.endAt,e.endAt)}function kd(r){return vt.isDocumentKey(r.path)&&r.collectionGroup===null&&r.filters.length===0}class $s{constructor(e,i=null,s=[],o=[],c=null,d="F",p=null,g=null){this.path=e,this.collectionGroup=i,this.explicitOrderBy=s,this.filters=o,this.limit=c,this.limitType=d,this.startAt=p,this.endAt=g,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function qS(r,e,i,s,o,c,d,p){return new $s(r,e,i,s,o,c,d,p)}function _m(r){return new $s(r)}function cv(r){return r.filters.length===0&&r.limit===null&&r.startAt==null&&r.endAt==null&&(r.explicitOrderBy.length===0||r.explicitOrderBy.length===1&&r.explicitOrderBy[0].field.isKeyField())}function Y_(r){return r.collectionGroup!==null}function po(r){const e=wt(r);if(e.Ie===null){e.Ie=[];const i=new Set;for(const c of e.explicitOrderBy)e.Ie.push(c),i.add(c.field.canonicalString());const s=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(d){let p=new Me(Qe.comparator);return d.filters.forEach((g=>{g.getFlattenedFilters().forEach((y=>{y.isInequality()&&(p=p.add(y.field))}))})),p})(e).forEach((c=>{i.has(c.canonicalString())||c.isKeyField()||e.Ie.push(new Ao(c,s))})),i.has(Qe.keyField().canonicalString())||e.Ie.push(new Ao(Qe.keyField(),s))}return e.Ie}function Si(r){const e=wt(r);return e.Ee||(e.Ee=HS(e,po(r))),e.Ee}function HS(r,e){if(r.limitType==="F")return uv(r.path,r.collectionGroup,e,r.filters,r.limit,r.startAt,r.endAt);{e=e.map((o=>{const c=o.dir==="desc"?"asc":"desc";return new Ao(o.field,c)}));const i=r.endAt?new Oc(r.endAt.position,r.endAt.inclusive):null,s=r.startAt?new Oc(r.startAt.position,r.startAt.inclusive):null;return uv(r.path,r.collectionGroup,e,r.filters,r.limit,i,s)}}function Pd(r,e){const i=r.filters.concat([e]);return new $s(r.path,r.collectionGroup,r.explicitOrderBy.slice(),i,r.limit,r.limitType,r.startAt,r.endAt)}function Bd(r,e,i){return new $s(r.path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),e,i,r.startAt,r.endAt)}function Zc(r,e){return vm(Si(r),Si(e))&&r.limitType===e.limitType}function K_(r){return`${ym(Si(r))}|lt:${r.limitType}`}function Is(r){return`Query(target=${(function(i){let s=i.path.canonicalString();return i.collectionGroup!==null&&(s+=" collectionGroup="+i.collectionGroup),i.filters.length>0&&(s+=`, filters: [${i.filters.map((o=>G_(o))).join(", ")}]`),Xc(i.limit)||(s+=", limit: "+i.limit),i.orderBy.length>0&&(s+=`, orderBy: [${i.orderBy.map((o=>(function(d){return`${d.field.canonicalString()} (${d.dir})`})(o))).join(", ")}]`),i.startAt&&(s+=", startAt: ",s+=i.startAt.inclusive?"b:":"a:",s+=i.startAt.position.map((o=>Ps(o))).join(",")),i.endAt&&(s+=", endAt: ",s+=i.endAt.inclusive?"a:":"b:",s+=i.endAt.position.map((o=>Ps(o))).join(",")),`Target(${s})`})(Si(r))}; limitType=${r.limitType})`}function Jc(r,e){return e.isFoundDocument()&&(function(s,o){const c=o.key.path;return s.collectionGroup!==null?o.key.hasCollectionId(s.collectionGroup)&&s.path.isPrefixOf(c):vt.isDocumentKey(s.path)?s.path.isEqual(c):s.path.isImmediateParentOf(c)})(r,e)&&(function(s,o){for(const c of po(s))if(!c.field.isKeyField()&&o.data.field(c.field)===null)return!1;return!0})(r,e)&&(function(s,o){for(const c of s.filters)if(!c.matches(o))return!1;return!0})(r,e)&&(function(s,o){return!(s.startAt&&!(function(d,p,g){const y=lv(d,p,g);return d.inclusive?y<=0:y<0})(s.startAt,po(s),o)||s.endAt&&!(function(d,p,g){const y=lv(d,p,g);return d.inclusive?y>=0:y>0})(s.endAt,po(s),o))})(r,e)}function FS(r){return r.collectionGroup||(r.path.length%2==1?r.path.lastSegment():r.path.get(r.path.length-2))}function X_(r){return(e,i)=>{let s=!1;for(const o of po(r)){const c=GS(o,e,i);if(c!==0)return c;s=s||o.field.isKeyField()}return 0}}function GS(r,e,i){const s=r.field.isKeyField()?vt.comparator(e.key,i.key):(function(c,d,p){const g=d.data.field(c),y=p.data.field(c);return g!==null&&y!==null?ks(g,y):Tt(42886)})(r.field,e,i);switch(r.dir){case"asc":return s;case"desc":return-1*s;default:return Tt(19790,{direction:r.dir})}}class zr{constructor(e,i){this.mapKeyFn=e,this.equalsFn=i,this.inner={},this.innerSize=0}get(e){const i=this.mapKeyFn(e),s=this.inner[i];if(s!==void 0){for(const[o,c]of s)if(this.equalsFn(o,e))return c}}has(e){return this.get(e)!==void 0}set(e,i){const s=this.mapKeyFn(e),o=this.inner[s];if(o===void 0)return this.inner[s]=[[e,i]],void this.innerSize++;for(let c=0;c<o.length;c++)if(this.equalsFn(o[c][0],e))return void(o[c]=[e,i]);o.push([e,i]),this.innerSize++}delete(e){const i=this.mapKeyFn(e),s=this.inner[i];if(s===void 0)return!1;for(let o=0;o<s.length;o++)if(this.equalsFn(s[o][0],e))return s.length===1?delete this.inner[i]:s.splice(o,1),this.innerSize--,!0;return!1}forEach(e){Ya(this.inner,((i,s)=>{for(const[o,c]of s)e(o,c)}))}isEmpty(){return V_(this.inner)}size(){return this.innerSize}}const QS=new he(vt.comparator);function ta(){return QS}const $_=new he(vt.comparator);function oo(...r){let e=$_;for(const i of r)e=e.insert(i.key,i);return e}function Z_(r){let e=$_;return r.forEach(((i,s)=>e=e.insert(i,s.overlayedDocument))),e}function Rr(){return go()}function J_(){return go()}function go(){return new zr((r=>r.toString()),((r,e)=>r.isEqual(e)))}const YS=new he(vt.comparator),KS=new Me(vt.comparator);function Ut(...r){let e=KS;for(const i of r)e=e.add(i);return e}const XS=new Me(zt);function $S(){return XS}function bm(r,e){if(r.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Vc(e)?"-0":e}}function W_(r){return{integerValue:""+r}}function ZS(r,e){return SS(e)?W_(e):bm(r,e)}class Wc{constructor(){this._=void 0}}function JS(r,e,i){return r instanceof zc?(function(o,c){const d={fields:{[O_]:{stringValue:M_},[U_]:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return c&&pm(c)&&(c=$c(c)),c&&(d.fields[z_]=c),{mapValue:d}})(i,e):r instanceof wo?e1(r,e):r instanceof Ro?n1(r,e):(function(o,c){const d=t1(o,c),p=hv(d)+hv(o.Ae);return Ud(d)&&Ud(o.Ae)?W_(p):bm(o.serializer,p)})(r,e)}function WS(r,e,i){return r instanceof wo?e1(r,e):r instanceof Ro?n1(r,e):i}function t1(r,e){return r instanceof Uc?(function(s){return Ud(s)||(function(c){return!!c&&"doubleValue"in c})(s)})(e)?e:{integerValue:0}:null}class zc extends Wc{}class wo extends Wc{constructor(e){super(),this.elements=e}}function e1(r,e){const i=i1(e);for(const s of r.elements)i.some((o=>Ni(o,s)))||i.push(s);return{arrayValue:{values:i}}}class Ro extends Wc{constructor(e){super(),this.elements=e}}function n1(r,e){let i=i1(e);for(const s of r.elements)i=i.filter((o=>!Ni(o,s)));return{arrayValue:{values:i}}}class Uc extends Wc{constructor(e,i){super(),this.serializer=e,this.Ae=i}}function hv(r){return ve(r.integerValue||r.doubleValue)}function i1(r){return gm(r)&&r.arrayValue.values?r.arrayValue.values.slice():[]}function tA(r,e){return r.field.isEqual(e.field)&&(function(s,o){return s instanceof wo&&o instanceof wo||s instanceof Ro&&o instanceof Ro?Ls(s.elements,o.elements,Ni):s instanceof Uc&&o instanceof Uc?Ni(s.Ae,o.Ae):s instanceof zc&&o instanceof zc})(r.transform,e.transform)}class eA{constructor(e,i){this.version=e,this.transformResults=i}}class Un{constructor(e,i){this.updateTime=e,this.exists=i}static none(){return new Un}static exists(e){return new Un(void 0,e)}static updateTime(e){return new Un(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function xc(r,e){return r.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(r.updateTime):r.exists===void 0||r.exists===e.isFoundDocument()}class th{}function a1(r,e){if(!r.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return r.isNoDocument()?new Em(r.key,Un.none()):new Vo(r.key,r.data,Un.none());{const i=r.data,s=hn.empty();let o=new Me(Qe.comparator);for(let c of e.fields)if(!o.has(c)){let d=i.field(c);d===null&&c.length>1&&(c=c.popLast(),d=i.field(c)),d===null?s.delete(c):s.set(c,d),o=o.add(c)}return new Ka(r.key,s,new En(o.toArray()),Un.none())}}function nA(r,e,i){r instanceof Vo?(function(o,c,d){const p=o.value.clone(),g=dv(o.fieldTransforms,c,d.transformResults);p.setAll(g),c.convertToFoundDocument(d.version,p).setHasCommittedMutations()})(r,e,i):r instanceof Ka?(function(o,c,d){if(!xc(o.precondition,c))return void c.convertToUnknownDocument(d.version);const p=dv(o.fieldTransforms,c,d.transformResults),g=c.data;g.setAll(r1(o)),g.setAll(p),c.convertToFoundDocument(d.version,g).setHasCommittedMutations()})(r,e,i):(function(o,c,d){c.convertToNoDocument(d.version).setHasCommittedMutations()})(0,e,i)}function yo(r,e,i,s){return r instanceof Vo?(function(c,d,p,g){if(!xc(c.precondition,d))return p;const y=c.value.clone(),E=mv(c.fieldTransforms,g,d);return y.setAll(E),d.convertToFoundDocument(d.version,y).setHasLocalMutations(),null})(r,e,i,s):r instanceof Ka?(function(c,d,p,g){if(!xc(c.precondition,d))return p;const y=mv(c.fieldTransforms,g,d),E=d.data;return E.setAll(r1(c)),E.setAll(y),d.convertToFoundDocument(d.version,E).setHasLocalMutations(),p===null?null:p.unionWith(c.fieldMask.fields).unionWith(c.fieldTransforms.map((x=>x.field)))})(r,e,i,s):(function(c,d,p){return xc(c.precondition,d)?(d.convertToNoDocument(d.version).setHasLocalMutations(),null):p})(r,e,i)}function iA(r,e){let i=null;for(const s of r.fieldTransforms){const o=e.data.field(s.field),c=t1(s.transform,o||null);c!=null&&(i===null&&(i=hn.empty()),i.set(s.field,c))}return i||null}function fv(r,e){return r.type===e.type&&!!r.key.isEqual(e.key)&&!!r.precondition.isEqual(e.precondition)&&!!(function(s,o){return s===void 0&&o===void 0||!(!s||!o)&&Ls(s,o,((c,d)=>tA(c,d)))})(r.fieldTransforms,e.fieldTransforms)&&(r.type===0?r.value.isEqual(e.value):r.type!==1||r.data.isEqual(e.data)&&r.fieldMask.isEqual(e.fieldMask))}class Vo extends th{constructor(e,i,s,o=[]){super(),this.key=e,this.value=i,this.precondition=s,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class Ka extends th{constructor(e,i,s,o,c=[]){super(),this.key=e,this.data=i,this.fieldMask=s,this.precondition=o,this.fieldTransforms=c,this.type=1}getFieldMask(){return this.fieldMask}}function r1(r){const e=new Map;return r.fieldMask.fields.forEach((i=>{if(!i.isEmpty()){const s=r.data.field(i);e.set(i,s)}})),e}function dv(r,e,i){const s=new Map;Gt(r.length===i.length,32656,{Re:i.length,Ve:r.length});for(let o=0;o<i.length;o++){const c=r[o],d=c.transform,p=e.data.field(c.field);s.set(c.field,WS(d,p,i[o]))}return s}function mv(r,e,i){const s=new Map;for(const o of r){const c=o.transform,d=i.data.field(o.field);s.set(o.field,JS(c,d,e))}return s}class Em extends th{constructor(e,i){super(),this.key=e,this.precondition=i,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class aA extends th{constructor(e,i){super(),this.key=e,this.precondition=i,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class rA{constructor(e,i,s,o){this.batchId=e,this.localWriteTime=i,this.baseMutations=s,this.mutations=o}applyToRemoteDocument(e,i){const s=i.mutationResults;for(let o=0;o<this.mutations.length;o++){const c=this.mutations[o];c.key.isEqual(e.key)&&nA(c,e,s[o])}}applyToLocalView(e,i){for(const s of this.baseMutations)s.key.isEqual(e.key)&&(i=yo(s,e,i,this.localWriteTime));for(const s of this.mutations)s.key.isEqual(e.key)&&(i=yo(s,e,i,this.localWriteTime));return i}applyToLocalDocumentSet(e,i){const s=J_();return this.mutations.forEach((o=>{const c=e.get(o.key),d=c.overlayedDocument;let p=this.applyToLocalView(d,c.mutatedFields);p=i.has(o.key)?null:p;const g=a1(d,p);g!==null&&s.set(o.key,g),d.isValidDocument()||d.convertToNoDocument(St.min())})),s}keys(){return this.mutations.reduce(((e,i)=>e.add(i.key)),Ut())}isEqual(e){return this.batchId===e.batchId&&Ls(this.mutations,e.mutations,((i,s)=>fv(i,s)))&&Ls(this.baseMutations,e.baseMutations,((i,s)=>fv(i,s)))}}class Tm{constructor(e,i,s,o){this.batch=e,this.commitVersion=i,this.mutationResults=s,this.docVersions=o}static from(e,i,s){Gt(e.mutations.length===s.length,58842,{me:e.mutations.length,fe:s.length});let o=(function(){return YS})();const c=e.mutations;for(let d=0;d<c.length;d++)o=o.insert(c[d].key,s[d].version);return new Tm(e,i,s,o)}}class sA{constructor(e,i){this.largestBatchId=e,this.mutation=i}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}class lA{constructor(e,i){this.count=e,this.unchangedNames=i}}var Ne,kt;function oA(r){switch(r){case et.OK:return Tt(64938);case et.CANCELLED:case et.UNKNOWN:case et.DEADLINE_EXCEEDED:case et.RESOURCE_EXHAUSTED:case et.INTERNAL:case et.UNAVAILABLE:case et.UNAUTHENTICATED:return!1;case et.INVALID_ARGUMENT:case et.NOT_FOUND:case et.ALREADY_EXISTS:case et.PERMISSION_DENIED:case et.FAILED_PRECONDITION:case et.ABORTED:case et.OUT_OF_RANGE:case et.UNIMPLEMENTED:case et.DATA_LOSS:return!0;default:return Tt(15467,{code:r})}}function s1(r){if(r===void 0)return Wi("GRPC error has no .code"),et.UNKNOWN;switch(r){case Ne.OK:return et.OK;case Ne.CANCELLED:return et.CANCELLED;case Ne.UNKNOWN:return et.UNKNOWN;case Ne.DEADLINE_EXCEEDED:return et.DEADLINE_EXCEEDED;case Ne.RESOURCE_EXHAUSTED:return et.RESOURCE_EXHAUSTED;case Ne.INTERNAL:return et.INTERNAL;case Ne.UNAVAILABLE:return et.UNAVAILABLE;case Ne.UNAUTHENTICATED:return et.UNAUTHENTICATED;case Ne.INVALID_ARGUMENT:return et.INVALID_ARGUMENT;case Ne.NOT_FOUND:return et.NOT_FOUND;case Ne.ALREADY_EXISTS:return et.ALREADY_EXISTS;case Ne.PERMISSION_DENIED:return et.PERMISSION_DENIED;case Ne.FAILED_PRECONDITION:return et.FAILED_PRECONDITION;case Ne.ABORTED:return et.ABORTED;case Ne.OUT_OF_RANGE:return et.OUT_OF_RANGE;case Ne.UNIMPLEMENTED:return et.UNIMPLEMENTED;case Ne.DATA_LOSS:return et.DATA_LOSS;default:return Tt(39323,{code:r})}}(kt=Ne||(Ne={}))[kt.OK=0]="OK",kt[kt.CANCELLED=1]="CANCELLED",kt[kt.UNKNOWN=2]="UNKNOWN",kt[kt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",kt[kt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",kt[kt.NOT_FOUND=5]="NOT_FOUND",kt[kt.ALREADY_EXISTS=6]="ALREADY_EXISTS",kt[kt.PERMISSION_DENIED=7]="PERMISSION_DENIED",kt[kt.UNAUTHENTICATED=16]="UNAUTHENTICATED",kt[kt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",kt[kt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",kt[kt.ABORTED=10]="ABORTED",kt[kt.OUT_OF_RANGE=11]="OUT_OF_RANGE",kt[kt.UNIMPLEMENTED=12]="UNIMPLEMENTED",kt[kt.INTERNAL=13]="INTERNAL",kt[kt.UNAVAILABLE=14]="UNAVAILABLE",kt[kt.DATA_LOSS=15]="DATA_LOSS";function uA(){return new TextEncoder}const cA=new La([4294967295,4294967295],0);function pv(r){const e=uA().encode(r),i=new E_;return i.update(e),new Uint8Array(i.digest())}function gv(r){const e=new DataView(r.buffer),i=e.getUint32(0,!0),s=e.getUint32(4,!0),o=e.getUint32(8,!0),c=e.getUint32(12,!0);return[new La([i,s],0),new La([o,c],0)]}class xm{constructor(e,i,s){if(this.bitmap=e,this.padding=i,this.hashCount=s,i<0||i>=8)throw new uo(`Invalid padding: ${i}`);if(s<0)throw new uo(`Invalid hash count: ${s}`);if(e.length>0&&this.hashCount===0)throw new uo(`Invalid hash count: ${s}`);if(e.length===0&&i!==0)throw new uo(`Invalid padding when bitmap length is 0: ${i}`);this.ge=8*e.length-i,this.pe=La.fromNumber(this.ge)}ye(e,i,s){let o=e.add(i.multiply(La.fromNumber(s)));return o.compare(cA)===1&&(o=new La([o.getBits(0),o.getBits(1)],0)),o.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const i=pv(e),[s,o]=gv(i);for(let c=0;c<this.hashCount;c++){const d=this.ye(s,o,c);if(!this.we(d))return!1}return!0}static create(e,i,s){const o=e%8==0?0:8-e%8,c=new Uint8Array(Math.ceil(e/8)),d=new xm(c,o,i);return s.forEach((p=>d.insert(p))),d}insert(e){if(this.ge===0)return;const i=pv(e),[s,o]=gv(i);for(let c=0;c<this.hashCount;c++){const d=this.ye(s,o,c);this.Se(d)}}Se(e){const i=Math.floor(e/8),s=e%8;this.bitmap[i]|=1<<s}}class uo extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class eh{constructor(e,i,s,o,c){this.snapshotVersion=e,this.targetChanges=i,this.targetMismatches=s,this.documentUpdates=o,this.resolvedLimboDocuments=c}static createSynthesizedRemoteEventForCurrentChange(e,i,s){const o=new Map;return o.set(e,jo.createSynthesizedTargetChangeForCurrentChange(e,i,s)),new eh(St.min(),o,new he(zt),ta(),Ut())}}class jo{constructor(e,i,s,o,c){this.resumeToken=e,this.current=i,this.addedDocuments=s,this.modifiedDocuments=o,this.removedDocuments=c}static createSynthesizedTargetChangeForCurrentChange(e,i,s){return new jo(s,i,Ut(),Ut(),Ut())}}class Sc{constructor(e,i,s,o){this.be=e,this.removedTargetIds=i,this.key=s,this.De=o}}class l1{constructor(e,i){this.targetId=e,this.Ce=i}}class o1{constructor(e,i,s=Ye.EMPTY_BYTE_STRING,o=null){this.state=e,this.targetIds=i,this.resumeToken=s,this.cause=o}}class yv{constructor(){this.ve=0,this.Fe=vv(),this.Me=Ye.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=Ut(),i=Ut(),s=Ut();return this.Fe.forEach(((o,c)=>{switch(c){case 0:e=e.add(o);break;case 2:i=i.add(o);break;case 1:s=s.add(o);break;default:Tt(38017,{changeType:c})}})),new jo(this.Me,this.xe,e,i,s)}qe(){this.Oe=!1,this.Fe=vv()}Qe(e,i){this.Oe=!0,this.Fe=this.Fe.insert(e,i)}$e(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}Ue(){this.ve+=1}Ke(){this.ve-=1,Gt(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class hA{constructor(e){this.Ge=e,this.ze=new Map,this.je=ta(),this.Je=gc(),this.He=gc(),this.Ye=new he(zt)}Ze(e){for(const i of e.be)e.De&&e.De.isFoundDocument()?this.Xe(i,e.De):this.et(i,e.key,e.De);for(const i of e.removedTargetIds)this.et(i,e.key,e.De)}tt(e){this.forEachTarget(e,(i=>{const s=this.nt(i);switch(e.state){case 0:this.rt(i)&&s.Le(e.resumeToken);break;case 1:s.Ke(),s.Ne||s.qe(),s.Le(e.resumeToken);break;case 2:s.Ke(),s.Ne||this.removeTarget(i);break;case 3:this.rt(i)&&(s.We(),s.Le(e.resumeToken));break;case 4:this.rt(i)&&(this.it(i),s.Le(e.resumeToken));break;default:Tt(56790,{state:e.state})}}))}forEachTarget(e,i){e.targetIds.length>0?e.targetIds.forEach(i):this.ze.forEach(((s,o)=>{this.rt(o)&&i(o)}))}st(e){const i=e.targetId,s=e.Ce.count,o=this.ot(i);if(o){const c=o.target;if(kd(c))if(s===0){const d=new vt(c.path);this.et(i,d,Ze.newNoDocument(d,St.min()))}else Gt(s===1,20013,{expectedCount:s});else{const d=this._t(i);if(d!==s){const p=this.ut(e),g=p?this.ct(p,e,d):1;if(g!==0){this.it(i);const y=g===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(i,y)}}}}}ut(e){const i=e.Ce.unchangedNames;if(!i||!i.bits)return null;const{bits:{bitmap:s="",padding:o=0},hashCount:c=0}=i;let d,p;try{d=qa(s).toUint8Array()}catch(g){if(g instanceof j_)return Us("Decoding the base64 bloom filter in existence filter failed ("+g.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw g}try{p=new xm(d,o,c)}catch(g){return Us(g instanceof uo?"BloomFilter error: ":"Applying bloom filter failed: ",g),null}return p.ge===0?null:p}ct(e,i,s){return i.Ce.count===s-this.Pt(e,i.targetId)?0:2}Pt(e,i){const s=this.Ge.getRemoteKeysForTarget(i);let o=0;return s.forEach((c=>{const d=this.Ge.ht(),p=`projects/${d.projectId}/databases/${d.database}/documents/${c.path.canonicalString()}`;e.mightContain(p)||(this.et(i,c,null),o++)})),o}Tt(e){const i=new Map;this.ze.forEach(((c,d)=>{const p=this.ot(d);if(p){if(c.current&&kd(p.target)){const g=new vt(p.target.path);this.It(g).has(d)||this.Et(d,g)||this.et(d,g,Ze.newNoDocument(g,e))}c.Be&&(i.set(d,c.ke()),c.qe())}}));let s=Ut();this.He.forEach(((c,d)=>{let p=!0;d.forEachWhile((g=>{const y=this.ot(g);return!y||y.purpose==="TargetPurposeLimboResolution"||(p=!1,!1)})),p&&(s=s.add(c))})),this.je.forEach(((c,d)=>d.setReadTime(e)));const o=new eh(e,i,this.Ye,this.je,s);return this.je=ta(),this.Je=gc(),this.He=gc(),this.Ye=new he(zt),o}Xe(e,i){if(!this.rt(e))return;const s=this.Et(e,i.key)?2:0;this.nt(e).Qe(i.key,s),this.je=this.je.insert(i.key,i),this.Je=this.Je.insert(i.key,this.It(i.key).add(e)),this.He=this.He.insert(i.key,this.dt(i.key).add(e))}et(e,i,s){if(!this.rt(e))return;const o=this.nt(e);this.Et(e,i)?o.Qe(i,1):o.$e(i),this.He=this.He.insert(i,this.dt(i).delete(e)),this.He=this.He.insert(i,this.dt(i).add(e)),s&&(this.je=this.je.insert(i,s))}removeTarget(e){this.ze.delete(e)}_t(e){const i=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+i.addedDocuments.size-i.removedDocuments.size}Ue(e){this.nt(e).Ue()}nt(e){let i=this.ze.get(e);return i||(i=new yv,this.ze.set(e,i)),i}dt(e){let i=this.He.get(e);return i||(i=new Me(zt),this.He=this.He.insert(e,i)),i}It(e){let i=this.Je.get(e);return i||(i=new Me(zt),this.Je=this.Je.insert(e,i)),i}rt(e){const i=this.ot(e)!==null;return i||ht("WatchChangeAggregator","Detected inactive target",e),i}ot(e){const i=this.ze.get(e);return i&&i.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new yv),this.Ge.getRemoteKeysForTarget(e).forEach((i=>{this.et(e,i,null)}))}Et(e,i){return this.Ge.getRemoteKeysForTarget(e).has(i)}}function gc(){return new he(vt.comparator)}function vv(){return new he(vt.comparator)}const fA={asc:"ASCENDING",desc:"DESCENDING"},dA={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},mA={and:"AND",or:"OR"};class pA{constructor(e,i){this.databaseId=e,this.useProto3Json=i}}function qd(r,e){return r.useProto3Json||Xc(e)?e:{value:e}}function Lc(r,e){return r.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function u1(r,e){return r.useProto3Json?e.toBase64():e.toUint8Array()}function gA(r,e){return Lc(r,e.toTimestamp())}function Ai(r){return Gt(!!r,49232),St.fromTimestamp((function(i){const s=Ba(i);return new se(s.seconds,s.nanos)})(r))}function Sm(r,e){return Hd(r,e).canonicalString()}function Hd(r,e){const i=(function(o){return new ne(["projects",o.projectId,"databases",o.database])})(r).child("documents");return e===void 0?i:i.child(e)}function c1(r){const e=ne.fromString(r);return Gt(p1(e),10190,{key:e.toString()}),e}function Fd(r,e){return Sm(r.databaseId,e.path)}function xd(r,e){const i=c1(e);if(i.get(1)!==r.databaseId.projectId)throw new ut(et.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+i.get(1)+" vs "+r.databaseId.projectId);if(i.get(3)!==r.databaseId.database)throw new ut(et.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+i.get(3)+" vs "+r.databaseId.database);return new vt(f1(i))}function h1(r,e){return Sm(r.databaseId,e)}function yA(r){const e=c1(r);return e.length===4?ne.emptyPath():f1(e)}function Gd(r){return new ne(["projects",r.databaseId.projectId,"databases",r.databaseId.database]).canonicalString()}function f1(r){return Gt(r.length>4&&r.get(4)==="documents",29091,{key:r.toString()}),r.popFirst(5)}function _v(r,e,i){return{name:Fd(r,e),fields:i.value.mapValue.fields}}function vA(r,e){let i;if("targetChange"in e){e.targetChange;const s=(function(y){return y==="NO_CHANGE"?0:y==="ADD"?1:y==="REMOVE"?2:y==="CURRENT"?3:y==="RESET"?4:Tt(39313,{state:y})})(e.targetChange.targetChangeType||"NO_CHANGE"),o=e.targetChange.targetIds||[],c=(function(y,E){return y.useProto3Json?(Gt(E===void 0||typeof E=="string",58123),Ye.fromBase64String(E||"")):(Gt(E===void 0||E instanceof Buffer||E instanceof Uint8Array,16193),Ye.fromUint8Array(E||new Uint8Array))})(r,e.targetChange.resumeToken),d=e.targetChange.cause,p=d&&(function(y){const E=y.code===void 0?et.UNKNOWN:s1(y.code);return new ut(E,y.message||"")})(d);i=new o1(s,o,c,p||null)}else if("documentChange"in e){e.documentChange;const s=e.documentChange;s.document,s.document.name,s.document.updateTime;const o=xd(r,s.document.name),c=Ai(s.document.updateTime),d=s.document.createTime?Ai(s.document.createTime):St.min(),p=new hn({mapValue:{fields:s.document.fields}}),g=Ze.newFoundDocument(o,c,d,p),y=s.targetIds||[],E=s.removedTargetIds||[];i=new Sc(y,E,g.key,g)}else if("documentDelete"in e){e.documentDelete;const s=e.documentDelete;s.document;const o=xd(r,s.document),c=s.readTime?Ai(s.readTime):St.min(),d=Ze.newNoDocument(o,c),p=s.removedTargetIds||[];i=new Sc([],p,d.key,d)}else if("documentRemove"in e){e.documentRemove;const s=e.documentRemove;s.document;const o=xd(r,s.document),c=s.removedTargetIds||[];i=new Sc([],c,o,null)}else{if(!("filter"in e))return Tt(11601,{Rt:e});{e.filter;const s=e.filter;s.targetId;const{count:o=0,unchangedNames:c}=s,d=new lA(o,c),p=s.targetId;i=new l1(p,d)}}return i}function _A(r,e){let i;if(e instanceof Vo)i={update:_v(r,e.key,e.value)};else if(e instanceof Em)i={delete:Fd(r,e.key)};else if(e instanceof Ka)i={update:_v(r,e.key,e.data),updateMask:CA(e.fieldMask)};else{if(!(e instanceof aA))return Tt(16599,{Vt:e.type});i={verify:Fd(r,e.key)}}return e.fieldTransforms.length>0&&(i.updateTransforms=e.fieldTransforms.map((s=>(function(c,d){const p=d.transform;if(p instanceof zc)return{fieldPath:d.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(p instanceof wo)return{fieldPath:d.field.canonicalString(),appendMissingElements:{values:p.elements}};if(p instanceof Ro)return{fieldPath:d.field.canonicalString(),removeAllFromArray:{values:p.elements}};if(p instanceof Uc)return{fieldPath:d.field.canonicalString(),increment:p.Ae};throw Tt(20930,{transform:d.transform})})(0,s)))),e.precondition.isNone||(i.currentDocument=(function(o,c){return c.updateTime!==void 0?{updateTime:gA(o,c.updateTime)}:c.exists!==void 0?{exists:c.exists}:Tt(27497)})(r,e.precondition)),i}function bA(r,e){return r&&r.length>0?(Gt(e!==void 0,14353),r.map((i=>(function(o,c){let d=o.updateTime?Ai(o.updateTime):Ai(c);return d.isEqual(St.min())&&(d=Ai(c)),new eA(d,o.transformResults||[])})(i,e)))):[]}function EA(r,e){return{documents:[h1(r,e.path)]}}function TA(r,e){const i={structuredQuery:{}},s=e.path;let o;e.collectionGroup!==null?(o=s,i.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(o=s.popLast(),i.structuredQuery.from=[{collectionId:s.lastSegment()}]),i.parent=h1(r,o);const c=(function(y){if(y.length!==0)return m1(Jn.create(y,"and"))})(e.filters);c&&(i.structuredQuery.where=c);const d=(function(y){if(y.length!==0)return y.map((E=>(function(R){return{field:Vs(R.field),direction:AA(R.dir)}})(E)))})(e.orderBy);d&&(i.structuredQuery.orderBy=d);const p=qd(r,e.limit);return p!==null&&(i.structuredQuery.limit=p),e.startAt&&(i.structuredQuery.startAt=(function(y){return{before:y.inclusive,values:y.position}})(e.startAt)),e.endAt&&(i.structuredQuery.endAt=(function(y){return{before:!y.inclusive,values:y.position}})(e.endAt)),{ft:i,parent:o}}function xA(r){let e=yA(r.parent);const i=r.structuredQuery,s=i.from?i.from.length:0;let o=null;if(s>0){Gt(s===1,65062);const E=i.from[0];E.allDescendants?o=E.collectionId:e=e.child(E.collectionId)}let c=[];i.where&&(c=(function(x){const R=d1(x);return R instanceof Jn&&H_(R)?R.getFilters():[R]})(i.where));let d=[];i.orderBy&&(d=(function(x){return x.map((R=>(function(Y){return new Ao(js(Y.field),(function(k){switch(k){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(Y.direction))})(R)))})(i.orderBy));let p=null;i.limit&&(p=(function(x){let R;return R=typeof x=="object"?x.value:x,Xc(R)?null:R})(i.limit));let g=null;i.startAt&&(g=(function(x){const R=!!x.before,U=x.values||[];return new Oc(U,R)})(i.startAt));let y=null;return i.endAt&&(y=(function(x){const R=!x.before,U=x.values||[];return new Oc(U,R)})(i.endAt)),qS(e,o,d,c,p,"F",g,y)}function SA(r,e){const i=(function(o){switch(o){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Tt(28987,{purpose:o})}})(e.purpose);return i==null?null:{"goog-listen-tags":i}}function d1(r){return r.unaryFilter!==void 0?(function(i){switch(i.unaryFilter.op){case"IS_NAN":const s=js(i.unaryFilter.field);return De.create(s,"==",{doubleValue:NaN});case"IS_NULL":const o=js(i.unaryFilter.field);return De.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const c=js(i.unaryFilter.field);return De.create(c,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const d=js(i.unaryFilter.field);return De.create(d,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Tt(61313);default:return Tt(60726)}})(r):r.fieldFilter!==void 0?(function(i){return De.create(js(i.fieldFilter.field),(function(o){switch(o){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Tt(58110);default:return Tt(50506)}})(i.fieldFilter.op),i.fieldFilter.value)})(r):r.compositeFilter!==void 0?(function(i){return Jn.create(i.compositeFilter.filters.map((s=>d1(s))),(function(o){switch(o){case"AND":return"and";case"OR":return"or";default:return Tt(1026)}})(i.compositeFilter.op))})(r):Tt(30097,{filter:r})}function AA(r){return fA[r]}function wA(r){return dA[r]}function RA(r){return mA[r]}function Vs(r){return{fieldPath:r.canonicalString()}}function js(r){return Qe.fromServerFormat(r.fieldPath)}function m1(r){return r instanceof De?(function(i){if(i.op==="=="){if(sv(i.value))return{unaryFilter:{field:Vs(i.field),op:"IS_NAN"}};if(rv(i.value))return{unaryFilter:{field:Vs(i.field),op:"IS_NULL"}}}else if(i.op==="!="){if(sv(i.value))return{unaryFilter:{field:Vs(i.field),op:"IS_NOT_NAN"}};if(rv(i.value))return{unaryFilter:{field:Vs(i.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Vs(i.field),op:wA(i.op),value:i.value}}})(r):r instanceof Jn?(function(i){const s=i.getFilters().map((o=>m1(o)));return s.length===1?s[0]:{compositeFilter:{op:RA(i.op),filters:s}}})(r):Tt(54877,{filter:r})}function CA(r){const e=[];return r.fields.forEach((i=>e.push(i.canonicalString()))),{fieldPaths:e}}function p1(r){return r.length>=4&&r.get(0)==="projects"&&r.get(2)==="databases"}class Oa{constructor(e,i,s,o,c=St.min(),d=St.min(),p=Ye.EMPTY_BYTE_STRING,g=null){this.target=e,this.targetId=i,this.purpose=s,this.sequenceNumber=o,this.snapshotVersion=c,this.lastLimboFreeSnapshotVersion=d,this.resumeToken=p,this.expectedCount=g}withSequenceNumber(e){return new Oa(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,i){return new Oa(this.target,this.targetId,this.purpose,this.sequenceNumber,i,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Oa(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Oa(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class NA{constructor(e){this.yt=e}}function DA(r){const e=xA({parent:r.parent,structuredQuery:r.structuredQuery});return r.limitType==="LAST"?Bd(e,e.limit,"L"):e}class IA{constructor(){this.Cn=new VA}addToCollectionParentIndex(e,i){return this.Cn.add(i),nt.resolve()}getCollectionParents(e,i){return nt.resolve(this.Cn.getEntries(i))}addFieldIndex(e,i){return nt.resolve()}deleteFieldIndex(e,i){return nt.resolve()}deleteAllFieldIndexes(e){return nt.resolve()}createTargetIndexes(e,i){return nt.resolve()}getDocumentsMatchingTarget(e,i){return nt.resolve(null)}getIndexType(e,i){return nt.resolve(0)}getFieldIndexes(e,i){return nt.resolve([])}getNextCollectionGroupToUpdate(e){return nt.resolve(null)}getMinOffset(e,i){return nt.resolve(Pa.min())}getMinOffsetFromCollectionGroup(e,i){return nt.resolve(Pa.min())}updateCollectionGroup(e,i,s){return nt.resolve()}updateIndexEntries(e,i){return nt.resolve()}}class VA{constructor(){this.index={}}add(e){const i=e.lastSegment(),s=e.popLast(),o=this.index[i]||new Me(ne.comparator),c=!o.has(s);return this.index[i]=o.add(s),c}has(e){const i=e.lastSegment(),s=e.popLast(),o=this.index[i];return o&&o.has(s)}getEntries(e){return(this.index[e]||new Me(ne.comparator)).toArray()}}const bv={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},g1=41943040;class cn{static withCacheSize(e){return new cn(e,cn.DEFAULT_COLLECTION_PERCENTILE,cn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,i,s){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=i,this.maximumSequenceNumbersToCollect=s}}cn.DEFAULT_COLLECTION_PERCENTILE=10,cn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,cn.DEFAULT=new cn(g1,cn.DEFAULT_COLLECTION_PERCENTILE,cn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),cn.DISABLED=new cn(-1,0,0);class Bs{constructor(e){this.ar=e}next(){return this.ar+=2,this.ar}static ur(){return new Bs(0)}static cr(){return new Bs(-1)}}const Ev="LruGarbageCollector",jA=1048576;function Tv([r,e],[i,s]){const o=zt(r,i);return o===0?zt(e,s):o}class MA{constructor(e){this.Ir=e,this.buffer=new Me(Tv),this.Er=0}dr(){return++this.Er}Ar(e){const i=[e,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(i);else{const s=this.buffer.last();Tv(i,s)<0&&(this.buffer=this.buffer.delete(s).add(i))}}get maxValue(){return this.buffer.last()[0]}}class OA{constructor(e,i,s){this.garbageCollector=e,this.asyncQueue=i,this.localStore=s,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(e){ht(Ev,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(i){Xs(i)?ht(Ev,"Ignoring IndexedDB error during garbage collection: ",i):await Ks(i)}await this.Vr(3e5)}))}}class zA{constructor(e,i){this.mr=e,this.params=i}calculateTargetCount(e,i){return this.mr.gr(e).next((s=>Math.floor(i/100*s)))}nthSequenceNumber(e,i){if(i===0)return nt.resolve(Kc.ce);const s=new MA(i);return this.mr.forEachTarget(e,(o=>s.Ar(o.sequenceNumber))).next((()=>this.mr.pr(e,(o=>s.Ar(o))))).next((()=>s.maxValue))}removeTargets(e,i,s){return this.mr.removeTargets(e,i,s)}removeOrphanedDocuments(e,i){return this.mr.removeOrphanedDocuments(e,i)}collect(e,i){return this.params.cacheSizeCollectionThreshold===-1?(ht("LruGarbageCollector","Garbage collection skipped; disabled"),nt.resolve(bv)):this.getCacheSize(e).next((s=>s<this.params.cacheSizeCollectionThreshold?(ht("LruGarbageCollector",`Garbage collection skipped; Cache size ${s} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),bv):this.yr(e,i)))}getCacheSize(e){return this.mr.getCacheSize(e)}yr(e,i){let s,o,c,d,p,g,y;const E=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((x=>(x>this.params.maximumSequenceNumbersToCollect?(ht("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${x}`),o=this.params.maximumSequenceNumbersToCollect):o=x,d=Date.now(),this.nthSequenceNumber(e,o)))).next((x=>(s=x,p=Date.now(),this.removeTargets(e,s,i)))).next((x=>(c=x,g=Date.now(),this.removeOrphanedDocuments(e,s)))).next((x=>(y=Date.now(),Ds()<=Pt.DEBUG&&ht("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${d-E}ms
	Determined least recently used ${o} in `+(p-d)+`ms
	Removed ${c} targets in `+(g-p)+`ms
	Removed ${x} documents in `+(y-g)+`ms
Total Duration: ${y-E}ms`),nt.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:c,documentsRemoved:x}))))}}function UA(r,e){return new zA(r,e)}class LA{constructor(){this.changes=new zr((e=>e.toString()),((e,i)=>e.isEqual(i))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,i){this.assertNotApplied(),this.changes.set(e,Ze.newInvalidDocument(e).setReadTime(i))}getEntry(e,i){this.assertNotApplied();const s=this.changes.get(i);return s!==void 0?nt.resolve(s):this.getFromCache(e,i)}getEntries(e,i){return this.getAllFromCache(e,i)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class kA{constructor(e,i){this.overlayedDocument=e,this.mutatedFields=i}}class PA{constructor(e,i,s,o){this.remoteDocumentCache=e,this.mutationQueue=i,this.documentOverlayCache=s,this.indexManager=o}getDocument(e,i){let s=null;return this.documentOverlayCache.getOverlay(e,i).next((o=>(s=o,this.remoteDocumentCache.getEntry(e,i)))).next((o=>(s!==null&&yo(s.mutation,o,En.empty(),se.now()),o)))}getDocuments(e,i){return this.remoteDocumentCache.getEntries(e,i).next((s=>this.getLocalViewOfDocuments(e,s,Ut()).next((()=>s))))}getLocalViewOfDocuments(e,i,s=Ut()){const o=Rr();return this.populateOverlays(e,o,i).next((()=>this.computeViews(e,i,o,s).next((c=>{let d=oo();return c.forEach(((p,g)=>{d=d.insert(p,g.overlayedDocument)})),d}))))}getOverlayedDocuments(e,i){const s=Rr();return this.populateOverlays(e,s,i).next((()=>this.computeViews(e,i,s,Ut())))}populateOverlays(e,i,s){const o=[];return s.forEach((c=>{i.has(c)||o.push(c)})),this.documentOverlayCache.getOverlays(e,o).next((c=>{c.forEach(((d,p)=>{i.set(d,p)}))}))}computeViews(e,i,s,o){let c=ta();const d=go(),p=(function(){return go()})();return i.forEach(((g,y)=>{const E=s.get(y.key);o.has(y.key)&&(E===void 0||E.mutation instanceof Ka)?c=c.insert(y.key,y):E!==void 0?(d.set(y.key,E.mutation.getFieldMask()),yo(E.mutation,y,E.mutation.getFieldMask(),se.now())):d.set(y.key,En.empty())})),this.recalculateAndSaveOverlays(e,c).next((g=>(g.forEach(((y,E)=>d.set(y,E))),i.forEach(((y,E)=>p.set(y,new kA(E,d.get(y)??null)))),p)))}recalculateAndSaveOverlays(e,i){const s=go();let o=new he(((d,p)=>d-p)),c=Ut();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,i).next((d=>{for(const p of d)p.keys().forEach((g=>{const y=i.get(g);if(y===null)return;let E=s.get(g)||En.empty();E=p.applyToLocalView(y,E),s.set(g,E);const x=(o.get(p.batchId)||Ut()).add(g);o=o.insert(p.batchId,x)}))})).next((()=>{const d=[],p=o.getReverseIterator();for(;p.hasNext();){const g=p.getNext(),y=g.key,E=g.value,x=J_();E.forEach((R=>{if(!c.has(R)){const U=a1(i.get(R),s.get(R));U!==null&&x.set(R,U),c=c.add(R)}})),d.push(this.documentOverlayCache.saveOverlays(e,y,x))}return nt.waitFor(d)})).next((()=>s))}recalculateAndSaveOverlaysForDocumentKeys(e,i){return this.remoteDocumentCache.getEntries(e,i).next((s=>this.recalculateAndSaveOverlays(e,s)))}getDocumentsMatchingQuery(e,i,s,o){return(function(d){return vt.isDocumentKey(d.path)&&d.collectionGroup===null&&d.filters.length===0})(i)?this.getDocumentsMatchingDocumentQuery(e,i.path):Y_(i)?this.getDocumentsMatchingCollectionGroupQuery(e,i,s,o):this.getDocumentsMatchingCollectionQuery(e,i,s,o)}getNextDocuments(e,i,s,o){return this.remoteDocumentCache.getAllFromCollectionGroup(e,i,s,o).next((c=>{const d=o-c.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,i,s.largestBatchId,o-c.size):nt.resolve(Rr());let p=Eo,g=c;return d.next((y=>nt.forEach(y,((E,x)=>(p<x.largestBatchId&&(p=x.largestBatchId),c.get(E)?nt.resolve():this.remoteDocumentCache.getEntry(e,E).next((R=>{g=g.insert(E,R)}))))).next((()=>this.populateOverlays(e,y,c))).next((()=>this.computeViews(e,g,y,Ut()))).next((E=>({batchId:p,changes:Z_(E)})))))}))}getDocumentsMatchingDocumentQuery(e,i){return this.getDocument(e,new vt(i)).next((s=>{let o=oo();return s.isFoundDocument()&&(o=o.insert(s.key,s)),o}))}getDocumentsMatchingCollectionGroupQuery(e,i,s,o){const c=i.collectionGroup;let d=oo();return this.indexManager.getCollectionParents(e,c).next((p=>nt.forEach(p,(g=>{const y=(function(x,R){return new $s(R,null,x.explicitOrderBy.slice(),x.filters.slice(),x.limit,x.limitType,x.startAt,x.endAt)})(i,g.child(c));return this.getDocumentsMatchingCollectionQuery(e,y,s,o).next((E=>{E.forEach(((x,R)=>{d=d.insert(x,R)}))}))})).next((()=>d))))}getDocumentsMatchingCollectionQuery(e,i,s,o){let c;return this.documentOverlayCache.getOverlaysForCollection(e,i.path,s.largestBatchId).next((d=>(c=d,this.remoteDocumentCache.getDocumentsMatchingQuery(e,i,s,c,o)))).next((d=>{c.forEach(((g,y)=>{const E=y.getKey();d.get(E)===null&&(d=d.insert(E,Ze.newInvalidDocument(E)))}));let p=oo();return d.forEach(((g,y)=>{const E=c.get(g);E!==void 0&&yo(E.mutation,y,En.empty(),se.now()),Jc(i,y)&&(p=p.insert(g,y))})),p}))}}class BA{constructor(e){this.serializer=e,this.Lr=new Map,this.kr=new Map}getBundleMetadata(e,i){return nt.resolve(this.Lr.get(i))}saveBundleMetadata(e,i){return this.Lr.set(i.id,(function(o){return{id:o.id,version:o.version,createTime:Ai(o.createTime)}})(i)),nt.resolve()}getNamedQuery(e,i){return nt.resolve(this.kr.get(i))}saveNamedQuery(e,i){return this.kr.set(i.name,(function(o){return{name:o.name,query:DA(o.bundledQuery),readTime:Ai(o.readTime)}})(i)),nt.resolve()}}class qA{constructor(){this.overlays=new he(vt.comparator),this.qr=new Map}getOverlay(e,i){return nt.resolve(this.overlays.get(i))}getOverlays(e,i){const s=Rr();return nt.forEach(i,(o=>this.getOverlay(e,o).next((c=>{c!==null&&s.set(o,c)})))).next((()=>s))}saveOverlays(e,i,s){return s.forEach(((o,c)=>{this.St(e,i,c)})),nt.resolve()}removeOverlaysForBatchId(e,i,s){const o=this.qr.get(s);return o!==void 0&&(o.forEach((c=>this.overlays=this.overlays.remove(c))),this.qr.delete(s)),nt.resolve()}getOverlaysForCollection(e,i,s){const o=Rr(),c=i.length+1,d=new vt(i.child("")),p=this.overlays.getIteratorFrom(d);for(;p.hasNext();){const g=p.getNext().value,y=g.getKey();if(!i.isPrefixOf(y.path))break;y.path.length===c&&g.largestBatchId>s&&o.set(g.getKey(),g)}return nt.resolve(o)}getOverlaysForCollectionGroup(e,i,s,o){let c=new he(((y,E)=>y-E));const d=this.overlays.getIterator();for(;d.hasNext();){const y=d.getNext().value;if(y.getKey().getCollectionGroup()===i&&y.largestBatchId>s){let E=c.get(y.largestBatchId);E===null&&(E=Rr(),c=c.insert(y.largestBatchId,E)),E.set(y.getKey(),y)}}const p=Rr(),g=c.getIterator();for(;g.hasNext()&&(g.getNext().value.forEach(((y,E)=>p.set(y,E))),!(p.size()>=o)););return nt.resolve(p)}St(e,i,s){const o=this.overlays.get(s.key);if(o!==null){const d=this.qr.get(o.largestBatchId).delete(s.key);this.qr.set(o.largestBatchId,d)}this.overlays=this.overlays.insert(s.key,new sA(i,s));let c=this.qr.get(i);c===void 0&&(c=Ut(),this.qr.set(i,c)),this.qr.set(i,c.add(s.key))}}class HA{constructor(){this.sessionToken=Ye.EMPTY_BYTE_STRING}getSessionToken(e){return nt.resolve(this.sessionToken)}setSessionToken(e,i){return this.sessionToken=i,nt.resolve()}}class Am{constructor(){this.Qr=new Me(Le.$r),this.Ur=new Me(Le.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(e,i){const s=new Le(e,i);this.Qr=this.Qr.add(s),this.Ur=this.Ur.add(s)}Wr(e,i){e.forEach((s=>this.addReference(s,i)))}removeReference(e,i){this.Gr(new Le(e,i))}zr(e,i){e.forEach((s=>this.removeReference(s,i)))}jr(e){const i=new vt(new ne([])),s=new Le(i,e),o=new Le(i,e+1),c=[];return this.Ur.forEachInRange([s,o],(d=>{this.Gr(d),c.push(d.key)})),c}Jr(){this.Qr.forEach((e=>this.Gr(e)))}Gr(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}Hr(e){const i=new vt(new ne([])),s=new Le(i,e),o=new Le(i,e+1);let c=Ut();return this.Ur.forEachInRange([s,o],(d=>{c=c.add(d.key)})),c}containsKey(e){const i=new Le(e,0),s=this.Qr.firstAfterOrEqual(i);return s!==null&&e.isEqual(s.key)}}class Le{constructor(e,i){this.key=e,this.Yr=i}static $r(e,i){return vt.comparator(e.key,i.key)||zt(e.Yr,i.Yr)}static Kr(e,i){return zt(e.Yr,i.Yr)||vt.comparator(e.key,i.key)}}class FA{constructor(e,i){this.indexManager=e,this.referenceDelegate=i,this.mutationQueue=[],this.tr=1,this.Zr=new Me(Le.$r)}checkEmpty(e){return nt.resolve(this.mutationQueue.length===0)}addMutationBatch(e,i,s,o){const c=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const d=new rA(c,i,s,o);this.mutationQueue.push(d);for(const p of o)this.Zr=this.Zr.add(new Le(p.key,c)),this.indexManager.addToCollectionParentIndex(e,p.key.path.popLast());return nt.resolve(d)}lookupMutationBatch(e,i){return nt.resolve(this.Xr(i))}getNextMutationBatchAfterBatchId(e,i){const s=i+1,o=this.ei(s),c=o<0?0:o;return nt.resolve(this.mutationQueue.length>c?this.mutationQueue[c]:null)}getHighestUnacknowledgedBatchId(){return nt.resolve(this.mutationQueue.length===0?mm:this.tr-1)}getAllMutationBatches(e){return nt.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,i){const s=new Le(i,0),o=new Le(i,Number.POSITIVE_INFINITY),c=[];return this.Zr.forEachInRange([s,o],(d=>{const p=this.Xr(d.Yr);c.push(p)})),nt.resolve(c)}getAllMutationBatchesAffectingDocumentKeys(e,i){let s=new Me(zt);return i.forEach((o=>{const c=new Le(o,0),d=new Le(o,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([c,d],(p=>{s=s.add(p.Yr)}))})),nt.resolve(this.ti(s))}getAllMutationBatchesAffectingQuery(e,i){const s=i.path,o=s.length+1;let c=s;vt.isDocumentKey(c)||(c=c.child(""));const d=new Le(new vt(c),0);let p=new Me(zt);return this.Zr.forEachWhile((g=>{const y=g.key.path;return!!s.isPrefixOf(y)&&(y.length===o&&(p=p.add(g.Yr)),!0)}),d),nt.resolve(this.ti(p))}ti(e){const i=[];return e.forEach((s=>{const o=this.Xr(s);o!==null&&i.push(o)})),i}removeMutationBatch(e,i){Gt(this.ni(i.batchId,"removed")===0,55003),this.mutationQueue.shift();let s=this.Zr;return nt.forEach(i.mutations,(o=>{const c=new Le(o.key,i.batchId);return s=s.delete(c),this.referenceDelegate.markPotentiallyOrphaned(e,o.key)})).next((()=>{this.Zr=s}))}ir(e){}containsKey(e,i){const s=new Le(i,0),o=this.Zr.firstAfterOrEqual(s);return nt.resolve(i.isEqual(o&&o.key))}performConsistencyCheck(e){return this.mutationQueue.length,nt.resolve()}ni(e,i){return this.ei(e)}ei(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Xr(e){const i=this.ei(e);return i<0||i>=this.mutationQueue.length?null:this.mutationQueue[i]}}class GA{constructor(e){this.ri=e,this.docs=(function(){return new he(vt.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,i){const s=i.key,o=this.docs.get(s),c=o?o.size:0,d=this.ri(i);return this.docs=this.docs.insert(s,{document:i.mutableCopy(),size:d}),this.size+=d-c,this.indexManager.addToCollectionParentIndex(e,s.path.popLast())}removeEntry(e){const i=this.docs.get(e);i&&(this.docs=this.docs.remove(e),this.size-=i.size)}getEntry(e,i){const s=this.docs.get(i);return nt.resolve(s?s.document.mutableCopy():Ze.newInvalidDocument(i))}getEntries(e,i){let s=ta();return i.forEach((o=>{const c=this.docs.get(o);s=s.insert(o,c?c.document.mutableCopy():Ze.newInvalidDocument(o))})),nt.resolve(s)}getDocumentsMatchingQuery(e,i,s,o){let c=ta();const d=i.path,p=new vt(d.child("__id-9223372036854775808__")),g=this.docs.getIteratorFrom(p);for(;g.hasNext();){const{key:y,value:{document:E}}=g.getNext();if(!d.isPrefixOf(y.path))break;y.path.length>d.length+1||bS(_S(E),s)<=0||(o.has(E.key)||Jc(i,E))&&(c=c.insert(E.key,E.mutableCopy()))}return nt.resolve(c)}getAllFromCollectionGroup(e,i,s,o){Tt(9500)}ii(e,i){return nt.forEach(this.docs,(s=>i(s)))}newChangeBuffer(e){return new QA(this)}getSize(e){return nt.resolve(this.size)}}class QA extends LA{constructor(e){super(),this.Nr=e}applyChanges(e){const i=[];return this.changes.forEach(((s,o)=>{o.isValidDocument()?i.push(this.Nr.addEntry(e,o)):this.Nr.removeEntry(s)})),nt.waitFor(i)}getFromCache(e,i){return this.Nr.getEntry(e,i)}getAllFromCache(e,i){return this.Nr.getEntries(e,i)}}class YA{constructor(e){this.persistence=e,this.si=new zr((i=>ym(i)),vm),this.lastRemoteSnapshotVersion=St.min(),this.highestTargetId=0,this.oi=0,this._i=new Am,this.targetCount=0,this.ai=Bs.ur()}forEachTarget(e,i){return this.si.forEach(((s,o)=>i(o))),nt.resolve()}getLastRemoteSnapshotVersion(e){return nt.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return nt.resolve(this.oi)}allocateTargetId(e){return this.highestTargetId=this.ai.next(),nt.resolve(this.highestTargetId)}setTargetsMetadata(e,i,s){return s&&(this.lastRemoteSnapshotVersion=s),i>this.oi&&(this.oi=i),nt.resolve()}Pr(e){this.si.set(e.target,e);const i=e.targetId;i>this.highestTargetId&&(this.ai=new Bs(i),this.highestTargetId=i),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}addTargetData(e,i){return this.Pr(i),this.targetCount+=1,nt.resolve()}updateTargetData(e,i){return this.Pr(i),nt.resolve()}removeTargetData(e,i){return this.si.delete(i.target),this._i.jr(i.targetId),this.targetCount-=1,nt.resolve()}removeTargets(e,i,s){let o=0;const c=[];return this.si.forEach(((d,p)=>{p.sequenceNumber<=i&&s.get(p.targetId)===null&&(this.si.delete(d),c.push(this.removeMatchingKeysForTargetId(e,p.targetId)),o++)})),nt.waitFor(c).next((()=>o))}getTargetCount(e){return nt.resolve(this.targetCount)}getTargetData(e,i){const s=this.si.get(i)||null;return nt.resolve(s)}addMatchingKeys(e,i,s){return this._i.Wr(i,s),nt.resolve()}removeMatchingKeys(e,i,s){this._i.zr(i,s);const o=this.persistence.referenceDelegate,c=[];return o&&i.forEach((d=>{c.push(o.markPotentiallyOrphaned(e,d))})),nt.waitFor(c)}removeMatchingKeysForTargetId(e,i){return this._i.jr(i),nt.resolve()}getMatchingKeysForTargetId(e,i){const s=this._i.Hr(i);return nt.resolve(s)}containsKey(e,i){return nt.resolve(this._i.containsKey(i))}}class y1{constructor(e,i){this.ui={},this.overlays={},this.ci=new Kc(0),this.li=!1,this.li=!0,this.hi=new HA,this.referenceDelegate=e(this),this.Pi=new YA(this),this.indexManager=new IA,this.remoteDocumentCache=(function(o){return new GA(o)})((s=>this.referenceDelegate.Ti(s))),this.serializer=new NA(i),this.Ii=new BA(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let i=this.overlays[e.toKey()];return i||(i=new qA,this.overlays[e.toKey()]=i),i}getMutationQueue(e,i){let s=this.ui[e.toKey()];return s||(s=new FA(i,this.referenceDelegate),this.ui[e.toKey()]=s),s}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(e,i,s){ht("MemoryPersistence","Starting transaction:",e);const o=new KA(this.ci.next());return this.referenceDelegate.Ei(),s(o).next((c=>this.referenceDelegate.di(o).next((()=>c)))).toPromise().then((c=>(o.raiseOnCommittedEvent(),c)))}Ai(e,i){return nt.or(Object.values(this.ui).map((s=>()=>s.containsKey(e,i))))}}class KA extends TS{constructor(e){super(),this.currentSequenceNumber=e}}class wm{constructor(e){this.persistence=e,this.Ri=new Am,this.Vi=null}static mi(e){return new wm(e)}get fi(){if(this.Vi)return this.Vi;throw Tt(60996)}addReference(e,i,s){return this.Ri.addReference(s,i),this.fi.delete(s.toString()),nt.resolve()}removeReference(e,i,s){return this.Ri.removeReference(s,i),this.fi.add(s.toString()),nt.resolve()}markPotentiallyOrphaned(e,i){return this.fi.add(i.toString()),nt.resolve()}removeTarget(e,i){this.Ri.jr(i.targetId).forEach((o=>this.fi.add(o.toString())));const s=this.persistence.getTargetCache();return s.getMatchingKeysForTargetId(e,i.targetId).next((o=>{o.forEach((c=>this.fi.add(c.toString())))})).next((()=>s.removeTargetData(e,i)))}Ei(){this.Vi=new Set}di(e){const i=this.persistence.getRemoteDocumentCache().newChangeBuffer();return nt.forEach(this.fi,(s=>{const o=vt.fromPath(s);return this.gi(e,o).next((c=>{c||i.removeEntry(o,St.min())}))})).next((()=>(this.Vi=null,i.apply(e))))}updateLimboDocument(e,i){return this.gi(e,i).next((s=>{s?this.fi.delete(i.toString()):this.fi.add(i.toString())}))}Ti(e){return 0}gi(e,i){return nt.or([()=>nt.resolve(this.Ri.containsKey(i)),()=>this.persistence.getTargetCache().containsKey(e,i),()=>this.persistence.Ai(e,i)])}}class kc{constructor(e,i){this.persistence=e,this.pi=new zr((s=>AS(s.path)),((s,o)=>s.isEqual(o))),this.garbageCollector=UA(this,i)}static mi(e,i){return new kc(e,i)}Ei(){}di(e){return nt.resolve()}forEachTarget(e,i){return this.persistence.getTargetCache().forEachTarget(e,i)}gr(e){const i=this.wr(e);return this.persistence.getTargetCache().getTargetCount(e).next((s=>i.next((o=>s+o))))}wr(e){let i=0;return this.pr(e,(s=>{i++})).next((()=>i))}pr(e,i){return nt.forEach(this.pi,((s,o)=>this.br(e,s,o).next((c=>c?nt.resolve():i(o)))))}removeTargets(e,i,s){return this.persistence.getTargetCache().removeTargets(e,i,s)}removeOrphanedDocuments(e,i){let s=0;const o=this.persistence.getRemoteDocumentCache(),c=o.newChangeBuffer();return o.ii(e,(d=>this.br(e,d,i).next((p=>{p||(s++,c.removeEntry(d,St.min()))})))).next((()=>c.apply(e))).next((()=>s))}markPotentiallyOrphaned(e,i){return this.pi.set(i,e.currentSequenceNumber),nt.resolve()}removeTarget(e,i){const s=i.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,s)}addReference(e,i,s){return this.pi.set(s,e.currentSequenceNumber),nt.resolve()}removeReference(e,i,s){return this.pi.set(s,e.currentSequenceNumber),nt.resolve()}updateLimboDocument(e,i){return this.pi.set(i,e.currentSequenceNumber),nt.resolve()}Ti(e){let i=e.key.toString().length;return e.isFoundDocument()&&(i+=Ec(e.data.value)),i}br(e,i,s){return nt.or([()=>this.persistence.Ai(e,i),()=>this.persistence.getTargetCache().containsKey(e,i),()=>{const o=this.pi.get(i);return nt.resolve(o!==void 0&&o>s)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}class Rm{constructor(e,i,s,o){this.targetId=e,this.fromCache=i,this.Es=s,this.ds=o}static As(e,i){let s=Ut(),o=Ut();for(const c of i.docChanges)switch(c.type){case 0:s=s.add(c.doc.key);break;case 1:o=o.add(c.doc.key)}return new Rm(e,i.fromCache,s,o)}}class XA{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}class $A{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=(function(){return B2()?8:xS(k2())>0?6:4})()}initialize(e,i){this.ps=e,this.indexManager=i,this.Rs=!0}getDocumentsMatchingQuery(e,i,s,o){const c={result:null};return this.ys(e,i).next((d=>{c.result=d})).next((()=>{if(!c.result)return this.ws(e,i,o,s).next((d=>{c.result=d}))})).next((()=>{if(c.result)return;const d=new XA;return this.Ss(e,i,d).next((p=>{if(c.result=p,this.Vs)return this.bs(e,i,d,p.size)}))})).next((()=>c.result))}bs(e,i,s,o){return s.documentReadCount<this.fs?(Ds()<=Pt.DEBUG&&ht("QueryEngine","SDK will not create cache indexes for query:",Is(i),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),nt.resolve()):(Ds()<=Pt.DEBUG&&ht("QueryEngine","Query:",Is(i),"scans",s.documentReadCount,"local documents and returns",o,"documents as results."),s.documentReadCount>this.gs*o?(Ds()<=Pt.DEBUG&&ht("QueryEngine","The SDK decides to create cache indexes for query:",Is(i),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Si(i))):nt.resolve())}ys(e,i){if(cv(i))return nt.resolve(null);let s=Si(i);return this.indexManager.getIndexType(e,s).next((o=>o===0?null:(i.limit!==null&&o===1&&(i=Bd(i,null,"F"),s=Si(i)),this.indexManager.getDocumentsMatchingTarget(e,s).next((c=>{const d=Ut(...c);return this.ps.getDocuments(e,d).next((p=>this.indexManager.getMinOffset(e,s).next((g=>{const y=this.Ds(i,p);return this.Cs(i,y,d,g.readTime)?this.ys(e,Bd(i,null,"F")):this.vs(e,y,i,g)}))))})))))}ws(e,i,s,o){return cv(i)||o.isEqual(St.min())?nt.resolve(null):this.ps.getDocuments(e,s).next((c=>{const d=this.Ds(i,c);return this.Cs(i,d,s,o)?nt.resolve(null):(Ds()<=Pt.DEBUG&&ht("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),Is(i)),this.vs(e,d,i,vS(o,Eo)).next((p=>p)))}))}Ds(e,i){let s=new Me(X_(e));return i.forEach(((o,c)=>{Jc(e,c)&&(s=s.add(c))})),s}Cs(e,i,s,o){if(e.limit===null)return!1;if(s.size!==i.size)return!0;const c=e.limitType==="F"?i.last():i.first();return!!c&&(c.hasPendingWrites||c.version.compareTo(o)>0)}Ss(e,i,s){return Ds()<=Pt.DEBUG&&ht("QueryEngine","Using full collection scan to execute query:",Is(i)),this.ps.getDocumentsMatchingQuery(e,i,Pa.min(),s)}vs(e,i,s,o){return this.ps.getDocumentsMatchingQuery(e,s,o).next((c=>(i.forEach((d=>{c=c.insert(d.key,d)})),c)))}}const Cm="LocalStore",ZA=3e8;class JA{constructor(e,i,s,o){this.persistence=e,this.Fs=i,this.serializer=o,this.Ms=new he(zt),this.xs=new zr((c=>ym(c)),vm),this.Os=new Map,this.Ns=e.getRemoteDocumentCache(),this.Pi=e.getTargetCache(),this.Ii=e.getBundleCache(),this.Bs(s)}Bs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new PA(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(i=>e.collect(i,this.Ms)))}}function WA(r,e,i,s){return new JA(r,e,i,s)}async function v1(r,e){const i=wt(r);return await i.persistence.runTransaction("Handle user change","readonly",(s=>{let o;return i.mutationQueue.getAllMutationBatches(s).next((c=>(o=c,i.Bs(e),i.mutationQueue.getAllMutationBatches(s)))).next((c=>{const d=[],p=[];let g=Ut();for(const y of o){d.push(y.batchId);for(const E of y.mutations)g=g.add(E.key)}for(const y of c){p.push(y.batchId);for(const E of y.mutations)g=g.add(E.key)}return i.localDocuments.getDocuments(s,g).next((y=>({Ls:y,removedBatchIds:d,addedBatchIds:p})))}))}))}function tw(r,e){const i=wt(r);return i.persistence.runTransaction("Acknowledge batch","readwrite-primary",(s=>{const o=e.batch.keys(),c=i.Ns.newChangeBuffer({trackRemovals:!0});return(function(p,g,y,E){const x=y.batch,R=x.keys();let U=nt.resolve();return R.forEach((Y=>{U=U.next((()=>E.getEntry(g,Y))).next((X=>{const k=y.docVersions.get(Y);Gt(k!==null,48541),X.version.compareTo(k)<0&&(x.applyToRemoteDocument(X,y),X.isValidDocument()&&(X.setReadTime(y.commitVersion),E.addEntry(X)))}))})),U.next((()=>p.mutationQueue.removeMutationBatch(g,x)))})(i,s,e,c).next((()=>c.apply(s))).next((()=>i.mutationQueue.performConsistencyCheck(s))).next((()=>i.documentOverlayCache.removeOverlaysForBatchId(s,o,e.batch.batchId))).next((()=>i.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(s,(function(p){let g=Ut();for(let y=0;y<p.mutationResults.length;++y)p.mutationResults[y].transformResults.length>0&&(g=g.add(p.batch.mutations[y].key));return g})(e)))).next((()=>i.localDocuments.getDocuments(s,o)))}))}function _1(r){const e=wt(r);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(i=>e.Pi.getLastRemoteSnapshotVersion(i)))}function ew(r,e){const i=wt(r),s=e.snapshotVersion;let o=i.Ms;return i.persistence.runTransaction("Apply remote event","readwrite-primary",(c=>{const d=i.Ns.newChangeBuffer({trackRemovals:!0});o=i.Ms;const p=[];e.targetChanges.forEach(((E,x)=>{const R=o.get(x);if(!R)return;p.push(i.Pi.removeMatchingKeys(c,E.removedDocuments,x).next((()=>i.Pi.addMatchingKeys(c,E.addedDocuments,x))));let U=R.withSequenceNumber(c.currentSequenceNumber);e.targetMismatches.get(x)!==null?U=U.withResumeToken(Ye.EMPTY_BYTE_STRING,St.min()).withLastLimboFreeSnapshotVersion(St.min()):E.resumeToken.approximateByteSize()>0&&(U=U.withResumeToken(E.resumeToken,s)),o=o.insert(x,U),(function(X,k,J){return X.resumeToken.approximateByteSize()===0||k.snapshotVersion.toMicroseconds()-X.snapshotVersion.toMicroseconds()>=ZA?!0:J.addedDocuments.size+J.modifiedDocuments.size+J.removedDocuments.size>0})(R,U,E)&&p.push(i.Pi.updateTargetData(c,U))}));let g=ta(),y=Ut();if(e.documentUpdates.forEach((E=>{e.resolvedLimboDocuments.has(E)&&p.push(i.persistence.referenceDelegate.updateLimboDocument(c,E))})),p.push(nw(c,d,e.documentUpdates).next((E=>{g=E.ks,y=E.qs}))),!s.isEqual(St.min())){const E=i.Pi.getLastRemoteSnapshotVersion(c).next((x=>i.Pi.setTargetsMetadata(c,c.currentSequenceNumber,s)));p.push(E)}return nt.waitFor(p).next((()=>d.apply(c))).next((()=>i.localDocuments.getLocalViewOfDocuments(c,g,y))).next((()=>g))})).then((c=>(i.Ms=o,c)))}function nw(r,e,i){let s=Ut(),o=Ut();return i.forEach((c=>s=s.add(c))),e.getEntries(r,s).next((c=>{let d=ta();return i.forEach(((p,g)=>{const y=c.get(p);g.isFoundDocument()!==y.isFoundDocument()&&(o=o.add(p)),g.isNoDocument()&&g.version.isEqual(St.min())?(e.removeEntry(p,g.readTime),d=d.insert(p,g)):!y.isValidDocument()||g.version.compareTo(y.version)>0||g.version.compareTo(y.version)===0&&y.hasPendingWrites?(e.addEntry(g),d=d.insert(p,g)):ht(Cm,"Ignoring outdated watch update for ",p,". Current version:",y.version," Watch version:",g.version)})),{ks:d,qs:o}}))}function iw(r,e){const i=wt(r);return i.persistence.runTransaction("Get next mutation batch","readonly",(s=>(e===void 0&&(e=mm),i.mutationQueue.getNextMutationBatchAfterBatchId(s,e))))}function aw(r,e){const i=wt(r);return i.persistence.runTransaction("Allocate target","readwrite",(s=>{let o;return i.Pi.getTargetData(s,e).next((c=>c?(o=c,nt.resolve(o)):i.Pi.allocateTargetId(s).next((d=>(o=new Oa(e,d,"TargetPurposeListen",s.currentSequenceNumber),i.Pi.addTargetData(s,o).next((()=>o)))))))})).then((s=>{const o=i.Ms.get(s.targetId);return(o===null||s.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(i.Ms=i.Ms.insert(s.targetId,s),i.xs.set(e,s.targetId)),s}))}async function Qd(r,e,i){const s=wt(r),o=s.Ms.get(e),c=i?"readwrite":"readwrite-primary";try{i||await s.persistence.runTransaction("Release target",c,(d=>s.persistence.referenceDelegate.removeTarget(d,o)))}catch(d){if(!Xs(d))throw d;ht(Cm,`Failed to update sequence numbers for target ${e}: ${d}`)}s.Ms=s.Ms.remove(e),s.xs.delete(o.target)}function xv(r,e,i){const s=wt(r);let o=St.min(),c=Ut();return s.persistence.runTransaction("Execute query","readwrite",(d=>(function(g,y,E){const x=wt(g),R=x.xs.get(E);return R!==void 0?nt.resolve(x.Ms.get(R)):x.Pi.getTargetData(y,E)})(s,d,Si(e)).next((p=>{if(p)return o=p.lastLimboFreeSnapshotVersion,s.Pi.getMatchingKeysForTargetId(d,p.targetId).next((g=>{c=g}))})).next((()=>s.Fs.getDocumentsMatchingQuery(d,e,i?o:St.min(),i?c:Ut()))).next((p=>(rw(s,FS(e),p),{documents:p,Qs:c})))))}function rw(r,e,i){let s=r.Os.get(e)||St.min();i.forEach(((o,c)=>{c.readTime.compareTo(s)>0&&(s=c.readTime)})),r.Os.set(e,s)}class Sv{constructor(){this.activeTargetIds=$S()}zs(e){this.activeTargetIds=this.activeTargetIds.add(e)}js(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class sw{constructor(){this.Mo=new Sv,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,i,s){}addLocalQueryTarget(e,i=!0){return i&&this.Mo.zs(e),this.xo[e]||"not-current"}updateQueryState(e,i,s){this.xo[e]=i}removeLocalQueryTarget(e){this.Mo.js(e)}isLocalQueryTarget(e){return this.Mo.activeTargetIds.has(e)}clearQueryState(e){delete this.xo[e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(e){return this.Mo.activeTargetIds.has(e)}start(){return this.Mo=new Sv,Promise.resolve()}handleUserChange(e,i,s){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class lw{Oo(e){}shutdown(){}}const Av="ConnectivityMonitor";class wv{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(e){this.qo.push(e)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){ht(Av,"Network connectivity changed: AVAILABLE");for(const e of this.qo)e(0)}ko(){ht(Av,"Network connectivity changed: UNAVAILABLE");for(const e of this.qo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}let yc=null;function Yd(){return yc===null?yc=(function(){return 268435456+Math.round(2147483648*Math.random())})():yc++,"0x"+yc.toString(16)}const Sd="RestConnection",ow={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class uw{get $o(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const i=e.ssl?"https":"http",s=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.Uo=i+"://"+e.host,this.Ko=`projects/${s}/databases/${o}`,this.Wo=this.databaseId.database===jc?`project_id=${s}`:`project_id=${s}&database_id=${o}`}Go(e,i,s,o,c){const d=Yd(),p=this.zo(e,i.toUriEncodedString());ht(Sd,`Sending RPC '${e}' ${d}:`,p,s);const g={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(g,o,c);const{host:y}=new URL(p),E=cm(y);return this.Jo(e,p,g,s,E).then((x=>(ht(Sd,`Received RPC '${e}' ${d}: `,x),x)),(x=>{throw Us(Sd,`RPC '${e}' ${d} failed with error: `,x,"url: ",p,"request:",s),x}))}Ho(e,i,s,o,c,d){return this.Go(e,i,s,o,c)}jo(e,i,s){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+Ys})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),i&&i.headers.forEach(((o,c)=>e[c]=o)),s&&s.headers.forEach(((o,c)=>e[c]=o))}zo(e,i){const s=ow[e];return`${this.Uo}/v1/${i}:${s}`}terminate(){}}class cw{constructor(e){this.Yo=e.Yo,this.Zo=e.Zo}Xo(e){this.e_=e}t_(e){this.n_=e}r_(e){this.i_=e}onMessage(e){this.s_=e}close(){this.Zo()}send(e){this.Yo(e)}o_(){this.e_()}__(){this.n_()}a_(e){this.i_(e)}u_(e){this.s_(e)}}const Xe="WebChannelConnection";class hw extends uw{constructor(e){super(e),this.c_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,i,s,o,c){const d=Yd();return new Promise(((p,g)=>{const y=new T_;y.setWithCredentials(!0),y.listenOnce(x_.COMPLETE,(()=>{try{switch(y.getLastErrorCode()){case bc.NO_ERROR:const x=y.getResponseJson();ht(Xe,`XHR for RPC '${e}' ${d} received:`,JSON.stringify(x)),p(x);break;case bc.TIMEOUT:ht(Xe,`RPC '${e}' ${d} timed out`),g(new ut(et.DEADLINE_EXCEEDED,"Request time out"));break;case bc.HTTP_ERROR:const R=y.getStatus();if(ht(Xe,`RPC '${e}' ${d} failed with status:`,R,"response text:",y.getResponseText()),R>0){let U=y.getResponseJson();Array.isArray(U)&&(U=U[0]);const Y=U?.error;if(Y&&Y.status&&Y.message){const X=(function(J){const it=J.toLowerCase().replace(/_/g,"-");return Object.values(et).indexOf(it)>=0?it:et.UNKNOWN})(Y.status);g(new ut(X,Y.message))}else g(new ut(et.UNKNOWN,"Server responded with status "+y.getStatus()))}else g(new ut(et.UNAVAILABLE,"Connection failed."));break;default:Tt(9055,{l_:e,streamId:d,h_:y.getLastErrorCode(),P_:y.getLastError()})}}finally{ht(Xe,`RPC '${e}' ${d} completed.`)}}));const E=JSON.stringify(o);ht(Xe,`RPC '${e}' ${d} sending request:`,o),y.send(i,"POST",E,s,15)}))}T_(e,i,s){const o=Yd(),c=[this.Uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],d=w_(),p=A_(),g={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},y=this.longPollingOptions.timeoutSeconds;y!==void 0&&(g.longPollingTimeout=Math.round(1e3*y)),this.useFetchStreams&&(g.useFetchStreams=!0),this.jo(g.initMessageHeaders,i,s),g.encodeInitMessageHeaders=!0;const E=c.join("");ht(Xe,`Creating RPC '${e}' stream ${o}: ${E}`,g);const x=d.createWebChannel(E,g);this.I_(x);let R=!1,U=!1;const Y=new cw({Yo:k=>{U?ht(Xe,`Not sending because RPC '${e}' stream ${o} is closed:`,k):(R||(ht(Xe,`Opening RPC '${e}' stream ${o} transport.`),x.open(),R=!0),ht(Xe,`RPC '${e}' stream ${o} sending:`,k),x.send(k))},Zo:()=>x.close()}),X=(k,J,it)=>{k.listen(J,($=>{try{it($)}catch(_t){setTimeout((()=>{throw _t}),0)}}))};return X(x,lo.EventType.OPEN,(()=>{U||(ht(Xe,`RPC '${e}' stream ${o} transport opened.`),Y.o_())})),X(x,lo.EventType.CLOSE,(()=>{U||(U=!0,ht(Xe,`RPC '${e}' stream ${o} transport closed`),Y.a_(),this.E_(x))})),X(x,lo.EventType.ERROR,(k=>{U||(U=!0,Us(Xe,`RPC '${e}' stream ${o} transport errored. Name:`,k.name,"Message:",k.message),Y.a_(new ut(et.UNAVAILABLE,"The operation could not be completed")))})),X(x,lo.EventType.MESSAGE,(k=>{if(!U){const J=k.data[0];Gt(!!J,16349);const it=J,$=it?.error||it[0]?.error;if($){ht(Xe,`RPC '${e}' stream ${o} received error:`,$);const _t=$.status;let xt=(function(A){const C=Ne[A];if(C!==void 0)return s1(C)})(_t),rt=$.message;xt===void 0&&(xt=et.INTERNAL,rt="Unknown error status: "+_t+" with message "+$.message),U=!0,Y.a_(new ut(xt,rt)),x.close()}else ht(Xe,`RPC '${e}' stream ${o} received:`,J),Y.u_(J)}})),X(p,S_.STAT_EVENT,(k=>{k.stat===Md.PROXY?ht(Xe,`RPC '${e}' stream ${o} detected buffering proxy`):k.stat===Md.NOPROXY&&ht(Xe,`RPC '${e}' stream ${o} detected no buffering proxy`)})),setTimeout((()=>{Y.__()}),0),Y}terminate(){this.c_.forEach((e=>e.close())),this.c_=[]}I_(e){this.c_.push(e)}E_(e){this.c_=this.c_.filter((i=>i===e))}}function Ad(){return typeof document<"u"?document:null}function nh(r){return new pA(r,!0)}class b1{constructor(e,i,s=1e3,o=1.5,c=6e4){this.Mi=e,this.timerId=i,this.d_=s,this.A_=o,this.R_=c,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();const i=Math.floor(this.V_+this.y_()),s=Math.max(0,Date.now()-this.f_),o=Math.max(0,i-s);o>0&&ht("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.V_} ms, delay with jitter: ${i} ms, last attempt: ${s} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,o,(()=>(this.f_=Date.now(),e()))),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}const Rv="PersistentStream";class E1{constructor(e,i,s,o,c,d,p,g){this.Mi=e,this.S_=s,this.b_=o,this.connection=c,this.authCredentialsProvider=d,this.appCheckCredentialsProvider=p,this.listener=g,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new b1(e,i)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,(()=>this.k_())))}q_(e){this.Q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,i){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():i&&i.code===et.RESOURCE_EXHAUSTED?(Wi(i.toString()),Wi("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):i&&i.code===et.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.r_(i)}K_(){}auth(){this.state=1;const e=this.W_(this.D_),i=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([s,o])=>{this.D_===i&&this.G_(s,o)}),(s=>{e((()=>{const o=new ut(et.UNKNOWN,"Fetching auth token failed: "+s.message);return this.z_(o)}))}))}G_(e,i){const s=this.W_(this.D_);this.stream=this.j_(e,i),this.stream.Xo((()=>{s((()=>this.listener.Xo()))})),this.stream.t_((()=>{s((()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.t_())))})),this.stream.r_((o=>{s((()=>this.z_(o)))})),this.stream.onMessage((o=>{s((()=>++this.F_==1?this.J_(o):this.onNext(o)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(e){return ht(Rv,`close with error: ${e}`),this.stream=null,this.close(4,e)}W_(e){return i=>{this.Mi.enqueueAndForget((()=>this.D_===e?i():(ht(Rv,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class fw extends E1{constructor(e,i,s,o,c,d){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",i,s,o,d),this.serializer=c}j_(e,i){return this.connection.T_("Listen",e,i)}J_(e){return this.onNext(e)}onNext(e){this.M_.reset();const i=vA(this.serializer,e),s=(function(c){if(!("targetChange"in c))return St.min();const d=c.targetChange;return d.targetIds&&d.targetIds.length?St.min():d.readTime?Ai(d.readTime):St.min()})(e);return this.listener.H_(i,s)}Y_(e){const i={};i.database=Gd(this.serializer),i.addTarget=(function(c,d){let p;const g=d.target;if(p=kd(g)?{documents:EA(c,g)}:{query:TA(c,g).ft},p.targetId=d.targetId,d.resumeToken.approximateByteSize()>0){p.resumeToken=u1(c,d.resumeToken);const y=qd(c,d.expectedCount);y!==null&&(p.expectedCount=y)}else if(d.snapshotVersion.compareTo(St.min())>0){p.readTime=Lc(c,d.snapshotVersion.toTimestamp());const y=qd(c,d.expectedCount);y!==null&&(p.expectedCount=y)}return p})(this.serializer,e);const s=SA(this.serializer,e);s&&(i.labels=s),this.q_(i)}Z_(e){const i={};i.database=Gd(this.serializer),i.removeTarget=e,this.q_(i)}}class dw extends E1{constructor(e,i,s,o,c,d){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",i,s,o,d),this.serializer=c}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(e,i){return this.connection.T_("Write",e,i)}J_(e){return Gt(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,Gt(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){Gt(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const i=bA(e.writeResults,e.commitTime),s=Ai(e.commitTime);return this.listener.na(s,i)}ra(){const e={};e.database=Gd(this.serializer),this.q_(e)}ea(e){const i={streamToken:this.lastStreamToken,writes:e.map((s=>_A(this.serializer,s)))};this.q_(i)}}class mw{}class pw extends mw{constructor(e,i,s,o){super(),this.authCredentials=e,this.appCheckCredentials=i,this.connection=s,this.serializer=o,this.ia=!1}sa(){if(this.ia)throw new ut(et.FAILED_PRECONDITION,"The client has already been terminated.")}Go(e,i,s,o){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([c,d])=>this.connection.Go(e,Hd(i,s),o,c,d))).catch((c=>{throw c.name==="FirebaseError"?(c.code===et.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),c):new ut(et.UNKNOWN,c.toString())}))}Ho(e,i,s,o,c){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([d,p])=>this.connection.Ho(e,Hd(i,s),o,d,p,c))).catch((d=>{throw d.name==="FirebaseError"?(d.code===et.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),d):new ut(et.UNKNOWN,d.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}class gw{constructor(e,i){this.asyncQueue=e,this.onlineStateHandler=i,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const i=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(Wi(i),this.aa=!1):ht("OnlineStateTracker",i)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}const Vr="RemoteStore";class yw{constructor(e,i,s,o,c){this.localStore=e,this.datastore=i,this.asyncQueue=s,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=c,this.Aa.Oo((d=>{s.enqueueAndForget((async()=>{Ur(this)&&(ht(Vr,"Restarting streams for network reachability change."),await(async function(g){const y=wt(g);y.Ea.add(4),await Mo(y),y.Ra.set("Unknown"),y.Ea.delete(4),await ih(y)})(this))}))})),this.Ra=new gw(s,o)}}async function ih(r){if(Ur(r))for(const e of r.da)await e(!0)}async function Mo(r){for(const e of r.da)await e(!1)}function T1(r,e){const i=wt(r);i.Ia.has(e.targetId)||(i.Ia.set(e.targetId,e),Vm(i)?Im(i):Zs(i).O_()&&Dm(i,e))}function Nm(r,e){const i=wt(r),s=Zs(i);i.Ia.delete(e),s.O_()&&x1(i,e),i.Ia.size===0&&(s.O_()?s.L_():Ur(i)&&i.Ra.set("Unknown"))}function Dm(r,e){if(r.Va.Ue(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(St.min())>0){const i=r.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(i)}Zs(r).Y_(e)}function x1(r,e){r.Va.Ue(e),Zs(r).Z_(e)}function Im(r){r.Va=new hA({getRemoteKeysForTarget:e=>r.remoteSyncer.getRemoteKeysForTarget(e),At:e=>r.Ia.get(e)||null,ht:()=>r.datastore.serializer.databaseId}),Zs(r).start(),r.Ra.ua()}function Vm(r){return Ur(r)&&!Zs(r).x_()&&r.Ia.size>0}function Ur(r){return wt(r).Ea.size===0}function S1(r){r.Va=void 0}async function vw(r){r.Ra.set("Online")}async function _w(r){r.Ia.forEach(((e,i)=>{Dm(r,e)}))}async function bw(r,e){S1(r),Vm(r)?(r.Ra.ha(e),Im(r)):r.Ra.set("Unknown")}async function Ew(r,e,i){if(r.Ra.set("Online"),e instanceof o1&&e.state===2&&e.cause)try{await(async function(o,c){const d=c.cause;for(const p of c.targetIds)o.Ia.has(p)&&(await o.remoteSyncer.rejectListen(p,d),o.Ia.delete(p),o.Va.removeTarget(p))})(r,e)}catch(s){ht(Vr,"Failed to remove targets %s: %s ",e.targetIds.join(","),s),await Pc(r,s)}else if(e instanceof Sc?r.Va.Ze(e):e instanceof l1?r.Va.st(e):r.Va.tt(e),!i.isEqual(St.min()))try{const s=await _1(r.localStore);i.compareTo(s)>=0&&await(function(c,d){const p=c.Va.Tt(d);return p.targetChanges.forEach(((g,y)=>{if(g.resumeToken.approximateByteSize()>0){const E=c.Ia.get(y);E&&c.Ia.set(y,E.withResumeToken(g.resumeToken,d))}})),p.targetMismatches.forEach(((g,y)=>{const E=c.Ia.get(g);if(!E)return;c.Ia.set(g,E.withResumeToken(Ye.EMPTY_BYTE_STRING,E.snapshotVersion)),x1(c,g);const x=new Oa(E.target,g,y,E.sequenceNumber);Dm(c,x)})),c.remoteSyncer.applyRemoteEvent(p)})(r,i)}catch(s){ht(Vr,"Failed to raise snapshot:",s),await Pc(r,s)}}async function Pc(r,e,i){if(!Xs(e))throw e;r.Ea.add(1),await Mo(r),r.Ra.set("Offline"),i||(i=()=>_1(r.localStore)),r.asyncQueue.enqueueRetryable((async()=>{ht(Vr,"Retrying IndexedDB access"),await i(),r.Ea.delete(1),await ih(r)}))}function A1(r,e){return e().catch((i=>Pc(r,i,e)))}async function ah(r){const e=wt(r),i=Fa(e);let s=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:mm;for(;Tw(e);)try{const o=await iw(e.localStore,s);if(o===null){e.Ta.length===0&&i.L_();break}s=o.batchId,xw(e,o)}catch(o){await Pc(e,o)}w1(e)&&R1(e)}function Tw(r){return Ur(r)&&r.Ta.length<10}function xw(r,e){r.Ta.push(e);const i=Fa(r);i.O_()&&i.X_&&i.ea(e.mutations)}function w1(r){return Ur(r)&&!Fa(r).x_()&&r.Ta.length>0}function R1(r){Fa(r).start()}async function Sw(r){Fa(r).ra()}async function Aw(r){const e=Fa(r);for(const i of r.Ta)e.ea(i.mutations)}async function ww(r,e,i){const s=r.Ta.shift(),o=Tm.from(s,e,i);await A1(r,(()=>r.remoteSyncer.applySuccessfulWrite(o))),await ah(r)}async function Rw(r,e){e&&Fa(r).X_&&await(async function(s,o){if((function(d){return oA(d)&&d!==et.ABORTED})(o.code)){const c=s.Ta.shift();Fa(s).B_(),await A1(s,(()=>s.remoteSyncer.rejectFailedWrite(c.batchId,o))),await ah(s)}})(r,e),w1(r)&&R1(r)}async function Cv(r,e){const i=wt(r);i.asyncQueue.verifyOperationInProgress(),ht(Vr,"RemoteStore received new credentials");const s=Ur(i);i.Ea.add(3),await Mo(i),s&&i.Ra.set("Unknown"),await i.remoteSyncer.handleCredentialChange(e),i.Ea.delete(3),await ih(i)}async function Cw(r,e){const i=wt(r);e?(i.Ea.delete(2),await ih(i)):e||(i.Ea.add(2),await Mo(i),i.Ra.set("Unknown"))}function Zs(r){return r.ma||(r.ma=(function(i,s,o){const c=wt(i);return c.sa(),new fw(s,c.connection,c.authCredentials,c.appCheckCredentials,c.serializer,o)})(r.datastore,r.asyncQueue,{Xo:vw.bind(null,r),t_:_w.bind(null,r),r_:bw.bind(null,r),H_:Ew.bind(null,r)}),r.da.push((async e=>{e?(r.ma.B_(),Vm(r)?Im(r):r.Ra.set("Unknown")):(await r.ma.stop(),S1(r))}))),r.ma}function Fa(r){return r.fa||(r.fa=(function(i,s,o){const c=wt(i);return c.sa(),new dw(s,c.connection,c.authCredentials,c.appCheckCredentials,c.serializer,o)})(r.datastore,r.asyncQueue,{Xo:()=>Promise.resolve(),t_:Sw.bind(null,r),r_:Rw.bind(null,r),ta:Aw.bind(null,r),na:ww.bind(null,r)}),r.da.push((async e=>{e?(r.fa.B_(),await ah(r)):(await r.fa.stop(),r.Ta.length>0&&(ht(Vr,`Stopping write stream with ${r.Ta.length} pending writes`),r.Ta=[]))}))),r.fa}class jm{constructor(e,i,s,o,c){this.asyncQueue=e,this.timerId=i,this.targetTimeMs=s,this.op=o,this.removalCallback=c,this.deferred=new Cr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((d=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,i,s,o,c){const d=Date.now()+s,p=new jm(e,i,d,o,c);return p.start(s),p}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new ut(et.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Mm(r,e){if(Wi("AsyncQueue",`${e}: ${r}`),Xs(r))return new ut(et.UNAVAILABLE,`${e}: ${r}`);throw r}class Os{static emptySet(e){return new Os(e.comparator)}constructor(e){this.comparator=e?(i,s)=>e(i,s)||vt.comparator(i.key,s.key):(i,s)=>vt.comparator(i.key,s.key),this.keyedMap=oo(),this.sortedSet=new he(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const i=this.keyedMap.get(e);return i?this.sortedSet.indexOf(i):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((i,s)=>(e(i),!1)))}add(e){const i=this.delete(e.key);return i.copy(i.keyedMap.insert(e.key,e),i.sortedSet.insert(e,null))}delete(e){const i=this.get(e);return i?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(i)):this}isEqual(e){if(!(e instanceof Os)||this.size!==e.size)return!1;const i=this.sortedSet.getIterator(),s=e.sortedSet.getIterator();for(;i.hasNext();){const o=i.getNext().key,c=s.getNext().key;if(!o.isEqual(c))return!1}return!0}toString(){const e=[];return this.forEach((i=>{e.push(i.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,i){const s=new Os;return s.comparator=this.comparator,s.keyedMap=e,s.sortedSet=i,s}}class Nv{constructor(){this.ga=new he(vt.comparator)}track(e){const i=e.doc.key,s=this.ga.get(i);s?e.type!==0&&s.type===3?this.ga=this.ga.insert(i,e):e.type===3&&s.type!==1?this.ga=this.ga.insert(i,{type:s.type,doc:e.doc}):e.type===2&&s.type===2?this.ga=this.ga.insert(i,{type:2,doc:e.doc}):e.type===2&&s.type===0?this.ga=this.ga.insert(i,{type:0,doc:e.doc}):e.type===1&&s.type===0?this.ga=this.ga.remove(i):e.type===1&&s.type===2?this.ga=this.ga.insert(i,{type:1,doc:s.doc}):e.type===0&&s.type===1?this.ga=this.ga.insert(i,{type:2,doc:e.doc}):Tt(63341,{Rt:e,pa:s}):this.ga=this.ga.insert(i,e)}ya(){const e=[];return this.ga.inorderTraversal(((i,s)=>{e.push(s)})),e}}class qs{constructor(e,i,s,o,c,d,p,g,y){this.query=e,this.docs=i,this.oldDocs=s,this.docChanges=o,this.mutatedKeys=c,this.fromCache=d,this.syncStateChanged=p,this.excludesMetadataChanges=g,this.hasCachedResults=y}static fromInitialDocuments(e,i,s,o,c){const d=[];return i.forEach((p=>{d.push({type:0,doc:p})})),new qs(e,i,Os.emptySet(i),d,s,o,!0,!1,c)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Zc(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const i=this.docChanges,s=e.docChanges;if(i.length!==s.length)return!1;for(let o=0;o<i.length;o++)if(i[o].type!==s[o].type||!i[o].doc.isEqual(s[o].doc))return!1;return!0}}class Nw{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some((e=>e.Da()))}}class Dw{constructor(){this.queries=Dv(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(i,s){const o=wt(i),c=o.queries;o.queries=Dv(),c.forEach(((d,p)=>{for(const g of p.Sa)g.onError(s)}))})(this,new ut(et.ABORTED,"Firestore shutting down"))}}function Dv(){return new zr((r=>K_(r)),Zc)}async function Iw(r,e){const i=wt(r);let s=3;const o=e.query;let c=i.queries.get(o);c?!c.ba()&&e.Da()&&(s=2):(c=new Nw,s=e.Da()?0:1);try{switch(s){case 0:c.wa=await i.onListen(o,!0);break;case 1:c.wa=await i.onListen(o,!1);break;case 2:await i.onFirstRemoteStoreListen(o)}}catch(d){const p=Mm(d,`Initialization of query '${Is(e.query)}' failed`);return void e.onError(p)}i.queries.set(o,c),c.Sa.push(e),e.va(i.onlineState),c.wa&&e.Fa(c.wa)&&Om(i)}async function Vw(r,e){const i=wt(r),s=e.query;let o=3;const c=i.queries.get(s);if(c){const d=c.Sa.indexOf(e);d>=0&&(c.Sa.splice(d,1),c.Sa.length===0?o=e.Da()?0:1:!c.ba()&&e.Da()&&(o=2))}switch(o){case 0:return i.queries.delete(s),i.onUnlisten(s,!0);case 1:return i.queries.delete(s),i.onUnlisten(s,!1);case 2:return i.onLastRemoteStoreUnlisten(s);default:return}}function jw(r,e){const i=wt(r);let s=!1;for(const o of e){const c=o.query,d=i.queries.get(c);if(d){for(const p of d.Sa)p.Fa(o)&&(s=!0);d.wa=o}}s&&Om(i)}function Mw(r,e,i){const s=wt(r),o=s.queries.get(e);if(o)for(const c of o.Sa)c.onError(i);s.queries.delete(e)}function Om(r){r.Ca.forEach((e=>{e.next()}))}var Kd,Iv;(Iv=Kd||(Kd={})).Ma="default",Iv.Cache="cache";class Ow{constructor(e,i,s){this.query=e,this.xa=i,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=s||{}}Fa(e){if(!this.options.includeMetadataChanges){const s=[];for(const o of e.docChanges)o.type!==3&&s.push(o);e=new qs(e.query,e.docs,e.oldDocs,s,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let i=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),i=!0):this.La(e,this.onlineState)&&(this.ka(e),i=!0),this.Na=e,i}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let i=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),i=!0),i}La(e,i){if(!e.fromCache||!this.Da())return!0;const s=i!=="Offline";return(!this.options.qa||!s)&&(!e.docs.isEmpty()||e.hasCachedResults||i==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const i=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!i)&&this.options.includeMetadataChanges===!0}ka(e){e=qs.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==Kd.Cache}}class C1{constructor(e){this.key=e}}class N1{constructor(e){this.key=e}}class zw{constructor(e,i){this.query=e,this.Ya=i,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=Ut(),this.mutatedKeys=Ut(),this.eu=X_(e),this.tu=new Os(this.eu)}get nu(){return this.Ya}ru(e,i){const s=i?i.iu:new Nv,o=i?i.tu:this.tu;let c=i?i.mutatedKeys:this.mutatedKeys,d=o,p=!1;const g=this.query.limitType==="F"&&o.size===this.query.limit?o.last():null,y=this.query.limitType==="L"&&o.size===this.query.limit?o.first():null;if(e.inorderTraversal(((E,x)=>{const R=o.get(E),U=Jc(this.query,x)?x:null,Y=!!R&&this.mutatedKeys.has(R.key),X=!!U&&(U.hasLocalMutations||this.mutatedKeys.has(U.key)&&U.hasCommittedMutations);let k=!1;R&&U?R.data.isEqual(U.data)?Y!==X&&(s.track({type:3,doc:U}),k=!0):this.su(R,U)||(s.track({type:2,doc:U}),k=!0,(g&&this.eu(U,g)>0||y&&this.eu(U,y)<0)&&(p=!0)):!R&&U?(s.track({type:0,doc:U}),k=!0):R&&!U&&(s.track({type:1,doc:R}),k=!0,(g||y)&&(p=!0)),k&&(U?(d=d.add(U),c=X?c.add(E):c.delete(E)):(d=d.delete(E),c=c.delete(E)))})),this.query.limit!==null)for(;d.size>this.query.limit;){const E=this.query.limitType==="F"?d.last():d.first();d=d.delete(E.key),c=c.delete(E.key),s.track({type:1,doc:E})}return{tu:d,iu:s,Cs:p,mutatedKeys:c}}su(e,i){return e.hasLocalMutations&&i.hasCommittedMutations&&!i.hasLocalMutations}applyChanges(e,i,s,o){const c=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const d=e.iu.ya();d.sort(((E,x)=>(function(U,Y){const X=k=>{switch(k){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Tt(20277,{Rt:k})}};return X(U)-X(Y)})(E.type,x.type)||this.eu(E.doc,x.doc))),this.ou(s),o=o??!1;const p=i&&!o?this._u():[],g=this.Xa.size===0&&this.current&&!o?1:0,y=g!==this.Za;return this.Za=g,d.length!==0||y?{snapshot:new qs(this.query,e.tu,c,d,e.mutatedKeys,g===0,y,!1,!!s&&s.resumeToken.approximateByteSize()>0),au:p}:{au:p}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new Nv,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(e){return!this.Ya.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach((i=>this.Ya=this.Ya.add(i))),e.modifiedDocuments.forEach((i=>{})),e.removedDocuments.forEach((i=>this.Ya=this.Ya.delete(i))),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Xa;this.Xa=Ut(),this.tu.forEach((s=>{this.uu(s.key)&&(this.Xa=this.Xa.add(s.key))}));const i=[];return e.forEach((s=>{this.Xa.has(s)||i.push(new N1(s))})),this.Xa.forEach((s=>{e.has(s)||i.push(new C1(s))})),i}cu(e){this.Ya=e.Qs,this.Xa=Ut();const i=this.ru(e.documents);return this.applyChanges(i,!0)}lu(){return qs.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const zm="SyncEngine";class Uw{constructor(e,i,s){this.query=e,this.targetId=i,this.view=s}}class Lw{constructor(e){this.key=e,this.hu=!1}}class kw{constructor(e,i,s,o,c,d){this.localStore=e,this.remoteStore=i,this.eventManager=s,this.sharedClientState=o,this.currentUser=c,this.maxConcurrentLimboResolutions=d,this.Pu={},this.Tu=new zr((p=>K_(p)),Zc),this.Iu=new Map,this.Eu=new Set,this.du=new he(vt.comparator),this.Au=new Map,this.Ru=new Am,this.Vu={},this.mu=new Map,this.fu=Bs.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function Pw(r,e,i=!0){const s=O1(r);let o;const c=s.Tu.get(e);return c?(s.sharedClientState.addLocalQueryTarget(c.targetId),o=c.view.lu()):o=await D1(s,e,i,!0),o}async function Bw(r,e){const i=O1(r);await D1(i,e,!0,!1)}async function D1(r,e,i,s){const o=await aw(r.localStore,Si(e)),c=o.targetId,d=r.sharedClientState.addLocalQueryTarget(c,i);let p;return s&&(p=await qw(r,e,c,d==="current",o.resumeToken)),r.isPrimaryClient&&i&&T1(r.remoteStore,o),p}async function qw(r,e,i,s,o){r.pu=(x,R,U)=>(async function(X,k,J,it){let $=k.view.ru(J);$.Cs&&($=await xv(X.localStore,k.query,!1).then((({documents:w})=>k.view.ru(w,$))));const _t=it&&it.targetChanges.get(k.targetId),xt=it&&it.targetMismatches.get(k.targetId)!=null,rt=k.view.applyChanges($,X.isPrimaryClient,_t,xt);return jv(X,k.targetId,rt.au),rt.snapshot})(r,x,R,U);const c=await xv(r.localStore,e,!0),d=new zw(e,c.Qs),p=d.ru(c.documents),g=jo.createSynthesizedTargetChangeForCurrentChange(i,s&&r.onlineState!=="Offline",o),y=d.applyChanges(p,r.isPrimaryClient,g);jv(r,i,y.au);const E=new Uw(e,i,d);return r.Tu.set(e,E),r.Iu.has(i)?r.Iu.get(i).push(e):r.Iu.set(i,[e]),y.snapshot}async function Hw(r,e,i){const s=wt(r),o=s.Tu.get(e),c=s.Iu.get(o.targetId);if(c.length>1)return s.Iu.set(o.targetId,c.filter((d=>!Zc(d,e)))),void s.Tu.delete(e);s.isPrimaryClient?(s.sharedClientState.removeLocalQueryTarget(o.targetId),s.sharedClientState.isActiveQueryTarget(o.targetId)||await Qd(s.localStore,o.targetId,!1).then((()=>{s.sharedClientState.clearQueryState(o.targetId),i&&Nm(s.remoteStore,o.targetId),Xd(s,o.targetId)})).catch(Ks)):(Xd(s,o.targetId),await Qd(s.localStore,o.targetId,!0))}async function Fw(r,e){const i=wt(r),s=i.Tu.get(e),o=i.Iu.get(s.targetId);i.isPrimaryClient&&o.length===1&&(i.sharedClientState.removeLocalQueryTarget(s.targetId),Nm(i.remoteStore,s.targetId))}async function Gw(r,e,i){const s=Jw(r);try{const o=await(function(d,p){const g=wt(d),y=se.now(),E=p.reduce(((U,Y)=>U.add(Y.key)),Ut());let x,R;return g.persistence.runTransaction("Locally write mutations","readwrite",(U=>{let Y=ta(),X=Ut();return g.Ns.getEntries(U,E).next((k=>{Y=k,Y.forEach(((J,it)=>{it.isValidDocument()||(X=X.add(J))}))})).next((()=>g.localDocuments.getOverlayedDocuments(U,Y))).next((k=>{x=k;const J=[];for(const it of p){const $=iA(it,x.get(it.key).overlayedDocument);$!=null&&J.push(new Ka(it.key,$,P_($.value.mapValue),Un.exists(!0)))}return g.mutationQueue.addMutationBatch(U,y,J,p)})).next((k=>{R=k;const J=k.applyToLocalDocumentSet(x,X);return g.documentOverlayCache.saveOverlays(U,k.batchId,J)}))})).then((()=>({batchId:R.batchId,changes:Z_(x)})))})(s.localStore,e);s.sharedClientState.addPendingMutation(o.batchId),(function(d,p,g){let y=d.Vu[d.currentUser.toKey()];y||(y=new he(zt)),y=y.insert(p,g),d.Vu[d.currentUser.toKey()]=y})(s,o.batchId,i),await Oo(s,o.changes),await ah(s.remoteStore)}catch(o){const c=Mm(o,"Failed to persist write");i.reject(c)}}async function I1(r,e){const i=wt(r);try{const s=await ew(i.localStore,e);e.targetChanges.forEach(((o,c)=>{const d=i.Au.get(c);d&&(Gt(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1,22616),o.addedDocuments.size>0?d.hu=!0:o.modifiedDocuments.size>0?Gt(d.hu,14607):o.removedDocuments.size>0&&(Gt(d.hu,42227),d.hu=!1))})),await Oo(i,s,e)}catch(s){await Ks(s)}}function Vv(r,e,i){const s=wt(r);if(s.isPrimaryClient&&i===0||!s.isPrimaryClient&&i===1){const o=[];s.Tu.forEach(((c,d)=>{const p=d.view.va(e);p.snapshot&&o.push(p.snapshot)})),(function(d,p){const g=wt(d);g.onlineState=p;let y=!1;g.queries.forEach(((E,x)=>{for(const R of x.Sa)R.va(p)&&(y=!0)})),y&&Om(g)})(s.eventManager,e),o.length&&s.Pu.H_(o),s.onlineState=e,s.isPrimaryClient&&s.sharedClientState.setOnlineState(e)}}async function Qw(r,e,i){const s=wt(r);s.sharedClientState.updateQueryState(e,"rejected",i);const o=s.Au.get(e),c=o&&o.key;if(c){let d=new he(vt.comparator);d=d.insert(c,Ze.newNoDocument(c,St.min()));const p=Ut().add(c),g=new eh(St.min(),new Map,new he(zt),d,p);await I1(s,g),s.du=s.du.remove(c),s.Au.delete(e),Um(s)}else await Qd(s.localStore,e,!1).then((()=>Xd(s,e,i))).catch(Ks)}async function Yw(r,e){const i=wt(r),s=e.batch.batchId;try{const o=await tw(i.localStore,e);j1(i,s,null),V1(i,s),i.sharedClientState.updateMutationState(s,"acknowledged"),await Oo(i,o)}catch(o){await Ks(o)}}async function Kw(r,e,i){const s=wt(r);try{const o=await(function(d,p){const g=wt(d);return g.persistence.runTransaction("Reject batch","readwrite-primary",(y=>{let E;return g.mutationQueue.lookupMutationBatch(y,p).next((x=>(Gt(x!==null,37113),E=x.keys(),g.mutationQueue.removeMutationBatch(y,x)))).next((()=>g.mutationQueue.performConsistencyCheck(y))).next((()=>g.documentOverlayCache.removeOverlaysForBatchId(y,E,p))).next((()=>g.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(y,E))).next((()=>g.localDocuments.getDocuments(y,E)))}))})(s.localStore,e);j1(s,e,i),V1(s,e),s.sharedClientState.updateMutationState(e,"rejected",i),await Oo(s,o)}catch(o){await Ks(o)}}function V1(r,e){(r.mu.get(e)||[]).forEach((i=>{i.resolve()})),r.mu.delete(e)}function j1(r,e,i){const s=wt(r);let o=s.Vu[s.currentUser.toKey()];if(o){const c=o.get(e);c&&(i?c.reject(i):c.resolve(),o=o.remove(e)),s.Vu[s.currentUser.toKey()]=o}}function Xd(r,e,i=null){r.sharedClientState.removeLocalQueryTarget(e);for(const s of r.Iu.get(e))r.Tu.delete(s),i&&r.Pu.yu(s,i);r.Iu.delete(e),r.isPrimaryClient&&r.Ru.jr(e).forEach((s=>{r.Ru.containsKey(s)||M1(r,s)}))}function M1(r,e){r.Eu.delete(e.path.canonicalString());const i=r.du.get(e);i!==null&&(Nm(r.remoteStore,i),r.du=r.du.remove(e),r.Au.delete(i),Um(r))}function jv(r,e,i){for(const s of i)s instanceof C1?(r.Ru.addReference(s.key,e),Xw(r,s)):s instanceof N1?(ht(zm,"Document no longer in limbo: "+s.key),r.Ru.removeReference(s.key,e),r.Ru.containsKey(s.key)||M1(r,s.key)):Tt(19791,{wu:s})}function Xw(r,e){const i=e.key,s=i.path.canonicalString();r.du.get(i)||r.Eu.has(s)||(ht(zm,"New document in limbo: "+i),r.Eu.add(s),Um(r))}function Um(r){for(;r.Eu.size>0&&r.du.size<r.maxConcurrentLimboResolutions;){const e=r.Eu.values().next().value;r.Eu.delete(e);const i=new vt(ne.fromString(e)),s=r.fu.next();r.Au.set(s,new Lw(i)),r.du=r.du.insert(i,s),T1(r.remoteStore,new Oa(Si(_m(i.path)),s,"TargetPurposeLimboResolution",Kc.ce))}}async function Oo(r,e,i){const s=wt(r),o=[],c=[],d=[];s.Tu.isEmpty()||(s.Tu.forEach(((p,g)=>{d.push(s.pu(g,e,i).then((y=>{if((y||i)&&s.isPrimaryClient){const E=y?!y.fromCache:i?.targetChanges.get(g.targetId)?.current;s.sharedClientState.updateQueryState(g.targetId,E?"current":"not-current")}if(y){o.push(y);const E=Rm.As(g.targetId,y);c.push(E)}})))})),await Promise.all(d),s.Pu.H_(o),await(async function(g,y){const E=wt(g);try{await E.persistence.runTransaction("notifyLocalViewChanges","readwrite",(x=>nt.forEach(y,(R=>nt.forEach(R.Es,(U=>E.persistence.referenceDelegate.addReference(x,R.targetId,U))).next((()=>nt.forEach(R.ds,(U=>E.persistence.referenceDelegate.removeReference(x,R.targetId,U)))))))))}catch(x){if(!Xs(x))throw x;ht(Cm,"Failed to update sequence numbers: "+x)}for(const x of y){const R=x.targetId;if(!x.fromCache){const U=E.Ms.get(R),Y=U.snapshotVersion,X=U.withLastLimboFreeSnapshotVersion(Y);E.Ms=E.Ms.insert(R,X)}}})(s.localStore,c))}async function $w(r,e){const i=wt(r);if(!i.currentUser.isEqual(e)){ht(zm,"User change. New user:",e.toKey());const s=await v1(i.localStore,e);i.currentUser=e,(function(c,d){c.mu.forEach((p=>{p.forEach((g=>{g.reject(new ut(et.CANCELLED,d))}))})),c.mu.clear()})(i,"'waitForPendingWrites' promise is rejected due to a user change."),i.sharedClientState.handleUserChange(e,s.removedBatchIds,s.addedBatchIds),await Oo(i,s.Ls)}}function Zw(r,e){const i=wt(r),s=i.Au.get(e);if(s&&s.hu)return Ut().add(s.key);{let o=Ut();const c=i.Iu.get(e);if(!c)return o;for(const d of c){const p=i.Tu.get(d);o=o.unionWith(p.view.nu)}return o}}function O1(r){const e=wt(r);return e.remoteStore.remoteSyncer.applyRemoteEvent=I1.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=Zw.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=Qw.bind(null,e),e.Pu.H_=jw.bind(null,e.eventManager),e.Pu.yu=Mw.bind(null,e.eventManager),e}function Jw(r){const e=wt(r);return e.remoteStore.remoteSyncer.applySuccessfulWrite=Yw.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=Kw.bind(null,e),e}class Bc{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=nh(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,i){return null}Mu(e,i){return null}vu(e){return WA(this.persistence,new $A,e.initialUser,this.serializer)}Cu(e){return new y1(wm.mi,this.serializer)}Du(e){return new sw}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Bc.provider={build:()=>new Bc};class Ww extends Bc{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,i){Gt(this.persistence.referenceDelegate instanceof kc,46915);const s=this.persistence.referenceDelegate.garbageCollector;return new OA(s,e.asyncQueue,i)}Cu(e){const i=this.cacheSizeBytes!==void 0?cn.withCacheSize(this.cacheSizeBytes):cn.DEFAULT;return new y1((s=>kc.mi(s,i)),this.serializer)}}class $d{async initialize(e,i){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(i),this.remoteStore=this.createRemoteStore(i),this.eventManager=this.createEventManager(i),this.syncEngine=this.createSyncEngine(i,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=s=>Vv(this.syncEngine,s,1),this.remoteStore.remoteSyncer.handleCredentialChange=$w.bind(null,this.syncEngine),await Cw(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new Dw})()}createDatastore(e){const i=nh(e.databaseInfo.databaseId),s=(function(c){return new hw(c)})(e.databaseInfo);return(function(c,d,p,g){return new pw(c,d,p,g)})(e.authCredentials,e.appCheckCredentials,s,i)}createRemoteStore(e){return(function(s,o,c,d,p){return new yw(s,o,c,d,p)})(this.localStore,this.datastore,e.asyncQueue,(i=>Vv(this.syncEngine,i,0)),(function(){return wv.v()?new wv:new lw})())}createSyncEngine(e,i){return(function(o,c,d,p,g,y,E){const x=new kw(o,c,d,p,g,y);return E&&(x.gu=!0),x})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,i)}async terminate(){await(async function(i){const s=wt(i);ht(Vr,"RemoteStore shutting down."),s.Ea.add(5),await Mo(s),s.Aa.shutdown(),s.Ra.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}$d.provider={build:()=>new $d};class tR{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):Wi("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,i){setTimeout((()=>{this.muted||e(i)}),0)}}const Ga="FirestoreClient";class eR{constructor(e,i,s,o,c){this.authCredentials=e,this.appCheckCredentials=i,this.asyncQueue=s,this.databaseInfo=o,this.user=$e.UNAUTHENTICATED,this.clientId=dm.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=c,this.authCredentials.start(s,(async d=>{ht(Ga,"Received user=",d.uid),await this.authCredentialListener(d),this.user=d})),this.appCheckCredentials.start(s,(d=>(ht(Ga,"Received new app check token=",d),this.appCheckCredentialListener(d,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Cr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(i){const s=Mm(i,"Failed to shutdown persistence");e.reject(s)}})),e.promise}}async function wd(r,e){r.asyncQueue.verifyOperationInProgress(),ht(Ga,"Initializing OfflineComponentProvider");const i=r.configuration;await e.initialize(i);let s=i.initialUser;r.setCredentialChangeListener((async o=>{s.isEqual(o)||(await v1(e.localStore,o),s=o)})),e.persistence.setDatabaseDeletedListener((()=>r.terminate())),r._offlineComponents=e}async function Mv(r,e){r.asyncQueue.verifyOperationInProgress();const i=await nR(r);ht(Ga,"Initializing OnlineComponentProvider"),await e.initialize(i,r.configuration),r.setCredentialChangeListener((s=>Cv(e.remoteStore,s))),r.setAppCheckTokenChangeListener(((s,o)=>Cv(e.remoteStore,o))),r._onlineComponents=e}async function nR(r){if(!r._offlineComponents)if(r._uninitializedComponentsProvider){ht(Ga,"Using user provided OfflineComponentProvider");try{await wd(r,r._uninitializedComponentsProvider._offline)}catch(e){const i=e;if(!(function(o){return o.name==="FirebaseError"?o.code===et.FAILED_PRECONDITION||o.code===et.UNIMPLEMENTED:!(typeof DOMException<"u"&&o instanceof DOMException)||o.code===22||o.code===20||o.code===11})(i))throw i;Us("Error using user provided cache. Falling back to memory cache: "+i),await wd(r,new Bc)}}else ht(Ga,"Using default OfflineComponentProvider"),await wd(r,new Ww(void 0));return r._offlineComponents}async function z1(r){return r._onlineComponents||(r._uninitializedComponentsProvider?(ht(Ga,"Using user provided OnlineComponentProvider"),await Mv(r,r._uninitializedComponentsProvider._online)):(ht(Ga,"Using default OnlineComponentProvider"),await Mv(r,new $d))),r._onlineComponents}function iR(r){return z1(r).then((e=>e.syncEngine))}async function Ov(r){const e=await z1(r),i=e.eventManager;return i.onListen=Pw.bind(null,e.syncEngine),i.onUnlisten=Hw.bind(null,e.syncEngine),i.onFirstRemoteStoreListen=Bw.bind(null,e.syncEngine),i.onLastRemoteStoreUnlisten=Fw.bind(null,e.syncEngine),i}function U1(r){const e={};return r.timeoutSeconds!==void 0&&(e.timeoutSeconds=r.timeoutSeconds),e}const zv=new Map;const L1="firestore.googleapis.com",Uv=!0;class Lv{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new ut(et.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=L1,this.ssl=Uv}else this.host=e.host,this.ssl=e.ssl??Uv;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=g1;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<jA)throw new ut(et.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}yS("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=U1(e.experimentalLongPollingOptions??{}),(function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new ut(et.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new ut(et.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new ut(et.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(s,o){return s.timeoutSeconds===o.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class rh{constructor(e,i,s,o){this._authCredentials=e,this._appCheckCredentials=i,this._databaseId=s,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Lv({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new ut(et.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new ut(et.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Lv(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(s){if(!s)return new lS;switch(s.type){case"firstParty":return new hS(s.sessionIndex||"0",s.iamToken||null,s.authTokenFactory||null);case"provider":return s.client;default:throw new ut(et.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(i){const s=zv.get(i);s&&(ht("ComponentProvider","Removing Datastore"),zv.delete(i),s.terminate())})(this),Promise.resolve()}}function aR(r,e,i,s={}){r=xi(r,rh);const o=cm(e),c=r._getSettings(),d={...c,emulatorOptions:r._getEmulatorOptions()},p=`${e}:${i}`;o&&(M2(`https://${p}`),L2("Firestore",!0)),c.host!==L1&&c.host!==p&&Us("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const g={...c,host:p,ssl:o,emulatorOptions:s};if(!Nc(g,d)&&(r._setSettings(g),s.mockUserToken)){let y,E;if(typeof s.mockUserToken=="string")y=s.mockUserToken,E=$e.MOCK_USER;else{y=O2(s.mockUserToken,r._app?.options.projectId);const x=s.mockUserToken.sub||s.mockUserToken.user_id;if(!x)throw new ut(et.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");E=new $e(x)}r._authCredentials=new oS(new C_(y,E))}}class Lr{constructor(e,i,s){this.converter=i,this._query=s,this.type="query",this.firestore=e}withConverter(e){return new Lr(this.firestore,e,this._query)}}class _e{constructor(e,i,s){this.converter=i,this._key=s,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new ka(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new _e(this.firestore,e,this._key)}toJSON(){return{type:_e._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,i,s){if(Io(i,_e._jsonSchema))return new _e(e,s||null,new vt(ne.fromString(i.referencePath)))}}_e._jsonSchemaVersion="firestore/documentReference/1.0",_e._jsonSchema={type:Ie("string",_e._jsonSchemaVersion),referencePath:Ie("string")};class ka extends Lr{constructor(e,i,s){super(e,i,_m(s)),this._path=s,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new _e(this.firestore,null,new vt(e))}withConverter(e){return new ka(this.firestore,e,this._path)}}function ro(r,e,...i){if(r=Ci(r),N_("collection","path",e),r instanceof rh){const s=ne.fromString(e,...i);return $0(s),new ka(r,null,s)}{if(!(r instanceof _e||r instanceof ka))throw new ut(et.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=r._path.child(ne.fromString(e,...i));return $0(s),new ka(r.firestore,null,s)}}function co(r,e,...i){if(r=Ci(r),arguments.length===1&&(e=dm.newId()),N_("doc","path",e),r instanceof rh){const s=ne.fromString(e,...i);return X0(s),new _e(r,null,new vt(s))}{if(!(r instanceof _e||r instanceof ka))throw new ut(et.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=r._path.child(ne.fromString(e,...i));return X0(s),new _e(r.firestore,r instanceof ka?r.converter:null,new vt(s))}}const kv="AsyncQueue";class Pv{constructor(e=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new b1(this,"async_queue_retry"),this._c=()=>{const s=Ad();s&&ht(kv,"Visibility state changed to "+s.visibilityState),this.M_.w_()},this.ac=e;const i=Ad();i&&typeof i.addEventListener=="function"&&i.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const i=Ad();i&&typeof i.removeEventListener=="function"&&i.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise((()=>{}));const i=new Cr;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(e().then(i.resolve,i.reject),i.promise))).then((()=>i.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Xu.push(e),this.lc())))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(e){if(!Xs(e))throw e;ht(kv,"Operation failed with retryable error: "+e)}this.Xu.length>0&&this.M_.p_((()=>this.lc()))}}cc(e){const i=this.ac.then((()=>(this.rc=!0,e().catch((s=>{throw this.nc=s,this.rc=!1,Wi("INTERNAL UNHANDLED ERROR: ",Bv(s)),s})).then((s=>(this.rc=!1,s))))));return this.ac=i,i}enqueueAfterDelay(e,i,s){this.uc(),this.oc.indexOf(e)>-1&&(i=0);const o=jm.createAndSchedule(this,e,i,s,(c=>this.hc(c)));return this.tc.push(o),o}uc(){this.nc&&Tt(47125,{Pc:Bv(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const i of this.tc)if(i.timerId===e)return!0;return!1}Ec(e){return this.Tc().then((()=>{this.tc.sort(((i,s)=>i.targetTimeMs-s.targetTimeMs));for(const i of this.tc)if(i.skipDelay(),e!=="all"&&i.timerId===e)break;return this.Tc()}))}dc(e){this.oc.push(e)}hc(e){const i=this.tc.indexOf(e);this.tc.splice(i,1)}}function Bv(r){let e=r.message||"";return r.stack&&(e=r.stack.includes(r.message)?r.stack:r.message+`
`+r.stack),e}function qv(r){return(function(i,s){if(typeof i!="object"||i===null)return!1;const o=i;for(const c of s)if(c in o&&typeof o[c]=="function")return!0;return!1})(r,["next","error","complete"])}class jr extends rh{constructor(e,i,s,o){super(e,i,s,o),this.type="firestore",this._queue=new Pv,this._persistenceKey=o?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new Pv(e),this._firestoreClient=void 0,await e}}}function rR(r,e){const i=typeof r=="object"?r:Kx(),s=typeof r=="string"?r:jc,o=Hx(i,"firestore").getImmediate({identifier:s});if(!o._initialized){const c=V2("firestore");c&&aR(o,...c)}return o}function k1(r){if(r._terminated)throw new ut(et.FAILED_PRECONDITION,"The client has already been terminated.");return r._firestoreClient||sR(r),r._firestoreClient}function sR(r){const e=r._freezeSettings(),i=(function(o,c,d,p){return new CS(o,c,d,p.host,p.ssl,p.experimentalForceLongPolling,p.experimentalAutoDetectLongPolling,U1(p.experimentalLongPollingOptions),p.useFetchStreams,p.isUsingEmulator)})(r._databaseId,r._app?.options.appId||"",r._persistenceKey,e);r._componentsProvider||e.localCache?._offlineComponentProvider&&e.localCache?._onlineComponentProvider&&(r._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),r._firestoreClient=new eR(r._authCredentials,r._appCheckCredentials,r._queue,i,r._componentsProvider&&(function(o){const c=o?._online.build();return{_offline:o?._offline.build(c),_online:c}})(r._componentsProvider))}class zn{constructor(e){this._byteString=e}static fromBase64String(e){try{return new zn(Ye.fromBase64String(e))}catch(i){throw new ut(et.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+i)}}static fromUint8Array(e){return new zn(Ye.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:zn._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(Io(e,zn._jsonSchema))return zn.fromBase64String(e.bytes)}}zn._jsonSchemaVersion="firestore/bytes/1.0",zn._jsonSchema={type:Ie("string",zn._jsonSchemaVersion),bytes:Ie("string")};class sh{constructor(...e){for(let i=0;i<e.length;++i)if(e[i].length===0)throw new ut(et.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Qe(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class Lm{constructor(e){this._methodName=e}}class wi{constructor(e,i){if(!isFinite(e)||e<-90||e>90)throw new ut(et.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(i)||i<-180||i>180)throw new ut(et.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+i);this._lat=e,this._long=i}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return zt(this._lat,e._lat)||zt(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:wi._jsonSchemaVersion}}static fromJSON(e){if(Io(e,wi._jsonSchema))return new wi(e.latitude,e.longitude)}}wi._jsonSchemaVersion="firestore/geoPoint/1.0",wi._jsonSchema={type:Ie("string",wi._jsonSchemaVersion),latitude:Ie("number"),longitude:Ie("number")};class Ri{constructor(e){this._values=(e||[]).map((i=>i))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(s,o){if(s.length!==o.length)return!1;for(let c=0;c<s.length;++c)if(s[c]!==o[c])return!1;return!0})(this._values,e._values)}toJSON(){return{type:Ri._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(Io(e,Ri._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every((i=>typeof i=="number")))return new Ri(e.vectorValues);throw new ut(et.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}Ri._jsonSchemaVersion="firestore/vectorValue/1.0",Ri._jsonSchema={type:Ie("string",Ri._jsonSchemaVersion),vectorValues:Ie("object")};const lR=/^__.*__$/;class oR{constructor(e,i,s){this.data=e,this.fieldMask=i,this.fieldTransforms=s}toMutation(e,i){return this.fieldMask!==null?new Ka(e,this.data,this.fieldMask,i,this.fieldTransforms):new Vo(e,this.data,i,this.fieldTransforms)}}class P1{constructor(e,i,s){this.data=e,this.fieldMask=i,this.fieldTransforms=s}toMutation(e,i){return new Ka(e,this.data,this.fieldMask,i,this.fieldTransforms)}}function B1(r){switch(r){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Tt(40011,{Ac:r})}}class km{constructor(e,i,s,o,c,d){this.settings=e,this.databaseId=i,this.serializer=s,this.ignoreUndefinedProperties=o,c===void 0&&this.Rc(),this.fieldTransforms=c||[],this.fieldMask=d||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(e){return new km({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(e){const i=this.path?.child(e),s=this.Vc({path:i,fc:!1});return s.gc(e),s}yc(e){const i=this.path?.child(e),s=this.Vc({path:i,fc:!1});return s.Rc(),s}wc(e){return this.Vc({path:void 0,fc:!0})}Sc(e){return qc(e,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(e){return this.fieldMask.find((i=>e.isPrefixOf(i)))!==void 0||this.fieldTransforms.find((i=>e.isPrefixOf(i.field)))!==void 0}Rc(){if(this.path)for(let e=0;e<this.path.length;e++)this.gc(this.path.get(e))}gc(e){if(e.length===0)throw this.Sc("Document fields must not be empty");if(B1(this.Ac)&&lR.test(e))throw this.Sc('Document fields cannot begin and end with "__"')}}class uR{constructor(e,i,s){this.databaseId=e,this.ignoreUndefinedProperties=i,this.serializer=s||nh(e)}Cc(e,i,s,o=!1){return new km({Ac:e,methodName:i,Dc:s,path:Qe.emptyPath(),fc:!1,bc:o},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function lh(r){const e=r._freezeSettings(),i=nh(r._databaseId);return new uR(r._databaseId,!!e.ignoreUndefinedProperties,i)}function q1(r,e,i,s,o,c={}){const d=r.Cc(c.merge||c.mergeFields?2:0,e,i,o);Pm("Data must be an object, but it was:",d,s);const p=H1(s,d);let g,y;if(c.merge)g=new En(d.fieldMask),y=d.fieldTransforms;else if(c.mergeFields){const E=[];for(const x of c.mergeFields){const R=Zd(e,x,i);if(!d.contains(R))throw new ut(et.INVALID_ARGUMENT,`Field '${R}' is specified in your field mask but missing from your input data.`);G1(E,R)||E.push(R)}g=new En(E),y=d.fieldTransforms.filter((x=>g.covers(x.field)))}else g=null,y=d.fieldTransforms;return new oR(new hn(p),g,y)}class oh extends Lm{_toFieldTransform(e){if(e.Ac!==2)throw e.Ac===1?e.Sc(`${this._methodName}() can only appear at the top level of your update data`):e.Sc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof oh}}function cR(r,e,i,s){const o=r.Cc(1,e,i);Pm("Data must be an object, but it was:",o,s);const c=[],d=hn.empty();Ya(s,((g,y)=>{const E=Bm(e,g,i);y=Ci(y);const x=o.yc(E);if(y instanceof oh)c.push(E);else{const R=zo(y,x);R!=null&&(c.push(E),d.set(E,R))}}));const p=new En(c);return new P1(d,p,o.fieldTransforms)}function hR(r,e,i,s,o,c){const d=r.Cc(1,e,i),p=[Zd(e,s,i)],g=[o];if(c.length%2!=0)throw new ut(et.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let R=0;R<c.length;R+=2)p.push(Zd(e,c[R])),g.push(c[R+1]);const y=[],E=hn.empty();for(let R=p.length-1;R>=0;--R)if(!G1(y,p[R])){const U=p[R];let Y=g[R];Y=Ci(Y);const X=d.yc(U);if(Y instanceof oh)y.push(U);else{const k=zo(Y,X);k!=null&&(y.push(U),E.set(U,k))}}const x=new En(y);return new P1(E,x,d.fieldTransforms)}function fR(r,e,i,s=!1){return zo(i,r.Cc(s?4:3,e))}function zo(r,e){if(F1(r=Ci(r)))return Pm("Unsupported field value:",e,r),H1(r,e);if(r instanceof Lm)return(function(s,o){if(!B1(o.Ac))throw o.Sc(`${s._methodName}() can only be used with update() and set()`);if(!o.path)throw o.Sc(`${s._methodName}() is not currently supported inside arrays`);const c=s._toFieldTransform(o);c&&o.fieldTransforms.push(c)})(r,e),null;if(r===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),r instanceof Array){if(e.settings.fc&&e.Ac!==4)throw e.Sc("Nested arrays are not supported");return(function(s,o){const c=[];let d=0;for(const p of s){let g=zo(p,o.wc(d));g==null&&(g={nullValue:"NULL_VALUE"}),c.push(g),d++}return{arrayValue:{values:c}}})(r,e)}return(function(s,o){if((s=Ci(s))===null)return{nullValue:"NULL_VALUE"};if(typeof s=="number")return ZS(o.serializer,s);if(typeof s=="boolean")return{booleanValue:s};if(typeof s=="string")return{stringValue:s};if(s instanceof Date){const c=se.fromDate(s);return{timestampValue:Lc(o.serializer,c)}}if(s instanceof se){const c=new se(s.seconds,1e3*Math.floor(s.nanoseconds/1e3));return{timestampValue:Lc(o.serializer,c)}}if(s instanceof wi)return{geoPointValue:{latitude:s.latitude,longitude:s.longitude}};if(s instanceof zn)return{bytesValue:u1(o.serializer,s._byteString)};if(s instanceof _e){const c=o.databaseId,d=s.firestore._databaseId;if(!d.isEqual(c))throw o.Sc(`Document reference is for database ${d.projectId}/${d.database} but should be for database ${c.projectId}/${c.database}`);return{referenceValue:Sm(s.firestore._databaseId||o.databaseId,s._key.path)}}if(s instanceof Ri)return(function(d,p){return{mapValue:{fields:{[L_]:{stringValue:k_},[Mc]:{arrayValue:{values:d.toArray().map((y=>{if(typeof y!="number")throw p.Sc("VectorValues must only contain numeric values.");return bm(p.serializer,y)}))}}}}}})(s,o);throw o.Sc(`Unsupported field value: ${Yc(s)}`)})(r,e)}function H1(r,e){const i={};return V_(r)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Ya(r,((s,o)=>{const c=zo(o,e.mc(s));c!=null&&(i[s]=c)})),{mapValue:{fields:i}}}function F1(r){return!(typeof r!="object"||r===null||r instanceof Array||r instanceof Date||r instanceof se||r instanceof wi||r instanceof zn||r instanceof _e||r instanceof Lm||r instanceof Ri)}function Pm(r,e,i){if(!F1(i)||!D_(i)){const s=Yc(i);throw s==="an object"?e.Sc(r+" a custom object"):e.Sc(r+" "+s)}}function Zd(r,e,i){if((e=Ci(e))instanceof sh)return e._internalPath;if(typeof e=="string")return Bm(r,e);throw qc("Field path arguments must be of type string or ",r,!1,void 0,i)}const dR=new RegExp("[~\\*/\\[\\]]");function Bm(r,e,i){if(e.search(dR)>=0)throw qc(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,r,!1,void 0,i);try{return new sh(...e.split("."))._internalPath}catch{throw qc(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,r,!1,void 0,i)}}function qc(r,e,i,s,o){const c=s&&!s.isEmpty(),d=o!==void 0;let p=`Function ${e}() called with invalid data`;i&&(p+=" (via `toFirestore()`)"),p+=". ";let g="";return(c||d)&&(g+=" (found",c&&(g+=` in field ${s}`),d&&(g+=` in document ${o}`),g+=")"),new ut(et.INVALID_ARGUMENT,p+r+g)}function G1(r,e){return r.some((i=>i.isEqual(e)))}class Q1{constructor(e,i,s,o,c){this._firestore=e,this._userDataWriter=i,this._key=s,this._document=o,this._converter=c}get id(){return this._key.path.lastSegment()}get ref(){return new _e(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new mR(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const i=this._document.data.field(qm("DocumentSnapshot.get",e));if(i!==null)return this._userDataWriter.convertValue(i)}}}class mR extends Q1{data(){return super.data()}}function qm(r,e){return typeof e=="string"?Bm(r,e):e instanceof sh?e._internalPath:e._delegate._internalPath}function pR(r){if(r.limitType==="L"&&r.explicitOrderBy.length===0)throw new ut(et.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Hm{}class Y1 extends Hm{}function gR(r,e,...i){let s=[];e instanceof Hm&&s.push(e),s=s.concat(i),(function(c){const d=c.filter((g=>g instanceof Gm)).length,p=c.filter((g=>g instanceof Fm)).length;if(d>1||d>0&&p>0)throw new ut(et.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(s);for(const o of s)r=o._apply(r);return r}class Fm extends Y1{constructor(e,i,s){super(),this._field=e,this._op=i,this._value=s,this.type="where"}static _create(e,i,s){return new Fm(e,i,s)}_apply(e){const i=this._parse(e);return K1(e._query,i),new Lr(e.firestore,e.converter,Pd(e._query,i))}_parse(e){const i=lh(e.firestore);return(function(c,d,p,g,y,E,x){let R;if(y.isKeyField()){if(E==="array-contains"||E==="array-contains-any")throw new ut(et.INVALID_ARGUMENT,`Invalid Query. You can't perform '${E}' queries on documentId().`);if(E==="in"||E==="not-in"){Fv(x,E);const Y=[];for(const X of x)Y.push(Hv(g,c,X));R={arrayValue:{values:Y}}}else R=Hv(g,c,x)}else E!=="in"&&E!=="not-in"&&E!=="array-contains-any"||Fv(x,E),R=fR(p,d,x,E==="in"||E==="not-in");return De.create(y,E,R)})(e._query,"where",i,e.firestore._databaseId,this._field,this._op,this._value)}}class Gm extends Hm{constructor(e,i){super(),this.type=e,this._queryConstraints=i}static _create(e,i){return new Gm(e,i)}_parse(e){const i=this._queryConstraints.map((s=>s._parse(e))).filter((s=>s.getFilters().length>0));return i.length===1?i[0]:Jn.create(i,this._getOperator())}_apply(e){const i=this._parse(e);return i.getFilters().length===0?e:((function(o,c){let d=o;const p=c.getFlattenedFilters();for(const g of p)K1(d,g),d=Pd(d,g)})(e._query,i),new Lr(e.firestore,e.converter,Pd(e._query,i)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class Qm extends Y1{constructor(e,i){super(),this._field=e,this._direction=i,this.type="orderBy"}static _create(e,i){return new Qm(e,i)}_apply(e){const i=(function(o,c,d){if(o.startAt!==null)throw new ut(et.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(o.endAt!==null)throw new ut(et.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new Ao(c,d)})(e._query,this._field,this._direction);return new Lr(e.firestore,e.converter,(function(o,c){const d=o.explicitOrderBy.concat([c]);return new $s(o.path,o.collectionGroup,d,o.filters.slice(),o.limit,o.limitType,o.startAt,o.endAt)})(e._query,i))}}function yR(r,e="asc"){const i=e,s=qm("orderBy",r);return Qm._create(s,i)}function Hv(r,e,i){if(typeof(i=Ci(i))=="string"){if(i==="")throw new ut(et.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!Y_(e)&&i.indexOf("/")!==-1)throw new ut(et.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${i}' contains a '/' character.`);const s=e.path.child(ne.fromString(i));if(!vt.isDocumentKey(s))throw new ut(et.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${s}' is not because it has an odd number of segments (${s.length}).`);return av(r,new vt(s))}if(i instanceof _e)return av(r,i._key);throw new ut(et.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Yc(i)}.`)}function Fv(r,e){if(!Array.isArray(r)||r.length===0)throw new ut(et.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function K1(r,e){const i=(function(o,c){for(const d of o)for(const p of d.getFlattenedFilters())if(c.indexOf(p.op)>=0)return p.op;return null})(r.filters,(function(o){switch(o){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(e.op));if(i!==null)throw i===e.op?new ut(et.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new ut(et.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${i.toString()}' filters.`)}class vR{convertValue(e,i="none"){switch(Ha(e)){case 0:return null;case 1:return e.booleanValue;case 2:return ve(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,i);case 5:return e.stringValue;case 6:return this.convertBytes(qa(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,i);case 11:return this.convertObject(e.mapValue,i);case 10:return this.convertVectorValue(e.mapValue);default:throw Tt(62114,{value:e})}}convertObject(e,i){return this.convertObjectMap(e.fields,i)}convertObjectMap(e,i="none"){const s={};return Ya(e,((o,c)=>{s[o]=this.convertValue(c,i)})),s}convertVectorValue(e){const i=e.fields?.[Mc].arrayValue?.values?.map((s=>ve(s.doubleValue)));return new Ri(i)}convertGeoPoint(e){return new wi(ve(e.latitude),ve(e.longitude))}convertArray(e,i){return(e.values||[]).map((s=>this.convertValue(s,i)))}convertServerTimestamp(e,i){switch(i){case"previous":const s=$c(e);return s==null?null:this.convertValue(s,i);case"estimate":return this.convertTimestamp(To(e));default:return null}}convertTimestamp(e){const i=Ba(e);return new se(i.seconds,i.nanos)}convertDocumentKey(e,i){const s=ne.fromString(e);Gt(p1(s),9688,{name:e});const o=new xo(s.get(1),s.get(3)),c=new vt(s.popFirst(5));return o.isEqual(i)||Wi(`Document ${c} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${i.projectId}/${i.database}) instead.`),c}}function X1(r,e,i){let s;return s=r?r.toFirestore(e):e,s}class ho{constructor(e,i){this.hasPendingWrites=e,this.fromCache=i}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Nr extends Q1{constructor(e,i,s,o,c,d){super(e,i,s,o,d),this._firestore=e,this._firestoreImpl=e,this.metadata=c}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const i=new Ac(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(i,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,i={}){if(this._document){const s=this._document.data.field(qm("DocumentSnapshot.get",e));if(s!==null)return this._userDataWriter.convertValue(s,i.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new ut(et.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,i={};return i.type=Nr._jsonSchemaVersion,i.bundle="",i.bundleSource="DocumentSnapshot",i.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?i:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),i.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),i)}}Nr._jsonSchemaVersion="firestore/documentSnapshot/1.0",Nr._jsonSchema={type:Ie("string",Nr._jsonSchemaVersion),bundleSource:Ie("string","DocumentSnapshot"),bundleName:Ie("string"),bundle:Ie("string")};class Ac extends Nr{data(e={}){return super.data(e)}}class zs{constructor(e,i,s,o){this._firestore=e,this._userDataWriter=i,this._snapshot=o,this.metadata=new ho(o.hasPendingWrites,o.fromCache),this.query=s}get docs(){const e=[];return this.forEach((i=>e.push(i))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,i){this._snapshot.docs.forEach((s=>{e.call(i,new Ac(this._firestore,this._userDataWriter,s.key,s,new ho(this._snapshot.mutatedKeys.has(s.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const i=!!e.includeMetadataChanges;if(i&&this._snapshot.excludesMetadataChanges)throw new ut(et.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===i||(this._cachedChanges=(function(o,c){if(o._snapshot.oldDocs.isEmpty()){let d=0;return o._snapshot.docChanges.map((p=>{const g=new Ac(o._firestore,o._userDataWriter,p.doc.key,p.doc,new ho(o._snapshot.mutatedKeys.has(p.doc.key),o._snapshot.fromCache),o.query.converter);return p.doc,{type:"added",doc:g,oldIndex:-1,newIndex:d++}}))}{let d=o._snapshot.oldDocs;return o._snapshot.docChanges.filter((p=>c||p.type!==3)).map((p=>{const g=new Ac(o._firestore,o._userDataWriter,p.doc.key,p.doc,new ho(o._snapshot.mutatedKeys.has(p.doc.key),o._snapshot.fromCache),o.query.converter);let y=-1,E=-1;return p.type!==0&&(y=d.indexOf(p.doc.key),d=d.delete(p.doc.key)),p.type!==1&&(d=d.add(p.doc),E=d.indexOf(p.doc.key)),{type:_R(p.type),doc:g,oldIndex:y,newIndex:E}}))}})(this,i),this._cachedChangesIncludeMetadataChanges=i),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new ut(et.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=zs._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=dm.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const i=[],s=[],o=[];return this.docs.forEach((c=>{c._document!==null&&(i.push(c._document),s.push(this._userDataWriter.convertObjectMap(c._document.data.value.mapValue.fields,"previous")),o.push(c.ref.path))})),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function _R(r){switch(r){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Tt(61501,{type:r})}}zs._jsonSchemaVersion="firestore/querySnapshot/1.0",zs._jsonSchema={type:Ie("string",zs._jsonSchemaVersion),bundleSource:Ie("string","QuerySnapshot"),bundleName:Ie("string"),bundle:Ie("string")};class $1 extends vR{constructor(e){super(),this.firestore=e}convertBytes(e){return new zn(e)}convertReference(e){const i=this.convertDocumentKey(e,this.firestore._databaseId);return new _e(this.firestore,null,i)}}function Gv(r,e,i){r=xi(r,_e);const s=xi(r.firestore,jr),o=X1(r.converter,e);return uh(s,[q1(lh(s),"setDoc",r._key,o,r.converter!==null,i).toMutation(r._key,Un.none())])}function bR(r,e,i,...s){r=xi(r,_e);const o=xi(r.firestore,jr),c=lh(o);let d;return d=typeof(e=Ci(e))=="string"||e instanceof sh?hR(c,"updateDoc",r._key,e,i,s):cR(c,"updateDoc",r._key,e),uh(o,[d.toMutation(r._key,Un.exists(!0))])}function ER(r){return uh(xi(r.firestore,jr),[new Em(r._key,Un.none())])}function TR(r,e){const i=xi(r.firestore,jr),s=co(r),o=X1(r.converter,e);return uh(i,[q1(lh(r.firestore),"addDoc",s._key,o,r.converter!==null,{}).toMutation(s._key,Un.exists(!1))]).then((()=>s))}function so(r,...e){r=Ci(r);let i={includeMetadataChanges:!1,source:"default"},s=0;typeof e[s]!="object"||qv(e[s])||(i=e[s++]);const o={includeMetadataChanges:i.includeMetadataChanges,source:i.source};if(qv(e[s])){const g=e[s];e[s]=g.next?.bind(g),e[s+1]=g.error?.bind(g),e[s+2]=g.complete?.bind(g)}let c,d,p;if(r instanceof _e)d=xi(r.firestore,jr),p=_m(r._key.path),c={next:g=>{e[s]&&e[s](xR(d,r,g))},error:e[s+1],complete:e[s+2]};else{const g=xi(r,Lr);d=xi(g.firestore,jr),p=g._query;const y=new $1(d);c={next:E=>{e[s]&&e[s](new zs(d,y,g,E))},error:e[s+1],complete:e[s+2]},pR(r._query)}return(function(y,E,x,R){const U=new tR(R),Y=new Ow(E,U,x);return y.asyncQueue.enqueueAndForget((async()=>Iw(await Ov(y),Y))),()=>{U.Nu(),y.asyncQueue.enqueueAndForget((async()=>Vw(await Ov(y),Y)))}})(k1(d),p,o,c)}function uh(r,e){return(function(s,o){const c=new Cr;return s.asyncQueue.enqueueAndForget((async()=>Gw(await iR(s),o,c))),c.promise})(k1(r),e)}function xR(r,e,i){const s=i.docs.get(e._key),o=new $1(r);return new Nr(r,o,e._key,s,new ho(i.hasPendingWrites,i.fromCache),e.converter)}(function(e,i=!0){(function(o){Ys=o})(Yx),Ic(new _o("firestore",((s,{instanceIdentifier:o,options:c})=>{const d=s.getProvider("app").getImmediate(),p=new jr(new uS(s.getProvider("auth-internal")),new fS(d,s.getProvider("app-check-internal")),(function(y,E){if(!Object.prototype.hasOwnProperty.apply(y.options,["projectId"]))throw new ut(et.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new xo(y.options.projectId,E)})(d,o),d);return c={useFetchStreams:i,...c},p._setSettings(c),p}),"PUBLIC").setMultipleInstances(!0)),Ms(G0,Q0,e),Ms(G0,Q0,"esm2020")})();const SR={apiKey:"AIzaSyDPu6NgnUI-D33CqzARDEq9fbhUfDeX13I",authDomain:"emg-dashboard-prototype.firebaseapp.com",projectId:"emg-dashboard-prototype",storageBucket:"emg-dashboard-prototype.firebasestorage.app",messagingSenderId:"380024752912",appId:"1:380024752912:web:0e4959eab50bc2bd987395",measurementId:"G-SDTNKNR9WP"},AR=v_(SR),Ei=rR(AR),Z1=L.createContext(),kr=()=>L.useContext(Z1),Xi="south-mall",wR=({children:r})=>{const[e,i]=L.useState(Dr),[s,o]=L.useState([]),[c,d]=L.useState([]),[p,g]=L.useState([]),[y,E]=L.useState([]),[x,R]=L.useState([]);L.useEffect(()=>{if(!Ei)return;const ft=ro(Ei,"projects",Xi,"updates");gR(ft,yR("id","desc"));const B=so(ft,pt=>{const gt=pt.docs.map(bt=>({...bt.data(),firestoreId:bt.id}));gt.sort((bt,ie)=>ie.id-bt.id),o(gt.length>0?gt:_2)},pt=>console.error("Updates Sync Error:",pt)),at=ro(Ei,"projects",Xi,"actions"),ot=so(at,pt=>{const gt=pt.docs.map(bt=>({...bt.data(),firestoreId:bt.id}));d(gt.length>0?gt:b2)}),Rt=ro(Ei,"projects",Xi,"qa"),It=so(Rt,pt=>{const gt=pt.docs.map(bt=>({...bt.data(),firestoreId:bt.id}));gt.sort((bt,ie)=>ie.id-bt.id),g(gt.length>0?gt:E2)}),M=ro(Ei,"projects",Xi,"photos"),W=so(M,pt=>{const gt=pt.docs.map(bt=>({...bt.data(),firestoreId:bt.id}));gt.sort((bt,ie)=>ie.id-bt.id),R(gt)}),lt=co(Ei,"projects",Xi,"data","documents"),ct=so(lt,pt=>{pt.exists()?E(pt.data().structure):(Gv(lt,{structure:V0}),E(V0))});return()=>{B(),ot(),It(),W(),ct()}},[]);const U=async(ft,B)=>{const at={...B,id:Date.now()};try{await TR(ro(Ei,"projects",Xi,ft),at)}catch(ot){console.error(`Error adding to ${ft}:`,ot),alert("Sync Error: Check your Firebase Config.")}},Y=async(ft,B)=>{if(B)try{await ER(co(Ei,"projects",Xi,ft,B))}catch(at){console.error(`Error deleting from ${ft}:`,at)}},X=async(ft,B,at)=>{if(B)try{await bR(co(Ei,"projects",Xi,ft,B),at)}catch(ot){console.error(`Error updating ${ft}:`,ot)}},k=ft=>U("updates",ft),J=ft=>{const B=s.find(at=>at.id===ft);B&&Y("updates",B.firestoreId)},it=(ft,B)=>{const at=s.find(ot=>ot.id===ft);at&&X("updates",at.firestoreId,B)},$=ft=>U("actions",{...ft,status:"Open"}),_t=(ft,B)=>{const at=c.find(ot=>ot.id===ft);at&&X("actions",at.firestoreId,{status:B})},xt=ft=>{const B=c.find(at=>at.id===ft);B&&Y("actions",B.firestoreId)},rt=ft=>{U("qa",{...ft,status:"Open",replies:[],date:new Date().toLocaleDateString("en-GB",{day:"2-digit",month:"short",year:"numeric"})})},w=(ft,B,at)=>{const ot=p.find(Rt=>Rt.id.toString()===ft.toString());if(ot){const Rt={author:at,date:new Date().toLocaleDateString("en-GB",{day:"2-digit",month:"short",year:"numeric"}),content:B},It=[...ot.replies,Rt];X("qa",ot.firestoreId,{replies:It,status:"Answered"})}},A=ft=>{const B=p.find(at=>at.id===ft);B&&Y("qa",B.firestoreId)},C=ft=>U("photos",ft),V=ft=>{const B=x.find(at=>at.id===ft);B&&Y("photos",B.firestoreId)},I=async ft=>{try{await Gv(co(Ei,"projects",Xi,"data","documents"),{structure:ft})}catch(B){console.error("Error saving docs:",B)}},O=(ft,B,at)=>{const ot={id:`new-${Date.now()}`,name:ft.name,type:ft.name.split(".").pop().toUpperCase(),author:at,date:new Date().toLocaleDateString("en-GB",{day:"2-digit",month:"short",year:"numeric"})},Rt=y.map(It=>It.id===B?{...It,items:[ot,...It.items]}:It);E(Rt),I(Rt)},N=ft=>{const B=y.map(at=>({...at,items:at.items.filter(ot=>ot.id!==ft)}));E(B),I(B)},Yt=(ft,B)=>{i(at=>at.map(ot=>ot.id===ft?{...ot,...B}:ot))};return v.jsx(Z1.Provider,{value:{projects:e,updates:s,actions:c,qa:p,documents:y,photos:x,updateProjectDetails:Yt,addUpdate:k,deleteUpdate:J,updateUpdate:it,addAction:$,updateActionStatus:_t,deleteAction:xt,addQuestion:rt,addReply:w,deleteQuestion:A,addDocument:O,deleteDocument:N,addPhoto:C,deletePhoto:V},children:r})};const RR=r=>r.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),CR=r=>r.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,i,s)=>s?s.toUpperCase():i.toLowerCase()),Qv=r=>{const e=CR(r);return e.charAt(0).toUpperCase()+e.slice(1)},J1=(...r)=>r.filter((e,i,s)=>!!e&&e.trim()!==""&&s.indexOf(e)===i).join(" ").trim(),NR=r=>{for(const e in r)if(e.startsWith("aria-")||e==="role"||e==="title")return!0};var DR={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const IR=L.forwardRef(({color:r="currentColor",size:e=24,strokeWidth:i=2,absoluteStrokeWidth:s,className:o="",children:c,iconNode:d,...p},g)=>L.createElement("svg",{ref:g,...DR,width:e,height:e,stroke:r,strokeWidth:s?Number(i)*24/Number(e):i,className:J1("lucide",o),...!c&&!NR(p)&&{"aria-hidden":"true"},...p},[...d.map(([y,E])=>L.createElement(y,E)),...Array.isArray(c)?c:[c]]));const Qt=(r,e)=>{const i=L.forwardRef(({className:s,...o},c)=>L.createElement(IR,{ref:c,iconNode:e,className:J1(`lucide-${RR(Qv(r))}`,`lucide-${r}`,s),...o}));return i.displayName=Qv(r),i};const VR=[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]],W1=Qt("arrow-left",VR);const jR=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]],tb=Qt("arrow-right",jR);const MR=[["path",{d:"M10 12h4",key:"a56b0p"}],["path",{d:"M10 8h4",key:"1sr2af"}],["path",{d:"M14 21v-3a2 2 0 0 0-4 0v3",key:"1rgiei"}],["path",{d:"M6 10H4a2 2 0 0 0-2 2v7a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-2",key:"secmi2"}],["path",{d:"M6 21V5a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v16",key:"16ra0t"}]],OR=Qt("building-2",MR);const zR=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],Jd=Qt("calendar",zR);const UR=[["path",{d:"M13.997 4a2 2 0 0 1 1.76 1.05l.486.9A2 2 0 0 0 18.003 7H20a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V9a2 2 0 0 1 2-2h1.997a2 2 0 0 0 1.759-1.048l.489-.904A2 2 0 0 1 10.004 4z",key:"18u6gg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]],Yv=Qt("camera",UR);const LR=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],kR=Qt("check",LR);const PR=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],BR=Qt("chevron-down",PR);const qR=[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]],HR=Qt("chevron-left",qR);const FR=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],Hc=Qt("chevron-right",FR);const GR=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]],QR=Qt("circle-alert",GR);const YR=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]],Wd=Qt("circle-check",YR);const KR=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3",key:"1u773s"}],["path",{d:"M12 17h.01",key:"p32p05"}]],Kv=Qt("circle-question-mark",KR);const XR=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],$R=Qt("circle",XR);const ZR=[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],JR=Qt("clock",ZR);const WR=[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"19",cy:"12",r:"1",key:"1wjl8i"}],["circle",{cx:"5",cy:"12",r:"1",key:"1pcz8c"}]],tC=Qt("ellipsis",WR);const eC=[["path",{d:"M6 22a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.704.706l3.588 3.588A2.4 2.4 0 0 1 20 8v12a2 2 0 0 1-2 2z",key:"1oefj6"}],["path",{d:"M14 2v5a1 1 0 0 0 1 1h5",key:"wfsgrz"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]],nC=Qt("file-text",eC);const iC=[["path",{d:"M20 20a2 2 0 0 0 2-2V8a2 2 0 0 0-2-2h-7.9a2 2 0 0 1-1.69-.9L9.6 3.9A2 2 0 0 0 7.93 3H4a2 2 0 0 0-2 2v13a2 2 0 0 0 2 2Z",key:"1kt360"}]],aC=Qt("folder",iC);const rC=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]],sC=Qt("info",rC);const lC=[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]],oC=Qt("lock",lC);const uC=[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]],cC=Qt("log-out",uC);const hC=[["path",{d:"M22 17a2 2 0 0 1-2 2H6.828a2 2 0 0 0-1.414.586l-2.202 2.202A.71.71 0 0 1 2 21.286V5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2z",key:"18887p"}]],eb=Qt("message-square",hC);const fC=[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]],nb=Qt("pen",fC);const dC=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],Ym=Qt("plus",dC);const mC=[["path",{d:"M12.586 2.586A2 2 0 0 0 11.172 2H4a2 2 0 0 0-2 2v7.172a2 2 0 0 0 .586 1.414l8.704 8.704a2.426 2.426 0 0 0 3.42 0l6.58-6.58a2.426 2.426 0 0 0 0-3.42z",key:"vktsd0"}],["circle",{cx:"7.5",cy:"7.5",r:".5",fill:"currentColor",key:"kqv944"}]],pC=Qt("tag",mC);const gC=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]],yC=Qt("target",gC);const vC=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],Hs=Qt("trash-2",vC);const _C=[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]],ib=Qt("triangle-alert",_C);const bC=[["path",{d:"M12 3v12",key:"1x0j5s"}],["path",{d:"m17 8-5-5-5 5",key:"7q97r8"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}]],Km=Qt("upload",bC);const EC=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],Xm=Qt("user",EC);const TC=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],Mr=Qt("x",TC),xC=()=>{const{user:r,isAdmin:e,logout:i}=ea();return v.jsxs("div",{className:"min-h-screen flex flex-col",children:[v.jsx("header",{className:"bg-white border-b border-[var(--color-border)] h-16 flex items-center px-6 sticky top-0 z-50",children:v.jsxs("div",{className:"container flex items-center justify-between h-full",children:[v.jsx(Qc,{to:"/dashboard",className:"flex items-center gap-2",children:v.jsx("img",{src:"/EMG-Dashboard-Prototype/logo.png",alt:"EMG Logo",className:"h-8 w-auto object-contain"})}),v.jsxs("div",{className:"flex items-center gap-4",children:[e&&v.jsx("span",{className:"bg-slate-800 text-white text-xs font-medium px-2.5 py-1 rounded",children:"Admin"}),r?v.jsxs("div",{className:"flex items-center gap-3 pl-4 border-l border-gray-200",children:[v.jsxs("div",{className:"text-right hidden sm:block",children:[v.jsx("div",{className:"text-sm font-medium text-gray-900",children:r.name}),v.jsx("div",{className:"text-xs text-gray-500",children:r.email})]}),v.jsx("div",{className:"h-9 w-9 rounded-full bg-slate-100 flex items-center justify-center text-slate-500 border border-slate-200",children:v.jsx(Xm,{size:18})}),v.jsx("button",{onClick:i,className:"p-2 text-gray-400 hover:text-red-500 transition-colors",title:"Logout",children:v.jsx(cC,{size:18})})]}):v.jsx("div",{className:"h-8 w-8 rounded-full bg-gray-200"})]})]})}),v.jsx("main",{className:"flex-1 py-8",children:v.jsx(a_,{})}),v.jsx("footer",{className:"h-12 border-t border-[var(--color-border)] bg-white flex items-center justify-center text-sm text-[var(--color-text-secondary)]",children:" 2025 EMG Project Management. All rights reserved."})]})},SC=()=>{const r=No(),[e,i]=L.useState(""),[s,o]=L.useState(!1),c=()=>{e&&(e==="south-mall"?r("/login"):o(!0))};return v.jsxs("div",{className:"min-h-screen bg-slate-50 flex items-center justify-center p-4",children:[v.jsxs("div",{className:"w-full max-w-md bg-white rounded-xl shadow-2xl p-8 border border-gray-100 relative overflow-hidden",children:[v.jsx("div",{className:"absolute top-0 left-0 w-full h-1 bg-gradient-to-r from-blue-600 to-cyan-500"}),v.jsxs("div",{className:"mb-8 flex flex-col items-center",children:[v.jsx("img",{src:"/EMG-Dashboard-Prototype/logo.png",alt:"EMG Logo",className:"h-14 w-auto mb-4"}),v.jsx("h1",{className:"text-2xl font-bold text-gray-800 text-center",children:"Project Portal"}),v.jsx("p",{className:"text-gray-500 text-sm mt-2 text-center",children:"Select your project to access site updates and documentation."})]}),v.jsxs("div",{className:"space-y-4",children:[v.jsxs("div",{children:[v.jsx("label",{className:"block text-xs font-semibold text-gray-500 uppercase tracking-wider mb-2",children:"Select Project"}),v.jsxs("div",{className:"relative",children:[v.jsxs("select",{className:"w-full appearance-none bg-gray-50 border border-gray-200 text-gray-700 py-3 px-4 pr-8 rounded-lg leading-tight focus:outline-none focus:bg-white focus:border-blue-500 transition-colors",value:e,onChange:d=>i(d.target.value),children:[v.jsx("option",{value:"",disabled:!0,children:"Select a project..."}),Dr.map(d=>v.jsx("option",{value:d.id,children:d.name},d.id))]}),v.jsx("div",{className:"pointer-events-none absolute inset-y-0 right-0 flex items-center px-2 text-gray-700",children:v.jsx(Hc,{size:16,className:"rotate-90"})})]})]}),v.jsxs("button",{onClick:c,disabled:!e,className:`w-full py-3 rounded-lg font-semibold flex items-center justify-center gap-2 transition-all ${e?"bg-blue-600 text-white shadow-lg shadow-blue-200 hover:bg-blue-700":"bg-gray-100 text-gray-400 cursor-not-allowed"}`,children:[e==="south-mall"?"Continue to Login":"Request Access",v.jsx(Hc,{size:18})]})]}),v.jsxs("div",{className:"mt-8 flex items-center justify-center gap-2 text-xs text-gray-400",children:[v.jsx(oC,{size:12}),v.jsx("span",{children:"Secure Connection  EMG Client Services"})]})]}),s&&v.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-sm z-50 flex items-center justify-center p-4 animate-in fade-in duration-200",children:v.jsxs("div",{className:"bg-white rounded-lg shadow-xl max-w-sm w-full p-6 text-center relative",children:[v.jsx("button",{onClick:()=>o(!1),className:"absolute top-4 right-4 text-gray-300 hover:text-gray-500",children:v.jsx(Mr,{size:20})}),v.jsx("div",{className:"w-12 h-12 bg-amber-100 text-amber-600 rounded-full flex items-center justify-center mx-auto mb-4",children:v.jsx(QR,{size:24})}),v.jsx("h3",{className:"text-lg font-bold text-gray-800 mb-2",children:"Restricted Access"}),v.jsxs("p",{className:"text-sm text-gray-500 mb-6",children:["The portal for ",v.jsx("strong",{children:Dr.find(d=>d.id===e)?.name})," is currently restricted to authorized stakeholders only."]}),v.jsx("button",{onClick:()=>o(!1),className:"btn btn-primary w-full text-sm",children:"Request Authorization"})]})})]})},AC=()=>{const r=No(),{login:e}=ea(),[i,s]=L.useState(!1),[o,c]=L.useState(""),[d,p]=L.useState(""),g=y=>{y.preventDefault(),e(o),r("/project/south-mall")};return v.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50 p-4",children:v.jsxs("div",{className:"max-w-md w-full bg-white rounded-xl shadow-lg p-8 border border-gray-100",children:[v.jsxs("button",{onClick:()=>r("/"),className:"flex items-center text-sm text-gray-500 hover:text-gray-700 mb-6 transition-colors",children:[v.jsx(HR,{size:16})," Back to Project Selection"]}),v.jsxs("div",{className:"mb-8 text-center sm:text-left",children:[v.jsx("img",{src:"/EMG-Dashboard-Prototype/logo.png",alt:"EMG Logo",className:"h-12 w-auto mb-6 mx-auto sm:mx-0"}),v.jsx("h1",{className:"text-2xl font-bold text-[var(--color-brand-primary)]",children:"South Mall New World"}),v.jsx("p",{className:"text-gray-500 mt-1",children:i?"Welcome back. Sign in to continue.":"Create your account to access the project portal."})]}),v.jsxs("form",{onSubmit:g,className:"space-y-5",children:[v.jsxs("div",{children:[v.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Email Address"}),v.jsx("input",{type:"email",required:!0,className:"w-full border border-gray-300 rounded-lg p-3 focus:outline-none focus:ring-2 focus:ring-blue-500/20 focus:border-blue-500",placeholder:"name@company.com",value:o,onChange:y=>c(y.target.value)})]}),v.jsxs("div",{children:[v.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:i?"Password":"Create Password"}),v.jsx("input",{type:"password",required:!0,className:"w-full border border-gray-300 rounded-lg p-3 focus:outline-none focus:ring-2 focus:ring-blue-500/20 focus:border-blue-500",placeholder:"",minLength:i?0:6,value:d,onChange:y=>p(y.target.value)}),!i&&v.jsx("p",{className:"text-xs text-gray-400 mt-1",children:"Must be at least 6 characters"})]}),v.jsxs("button",{type:"submit",className:"btn btn-primary w-full py-3 mt-2 gap-2",children:[i?"Log In":"Create Account & Enter",v.jsx(tb,{size:16})]})]}),v.jsx("div",{className:"mt-6 text-center",children:v.jsx("button",{onClick:()=>s(!i),className:"text-sm text-[var(--color-brand-primary)] hover:underline font-medium",children:i?"Need an account? Sign up":"Already have an account? Log in"})}),v.jsx("div",{className:"mt-6 pt-6 border-t border-gray-100 text-center text-xs text-gray-400",children:"By continuing, you agree to the EMG Portal Terms of Service."})]})})},wC=()=>{const r=No(),e=Dr[0],i=Dr.slice(1),s=o=>{switch(o){case"In Progress":return"badge-success";case"Planning":return"badge-warning";case"On Hold":return"badge-warning";case"Ongoing":return"badge-info";default:return"badge-neutral"}};return v.jsxs("div",{className:"container max-w-5xl",children:[v.jsxs("div",{className:"mb-8",children:[v.jsx("h1",{className:"text-2xl font-bold text-[var(--color-brand-primary)]",children:"Project Dashboard"}),v.jsx("p",{className:"text-[var(--color-text-secondary)]",children:"Overview of all active engagements"})]}),v.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-8",children:[v.jsxs("div",{className:"md:col-span-2 space-y-6",children:[v.jsx("h2",{className:"text-lg text-[var(--color-text-primary)] font-semibold border-b border-gray-200 pb-2",children:"Your Primary Project"}),v.jsxs("div",{className:"card hover:shadow-md transition-shadow cursor-pointer border-l-4 border-l-[var(--color-accent)]",onClick:()=>r(`/project/${e.id}`),children:[v.jsx("div",{className:"flex justify-between items-start mb-4",children:v.jsxs("div",{children:[v.jsx("span",{className:`badge ${s(e.status)} mb-2`,children:e.status}),v.jsx("h3",{className:"text-xl font-bold text-[var(--color-brand-primary)] mb-1",children:e.name}),v.jsxs("div",{className:"flex items-center text-sm text-[var(--color-text-secondary)] gap-4",children:[v.jsxs("span",{className:"flex items-center gap-1",children:[v.jsx(OR,{size:14})," ",e.location]}),v.jsxs("span",{className:"flex items-center gap-1",children:[v.jsx(JR,{size:14})," Last updated ",e.lastUpdated]})]})]})}),v.jsx("p",{className:"text-gray-600 mb-6 leading-relaxed",children:e.summary}),v.jsx("div",{className:"flex justify-end",children:v.jsxs("button",{className:"btn btn-outline text-sm gap-2",children:["View Project Details",v.jsx(tb,{size:16})]})})]})]}),v.jsxs("div",{className:"space-y-6",children:[v.jsx("h2",{className:"text-lg text-[var(--color-text-primary)] font-semibold border-b border-gray-200 pb-2",children:"Other Active Projects"}),v.jsxs("div",{className:"card bg-gray-50 border-gray-100",children:[v.jsx("div",{className:"space-y-4",children:i.map(o=>v.jsxs("div",{className:"pb-4 border-b border-gray-100 last:border-0 last:pb-0",children:[v.jsx("div",{className:"flex justify-between items-start mb-1",children:v.jsx("h4",{className:"font-medium text-[var(--color-brand-secondary)]",children:o.name})}),v.jsxs("div",{className:"flex items-center justify-between text-xs",children:[v.jsx("span",{className:`badge ${s(o.status)} scale-90 origin-left`,children:o.status}),v.jsxs("span",{className:"text-gray-400",children:["Upd: ",o.lastUpdated]})]})]},o.id))}),v.jsx("div",{className:"mt-6 pt-4 border-t border-gray-200 text-xs text-gray-500 text-center",children:"Detailed views for these projects are not enabled in this preview."})]})]})]})]})},RC=()=>{const{id:r}=am(),e=Dr.find(o=>o.id===r)||Dr[0],i=o=>{switch(o){case"In Progress":return"badge-success";case"Planning":return"badge-warning";case"On Hold":return"badge-warning";case"Ongoing":return"badge-info";default:return"badge-neutral"}},s=[{name:"Overview",path:"overview"},{name:"Progress Updates",path:"updates"},{name:"Site Photos",path:"photos"},{name:"Documents",path:"documents"},{name:"Actions & Follow-Ups",path:"actions"},{name:"Project Questions",path:"qa"}];return v.jsxs("div",{className:"container max-w-6xl",children:[v.jsx("div",{className:"mb-4",children:v.jsxs(Rc,{to:"/dashboard",className:"text-sm text-gray-500 hover:text-[var(--color-brand-primary)] flex items-center gap-1",children:[v.jsx(W1,{size:14})," Back to Dashboard"]})}),v.jsxs("div",{className:"bg-white border border-[var(--color-border)] rounded-t-lg p-6 pb-0",children:[v.jsxs("div",{className:"flex justify-between items-start mb-6",children:[v.jsxs("div",{children:[v.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[v.jsx("h1",{className:"text-2xl font-bold text-[var(--color-brand-primary)]",children:e.name}),v.jsx("span",{className:`badge ${i(e.status)}`,children:e.status})]}),v.jsxs("p",{className:"text-[var(--color-text-secondary)] text-sm",children:["Project ID: ",r?.toUpperCase(),"  Last updated ",e.lastUpdated]})]}),v.jsx("div",{children:v.jsxs("div",{className:"text-right",children:[v.jsx("span",{className:"text-xs text-gray-400 block uppercase tracking-wide",children:"Client"}),v.jsx("span",{className:"font-medium",children:"Foodstuffs North Island"})]})})]}),v.jsx("div",{className:"flex border-b border-gray-200",children:s.map(o=>v.jsx(Rc,{to:o.path,className:({isActive:c})=>`px-6 py-3 text-sm font-medium border-b-2 transition-colors ${c?"border-[var(--color-brand-primary)] text-[var(--color-brand-primary)]":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:o.name},o.path))})]}),v.jsx("div",{className:"bg-white border border-t-0 border-[var(--color-border)] rounded-b-lg p-6 min-h-[500px]",children:v.jsx(a_,{})})]})},CC=()=>{const{id:r}=am(),{qa:e,addReply:i}=kr(),{user:s}=ea(),o=e.find(g=>g.id.toString()===r),[c,d]=L.useState(""),p=()=>{if(!c.trim())return;const g=s.name+(s.role==="admin"?" (Admin)":"");i(r,c,g),d("")};return o?v.jsxs("div",{className:"container max-w-4xl pt-6",children:[v.jsx("div",{className:"mb-6",children:v.jsxs(Rc,{to:"/project/south-mall/qa",className:"text-sm text-gray-500 hover:text-[var(--color-brand-primary)] flex items-center gap-1",children:[v.jsx(W1,{size:14})," Back to Project Q&A"]})}),v.jsxs("div",{className:"bg-white border border-[var(--color-border)] rounded-lg overflow-hidden shadow-sm animate-in fade-in",children:[v.jsxs("div",{className:"p-6 border-b border-gray-100 bg-gray-50/50",children:[v.jsxs("div",{className:"flex gap-3 mb-4",children:[v.jsx("span",{className:`px-2 py-0.5 rounded text-xs font-bold uppercase ${o.status==="Answered"?"bg-green-100 text-green-700":"bg-amber-100 text-amber-700"}`,children:o.status}),v.jsx("span",{className:"text-xs text-gray-500 border border-gray-200 px-2 py-0.5 rounded-full bg-white",children:o.category})]}),v.jsx("h1",{className:"text-2xl font-bold text-[var(--color-brand-primary)] mb-2",children:o.title}),v.jsxs("div",{className:"flex items-center text-sm text-gray-500 gap-4",children:[v.jsxs("span",{children:["Raised ",o.date]}),v.jsx("span",{children:""}),v.jsxs("span",{children:["ID: #",o.id.toString().padStart(4,"0")]})]})]}),v.jsxs("div",{className:"p-8",children:[v.jsx("h3",{className:"text-xs font-bold text-gray-400 uppercase tracking-wider mb-3",children:"Context & Question"}),v.jsxs("div",{className:"prose prose-slate max-w-none text-gray-700 bg-gray-50 p-6 rounded-md border border-gray-100 italic",children:['"',o.context,'"']})]}),v.jsxs("div",{className:"p-8 pt-0",children:[v.jsxs("h3",{className:"text-xs font-bold text-gray-400 uppercase tracking-wider mb-6 flex items-center gap-2",children:[v.jsx(eb,{size:14})," Discussion History (",o.replies.length,")"]}),v.jsx("div",{className:"space-y-6",children:o.replies.length===0?v.jsx("div",{className:"text-center py-8 text-gray-400 text-sm bg-gray-50 rounded-lg border border-dashed border-gray-200",children:"No replies yet."}):o.replies.map((g,y)=>v.jsxs("div",{className:"flex gap-4 group animate-in fade-in slide-in-from-bottom-2",children:[v.jsx("div",{className:"flex-shrink-0",children:v.jsx("div",{className:"w-10 h-10 rounded-full bg-slate-200 flex items-center justify-center text-slate-500",children:v.jsx(Xm,{size:20})})}),v.jsxs("div",{className:"flex-grow",children:[v.jsxs("div",{className:"flex items-center justify-between mb-1",children:[v.jsx("span",{className:"font-semibold text-[var(--color-brand-primary)]",children:g.author}),v.jsx("span",{className:"text-xs text-gray-400",children:g.date})]}),v.jsx("div",{className:"text-gray-700 leading-relaxed bg-white border border-gray-100 p-4 rounded-lg rounded-tl-none shadow-sm",children:g.content}),y===o.replies.length-1&&o.status==="Answered"&&v.jsxs("div",{className:"mt-2 flex items-center gap-1 text-xs text-green-600 font-medium",children:[v.jsx(Wd,{size:12})," Marked as Answer"]})]})]},y))})]}),v.jsx("div",{className:"bg-gray-50 p-6 border-t border-gray-200",children:s?v.jsxs("div",{className:"flex gap-4",children:[v.jsx("div",{className:"w-10 h-10 rounded-full bg-[var(--color-brand-primary)] flex items-center justify-center text-white flex-shrink-0",children:v.jsx("span",{className:"font-bold text-sm",children:s.name.charAt(0)})}),v.jsxs("div",{className:"flex-grow",children:[v.jsx("textarea",{className:"w-full border border-gray-300 rounded-md p-3 text-sm focus:outline-none focus:ring-2 focus:ring-blue-500/20 focus:border-blue-500 transition-all resize-none",rows:"3",placeholder:"Write a reply...",value:c,onChange:g=>d(g.target.value)}),v.jsx("div",{className:"flex justify-end mt-2",children:v.jsx("button",{onClick:p,disabled:!c.trim(),className:"btn btn-primary text-sm disabled:opacity-50 disabled:cursor-not-allowed",children:"Post Reply"})})]})]}):v.jsx("div",{className:"text-center text-sm text-gray-400",children:"Log in to participate in the discussion."})})]})]}):v.jsx("div",{className:"p-8 text-center",children:"Thread not found"})},NC=()=>{const{id:r}=am(),{projects:e,updateProjectDetails:i}=kr(),{isAdmin:s}=ea(),o=e.find(E=>E.id===r)||e[0],[c,d]=L.useState(!1),[p,g]=L.useState({summary:o.summary,focus:o.focus,coordination:o.coordination}),y=()=>{i(o.id,p),d(!1)};return v.jsxs("div",{className:"max-w-4xl mx-auto space-y-8 animate-in fade-in duration-300 relative",children:[s&&!c&&v.jsx("div",{className:"absolute -top-2 right-0",children:v.jsxs("button",{onClick:()=>d(!0),className:"text-xs flex items-center gap-1 text-blue-600 hover:text-blue-800 bg-blue-50 px-2 py-1 rounded border border-blue-100 transition-colors",children:[v.jsx(nb,{size:12})," Edit Details"]})}),c&&v.jsxs("div",{className:"bg-blue-50 p-6 rounded-lg border border-blue-200 mb-8 space-y-4 shadow-inner",children:[v.jsxs("div",{className:"flex justify-between items-center mb-2",children:[v.jsx("h3",{className:"font-bold text-blue-800",children:"Edit Project Overview"}),v.jsx("button",{onClick:()=>d(!1),className:"text-gray-400 hover:text-gray-600",children:v.jsx(Mr,{size:18})})]}),v.jsxs("div",{children:[v.jsx("label",{className:"block text-xs font-bold text-blue-800 uppercase mb-1",children:"Project Summary"}),v.jsx("textarea",{className:"w-full p-2 rounded border border-blue-200 focus:outline-none focus:ring-2 focus:ring-blue-500",rows:"3",value:p.summary,onChange:E=>g({...p,summary:E.target.value})})]}),v.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[v.jsxs("div",{children:[v.jsx("label",{className:"block text-xs font-bold text-blue-800 uppercase mb-1",children:"Current Focus"}),v.jsx("input",{className:"w-full p-2 rounded border border-blue-200 focus:outline-none focus:ring-2 focus:ring-blue-500",value:p.focus,onChange:E=>g({...p,focus:E.target.value})})]}),v.jsxs("div",{children:[v.jsx("label",{className:"block text-xs font-bold text-blue-800 uppercase mb-1",children:"Coordination"}),v.jsx("input",{className:"w-full p-2 rounded border border-blue-200 focus:outline-none focus:ring-2 focus:ring-blue-500",value:p.coordination,onChange:E=>g({...p,coordination:E.target.value})})]})]}),v.jsxs("div",{className:"flex justify-end gap-2 pt-2",children:[v.jsx("button",{onClick:()=>d(!1),className:"btn btn-outline bg-white text-xs",children:"Cancel"}),v.jsxs("button",{onClick:y,className:"btn btn-primary text-xs gap-1",children:[v.jsx(kR,{size:14})," Save Changes"]})]})]}),v.jsxs("section",{children:[v.jsxs("h3",{className:"text-lg font-semibold text-[var(--color-brand-primary)] mb-4 flex items-center gap-2",children:[v.jsx(sC,{size:18,className:"text-[var(--color-accent)]"})," Project Summary"]}),v.jsx("p",{className:"text-gray-600 leading-relaxed bg-gray-50 p-4 rounded-md border border-gray-100",children:o.summary})]}),v.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[v.jsxs("div",{className:"card border-l-4 border-l-blue-500",children:[v.jsxs("h3",{className:"text-base font-semibold text-[var(--color-brand-primary)] mb-3 flex items-center gap-2",children:[v.jsx(yC,{size:18,className:"text-blue-500"})," Current Focus"]}),v.jsx("p",{className:"text-gray-600 text-sm",children:o.focus})]}),v.jsxs("div",{className:"card border-l-4 border-l-amber-500",children:[v.jsxs("h3",{className:"text-base font-semibold text-[var(--color-brand-primary)] mb-3 flex items-center gap-2",children:[v.jsx(ib,{size:18,className:"text-amber-500"})," Key Coordination Items"]}),v.jsx("p",{className:"text-gray-600 text-sm",children:o.coordination})]})]}),v.jsxs("section",{children:[v.jsx("h3",{className:"text-sm font-medium text-gray-500 mb-2 uppercase tracking-wide",children:"Site Location"}),v.jsxs("div",{className:"aspect-video bg-gradient-to-br from-slate-100 to-slate-50 rounded-lg flex flex-col items-center justify-center border border-gray-200 text-gray-400 relative overflow-hidden",children:[v.jsx("div",{className:"w-12 h-12 rounded-full bg-slate-200 flex items-center justify-center mb-3",children:v.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"text-slate-400",children:[v.jsx("path",{d:"M20 10c0 6-8 12-8 12s-8-6-8-12a8 8 0 0 1 16 0Z"}),v.jsx("circle",{cx:"12",cy:"10",r:"3"})]})}),v.jsx("p",{className:"text-sm font-medium text-gray-500",children:"Map integration available on request"}),v.jsx("p",{className:"text-xs text-gray-400 mt-1",children:"Contact your EMG project lead for details"})]})]})]})},DC=()=>{const{updates:r,addUpdate:e,deleteUpdate:i,updateUpdate:s}=kr(),{user:o,isAdmin:c}=ea(),[d,p]=L.useState(null),[g,y]=L.useState(null),[E,x]=L.useState(""),[R,U]=L.useState(!1),[Y,X]=L.useState(""),[k,J]=L.useState("Progress"),it=rt=>{rt.preventDefault(),e({projectId:"south-mall",date:new Date().toLocaleDateString("en-GB",{day:"2-digit",month:"short",year:"numeric"}),author:`${o.name} (EMG)`,content:Y,tag:k}),X(""),U(!1)},$=rt=>{y(rt.id),x(rt.content),p(null)},_t=rt=>{s(rt,{content:E}),y(null)},xt=rt=>{window.confirm("Are you sure you want to delete this update?")&&i(rt)};return v.jsxs("div",{className:"max-w-4xl mx-auto",children:[v.jsxs("div",{className:"flex justify-between items-center mb-6",children:[v.jsx("h2",{className:"text-lg font-semibold text-[var(--color-brand-primary)]",children:"Progress Updates"}),v.jsxs("div",{className:"flex gap-2",children:[c&&v.jsxs("button",{onClick:()=>U(!R),className:"btn btn-primary text-xs gap-1",children:[v.jsx(Ym,{size:14})," Post Update"]}),v.jsx("button",{className:"btn btn-outline text-sm",disabled:!0,children:"Filter by Date"})]})]}),R&&v.jsx("div",{className:"bg-white border border-blue-100 shadow-sm rounded-lg p-4 mb-8 animate-in slide-in-from-top-2",children:v.jsxs("form",{onSubmit:it,children:[v.jsx("textarea",{className:"w-full border border-gray-200 rounded p-3 text-sm focus:outline-none focus:ring-2 focus:ring-blue-500 mb-3",placeholder:"What's the latest on site?",rows:"3",value:Y,onChange:rt=>X(rt.target.value),required:!0}),v.jsxs("div",{className:"flex justify-between items-center",children:[v.jsxs("select",{className:"text-sm border border-gray-200 rounded p-1.5",value:k,onChange:rt=>J(rt.target.value),children:[v.jsx("option",{children:"Progress"}),v.jsx("option",{children:"Compliance"}),v.jsx("option",{children:"Safety"}),v.jsx("option",{children:"Delay"})]}),v.jsxs("div",{className:"flex gap-2",children:[v.jsx("button",{type:"button",onClick:()=>U(!1),className:"btn btn-outline text-xs border-transparent",children:"Cancel"}),v.jsx("button",{type:"submit",className:"btn btn-primary text-xs",children:"Post"})]})]})]})}),r.length===0?v.jsxs("div",{className:"text-center py-16 text-gray-400",children:[v.jsx("div",{className:"w-16 h-16 rounded-full bg-gray-100 flex items-center justify-center mx-auto mb-4",children:v.jsx(Jd,{size:28,className:"text-gray-300"})}),v.jsx("p",{className:"text-sm font-medium text-gray-500 mb-1",children:"No updates have been posted yet"}),v.jsx("p",{className:"text-xs text-gray-400",children:"Progress updates will appear here as the project advances"})]}):v.jsxs(v.Fragment,{children:[v.jsx("div",{className:"space-y-6 relative before:absolute before:inset-0 before:ml-5 before:-translate-x-px md:before:mx-auto md:before:translate-x-0 before:h-full before:w-0.5 before:bg-gradient-to-b before:from-transparent before:via-slate-300 before:to-transparent",children:r.map(rt=>v.jsxs("div",{className:"relative flex items-start group is-active animate-in fade-in duration-500",children:[v.jsx("div",{className:"absolute left-0 mt-1 ml-2.5 h-5 w-5 rounded-full border-2 border-[var(--color-bg-surface)] bg-slate-300 group-[.is-active]:bg-[var(--color-accent)] z-10 flex items-center justify-center",children:v.jsx("div",{className:"h-1.5 w-1.5 rounded-full bg-white"})}),v.jsxs("div",{className:"ml-12 w-full card p-5 border-gray-200 hover:border-blue-200 transition-colors",children:[v.jsxs("div",{className:"flex justify-between items-start mb-2",children:[v.jsxs("div",{className:"flex items-center gap-2 text-sm text-[var(--color-text-secondary)]",children:[v.jsxs("span",{className:"font-semibold text-[var(--color-brand-primary)] flex items-center gap-1",children:[v.jsx(Xm,{size:14})," ",rt.author]}),v.jsx("span",{children:""}),v.jsxs("span",{className:"flex items-center gap-1",children:[v.jsx(Jd,{size:14})," ",rt.date]})]}),v.jsx("span",{className:"badge badge-neutral bg-gray-100 text-gray-600",children:rt.tag})]}),v.jsx("p",{className:"text-gray-700 leading-relaxed text-sm",children:g===rt.id?v.jsxs("div",{className:"mt-2",children:[v.jsx("textarea",{className:"w-full p-2 border rounded focus:ring-2 focus:ring-blue-500 mb-2",rows:"3",value:E,onChange:w=>x(w.target.value)}),v.jsxs("div",{className:"flex justify-end gap-2",children:[v.jsx("button",{onClick:()=>y(null),className:"btn btn-sm btn-outline text-xs",children:"Cancel"}),v.jsx("button",{onClick:()=>_t(rt.id),className:"btn btn-sm btn-primary text-xs",children:"Save"})]})]}):rt.content}),c&&!g&&v.jsxs("div",{className:"absolute top-4 right-4",children:[v.jsx("button",{onClick:()=>p(d===rt.id?null:rt.id),className:"text-gray-400 hover:text-gray-600 transition-colors",children:v.jsx(tC,{size:16})}),d===rt.id&&v.jsxs("div",{className:"absolute right-0 mt-1 w-32 bg-white border border-gray-200 shadow-lg rounded-md overflow-hidden z-20 animate-in fade-in zoom-in-95 duration-200",children:[v.jsxs("button",{onClick:()=>$(rt),className:"w-full text-left px-3 py-2 text-xs flex items-center gap-2 hover:bg-gray-50 text-gray-700",children:[v.jsx(nb,{size:12})," Edit"]}),v.jsxs("button",{onClick:()=>xt(rt.id),className:"w-full text-left px-3 py-2 text-xs flex items-center gap-2 hover:bg-red-50 text-red-600",children:[v.jsx(Hs,{size:12})," Delete"]})]})]})]})]},rt.id))}),v.jsx("div",{className:"mt-8 text-center",children:v.jsx("button",{className:"text-sm text-gray-400 hover:text-gray-600",children:"View Earlier Updates"})})]})]})},ch=({isOpen:r,onClose:e,onConfirm:i,title:s,itemType:o})=>{const[c,d]=L.useState(""),[p,g]=L.useState("");if(!r)return null;const y=E=>{E.preventDefault(),c==="password123"?(i(),e(),d(""),g("")):g("Incorrect password. Access denied.")};return v.jsx("div",{className:"fixed inset-0 bg-black/50 z-50 flex items-center justify-center p-4 backdrop-blur-sm animate-in fade-in duration-200",children:v.jsxs("div",{className:"bg-white rounded-xl shadow-2xl max-w-md w-full border border-gray-100 overflow-hidden transform transition-all scale-100",children:[v.jsxs("div",{className:"bg-red-50 p-6 border-b border-red-100 flex items-start gap-4",children:[v.jsx("div",{className:"bg-red-100 p-2 rounded-full text-red-600 flex-shrink-0",children:v.jsx(ib,{size:24})}),v.jsxs("div",{children:[v.jsx("h3",{className:"text-lg font-bold text-red-800",children:"Confirm Deletion"}),v.jsxs("p",{className:"text-sm text-red-600 mt-1",children:["Are you sure you want to delete this ",o,"? This action cannot be undone."]})]}),v.jsx("button",{onClick:e,className:"text-red-400 hover:text-red-700 ml-auto",children:v.jsx(Mr,{size:20})})]}),v.jsxs("form",{onSubmit:y,className:"p-6 space-y-4",children:[v.jsxs("div",{children:[v.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Admin Password Required"}),v.jsx("input",{type:"password",className:`w-full p-3 border rounded-lg focus:outline-none focus:ring-2 ${p?"border-red-300 ring-red-200":"border-gray-300 focus:ring-red-200 focus:border-red-500"}`,placeholder:"Enter password...",value:c,onChange:E=>{d(E.target.value),g("")},autoFocus:!0}),p&&v.jsxs("p",{className:"text-xs text-red-600 mt-2 font-medium flex items-center gap-1",children:[v.jsx(Mr,{size:12})," ",p]})]}),v.jsxs("div",{className:"flex justify-end gap-3 pt-2",children:[v.jsx("button",{type:"button",onClick:e,className:"px-4 py-2 text-sm font-medium text-gray-600 hover:text-gray-800 bg-gray-50 hover:bg-gray-100 rounded-lg transition-colors",children:"Cancel"}),v.jsx("button",{type:"submit",className:"px-4 py-2 text-sm font-bold text-white bg-red-600 hover:bg-red-700 rounded-lg shadow-sm shadow-red-200 transition-colors",children:"Confirm Delete"})]})]})]})})},IC=()=>{const{user:r,isAdmin:e}=ea(),{photos:i,addPhoto:s,deletePhoto:o}=kr(),[c,d]=L.useState(!1),[p,g]=L.useState({desc:"",tag:"Progress",src:""}),y=L.useRef(null),[E,x]=L.useState(!1),[R,U]=L.useState(!1),[Y,X]=L.useState(null),k=rt=>{X(rt),U(!0)},J=()=>{Y&&(o(Y),X(null))},it=rt=>new Promise(w=>{const A=new FileReader;A.readAsDataURL(rt),A.onload=C=>{const V=new Image;V.src=C.target.result,V.onload=()=>{const I=document.createElement("canvas"),O=800,N=O/V.width,Yt=V.width>O?O:V.width,ft=V.width>O?V.height*N:V.height;I.width=Yt,I.height=ft,I.getContext("2d").drawImage(V,0,0,Yt,ft);const at=I.toDataURL("image/jpeg",.7);w(at)}}}),$=async rt=>{const w=rt.target.files[0];if(w){x(!0);try{const A=await it(w);g(C=>({...C,src:A}))}catch(A){console.error("Compression failed",A),alert("Failed to process image.")}finally{x(!1)}}},_t=rt=>{if(rt.preventDefault(),!p.src){alert("Please select a photo first.");return}const w={id:Date.now(),src:p.src,date:new Date().toLocaleDateString("en-GB",{day:"2-digit",month:"short",year:"numeric"}),tag:p.tag,desc:p.desc};s(w),d(!1),g({desc:"",tag:"Progress",src:""})},xt=()=>{y.current&&y.current.click()};return v.jsxs("div",{children:[v.jsxs("div",{className:"flex justify-between items-center mb-6",children:[v.jsx("h2",{className:"text-lg font-semibold text-[var(--color-brand-primary)]",children:"Site Photos"}),v.jsxs("div",{className:"flex gap-2",children:[r&&v.jsxs("button",{onClick:()=>d(!0),className:"btn btn-primary text-xs gap-1",children:[v.jsx(Ym,{size:14})," Upload Photo"]}),v.jsx("button",{className:"btn btn-outline text-xs px-3",children:"Latest"})]})]}),v.jsx(ch,{isOpen:R,onClose:()=>U(!1),onConfirm:J,title:"Delete Photo",itemType:"photo"}),c&&v.jsxs("div",{className:"bg-gray-50 border border-dashed border-gray-300 rounded-lg p-4 mb-6 animate-in fade-in",children:[v.jsx("h3",{className:"font-bold text-gray-700 text-sm mb-3",children:"Upload Site Photo"}),v.jsxs("form",{onSubmit:_t,className:"space-y-3",children:[v.jsx("div",{children:v.jsx("input",{className:"w-full p-2 text-sm border border-gray-300 rounded",placeholder:"Photo Description",required:!0,value:p.desc,onChange:rt=>g({...p,desc:rt.target.value})})}),v.jsxs("div",{className:"flex flex-col sm:flex-row gap-3",children:[v.jsxs("select",{className:"p-2 text-sm border border-gray-300 rounded sm:w-1/3",value:p.tag,onChange:rt=>g({...p,tag:rt.target.value}),children:[v.jsx("option",{children:"Progress"}),v.jsx("option",{children:"Safety"}),v.jsx("option",{children:"Site Works"}),v.jsx("option",{children:"Interior"}),v.jsx("option",{children:"Exterior"})]}),v.jsxs("div",{className:"flex-1 flex gap-2",children:[v.jsx("input",{type:"file",ref:y,onChange:$,accept:"image/*",capture:"environment",className:"hidden"}),v.jsx("button",{type:"button",onClick:xt,disabled:E,className:`flex-1 p-2 text-sm border rounded flex items-center justify-center gap-2 transition-colors ${p.src?"bg-green-50 text-green-700 border-green-200":"bg-white text-gray-500 border-gray-300 hover:bg-gray-50"}`,children:E?"Compressing...":p.src?v.jsxs(v.Fragment,{children:[v.jsx(Yv,{size:16})," Photo Selected"]}):v.jsxs(v.Fragment,{children:[v.jsx(Km,{size:16})," Select from Device"]})})]})]}),p.src&&v.jsxs("div",{className:"relative h-32 w-full rounded-lg overflow-hidden border border-gray-200 bg-black/5",children:[v.jsx("img",{src:p.src,alt:"Preview",className:"w-full h-full object-contain"}),v.jsx("button",{type:"button",onClick:()=>g({...p,src:""}),className:"absolute top-2 right-2 bg-black/50 text-white rounded-full p-1 hover:bg-black/70",children:v.jsx(Hs,{size:12})})]}),v.jsxs("div",{className:"flex justify-end gap-2 pt-2",children:[v.jsx("button",{type:"button",onClick:()=>d(!1),className:"btn btn-outline text-xs bg-white",children:"Cancel"}),v.jsx("button",{type:"submit",className:"btn btn-primary text-xs",disabled:!p.src||E,children:"Save Photo"})]})]})]}),i.length===0?v.jsxs("div",{className:"text-center py-16 text-gray-400",children:[v.jsx("div",{className:"w-16 h-16 rounded-full bg-gray-100 flex items-center justify-center mx-auto mb-4",children:v.jsx(Yv,{size:28,className:"text-gray-300"})}),v.jsx("p",{className:"text-sm font-medium text-gray-500 mb-1",children:"No site photos uploaded yet"}),v.jsx("p",{className:"text-xs text-gray-400",children:"Photos will appear here as they are added by the project team"})]}):v.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 gap-6",children:i.map(rt=>v.jsxs("div",{className:"group cursor-pointer relative",children:[v.jsxs("div",{className:"aspect-[4/3] bg-gray-100 rounded-md overflow-hidden relative border border-gray-200 mb-3",children:[v.jsx("img",{src:rt.src,alt:rt.desc,className:"w-full h-full object-cover transition-transform duration-500 group-hover:scale-105"}),v.jsx("div",{className:"absolute inset-0 bg-black/0 group-hover:bg-black/10 transition-colors"}),e&&v.jsx("button",{onClick:w=>{w.stopPropagation(),k(rt.id)},className:"absolute top-2 right-2 bg-red-600 text-white p-1.5 rounded-full opacity-0 group-hover:opacity-100 transition-opacity hover:bg-red-700 z-10",title:"Delete Photo",children:v.jsx(Hs,{size:14})})]}),v.jsxs("div",{children:[v.jsx("div",{className:"flex justify-between items-start",children:v.jsx("h3",{className:"text-sm font-medium text-[var(--color-brand-primary)] group-hover:text-[var(--color-accent)] transition-colors line-clamp-1",children:rt.desc})}),v.jsxs("div",{className:"flex items-center gap-3 mt-1 text-xs text-[var(--color-text-secondary)]",children:[v.jsxs("span",{className:"flex items-center gap-1",children:[v.jsx(Jd,{size:12})," ",rt.date]}),v.jsxs("span",{className:"flex items-center gap-1",children:[v.jsx(pC,{size:12})," ",rt.tag]})]})]})]},rt.id))})]})},VC=()=>{const{actions:r,addAction:e,updateActionStatus:i,deleteAction:s}=kr(),{user:o,isAdmin:c}=ea(),[d,p]=L.useState(!1),[g,y]=L.useState({task:"",assignedTo:"",dueDate:""}),[E,x]=L.useState(!1),[R,U]=L.useState(null),Y=$=>{U($),x(!0)},X=()=>{R&&(s(R),U(null))},k=$=>$==="Closed"?v.jsxs("span",{className:"badge badge-success flex items-center gap-1",children:[v.jsx(Wd,{size:12})," Closed"]}):v.jsxs("span",{className:"badge badge-neutral ring-1 ring-gray-200 flex items-center gap-1",children:[v.jsx($R,{size:12})," Open"]}),J=$=>{$.preventDefault(),e(g),y({task:"",assignedTo:"",dueDate:""}),p(!1)},it=($,_t)=>{if(!o)return;i($,_t==="Open"?"Closed":"Open")};return v.jsxs("div",{className:"max-w-5xl mx-auto",children:[v.jsxs("div",{className:"flex justify-between items-center mb-6",children:[v.jsx("h2",{className:"text-lg font-semibold text-[var(--color-brand-primary)]",children:"Actions & Follow-Ups"}),v.jsxs("div",{className:"flex gap-2",children:[o&&v.jsxs("button",{onClick:()=>p(!d),className:"btn btn-primary text-sm gap-1",children:[v.jsx(Ym,{size:16})," Raise Action"]}),v.jsx("button",{className:"btn btn-outline text-sm",children:"Export List"})]})]}),v.jsx(ch,{isOpen:E,onClose:()=>x(!1),onConfirm:X,title:"Delete Action",itemType:"action"}),d&&v.jsxs("div",{className:"bg-gray-50 border border-gray-200 rounded-lg p-4 mb-6 animate-in slide-in-from-top-2",children:[v.jsxs("div",{className:"flex justify-between items-center mb-4",children:[v.jsx("h3",{className:"font-bold text-gray-700 text-sm",children:"New Action Item"}),v.jsx("button",{onClick:()=>p(!1),className:"text-gray-400 hover:text-gray-600",children:v.jsx(Mr,{size:18})})]}),v.jsxs("form",{onSubmit:J,className:"grid grid-cols-1 md:grid-cols-4 gap-4 items-end",children:[v.jsxs("div",{className:"md:col-span-2",children:[v.jsx("label",{className:"block text-xs font-medium text-gray-500 mb-1",children:"Task Description"}),v.jsx("input",{className:"w-full p-2 text-sm border border-gray-300 rounded",required:!0,value:g.task,onChange:$=>y({...g,task:$.target.value})})]}),v.jsxs("div",{children:[v.jsx("label",{className:"block text-xs font-medium text-gray-500 mb-1",children:"Assigned To"}),v.jsxs("select",{className:"w-full p-2 text-sm border border-gray-300 rounded",value:g.assignedTo,onChange:$=>y({...g,assignedTo:$.target.value}),children:[v.jsx("option",{value:"",children:"-- Select --"}),v.jsx("option",{children:"EMG"}),v.jsx("option",{children:"Contractor"}),v.jsx("option",{children:"Client"}),v.jsx("option",{children:"Consultant (Arch)"}),v.jsx("option",{children:"Consultant (Elec)"})]})]}),v.jsxs("div",{children:[v.jsx("label",{className:"block text-xs font-medium text-gray-500 mb-1",children:"Due Date"}),v.jsx("input",{type:"date",className:"w-full p-2 text-sm border border-gray-300 rounded",required:!0,value:g.dueDate,onChange:$=>y({...g,dueDate:$.target.value})})]}),v.jsx("div",{className:"md:col-span-4 flex justify-end",children:v.jsx("button",{type:"submit",className:"btn btn-primary text-xs",children:"Create Action"})})]})]}),r.length===0?v.jsxs("div",{className:"text-center py-16 text-gray-400 border border-gray-200 rounded-lg",children:[v.jsx("div",{className:"w-16 h-16 rounded-full bg-gray-100 flex items-center justify-center mx-auto mb-4",children:v.jsx(Wd,{size:28,className:"text-gray-300"})}),v.jsx("p",{className:"text-sm font-medium text-gray-500 mb-1",children:"No actions have been raised"}),v.jsx("p",{className:"text-xs text-gray-400",children:"Action items and follow-ups will appear here"})]}):v.jsx("div",{className:"overflow-hidden border border-gray-200 rounded-lg shadow-sm",children:v.jsxs("table",{className:"w-full text-sm text-left",children:[v.jsx("thead",{className:"bg-gray-50 text-gray-500 font-medium border-b border-gray-200",children:v.jsxs("tr",{children:[v.jsx("th",{className:"px-6 py-3 w-16",children:"#"}),v.jsx("th",{className:"px-6 py-3",children:"Task Description"}),v.jsx("th",{className:"px-6 py-3 w-48",children:"Assigned To"}),v.jsx("th",{className:"px-6 py-3 w-32",children:"Due Date"}),v.jsx("th",{className:"px-6 py-3 w-32 text-center",children:"Status"}),c&&v.jsx("th",{className:"px-6 py-3 w-16 text-center"})]})}),v.jsx("tbody",{className:"divide-y divide-gray-100 bg-white",children:r.map($=>v.jsxs("tr",{className:"hover:bg-gray-50 transition-colors group",children:[v.jsx("td",{className:"px-6 py-4 text-gray-400",children:$.id}),v.jsx("td",{className:"px-6 py-4 font-medium text-[var(--color-brand-primary)]",children:$.task}),v.jsx("td",{className:"px-6 py-4",children:v.jsx("span",{className:"inline-flex items-center px-2 py-0.5 rounded text-xs font-medium bg-slate-100 text-slate-700",children:$.assignedTo})}),v.jsx("td",{className:"px-6 py-4 text-gray-500",children:$.dueDate}),v.jsx("td",{className:"px-6 py-4 text-center",children:v.jsx("button",{onClick:()=>it($.id,$.status),className:`transition-transform active:scale-95 ${o?"cursor-pointer hover:opacity-80":"cursor-default"}`,disabled:!o,title:o?"Click to toggle status":"",children:k($.status)})}),c&&v.jsx("td",{className:"px-6 py-4 text-center",children:v.jsx("button",{onClick:()=>Y($.id),className:"text-red-300 hover:text-red-600 transition-colors",title:"Delete Action",children:v.jsx(Hs,{size:16})})})]},$.id))})]})})]})},jC=({isOpen:r,onClose:e,folders:i,onUpload:s})=>{const[o,c]=L.useState(null),[d,p]=L.useState("");if(!r)return null;const g=y=>{y.preventDefault(),o&&d&&(s(o,d),e(),c(null),p(""))};return v.jsx("div",{className:"fixed inset-0 bg-black/50 z-50 flex items-center justify-center p-4 animate-in fade-in duration-200",children:v.jsxs("div",{className:"bg-white rounded-lg shadow-xl w-full max-w-md",children:[v.jsxs("div",{className:"flex justify-between items-center p-4 border-b border-gray-100",children:[v.jsx("h3",{className:"font-semibold text-gray-800",children:"Upload Document"}),v.jsx("button",{onClick:e,className:"text-gray-400 hover:text-gray-600",children:v.jsx(Mr,{size:20})})]}),v.jsxs("form",{onSubmit:g,className:"p-6 space-y-4",children:[v.jsxs("div",{children:[v.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Select File"}),v.jsx("input",{type:"file",required:!0,onChange:y=>c(y.target.files[0]),className:`block w-full text-sm text-gray-500\r
                                file:mr-4 file:py-2 file:px-4\r
                                file:rounded-full file:border-0\r
                                file:text-sm file:font-semibold\r
                                file:bg-blue-50 file:text-blue-700\r
                                hover:file:bg-blue-100\r
                            `})]}),v.jsxs("div",{children:[v.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Target Folder"}),v.jsxs("select",{required:!0,value:d,onChange:y=>p(y.target.value),className:"w-full border border-gray-300 rounded-lg p-2.5 text-sm focus:outline-none focus:ring-2 focus:ring-blue-500/20 focus:border-blue-500",children:[v.jsx("option",{value:"",disabled:!0,children:"Select a folder..."}),i.map(y=>v.jsx("option",{value:y.id,children:y.name},y.id))]})]}),v.jsxs("div",{className:"pt-2 flex justify-end gap-2",children:[v.jsx("button",{type:"button",onClick:e,className:"btn btn-ghost text-sm",children:"Cancel"}),v.jsxs("button",{type:"submit",className:"btn btn-primary text-sm flex items-center gap-2",children:[v.jsx(Km,{size:16})," Upload Now"]})]})]})]})})},MC=()=>{const{user:r,isAdmin:e}=ea(),{documents:i,addDocument:s,deleteDocument:o}=kr(),[c,d]=L.useState(["folder-1","folder-2","folder-3","folder-4"]),[p,g]=L.useState(!1),[y,E]=L.useState(!1),[x,R]=L.useState(null),U=J=>{d(it=>it.includes(J)?it.filter($=>$!==J):[...it,J])},Y=(J,it)=>{J.stopPropagation(),R(it),g(!0)},X=()=>{x&&(o(x),R(null))},k=(J,it)=>{s(J,it,r?r.name:"Unknown"),c.includes(it)||d($=>[...$,it])};return v.jsxs("div",{className:"max-w-6xl mx-auto",children:[v.jsx(ch,{isOpen:p,onClose:()=>g(!1),onConfirm:X,title:"Delete Document",itemType:"document"}),v.jsx(jC,{isOpen:y,onClose:()=>E(!1),folders:i,onUpload:k}),v.jsxs("div",{className:"bg-blue-50/50 border border-blue-100 p-4 rounded-lg mb-6 flex items-start sm:items-center justify-between gap-4",children:[v.jsx("p",{className:"text-sm text-blue-800",children:"Project documentation is stored centrally for version control and transparency."}),v.jsxs("button",{onClick:()=>E(!0),className:"btn btn-outline bg-white text-xs whitespace-nowrap gap-2 hover:bg-blue-50 border-blue-200 text-blue-700",children:[v.jsx(Km,{size:14})," Upload Document"]})]}),v.jsxs("div",{className:"border border-gray-200 rounded-lg overflow-hidden bg-white shadow-sm",children:[v.jsxs("div",{className:"grid grid-cols-12 bg-gray-50 border-b border-gray-200 text-xs font-semibold text-gray-500 uppercase tracking-wider py-3 px-4",children:[v.jsx("div",{className:"col-span-6",children:"File Name"}),v.jsx("div",{className:"col-span-2",children:"Type"}),v.jsx("div",{className:"col-span-2",children:"Uploaded By"}),v.jsx("div",{className:"col-span-2 text-right",children:"Date"})]}),v.jsx("div",{className:"divide-y divide-gray-100",children:i.map(J=>{const it=c.includes(J.id);return v.jsxs(LE.Fragment,{children:[v.jsxs("div",{onClick:()=>U(J.id),className:"grid grid-cols-12 items-center py-3 px-4 hover:bg-gray-50 cursor-pointer transition-colors group",children:[v.jsxs("div",{className:"col-span-6 flex items-center gap-3",children:[v.jsx("span",{className:"text-gray-400 group-hover:text-gray-600",children:it?v.jsx(BR,{size:14}):v.jsx(Hc,{size:14})}),v.jsx(aC,{size:18,className:"text-amber-400 fill-amber-100"}),v.jsx("span",{className:"font-semibold text-gray-700 text-sm group-hover:text-blue-700",children:J.name}),v.jsxs("span",{className:"text-xs text-gray-400 font-normal",children:["(",J.items.length,")"]})]}),v.jsx("div",{className:"col-span-2 text-xs text-gray-400 font-medium",children:"Folder"}),v.jsx("div",{className:"col-span-2 text-xs text-gray-400",children:"-"}),v.jsx("div",{className:"col-span-2 text-xs text-gray-400 text-right",children:"-"})]}),it&&J.items.map($=>v.jsxs("div",{className:"grid grid-cols-12 items-center py-2.5 px-4 bg-slate-50/30 hover:bg-blue-50/30 border-l-4 border-l-transparent hover:border-l-blue-400 transition-all pl-12 group/file",children:[v.jsxs("div",{className:"col-span-6 flex items-center gap-3",children:[v.jsx(nC,{size:16,className:"text-gray-400"}),v.jsx("span",{className:"text-sm text-gray-600 hover:text-gray-900 hover:underline cursor-pointer truncate mr-2",children:$.name}),e&&v.jsx("button",{onClick:_t=>Y(_t,$.id),className:"text-gray-300 hover:text-red-500 opacity-0 group-hover/file:opacity-100 transition-all p-1",title:"Delete Document",children:v.jsx(Hs,{size:14})})]}),v.jsx("div",{className:"col-span-2 text-xs text-gray-500 font-mono bg-gray-100 inline-block px-1.5 py-0.5 rounded w-fit",children:$.type}),v.jsx("div",{className:"col-span-2 text-xs text-gray-500",children:$.author}),v.jsx("div",{className:"col-span-2 text-xs text-gray-500 text-right font-medium",children:$.date})]},$.id))]},J.id)})})]})]})},OC=()=>{const{qa:r,addQuestion:e,deleteQuestion:i}=kr(),{user:s,isAdmin:o}=ea(),[c,d]=L.useState(!1),[p,g]=L.useState({title:"",context:"",category:"RFI"}),[y,E]=L.useState(!1),[x,R]=L.useState(null),U=(k,J)=>{k.preventDefault(),k.stopPropagation(),R(J),E(!0)},Y=()=>{x&&(i(x),R(null))},X=k=>{k.preventDefault(),e(p),g({title:"",context:"",category:"RFI"}),d(!1)};return v.jsxs("div",{className:"max-w-4xl mx-auto",children:[v.jsxs("div",{className:"flex justify-between items-center mb-6",children:[v.jsxs("div",{children:[v.jsx("h2",{className:"text-lg font-semibold text-[var(--color-brand-primary)]",children:"Project Questions"}),v.jsx("p",{className:"text-sm text-[var(--color-text-secondary)]",children:"Queries and clarifications shared across the project team"})]}),s&&v.jsxs("button",{onClick:()=>d(!c),className:"btn btn-primary text-sm gap-2",children:[v.jsx(Kv,{size:16}),"Raise Question"]})]}),v.jsx(ch,{isOpen:y,onClose:()=>E(!1),onConfirm:Y,title:"Delete Question",itemType:"question thread"}),c&&v.jsxs("div",{className:"bg-amber-50 border border-amber-200 rounded-lg p-5 mb-6 animate-in slide-in-from-top-2",children:[v.jsxs("div",{className:"flex justify-between items-center mb-4",children:[v.jsx("h3",{className:"font-bold text-amber-800 text-sm",children:"Submit a Question"}),v.jsx("button",{onClick:()=>d(!1),className:"text-amber-400 hover:text-amber-600",children:v.jsx(Mr,{size:18})})]}),v.jsxs("form",{onSubmit:X,className:"space-y-4",children:[v.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[v.jsxs("div",{className:"md:col-span-2",children:[v.jsx("label",{className:"block text-xs font-bold text-amber-800 uppercase mb-1",children:"Subject / Question"}),v.jsx("input",{className:"w-full p-2 text-sm border border-amber-200 rounded",required:!0,placeholder:"e.g. Clarification on perimeter fence",value:p.title,onChange:k=>g({...p,title:k.target.value})})]}),v.jsxs("div",{children:[v.jsx("label",{className:"block text-xs font-bold text-amber-800 uppercase mb-1",children:"Category"}),v.jsxs("select",{className:"w-full p-2 text-sm border border-amber-200 rounded",value:p.category,onChange:k=>g({...p,category:k.target.value}),children:[v.jsx("option",{children:"RFI"}),v.jsx("option",{children:"Access"}),v.jsx("option",{children:"Safety"}),v.jsx("option",{children:"Design"}),v.jsx("option",{children:"Other"})]})]})]}),v.jsxs("div",{children:[v.jsx("label",{className:"block text-xs font-bold text-amber-800 uppercase mb-1",children:"Detailed Context"}),v.jsx("textarea",{className:"w-full p-2 text-sm border border-amber-200 rounded",rows:"3",required:!0,placeholder:"Provide enough detail for the team to answer...",value:p.context,onChange:k=>g({...p,context:k.target.value})})]}),v.jsx("div",{className:"flex justify-end",children:v.jsx("button",{type:"submit",className:"btn btn-primary bg-amber-600 hover:bg-amber-700 border-transparent text-xs text-white",children:"Submit Question"})})]})]}),r.length===0?v.jsxs("div",{className:"text-center py-16 text-gray-400",children:[v.jsx("div",{className:"w-16 h-16 rounded-full bg-gray-100 flex items-center justify-center mx-auto mb-4",children:v.jsx(Kv,{size:28,className:"text-gray-300"})}),v.jsx("p",{className:"text-sm font-medium text-gray-500 mb-1",children:"No questions have been raised yet"}),v.jsx("p",{className:"text-xs text-gray-400",children:"Questions and clarifications will appear here"})]}):v.jsx("div",{className:"space-y-4",children:r.map(k=>v.jsxs(Qc,{to:`/question/${k.id}`,className:"block relative group",children:[v.jsxs("div",{className:"card p-5 border-gray-200 hover:border-[var(--color-accent)] hover:shadow-md transition-all cursor-pointer animate-in fade-in",children:[v.jsxs("div",{className:"flex justify-between items-start mb-2",children:[v.jsxs("div",{className:"flex items-center gap-3",children:[v.jsx("span",{className:`px-2 py-1 rounded text-xs font-bold uppercase ${k.status==="Answered"?"bg-green-100 text-green-700":"bg-amber-100 text-amber-700"}`,children:k.status}),v.jsx("span",{className:"text-xs text-gray-400 font-medium border border-gray-100 px-2 py-0.5 rounded-full bg-white",children:k.category})]}),v.jsx("span",{className:"text-xs text-gray-400",children:k.date})]}),v.jsxs("h3",{className:"text-lg font-semibold text-[var(--color-brand-primary)] group-hover:text-[var(--color-accent)] mb-2 flex items-center justify-between",children:[k.title,v.jsx(Hc,{className:"opacity-0 group-hover:opacity-100 transition-opacity text-[var(--color-accent)]",size:20})]}),v.jsx("p",{className:"text-gray-600 text-sm line-clamp-2 mb-4",children:k.context}),v.jsxs("div",{className:"flex items-center gap-2 text-xs text-gray-500 pt-3 border-t border-gray-100",children:[v.jsx(eb,{size:14}),k.replies.length," ",k.replies.length===1?"reply":"replies",k.replies.length>0&&v.jsxs("span",{children:[" Last reply by ",k.replies[k.replies.length-1].author]})]})]}),o&&v.jsx("button",{onClick:J=>U(J,k.id),className:"absolute top-4 right-4 p-2 text-gray-300 hover:text-red-500 hover:bg-red-50 rounded-full transition-all opacity-0 group-hover:opacity-100 z-10",title:"Delete Thread",children:v.jsx(Hs,{size:16})})]},k.id))})]})};function zC(){return v.jsx(v2,{children:v.jsx(wR,{children:v.jsx(u2,{children:v.jsxs(PT,{children:[v.jsx(un,{path:"/",element:v.jsx(SC,{})}),v.jsx(un,{path:"/login",element:v.jsx(AC,{})}),v.jsxs(un,{element:v.jsx(xC,{}),children:[v.jsx(un,{path:"/dashboard",element:v.jsx(wC,{})}),v.jsxs(un,{path:"/project/:id",element:v.jsx(RC,{}),children:[v.jsx(un,{index:!0,element:v.jsx(LT,{to:"overview",replace:!0})}),v.jsx(un,{path:"overview",element:v.jsx(NC,{})}),v.jsx(un,{path:"updates",element:v.jsx(DC,{})}),v.jsx(un,{path:"photos",element:v.jsx(IC,{})}),v.jsx(un,{path:"actions",element:v.jsx(VC,{})}),v.jsx(un,{path:"documents",element:v.jsx(MC,{})}),v.jsx(un,{path:"qa",element:v.jsx(OC,{})})]}),v.jsx(un,{path:"/question/:id",element:v.jsx(CC,{})})]})]})})})})}GE.createRoot(document.getElementById("root")).render(v.jsx(L.StrictMode,{children:v.jsx(zC,{})}));
